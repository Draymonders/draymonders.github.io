{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Draymonder Docs","text":""},{"location":"#about","title":"About","text":"<p>\u5927\u997c\uff0c\u90ae\u7bb1\uff1aDraymonders#gmail.com</p> <p>\u5341\u5e74\u4e00\u68a6\uff0c\u68a6\u5982\u82b1\u5f00\u3002\u82b1\u5f00\u70c2\u6f2b\uff0c\u4e00\u68a6\u5341\u5e74\u3002</p>"},{"location":"#what-im-doing","title":"What I'm Doing","text":"<p>\u4e0d\u79ef\u8dec\u6b65\uff0c\u65e0\u4ee5\u81f3\u5343\u91cc\uff1b\u4e0d\u79ef\u5c0f\u6d41\uff0c\u65e0\u4ee5\u6210\u6c5f\u6d77</p> <ul> <li>\u4fdd\u6301\u5065\u5eb7\uff1a\u5468\u5ea6\u9a91\u8f66\u548c\u8dd1\u6b65\uff0c\u4fdd\u6301\u5145\u8db3\u7761\u7720\u3002</li> <li>\u589e\u5f3a\u4e13\u6ce8\uff1a\u6301\u7eed\u5b66\u4e60\uff0c\u63d0\u5347\u77e5\u8bc6\u6df1\u5ea6\u548c\u5e7f\u5ea6\uff0c\u5b9a\u671f\u5f52\u7eb3\u603b\u7ed3\u3002</li> <li>\u73cd\u60dc\u65f6\u95f4\uff1a\u68b3\u7406\u6838\u5fc3\u95ee\u9898\uff0c\u5206\u6790\u5176\u4e2d\u77db\u76fe\u5e76\u653b\u575a\u4e3b\u8981\u77db\u76fe\u3002</li> <li>\u76f8\u4fe1\u590d\u5229\uff1a\u4e00\u5207\u8fdb\u6b65\u9700\u8981\u957f\u671f\u6301\u7eed\u7684\u884c\u52a8\u3002</li> </ul> \u8dd1\u6b65 \u9a91\u8f66 \u8bfb\u4e66"},{"location":"#reference","title":"Reference","text":"<ul> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> </ul> <p>For full documentation visit mkdocs.org.</p>"},{"location":"algorithm/algorithm/","title":"Algorithm","text":""},{"location":"algorithm/algorithm/#_1","title":"\u7b97\u6cd5\u5907\u5fd8\u5f55","text":""},{"location":"algorithm/algorithm/#bit-binary-index-tree","title":"\u6811\u72b6\u6570\u7ec4 BIT ( Binary index tree )","text":"<p><code>BIT</code> \u4e5f\u53eb <code>\u6811\u72b6\u6570\u7ec4</code></p> <p>\u9996\u5148\u770b\u5982\u4e0b\u6570\u5b66\u5f0f</p> <p><pre><code>e[1] = a[1] \ne[2] = a[1]+a[2]\ne[3] = a[3]\ne[4] = a[1]+a[2]+a[3]+a[4]\ne[5] = a[5]\ne[6] = a[5]+a[6]\ne[7] = a[7]\ne[8] = a[1]+a[2]+...+a[8] \n\n\u6570\u7ec4\u4e0b\u6807i\u8868\u793a\u4e3a\u4e8c\u8fdb\u5236\uff0ci\u4ece\u672b\u5c3e\u5f00\u59cb\u8fde\u7eed0\u7684\u4e2a\u6570\u5b9a\u4e49\u4e3ak\u3002\ne[i]=a[i-2^k +1]+a[i-2^k+2]+...+a[i]\u3002\ne[8(1000)] = a[1]+a[2]+...+a[8]\n</code></pre> - \u4ece\u4e0a\u9762\u53ef\u4ee5\u77e5\u9053 \u6570\u7ec4<code>a[0]</code>\u662f\u5e9f\u5f03\u7684, \u8d77\u70b9\u4ece<code>a[1]</code>\u5f00\u59cb - \u81f3\u4e8e\u533a\u95f4\u66f4\u65b0,\u533a\u95f4\u67e5\u8be2, \u533a\u95f4\u66f4\u65b0,\u5355\u70b9\u67e5\u8be2\u4e4b\u7c7b\u7684 \u770b\u4e00\u4e0b\u53c2\u8003\u94fe\u63a5\u5427</p>"},{"location":"algorithm/algorithm/#_2","title":"\u4ee3\u7801","text":"<pre><code>int bit(int x) {\n    return (x) &amp; (-x);\n}\n\nvector&lt;int&gt;&amp; BIT;\n\n// \u6c42[1...pos]\u7684\u548c\nint getSum(vector&lt;int&gt;&amp; BIT,int pos) {\n    int sum = 0;\n    while (pos &gt; 0) {\n        sum += BIT[pos];\n        pos -= bit(x);\n    }\n    return sum;\n}\n\n// \u7ed9\u5bf9\u5e94pos\u4f4d +x\nvoid updateBit(vector&lt;int&gt;&amp; BIT, int pos, int x) {\n    int n = BIT.size();\n    while (pos &lt; n) {\n        BIT[pos] += x;\n        pos += bit(pos);\n    }\n}\n</code></pre>"},{"location":"algorithm/algorithm/#_3","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u6811\u72b6\u6570\u7ec4\u8be6\u89e3</li> </ul>"},{"location":"algorithm/algorithm/#kmp","title":"kmp","text":"<p>next\u6570\u7ec4\u8868\u793a \u524d\u7f00\u4e0e\u540e\u7f00\u7684\u6700\u957f\u5339\u914d\u957f\u5ea6-1</p> <p>\u5177\u4f53\u6709\u4ec0\u4e48\u610f\u4e49\u5462\uff1f</p> <p>\u63a5\u4e0b\u6765\u4f1a\u6765\u89e3\u91ca</p> <p>\u6bd4\u5982 s\u4e32<code>abcabcabd</code></p> <p><pre><code>a  b  c  a  b  c  a  b  d\n-1 -1 -1 0  1  2  3  4 -1\n</code></pre> \u4f60\u4f1a\u53d1\u73b0 <code>\u5982\u679cnext[i]\u4e0d\u7b49\u4e8e-1, s[i] == s[next[i]]</code></p> <p>\u8fd9\u6837\u505a\u7684\u610f\u4e49\u662f\u4ec0\u4e48\u5462\uff0c\u662f\u4e3a\u4e86\u5feb\u901f\u56de\u9000(\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u5b57\u7b26\u5339\u914d)</p>"},{"location":"algorithm/algorithm/#_4","title":"\u4e3e\u4f8b","text":"<pre><code>s\u4e32\nississip\nt\u4e32\nissip\n</code></pre> <p>\u5148\u5206\u6790\u51fa<code>t\u4e32</code>\u7684<code>next</code>\u6570\u7ec4</p> <pre><code>i  s  s  i  p\n-1 -1 -1 0  -1\n</code></pre> <p>\u7136\u540e\u53bb\u5339\u914d,\u4f1a\u53d1\u73b0\u5982\u4e0b\u60c5\u51b5\u4e0d\u5339\u914d\u4e86</p> <pre><code>i s s i s s i p \ni s s i p\n</code></pre> <p>\u7531\u4e8e\u6211\u524d\u4e00\u4f4d<code>i</code>\u7684<code>next[i]</code>\u4e3a<code>0</code>\uff0c\u90a3\u4e48\u63a5\u4e0b\u6765\u5c06\u505a\u5982\u4e0b\u5339\u914d, \u6ce8\u610f\u7531\u4e0a\u9762\u7684code\u5230\u4e0b\u9762\u7684code\u4ec5\u4ec5\u9700\u8981\u4e00\u6b65</p> <pre><code>i s s i s s i p\n      i s s i p\n</code></pre>"},{"location":"algorithm/algorithm/#code","title":"code","text":"<pre><code>class Solution {\npublic:\n    int strStr(string s, string t) {\n        if (t == \"\") return 0;\n        int l1 = s.size(), l2 = t.size();\n\n        int next[l2] = {0};\n        next[0] = -1;\n        for (int i=1; i&lt;l2; i++) {\n            int k = next[i-1];\n            while (k != -1 &amp;&amp; t[k+1] != t[i])  k = next[k];\n            if (t[i] == t[k+1]) {\n                next[i] = k+1;\n            } else {\n                next[i] = -1;\n            }\n        }\n\n        int i = 0, j = 0;\n        while (i &lt; l1) {\n            if (s[i] == t[j]) {\n                i++,j++;\n                if (j == l2) {\n                    return i - l2;\n                }\n            } else {\n                if (j == 0) {\n                    i++;\n                } else {\n                    j = next[j-1] + 1;\n                }\n            }\n        }\n        return -1;\n    }\n};\n</code></pre>"},{"location":"algorithm/algorithm/#_5","title":"\u4f18\u5148\u961f\u5217\u6bd4\u8f83\u51fd\u6570","text":"<p>\u8bed\u6cd5\u5982\u4e0b</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f  \u6bd4\u8f83\u51fd\u6570\u91cc\u9762\u5199\u7684\u662f a &lt; b, \u5b9e\u9645\u8fd4\u56de\u7ed3\u679c<code>que.top()</code>\u662f\u6700\u5927\u503c \u5bf9\u7acb\u7684.. <pre><code>auto cmp = [](int a,int b) {\n    return a &lt; b;\n};\npriority&lt;int, vector&lt;int&gt;, decltype(cmp)&gt; que(cmp);\n</code></pre></p>"},{"location":"algorithm/algorithm/#set-map","title":"set &amp; map","text":"<p>\u58f0\u660e\u5982\u4e0b <pre><code>unordered_map&lt;int, int&gt; mp;\nset&lt;int&gt; st;\n</code></pre></p>"},{"location":"algorithm/algorithm/#_6","title":"\u5220\u9664\u5143\u7d20","text":"<pre><code>mp.erase(key);\nst.erase(elm);\n</code></pre>"},{"location":"algorithm/algorithm/#_7","title":"\u5224\u65ad\u662f\u5426\u5b58\u5728","text":"<pre><code>mp.count(key);\nst.count(elm);\n</code></pre>"},{"location":"algorithm/algorithm/#_8","title":"\u5355\u8c03\u6808\u4e13\u9898","text":"number title 84 \u67f1\u72b6\u56fe\u4e2d\u6700\u5927\u7684\u77e9\u5f62 239 \u6ed1\u52a8\u7a97\u53e3\u6700\u5927\u503c 739 \u6bcf\u65e5\u6e29\u5ea6 862 \u548c\u81f3\u5c11\u4e3a K \u7684\u6700\u77ed\u5b50\u6570\u7ec4 901 \u80a1\u7968\u4ef7\u683c\u8de8\u5ea6 907 \u5b50\u6570\u7ec4\u7684\u6700\u5c0f\u503c\u4e4b\u548c 5180 \u5e26\u9650\u5236\u7684\u5b50\u5e8f\u5217\u548c"},{"location":"algorithm/queue_stack_transform/","title":"\u961f\u5217\u4e0e\u6808\u7684\u4e92\u76f8\u8f6c\u6362","text":""},{"location":"algorithm/queue_stack_transform/#_2","title":"\u961f\u5217\u5b9e\u73b0\u6808","text":"<p>\u6838\u5fc3\u601d\u8def\uff1a\u628a\u5f53\u524d\u5143\u7d20\u653e\u5230\u961f\u5217\u5c3e\u90e8\uff0c\u7136\u540e\u628a\u524d\u9762\u7684\u5143\u7d20\u90fd\u62ff\u51fa\u6765\u518d\u653e\u5230\u961f\u5217\u5c3e\u90e8\uff0c\u8fd9\u6837\u961f\u5217\u5934\u90e8\u5c31\u662f\u6808\u9876\u5143\u7d20\u3002</p>"},{"location":"algorithm/queue_stack_transform/#_3","title":"\u5355\u961f\u5217\u5b9e\u73b0\u65b9\u6cd5","text":"<pre><code>class MyStack {\npublic:\n    queue&lt;int&gt; que;\n    /** Initialize your data structure here. */\n    MyStack() { }\n\n    /** Push element x onto stack. */\n    void push(int x) {\n        int sz = que.size();\n        que.push(x);\n        while (sz &gt; 0) {\n            int x = que.front();\n            que.pop();\n            que.push(x);\n            sz --;\n        }\n    }\n\n    /** Removes the element on top of the stack and returns that element. */\n    int pop() {\n        if (empty())\n            return -1;\n\n        int x = que.front();\n        que.pop();\n        return x;\n    }\n\n    /** Get the top element. */\n    int top() {\n        if (empty())\n            return -1;\n\n        return  que.front();\n    }\n\n    /** Returns whether the stack is empty. */\n    bool empty() {\n        return que.empty();\n    }\n};\n\n/**\n * Your MyStack object will be instantiated and called as such:\n * MyStack* obj = new MyStack();\n * obj-&gt;push(x);\n * int param_2 = obj-&gt;pop();\n * int param_3 = obj-&gt;top();\n * bool param_4 = obj-&gt;empty();\n */\n</code></pre>"},{"location":"algorithm/queue_stack_transform/#_4","title":"\u53cc\u961f\u5217\u5b9e\u73b0\u65b9\u6cd5","text":"<pre><code>class MyStack {\npublic:\n    queue&lt;int&gt; s1, s2;\n    /** Initialize your data structure here. */\n    MyStack() {\n    }\n\n    /** Push element x onto stack. */\n    void push(int x) {\n        s2.push(x);\n        while (!s1.empty()) {\n            s2.push(s1.front());\n            s1.pop();\n        }\n        while (!s2.empty()) {\n            s1.push(s2.front());\n            s2.pop();\n        }\n    }\n\n    /** Removes the element on top of the stack and returns that element. */\n    int pop() {\n        if (s1.empty())\n            return -1;\n        int res = s1.front();\n        s1.pop();\n        return res;\n    }\n\n    /** Get the top element. */\n    int top() {\n        if (s1.empty())\n            return -1;\n        return s1.front();\n    }\n\n    /** Returns whether the stack is empty. */\n    bool empty() {\n        return s1.empty();\n    }\n};\n\n/**\n * Your MyStack object will be instantiated and called as such:\n * MyStack* obj = new MyStack();\n * obj-&gt;push(x);\n * int param_2 = obj-&gt;pop();\n * int param_3 = obj-&gt;top();\n * bool param_4 = obj-&gt;empty();\n */\n</code></pre>"},{"location":"algorithm/queue_stack_transform/#_5","title":"\u6808\u5b9e\u73b0\u961f\u5217","text":"<p>\u6838\u5fc3\u601d\u8def\uff1a</p> <ol> <li>\u628a\u4e4b\u524d\u5143\u7d20\u62ff\u51fa\u6765\uff0c\u5012\u5e8f\u4e0b</li> <li>\u5f53\u524d\u5143\u7d20\u653e\u5230\u6808\u4e2d</li> <li>\u518d\u628a\u4e4b\u524d\u5143\u7d20\u62ff\u51fa\u6765\uff0c\u653e\u5230\u5f53\u524d\u5143\u7d20\u4e0a\u9762</li> </ol> <p>eg <pre><code>\u6808\u9876 -&gt; 1 \n\n\u5143\u7d202\u52a0\u5165\u961f\u5217\n    \u53d6\u51fa\u4e4b\u524d\u5143\u7d20 1    \u6808\u9876 -&gt; null\n    \u5f53\u524d\u5143\u7d20\u65b9\u5bfc\u6808\u4e2d   \u6808\u9876 -&gt; 2\n    \u4e4b\u524d\u7684\u5143\u7d20\u653e\u5230\u6808\u9876  \u6808\u9876 -&gt; 1-&gt; 2\n\n\u5143\u7d203\u52a0\u5165\u961f\u5217\n    \u53d6\u51fa\u4e4b\u524d\u5143\u7d20 1-&gt;2    \u6808\u9876 -&gt; null\n    \u5f53\u524d\u5143\u7d20\u65b9\u5bfc\u6808\u4e2d   \u6808\u9876 -&gt; 3\n    \u4e4b\u524d\u7684\u5143\u7d20\u5012\u5e8f      2 -&gt; 1\n    \u4f9d\u6b21\u653e\u5165\u6808\u9876 -&gt;   \u6808\u9876 2 -&gt; 3\n                    \u6808\u9876 1 -&gt;2 -&gt; 3\n</code></pre></p>"},{"location":"algorithm/%E4%BA%8C%E5%8F%89%E6%A0%91%E5%89%8D%2C%E4%B8%AD%2C%E5%90%8E%2C%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/","title":"\u4e8c\u53c9\u6811\u524d,\u4e2d,\u540e,\u5c42\u5e8f\u904d\u5386","text":"<pre><code>/**\n * struct TreeNode {\n *  int val;\n *  struct TreeNode *left;\n *  struct TreeNode *right;\n * };\n */\n\nclass Solution {\npublic:\n\n    void preOrder(TreeNode* root, vector&lt;int&gt;&amp; pre) {\n        if (root == NULL) {\n            return ;\n        }\n        TreeNode* cur = root;\n        stack&lt;TreeNode*&gt; st;\n        while (cur || !st.empty()) {\n            if (cur) {\n                pre.push_back(cur-&gt;val);\n                st.push(cur);\n                cur = cur-&gt;left; \n            } else {\n                cur = st.top();\n                st.pop();\n                cur = cur-&gt;right;\n            }\n        }\n        return ;\n    }\n\n    void inOrder(TreeNode* root, vector&lt;int&gt;&amp; in) {\n        if (root == NULL) {\n            return ;\n        }\n        TreeNode* cur = root;\n        stack&lt;TreeNode*&gt; st;\n        while (cur || !st.empty()) {\n            if (cur) {\n                st.push(cur);\n                cur = cur-&gt;left; \n            } else {\n                cur = st.top();\n                in.push_back(cur-&gt;val);\n                st.pop();\n                cur = cur-&gt;right;\n            }\n        }\n        return ;\n    }\n\n    // \u540e\u5e8f\u904d\u5386\u9700\u8981\u6ce8\u610f\n    void backOrder(TreeNode* root, vector&lt;int&gt;&amp; back) {\n        if (root == NULL) {\n            return ;\n        }\n        TreeNode* cur = root;\n        stack&lt;pair&lt;TreeNode*, int&gt;&gt; st;\n        while (cur || !st.empty()) {\n            if (cur) {\n                st.push({cur, 1});\n                cur = cur-&gt;left; \n            } else {\n                pair&lt;TreeNode*, int&gt; temp = st.top(); st.pop();\n                if (temp.second == 2) {\n                    back.push_back(temp.first-&gt;val);\n                    cur = NULL;\n                } else {\n                    st.push({temp.first, 2});\n                    cur = temp.first-&gt;right;\n                }\n            }\n        }\n        return ;\n    }\n\n    /**\n     * \n     * @param root TreeNode\u7c7b the root of binary tree\n     * @return int\u6574\u578bvector&lt;vector&lt;&gt;&gt;\n     */\n    vector&lt;vector&lt;int&gt; &gt; threeOrders(TreeNode* root) {\n        // write code here\n        vector&lt;vector&lt;int&gt;&gt; res;\n        vector&lt;int&gt; pre;\n        vector&lt;int&gt; in;\n        vector&lt;int&gt; back;\n        preOrder(root, pre);\n        inOrder(root, in);\n        backOrder(root, back);\n        res.push_back(pre);\n        res.push_back(in);\n        res.push_back(back);\n        return res;\n    }\n};\n</code></pre> <p>\u5c42\u5e8f\u904d\u5386 <pre><code>/**\n * struct TreeNode {\n *  int val;\n *  struct TreeNode *left;\n *  struct TreeNode *right;\n * };\n */\n\nclass Solution {\npublic:\n    /**\n     * \n     * @param root TreeNode\u7c7b \n     * @return int\u6574\u578bvector&lt;vector&lt;&gt;&gt;\n     */\n    vector&lt;vector&lt;int&gt; &gt; levelOrder(TreeNode* root) {\n        if (root == NULL) {\n            return {};\n        }\n        vector&lt;vector&lt;int&gt;&gt; res;\n        queue&lt;TreeNode*&gt; que;\n        que.push(root);\n        while (!que.empty()) {\n            vector&lt;int&gt; temp;\n            int sz = que.size();\n            for (int i=0; i&lt;sz; i++) {\n                TreeNode* f = que.front();\n                que.pop();\n                temp.push_back(f-&gt;val);\n                if (f-&gt;left) {\n                    que.push(f-&gt;left);\n                } \n                if (f-&gt;right) {\n                    que.push(f-&gt;right);\n                }\n            }\n            res.push_back(temp);\n        }\n        return res;\n    }\n};\n</code></pre></p>"},{"location":"algorithm/%E5%A4%8D%E6%9D%82%E9%93%BE%E8%A1%A8%E7%9A%84%E5%A4%8D%E5%88%B6/","title":"O(n)\u7a7a\u95f4\u590d\u6742\u5ea6","text":"<pre><code>/*\nstruct RandomListNode {\n    int label;\n    struct RandomListNode *next, *random;\n    RandomListNode(int x) :\n            label(x), next(NULL), random(NULL) {\n    }\n};\n*/\nclass Solution {\npublic:\n    RandomListNode* Clone(RandomListNode* head) {\n        if (head == NULL) {\n            return head;\n        }\n        unordered_map&lt;RandomListNode*, RandomListNode*&gt; preToAfter;\n        RandomListNode* newHead = new RandomListNode(head-&gt;label);\n        RandomListNode* cur1 = head;\n        RandomListNode* cur2 = newHead;\n        while (cur1) {\n            preToAfter[cur1] = cur2;\n            if (cur1-&gt;next) {\n                cur2-&gt;next = new RandomListNode(cur1-&gt;next-&gt;label);    \n            }\n            cur1 = cur1-&gt;next;\n            cur2 = cur2-&gt;next;\n        }\n\n        cur1 = head;\n        // cur2 = newHead;\n        while (cur1) {\n            RandomListNode* rdNode = cur1-&gt;random;\n            preToAfter[cur1]-&gt;random = preToAfter[rdNode];\n            cur1 = cur1-&gt;next;\n        }\n\n        return newHead;\n    }\n};\n</code></pre>"},{"location":"algorithm/%E5%A4%8D%E6%9D%82%E9%93%BE%E8%A1%A8%E7%9A%84%E5%A4%8D%E5%88%B6/#o1","title":"O(1)\u7a7a\u95f4","text":"<ol> <li>\u6bcf\u4e2a\u8282\u70b9\u540e\u9762\u65b0\u5efa\u4e00\u4e2a\u7b49\u540c\u7684\u8282\u70b9(\u5947\u8282\u70b9\u4e3a\u539f\u59cb\u94fe\u8868\uff0c\u5076\u8282\u70b9\u4e3a\u65b0\u94fe\u8868)</li> <li>\u4f9d\u636e\u539f\u59cb\u94fe\u8868\u7684\u968f\u673a\u8282\u70b9\uff0c\u590d\u5236\u5230\u65b0\u94fe\u8868\u4e2d</li> <li>\u5206\u62c6\u65b0\u94fe\u8868</li> </ol> <pre><code>/*\nstruct RandomListNode {\n    int label;\n    struct RandomListNode *next, *random;\n    RandomListNode(int x) :\n            label(x), next(NULL), random(NULL) {\n    }\n};\n*/\nclass Solution {\npublic:\n    RandomListNode* Clone(RandomListNode* head) {\n        if (head == NULL) {\n            return NULL;\n        }\n        // 1. \u590d\u5236\u6bcf\u4e2a\u7ed3\u70b9\uff0c\u5982\u590d\u5236\u7ed3\u70b9A\u5f97\u5230A1\uff0c\u5c06\u7ed3\u70b9A1\u63d2\u5230\u7ed3\u70b9A\u540e\u9762\uff1b\n        RandomListNode* cur1 = head;\n        while (cur1) {\n            RandomListNode* next = cur1-&gt;next;\n            cur1-&gt;next = new RandomListNode(cur1-&gt;label);\n            cur1-&gt;next-&gt;next = next;\n            cur1 = next;\n        }\n        // 2. \u91cd\u65b0\u904d\u5386\u94fe\u8868\uff0c\u590d\u5236\u8001\u7ed3\u70b9\u7684\u968f\u673a\u6307\u9488\u7ed9\u65b0\u7ed3\u70b9\uff0c\u5982A1.random = A.random.next;\n        cur1 = head;\n        while (cur1) {\n            RandomListNode* rdNode = cur1-&gt;random;\n            if (rdNode != NULL) {\n                cur1-&gt;next-&gt;random = rdNode-&gt;next;    \n            }\n            cur1 = cur1-&gt;next-&gt;next;\n        }\n\n        // 3. \u62c6\u5206\u94fe\u8868\uff0c\u5c06\u94fe\u8868\u62c6\u5206\u4e3a\u539f\u94fe\u8868\u548c\u590d\u5236\u540e\u7684\u94fe\u8868\n        cur1 = head;\n        RandomListNode* cloneHead = cur1-&gt;next;\n        while (cur1) {\n            RandomListNode* cloneNode = cur1-&gt;next;\n            cur1-&gt;next = cloneNode-&gt;next;\n            cloneNode-&gt;next = (cloneNode-&gt;next == NULL) ? NULL : cloneNode-&gt;next-&gt;next;\n            cur1 = cur1-&gt;next;\n        }\n        return cloneHead;\n    }\n};\n</code></pre>"},{"location":"algorithm/%E5%AD%97%E5%85%B8%E5%BA%8F%E6%9C%80%E5%B0%8F%E7%9A%84k/","title":"\u5b57\u5178\u5e8f\u6700\u5c0f\u7684k","text":"<p>\u548c\u4e8c\u4e2a\u6709\u5e8f\u6570\u7ec4\u4e2d\u627e\u7b2ck\u5927\u7c7b\u4f3c</p> <p>\u90fd\u662f k == 1\u65f6\u5019\uff0c\u76f4\u63a5\u8fd4\u56de</p> <pre><code>typedef long long ll;\nclass Solution {\npublic:\n    int findKthNumber(int n, int k) {\n        int cur = 1;\n        while (k &gt; 1) {\n            ll groupSize = 0, first = cur, last = cur + 1;\n            while (first &lt;= n) {\n                groupSize += min((ll)n + 1, last) - first;\n                first *= 10;\n                last *= 10;\n            }\n            printf(\"%lld %lld\\n\", cur, groupSize);\n            if (groupSize &lt;= k) {\n                k -= groupSize;\n                cur ++;\n            } else {\n                k --;\n                cur *= 10;\n            }\n        }\n        return cur;\n    }\n};\n</code></pre>"},{"location":"algorithm/%E5%AF%BB%E6%89%BE%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%B8%AD%E4%BD%8D%E5%80%BC/","title":"\u5bfb\u627e\u4e24\u4e2a\u6570\u7ec4\u7684\u4e2d\u4f4d\u503c","text":"<p>\u786e\u5b9a\u597d\u627e\u7b2ck\u4e2a\u503c</p> <pre><code>class Solution {\npublic:\n    double findMedianSortedArrays(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) {\n        int n = nums1.size(), m = nums2.size();\n        int sum = n + m;\n        if (sum &amp; 1) {\n            return findKth(nums1, nums2, n, m, sum / 2 + 1);\n        } else {\n            return 1.0 * (findKth(nums1, nums2, n, m, sum/2) \n                        + findKth(nums1, nums2, n, m, sum/2 + 1)) / 2.0;\n        }\n    }\n\n    int findKth(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2, int n, int m, int k) {\n        int ans = 0;\n        int l1 = 0, l2 = 0;\n        while (k &gt;= 1) {\n            if (l1 &gt;= n) {\n                return nums2[l2+k-1];\n            }\n            if (l2 &gt;= m) {\n                return nums1[l1+k-1];\n            }\n            if (k == 1) {\n                return min(nums1[l1], nums2[l2]);\n            }\n            int step = k / 2 - 1;\n            int m1 = min(l1+step, n-1);\n            int m2 = min(l2+step, m-1);\n\n            if (nums1[m1] &lt; nums2[m2]) {\n                k -= (m1 + 1 - l1);\n                l1 = m1 + 1;\n            } else {\n                k -= (m2 + 1 - l2);\n                l2 = m2 + 1;\n            }\n            // cout &lt;&lt; \"y\" &lt;&lt; endl;\n            // printf(\"%d %d %d\\n\", l1, l2, k);\n        }\n        return ans;\n    }\n};\n</code></pre>"},{"location":"algorithm/%E5%BE%AA%E7%8E%AF%E8%B5%B0%E8%B7%AF/","title":"\u5faa\u73af\u8d70\u8def","text":"<p>\u7b97\u6cd5\uff1a\u4e00\u4e2a\u73af\u4e0a\u670910\u4e2a\u70b9,\u7f16\u53f7\u4e3a0-9,\u4ece0\u70b9\u51fa\u53d1,\u6bcf\u6b65\u53ef\u4ee5\u987a\u65f6\u9488\u5230\u4e0b\u4e00\u4e2a\u70b9,\u4e5f\u53ef\u4ee5\u9006\u65f6\u9488\u5230\u4e0a\u4e00\u4e2a\u70b9,\u6c42:\u7ecf\u8fc7n\u6b65\u53c8\u56de\u52300\u70b9\u6709\u591a\u5c11\u79cd\u4e0d\u540c\u7684\u8d70\u6cd5 <pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nint dp[40][10];\n\nint next(int k) {\n    return (k + 10) % 10;\n}\n\n// \u7b2cn\u6b21\u9009\u62e9\uff0c\u5f53\u524d\u5728\u7684\u4f4d\u7f6e\u662fcur\nint dfs(int n, int cur) {\n    if (n == 0) {\n        return cur == 0 ? 1 : 0;\n    }\n    if (dp[n][cur] != -1) {\n        return dp[n][cur];\n    }\n    int x1 = dfs(n-1, next(cur-1));\n    int x2 = dfs(n-1, next(cur+1));\n    return dp[n][cur] = x1 + x2;\n}\n\n\nint main()\n{\n    memset(dp, -1, sizeof(dp));\n    for (int i=1; i&lt;=10; i++) {\n        printf(\"%d %d\\n\", i, dfs(i, 0));\n    }\n    return 0;\n}\n</code></pre></p>"},{"location":"algorithm/%E6%8E%92%E5%BA%8F/","title":"\u6392\u5e8f","text":""},{"location":"algorithm/%E6%8E%92%E5%BA%8F/#_2","title":"\u5feb\u901f\u6392\u5e8f","text":"<p>\u5fc5\u987b\u5148j--, \u518di++</p> <p>\u6700\u540e swap(arr[l], arr[i])</p> <p>i\u4e3apartion\u4e00\u6b21\u7684\u4e2d\u67a2\u8f74</p> <pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nvoid quickSort(vector&lt;int&gt;&amp; nums, int l, int r) {\n    if (l &gt;= r) return ;\n    int i = l, j = r;\n    int val = nums[l];\n    while (i &lt; j) {\n        while (i &lt; j &amp;&amp; nums[j] &gt;= val) j--;\n        while (i &lt; j &amp;&amp; nums[i] &lt;= val) i++;\n        if (i &lt; j) {\n            swap(nums[i], nums[j]);\n        }\n    }\n    swap(nums[l], nums[i]);\n    quickSort(nums, l, i-1);\n    quickSort(nums, i+1, r);\n    return ;\n}\n\nint main()\n{\n    vector&lt;int&gt; v = {1,3,2,1,4,5};\n    quickSort(v, 0, v.size()-1);\n    for (auto x : v) {\n        cout &lt;&lt; x &lt;&lt; \" \";\n    }\n    cout &lt;&lt; endl;\n    return 0;\n}\n</code></pre>"},{"location":"algorithm/%E6%8E%92%E5%BA%8F/#_3","title":"\u5806\u6392\u5e8f","text":"<p>\u521d\u59cb\u5316\u65f6</p> <ul> <li>\u9996\u5148\u9700\u8981\u8c03\u6574\u6bcf\u4e2a\u5b50\u6811\u6210\u4e3a\u5806</li> <li>\u7136\u540e\u5c06\u5806\u9876\u653e\u5230\u5806\u5c3e\uff0c\u5e76\u4e14size--\uff0c\u91cd\u590d</li> </ul> <p>\u6dfb\u52a0\u5143\u7d20</p> <ul> <li>\u52a0\u5230\u5806\u5c3e\uff0c\u7136\u540e\u5806\u5c3e\u5411\u4e0a\u9012\u5f52\u66f4\u65b0\u503c</li> </ul> <p>\u5220\u9664\u5806\u9876</p> <ul> <li>\u4ea4\u6362\u5806\u9876\u548c\u5806\u5c3e\uff0c\u5806\u9876\u5411\u4e0b\u9012\u5f52\u66f4\u65b0</li> </ul> <pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nvoid heapDown(vector&lt;int&gt;&amp; nums, int pos, int lim) {\n    while (pos &lt;= lim) {\n        int next = pos;\n        if (pos*2+1 &lt;= lim) {\n            int&amp; s1 = nums[pos*2+1];\n            if (s1 &lt; nums[pos]) {\n                swap(s1, nums[pos]);\n                next = pos*2+1;\n            }\n        }\n        if (pos*2+2 &lt;= lim) {\n            int&amp; s2 = nums[pos*2+2];\n            if (s2 &lt; nums[pos]) {\n                swap(s2, nums[pos]);\n                next = pos*2+2;\n            }\n        }\n        if (next == pos) \n            break;\n        pos = next;\n    }\n    return ;\n}\n\nvoid heapUp(vector&lt;int&gt;&amp; nums, int pos) {\n    while (pos &gt; 0) {\n        int next = pos;\n        if (pos / 2 &gt;= 0) {\n            int&amp; fa = nums[pos/2];\n            if (nums[pos] &lt; fa) {\n                swap(nums[pos], fa);\n                next = pos / 2;\n            }\n        }\n        if (next == pos) \n            break;\n        pos = next;\n    }\n}\n\nvoid heapSort(vector&lt;int&gt;&amp; nums) {\n    int n = nums.size();\n    if (n &lt;= 1) {\n        return ;\n    }\n    // \u5148\u628a\u5185\u90e8\u7ed3\u6784\u53d8\u6210\u5806\n    for (int i=n/2-1; i&gt;=0; i--) {\n        // \u6bcf\u4e2a\u975e\u53f6\u5b50\u8282\u70b9\u8fdb\u884c\u5b50\u6811\u5185\u7684\u8c03\u6574\n        heapDown(nums, i, n-1);\n    }\n\n    while (n &gt; 1) {\n        swap(nums[0], nums[n-1]);\n        n--;\n        heapDown(nums, 0, n-1);\n    }\n}\n\n// \u6dfb\u52a0\u5143\u7d20\u5230\u5806\u4e2d\nvoid addToHeap(vector&lt;int&gt;&amp; nums, int val) {\n    int n = nums.size();\n    nums.push_back(val);\n    heapUp(nums, n);\n}\n\nvoid print(vector&lt;int&gt;&amp; v) {\n    for (auto x : v) {\n        cout &lt;&lt; x &lt;&lt; \" \";\n    }\n    cout &lt;&lt; endl;\n}\n\nint main() \n{\n    vector&lt;int&gt; v = {7,8,3,2,1,7};\n    heapSort(v);\n\n    addToHeap(v, 4);\n    print(v);\n    return 0;\n}\n</code></pre>"},{"location":"algorithm/%E6%8E%92%E5%BA%8F/#_4","title":"\u5f52\u5e76\u6392\u5e8f","text":""},{"location":"algorithm/%E6%8E%92%E5%BA%8F/#_5","title":"\u9006\u5e8f\u5bf9","text":"<p>\u5728\u6570\u7ec4\u4e2d\u7684\u4e24\u4e2a\u6570\u5b57\uff0c\u5982\u679c\u524d\u9762\u4e00\u4e2a\u6570\u5b57\u5927\u4e8e\u540e\u9762\u7684\u6570\u5b57\uff0c\u5219\u8fd9\u4e24\u4e2a\u6570\u5b57\u7ec4\u6210\u4e00\u4e2a\u9006\u5e8f\u5bf9\u3002 \u8f93\u5165\u4e00\u4e2a\u6570\u7ec4,\u6c42\u51fa\u8fd9\u4e2a\u6570\u7ec4\u4e2d\u7684\u9006\u5e8f\u5bf9\u7684\u603b\u6570P\u3002\u5e76\u5c06P\u5bf91000000007\u53d6\u6a21\u7684\u7ed3\u679c\u8f93\u51fa\u3002 \u5373\u8f93\u51faP%1000000007</p> <pre><code>int mod = 1000000007;\n\nclass Solution {\npublic:\n    int res = 0;\n    vector&lt;int&gt; temp;\n\n    void mergeSort(vector&lt;int&gt;&amp; data, int l, int r) {\n        if (l &gt;= r) return ;\n        // printf(\"%d %d\\n\", l, r);\n        int m = (l + r) /2;\n        mergeSort(data, l, m);\n        mergeSort(data, m+1, r);\n        // merge\n        for (int i=l; i&lt;=r; i++) \n            temp[i] = data[i];\n        int i = l, j = m+1;\n        int k = l;\n        while (i &lt;= m &amp;&amp; j &lt;= r) {\n            if (temp[i] &lt;= temp[j]) {\n                data[k ++] = temp[i];\n                i++;\n            } else {\n                data[k ++] = temp[j];\n                res = (res + m - i + 1) % mod;\n                j ++;\n            }\n        }\n        while (i &lt;= m) {\n            data[k++] = temp[i];\n            i++;\n        }\n        while (j &lt;= r) {\n            data[k++] = temp[j];\n            j++;\n        }\n    }\n\n    int InversePairs(vector&lt;int&gt; data) {\n        res = 0;\n        temp.resize(data.size() + 1);\n\n        mergeSort(data, 0, data.size()-1);\n        return res;\n    }\n};\n</code></pre>"},{"location":"algorithm/%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84/","title":"\u65cb\u8f6c\u6570\u7ec4","text":""},{"location":"algorithm/%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84/#_2","title":"\u5de6\u65cb","text":"<pre><code>class Solution {\npublic:\n\n    void reverse(string&amp; s, int l, int r) {\n        while (l &lt;= r) {\n            swap(s[l], s[r]);\n            l++, r--;\n        }\n    }\n\n    string reverseLeftWords(string s, int k) {\n        int n = s.size();\n        k %= n;\n        reverse(s, 0, k-1);\n        reverse(s, k, n-1);\n        reverse(s, 0, n-1);\n        return s;\n    }\n};\n</code></pre>"},{"location":"algorithm/%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84/#_3","title":"\u53f3\u65cb","text":"<pre><code>class Solution {\npublic:\n\n    void reverse(string&amp; s, int l, int r) {\n        while (l &lt;= r) {\n            swap(s[l], s[r]);\n            l++, r--;\n        }\n    }\n\n    string reverseRightWords(string s, int k) {\n        int n = s.size();\n        k %= n;\n        k = n - k;\n        reverse(s, 0, k-1);\n        reverse(s, k, n-1);\n        reverse(s, 0, n-1);\n        return s;\n    }\n};\n</code></pre>"},{"location":"algorithm/%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84/#_4","title":"\u65cb\u8f6c\u6570\u7ec4\u627e\u67d0\u4e00\u4e2a\u503c","text":""},{"location":"algorithm/%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84/#_5","title":"\u6700\u5c0f\u503c","text":"<p><code>O(logn)</code>\u6c42\u5f97\u65cb\u8f6c\u6570\u7ec4\u7684\u6700\u5c0f\u503c\uff0c\u5305\u542b\u91cd\u590d <pre><code>class Solution {\npublic:\n    int findMin(vector&lt;int&gt;&amp; nums) {\n        int n = nums.size();\n\n        int l = 0, r = n-1;\n        int tmp = nums[0];\n\n        int ans = -1;\n        while (r &gt;= 0 &amp;&amp; nums[r] == tmp) r--;\n\n        while (l &lt;= r) {\n            int m = (l + r) / 2;\n            int x = nums[m];\n            if (x &lt; tmp) \n                ans = x, r = m-1;\n            else \n                l = m + 1;\n        }\n        if (ans == -1)\n            ans = nums[0];\n        return ans;\n    }\n};\n</code></pre></p>"},{"location":"algorithm/%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84/#_6","title":"\u627e\u67d0\u4e2a\u503c","text":"<pre><code>class Solution {\npublic:\n    int search(vector&lt;int&gt;&amp; nums, int target) {\n        if (nums.size() == 0)\n            return -1;\n\n        int n = nums.size();\n\n        int l = 0, r = n-1;\n        int ans = -1;\n        int tmp = nums[0];\n        while (r &gt;= 0 &amp;&amp; nums[r] == tmp) r--;\n\n        while (l &lt;= r) {\n            int m = (l + r) / 2;\n            // nums[m]\u5728\u53f3\u8fb9\n            if (nums[m] &lt; tmp) {\n                // target\u5728\u5de6\u8fb9\n                if (target &gt;= tmp) {\n                    r = m-1;\n                } else {\n                    // \u5728\u540c\u4e00\u8fb9\n                    if (nums[m] &gt;= target) {\n                        ans =m, r = m-1;\n                    } else {\n                        l = m+1;\n                    }\n                }\n            } else {\n                // nums[m]\u5728\u5de6\u8fb9\n                // target\u5728\u53f3\u8fb9\n                if (target &lt; tmp) {\n                    l = m + 1;\n                } else {\n                    // \u5728\u540c\u4e00\u8fb9\n                    if (nums[m] &gt;= target) {\n                        ans =m, r = m-1;\n                    } else {\n                        l = m+1;\n                    }\n                }\n            }\n        }\n        if (ans != -1 &amp;&amp; nums[ans] == target)\n            return ans;\n        return -1;\n    }\n};\n</code></pre>"},{"location":"algorithm/%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2/","title":"\u6700\u5c0f\u8986\u76d6\u5b50\u4e32","text":"<pre><code>class Solution {\npublic:\n\n    string minWindow(string s, string t) {\n        // mp1\u8bb0\u5f55s\u7684\u533a\u95f4\u5b57\u7b26\u4fe1\u606f\uff0cmp2\u5b58t\u6574\u4e32\u7684\u5b57\u7b26\u4fe1\u606f\n        unordered_map&lt;char, int&gt; mp1, mp2;\n        // size\u8bb0\u5f55\u6709\u591a\u5c11\u79cd\u5b57\u7b26\n        int size = 0;\n        for (auto ch : t) {\n            if (mp2.count(ch) == 0) {\n                size ++;\n            }\n            mp2[ch] ++;\n        }\n\n        int l = 0, r = 0;\n        int n = s.size();\n\n        // \u8d77\u70b9\u548c\u6700\u5c0f\u957f\u5ea6\n        int st = -1;\n        int mn = n + 1;\n        // sz\u8bb0\u5f55\u6ee1\u8db3\u533a\u95f4\u60c5\u51b5\u7684\u5b57\u7b26\u6570\n        int sz = 0;\n\n        while (r &lt; n) {\n            mp1[s[r]] ++;\n            if (mp1[s[r]] == mp2[s[r]]) {\n                sz ++;\n            }\n            while (sz == size &amp;&amp; l &lt;= r &amp;&amp; mp1[s[l]] &gt;= mp2[s[l]]) {\n                if (r - l + 1 &lt; mn) {\n                    st = l;\n                    mn = r - l + 1;\n                }\n                mp1[s[l]]--;\n                if (mp1[s[l]] &lt; mp2[s[l]]) {\n                    sz --;\n                }\n                l ++;\n            }\n            r++;\n        }\n        return mn &gt; n ? \"\" : s.substr(st, mn);\n    }\n};\n</code></pre>"},{"location":"algorithm/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%9A%84%E8%BD%AC%E6%8D%A2/","title":"\u4e24\u4e2a\u6808\u5b9e\u73b0\u961f\u5217","text":"<p>\u53cd\u8f6c\u4e24\u6b21 <pre><code>class Solution\n{\npublic:\n    void push(int x) {\n        s1.push(x);\n    }\n\n    int pop() {\n        if (s2.empty()) {\n           while (!s1.empty()) {\n            int x = s1.top(); s2.push(x); s1.pop();\n           }\n        }\n        int x = s2.top(); s2.pop();\n        return x;\n    }\n\nprivate:\n    stack&lt;int&gt; s1;\n    stack&lt;int&gt; s2;\n};\n</code></pre></p>"},{"location":"algorithm/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%9A%84%E8%BD%AC%E6%8D%A2/#_2","title":"\u4e24\u4e2a\u961f\u5217\u5b9e\u73b0\u6808","text":"<p>\u4e24\u4e2a\u961f\u5217 - \u65b0\u589e\u5143\u7d20\u65f6\uff0c\u653e\u5230q1\u961f\u9996, \u7136\u540e\u5c06q2\u7684\u6240\u6709\u5143\u7d20\u4f9d\u6b21\u653e\u5165q1\uff0c\u6700\u540e\u6240\u6709\u5143\u7d20\u518d\u653e\u5230q2 - \u83b7\u53d6\u6808\u9876\u65f6\uff0c\u76f4\u63a5\u4eceq2\u9996\u90e8\u53bb\u62ff</p> <pre><code>class MyStack {\npublic:\n    queue&lt;int&gt; q1, q2;\n    /** Initialize your data structure here. */\n    MyStack() {\n        while (!q1.empty()) \n            q1.pop();\n        while (!q2.empty()) \n            q2.pop();\n    }\n\n    /** Push element x onto stack. */\n    void push(int x) {\n        q1.push(x);\n        while (!q2.empty()) {\n            int x = q2.front(); q2.pop();\n            q1.push(x);\n        }\n        while (!q1.empty()) {\n            int x = q1.front(); q1.pop();\n            q2.push(x);\n        }\n    }\n\n    /** Removes the element on top of the stack and returns that element. */\n    int pop() {\n        if (q2.empty()) {\n            return -1;\n        }\n        int x = q2.front(); q2.pop();\n        return x;\n    }\n\n    /** Get the top element. */\n    int top() {\n        if (q2.empty()) {\n            return -1;\n        }\n        return q2.front();\n    }\n\n    /** Returns whether the stack is empty. */\n    bool empty() {\n        return q2.empty();\n    }\n};\n</code></pre>"},{"location":"algorithm/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D/","title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d","text":"<p>\u9047\u5230<code>*</code>\u53f7\uff0c\u6709\u4e09\u79cd\u60c5\u51b5\uff0c\u5373\u4e0d\u8981\uff0c\u89811\u4e2a\uff0c\u8981\u591a\u4e2a\u7684\u60c5\u51b5</p> <pre><code>class Solution {\npublic:\n    bool isMatch(string s, string p) {\n        s = \" \" + s;\n        p = \" \" + p;\n\n        int n = s.size(), m = p.size();\n        // dp[i][j] s[0...i-1]\u548cs[0...j-1]\u5339\u914d\u7a0b\u5ea6\n        vector&lt;vector&lt;bool&gt;&gt; dp(n+5, vector&lt;bool&gt;(m+5, false));\n\n        dp[0][0] = true;\n        for (int i=1; i&lt;=n; i++) {\n            for (int j=1; j&lt;=m; j++) {\n                if (p[j-1] != '*') {\n                    if (p[j-1] == s[i-1] || p[j-1] == '.') {\n                        dp[i][j] = dp[i-1][j-1];\n                    }\n                } else {\n                    // \u4e0d\u8981\u7684\u60c5\u51b5\n                    dp[i][j] = (dp[i][j] || dp[i][j-2]);\n                    if (s[i-1] == p[j-2] || p[j-2] == '.') {\n                        // \u89811\u4e2a || \u8981\u591a\u4e2a\n                        dp[i][j] = (dp[i][j] || dp[i-1][j-1] || dp[i-1][j]);\n                    }\n                }\n            }\n        }\n        // for (int i=1; i&lt;=n; i++) {\n        //     for (int j=1; j&lt;=m; j++) {\n        //         printf(\"%d%c\", (int)(dp[i][j]), j==m?'\\n':' ');\n        //     }\n        // }\n        return dp[n][m];\n    }\n};\n</code></pre>"},{"location":"algorithm/%E7%BC%BA%E5%A4%B1%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%AD%A3%E6%95%B0/","title":"\u7f3a\u5931\u7684\u7b2c\u4e00\u4e2a\u6b63\u6570","text":"<p>\u533a\u95f4<code>[1...n]</code>\u6620\u5c04<code>[-n...-1]</code> <pre><code>class Solution {\npublic:\n    int firstMissingPositive(vector&lt;int&gt;&amp; nums) {\n        int n = nums.size();\n        // [1,n] \u4ee5\u5916\u7684\u6570\u6539\u4e3a 0\n        for (int i=0; i&lt;n; i++) {\n            if (nums[i] &lt;= 0 || nums[i] &gt; n) \n                nums[i] = 0;\n        }\n        int INF = n + 1;\n        for (int i=0; i&lt;n; i++) {\n            // [-n, -1] =&gt; [1, n]\n            int origin = nums[i] &lt; 0 ? nums[i] + INF : nums[i];\n            if (origin &gt; 0) {\n                if (nums[origin - 1] &gt;= 0) {\n                    nums[origin - 1] -= INF;\n                }\n            }\n        }\n        // for (int i=0; i&lt;n; i++) {\n        //     printf(\"%d%c\", nums[i], i==n-1?'\\n':' ');\n        // }\n        for (int i=0; i&lt;n; i++) {\n            if (nums[i] &gt;= 0)\n                return i+1;\n        }\n        return n+1;\n    }\n};\n</code></pre></p>"},{"location":"algorithm/%E7%BF%BB%E8%BD%AC%E9%93%BE%E8%A1%A8/","title":"\u7ffb\u8f6c\u94fe\u8868","text":"<pre><code>class Solution {\npublic:\n    ListNode* ReverseList(ListNode* pHead) {\n        ListNode* pre = NULL;\n        ListNode* cur = pHead;\n        while (cur) {\n            ListNode* next = cur-&gt;next;\n            cur-&gt;next = pre;\n            pre = cur;\n            cur = next;\n        }\n        return pre;\n    }\n};\n</code></pre>"},{"location":"algorithm/%E9%93%BE%E8%A1%A8%E6%89%BE%E7%8E%AF/","title":"\u662f\u5426\u5b58\u5728\u73af","text":"<pre><code>class Solution {\npublic:\n    bool hasCycle(ListNode *head) {\n        ListNode* fast = head;\n        ListNode* slow = head;\n        while (fast != NULL) {\n            slow = slow-&gt;next;\n            if (fast-&gt;next) {\n                fast = fast-&gt;next-&gt;next;    \n            } else {\n                return false;\n            }\n            if (fast == slow)\n                return true;\n        }\n        return fast != NULL ? true : false; \n    }\n};\n</code></pre>"},{"location":"algorithm/%E9%93%BE%E8%A1%A8%E6%B1%82n%E5%88%B0m/","title":"\u94fe\u8868\u6c42n\u5230m","text":"<pre><code>/**\n * Definition for singly-linked list.\n * struct ListNode {\n *     int val;\n *     ListNode *next;\n *     ListNode() : val(0), next(nullptr) {}\n *     ListNode(int x) : val(x), next(nullptr) {}\n *     ListNode(int x, ListNode *next) : val(x), next(next) {}\n * };\n */\nclass Solution {\npublic:\n    ListNode* reverseBetween(ListNode* head, int n, int m) {\n        ListNode* vHead = new ListNode(-1);\n        vHead-&gt;next = head;\n\n        ListNode *pre= vHead, *cur = head;\n        while (n &gt; 1) {\n            pre = cur;\n            cur = cur-&gt;next;\n            n --;\n            m --;\n        }\n        ListNode* last = cur;\n        // now cur is at pos(n), so need m -&gt; 1\n        while (m &gt; 0) {\n            ListNode* next = cur-&gt;next;\n            cur-&gt;next = pre-&gt;next;\n            pre-&gt;next = cur;\n            cur = next;\n            m--;\n        }\n        last-&gt;next = cur;\n        return vHead-&gt;next;\n    }\n};\n</code></pre>"},{"location":"algorithm/datastruct/consistent_hash/","title":"\u4e00\u81f4\u6027hash","text":""},{"location":"algorithm/datastruct/consistent_hash/#_1","title":"\u7528\u9014","text":"<ul> <li>\u591a\u7528\u4e8e proxy \u52a8\u6001\u8fde\u63a5\u5bf9\u5e94\u7684 server<ul> <li>\u5982\u679c\u67d0server\u6302\u6389\uff0c\u53ea\u5f71\u54cd\u90e8\u5206\u6570\u636e</li> </ul> </li> </ul>"},{"location":"algorithm/datastruct/consistent_hash/#_2","title":"\u5b9e\u73b0","text":"<pre><code>// Package consistenthash provides an implementation of a ring hash.\npackage consistenthash\n\nimport (\n    \"hash/crc32\"\n    \"sort\"\n    \"strconv\"\n)\n\ntype Hash func(data []byte) uint32\n\ntype Map struct {\n    hash     Hash\n    replicas int\n    keys     []int // Sorted hash result\n    hashMap  map[int]string // hash result -&gt; real node\n}\n\nfunc New(replicas int, fn Hash) *Map {\n    m := &amp;Map{\n        replicas: replicas,\n        hash:     fn,\n        hashMap:  make(map[int]string),\n    }\n    if m.hash == nil {\n        m.hash = crc32.ChecksumIEEE\n    }\n    return m\n}\n\n// Returns true if there are no items available.\nfunc (m *Map) IsEmpty() bool {\n    return len(m.keys) == 0\n}\n\n// Adds some keys to the hash.\nfunc (m *Map) Add(keys ...string) {\n    for _, key := range keys {\n        for i := 0; i &lt; m.replicas; i++ { // \u4e00\u4e2a server \u5206\u6210 replicas \u4e2a\u865a\u62df server\n            hash := int(m.hash([]byte(strconv.Itoa(i) + key)))\n            m.keys = append(m.keys, hash)\n            m.hashMap[hash] = key\n        }\n    }\n    sort.Ints(m.keys)\n}\n\n// Gets the closest item in the hash to the provided key.\nfunc (m *Map) Get(key string) string {\n    if m.IsEmpty() {\n        return \"\"\n    }\n\n    hash := int(m.hash([]byte(key)))\n\n    // Binary search for appropriate replica.\n    idx := sort.Search(len(m.keys), func(i int) bool { return m.keys[i] &gt;= hash })\n\n    // Means we have cycled back to the first replica.\n    if idx == len(m.keys) {\n        idx = 0\n    }\n\n    return m.hashMap[m.keys[idx]]\n}\n</code></pre>"},{"location":"algorithm/datastruct/radix_tree/","title":"Radix","text":"<p>radix tree, \u57fa\u6570\u6811\uff0ctrie\u6811\uff08\u524d\u7f00\u6811\uff09\u7684\u4e00\u79cd\u7a7a\u95f4\u4e0a\u7684\u4f18\u5316</p>"},{"location":"algorithm/datastruct/radix_tree/#_1","title":"\u4e3e\u4f8b","text":"<ol> <li>\u5148\u63d2\u5165 key=\"foo\", value=1</li> </ol> <ol> <li>\u518d\u63d2\u5165 key=\"fotbar\", value=2</li> </ol>"},{"location":"algorithm/datastruct/radix_tree/#_2","title":"\u6df1\u5165\u7406\u89e3","text":"<ul> <li>\u53f6\u5b50\u8282\u70b9\uff0cleaf\u4e0d\u4e3anil\uff0cedges\u5c31\u4e3anil</li> <li>\u4ece root \u5230 leaf \u8282\u70b9\u7684 prefiex \u62fc\u63a5 \u7b49\u4e8eleaf\u8282\u70b9\u7684key\u503c</li> <li>edges\u6570\u7ec4\u662f\u6309\u7167 label \u6392\u5e8f\u7684\uff0clabel \u4e3a\u5355\u4e2a\u5b57\u7b26</li> </ul>"},{"location":"algorithm/datastruct/radix_tree/#reference","title":"Reference","text":"<ul> <li>radix \u6e90\u7801 // \u76ee\u524d\u5bf9\u4e2d\u6587\u652f\u6301\u4e0d\u5230\u4f4d\uff0c\u540e\u7eed\u6709\u9700\u6c42\u53ef\u4ee5\u7ee7\u7eed\u8fed\u4ee3</li> </ul>"},{"location":"algorithm/%E6%8E%92%E5%88%97_%E7%BB%84%E5%90%88_%E5%AD%90%E9%9B%86/%E4%B8%8A%EF%BC%8C%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%92%E5%88%97/","title":"\u627e\u6392\u5217","text":"<p>\u5957\u8def\u5c31\u662f\u627e\u5230\u5c71\u5cf0\uff0c\u7136\u540e\u5c71\u5cf0\u53d8\u5c71\u8c37</p>"},{"location":"algorithm/%E6%8E%92%E5%88%97_%E7%BB%84%E5%90%88_%E5%AD%90%E9%9B%86/%E4%B8%8A%EF%BC%8C%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%92%E5%88%97/#_2","title":"\u4e0b\u4e00\u4e2a\u6392\u5217","text":"<p><code>1 3 5 4 2</code> -&gt; <code>1 4 2 3 5</code></p> <p>\u5148\u627e\u4ece\u540e\u5f80\u524d\u9012\u589e\u7684\u4e00\u6bb5<code>5 4 2</code>\uff0c\u7136\u540e\u62ff\u5230\u524d\u4e00\u4e2a\u6570<code>pre=3</code>, \u53d6\u9012\u589e\u7247\u6bb5\u4e2d\u5927\u4e8epre\u7684\u6570(\u6700\u63a5\u8fd1<code>pre</code>\u7684)\uff0c\u8fdb\u884c\u66ff\u6362\uff0c\u5e76\u4e14\u53cd\u8f6c\u6574\u4e2a\u6570\u7ec4</p> <pre><code>class Solution {\npublic:\n\n    void reverse(vector&lt;int&gt;&amp; nums, int l, int r) {\n        while (l &lt;= r) {\n            swap(nums[l], nums[r]);\n            l++, r--;\n        }\n        return ;\n    }\n\n    void nextPermutation(vector&lt;int&gt;&amp; nums) {\n        int n = nums.size();\n        if (n == 0) {\n            return ;\n        }\n        int i = n-1;\n        // \u5355\u8c03\u9012\u51cf\n        while (i &gt; 0 &amp;&amp; nums[i] &lt;= nums[i-1]) i--;\n        if (i == 0) {\n            reverse(nums, 0, n-1);\n            return ;\n        }\n        // now nums[i] &gt; nums[i-1] 1 2 5 4 3\n        int j = i;\n        while (j &lt; n &amp;&amp; nums[j] &gt; nums[i-1]) j++;\n        swap(nums[j-1], nums[i-1]);\n        reverse(nums, i, n-1);\n        return ;\n    }\n};\n</code></pre>"},{"location":"algorithm/%E6%8E%92%E5%88%97_%E7%BB%84%E5%90%88_%E5%AD%90%E9%9B%86/%E4%B8%8A%EF%BC%8C%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%92%E5%88%97/#_3","title":"\u4e0a\u4e00\u4e2a\u6392\u5217","text":"<p><code>1 4 2 3 5</code> -&gt; <code>1 3 5 4 2</code> \u5148\u627e\u4ece\u540e\u5f80\u524d\u9012\u51cf\u7684\u4e00\u6bb5<code>2 3 5</code>\uff0c\u7136\u540e\u62ff\u5230\u524d\u4e00\u4e2a\u6570<code>pre=4</code>, \u53d6\u9012\u589e\u7247\u6bb5\u4e2d\u5c0f\u4e8epre\u7684\u6570\uff0c\u8fdb\u884c\u66ff\u6362\uff0c\u5e76\u4e14\u53cd\u8f6c\u6574\u4e2a\u6570\u7ec4 <pre><code>class Solution {\npublic:\n\n    void reverse(vector&lt;int&gt;&amp; nums, int l, int r) {\n        while (l &lt;= r) {\n            swap(nums[l], nums[r]);\n            l++, r--;\n        }\n        return ;\n    }\n\n    void prePermutation(vector&lt;int&gt;&amp; nums) {\n        int n = nums.size();\n        if (n == 0) {\n            return ;\n        }\n        int i = n-1;\n        while (i &gt; 0 &amp;&amp; nums[i] &gt;= nums[i-1]) i--;\n        if (i == 0) {\n            reverse(nums, 0, n-1);\n            return ;\n        }\n        // now nums[i] &lt; nums[i-1]\n        int j = i;\n        while (j &lt; n &amp;&amp; nums[j] &lt; nums[i-1]) j++;\n        swap(nums[j-1], nums[i-1]);\n        reverse(nums, i, n-1);\n    }\n};\n</code></pre></p>"},{"location":"algorithm/%E6%8E%92%E5%88%97_%E7%BB%84%E5%90%88_%E5%AD%90%E9%9B%86/%E5%85%A8%E6%8E%92%E5%88%97/","title":"\u5168\u6392\u5217","text":"<p>\u53bb\u91cd\u662f\u7528<code>unordered_map</code>\u53bb\u505a\u7684</p> <pre><code>class Solution {\npublic:\n\n    void dfs(string&amp; str, vector&lt;string&gt;&amp; res, int st, int ed) {\n        if (st &gt;= ed) {\n            res.push_back(str);\n            return ;\n        }\n        unordered_map&lt;char, int&gt; mp;\n        for (int i=st; i&lt;=ed; i++) {\n            if (mp.count(str[i])) {\n                continue;\n            }\n\n            swap(str[i], str[st]);\n            dfs(str, res, st+1, ed);\n            mp[str[i]] ++;\n\n            swap(str[i], str[st]);\n        }\n    }\n\n    vector&lt;string&gt; Permutation(string str) {\n        sort(str.begin(), str.end());\n        int n = str.size();\n        vector&lt;string&gt; res;\n        dfs(str, res, 0, n-1);\n        sort(res.begin(), res.end(), [](string&amp; a, string&amp; b) {\n            return a &lt; b;\n        });\n        return res;\n    }\n};\n</code></pre>"},{"location":"algorithm/%E6%8E%92%E5%88%97_%E7%BB%84%E5%90%88_%E5%AD%90%E9%9B%86/%E5%AD%90%E9%9B%86/","title":"\u5b50\u96c6","text":"<p>leetcode 90</p> <p><code>1,2,2,3</code>\uff0c\u9009\u4e86\u7b2c\u4e00\u4e2a2\u7684\u4ea7\u751f\u7684\u5b50\u96c6\u660e\u663e\u5305\u542b\u9009\u4e86\u7b2c\u4e8c\u4e2a2\u7684\u4ea7\u751f\u7684\u5b50\u96c6\uff0c\u56e0\u6b64\u8df3\u8fc7</p> <pre><code>class Solution {\npublic:\n\n    vector&lt;vector&lt;int&gt;&gt; res;\n\n    void dfs(vector&lt;int&gt;&amp; nums, vector&lt;int&gt;&amp; temp, int st, int ed) {\n        if (st == ed) {\n            res.push_back(temp);\n            return ;\n        }\n        temp.push_back(nums[st]);\n        // choose\n        dfs(nums, temp, st+1, ed);\n        temp.pop_back();\n        int i = st + 1;\n        while (i &lt; ed &amp;&amp; nums[i] == nums[i-1]) i++;\n        // not choose\n        dfs(nums, temp, i, ed);\n    }\n\n    vector&lt;vector&lt;int&gt;&gt; subsetsWithDup(vector&lt;int&gt;&amp; nums) {\n        sort(nums.begin(), nums.end());\n        res.clear();\n        vector&lt;int&gt; temp;\n        dfs(nums, temp, 0, nums.size());\n        return res;\n    }\n};\n</code></pre>"},{"location":"algorithm/%E6%8E%92%E5%88%97_%E7%BB%84%E5%90%88_%E5%AD%90%E9%9B%86/%E7%BB%84%E5%90%88/","title":"\u7ec4\u5408","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a\u6570\u7ec4\u00a0candidates\u00a0\u548c\u4e00\u4e2a\u76ee\u6807\u6570\u00a0target\u00a0\uff0c\u627e\u51fa\u00a0candidates\u00a0\u4e2d\u6240\u6709\u53ef\u4ee5\u4f7f\u6570\u5b57\u548c\u4e3a\u00a0target\u00a0\u7684\u7ec4\u5408\u3002</p> <p>candidates\u00a0\u4e2d\u7684\u6bcf\u4e2a\u6570\u5b57\u5728\u6bcf\u4e2a\u7ec4\u5408\u4e2d\u53ea\u80fd\u4f7f\u7528\u4e00\u6b21\u3002</p> <p>\u5176\u5b9e\u5c31\u662f\u627e\u5b50\u96c6\uff0c\u4f7f\u5f97\u5b50\u96c6\u7684\u548c\u7b49\u4e8e\u56fa\u5b9a\u7684\u503c target</p> <pre><code>class Solution {\npublic:\n\n    vector&lt;vector&lt;int&gt;&gt; res;\n\n    void dfs(vector&lt;int&gt;&amp; nums, vector&lt;int&gt;&amp; s, int st, int ed, int k) {\n        if (st &gt; ed) {\n            if (k == 0) {\n                res.push_back(s);\n            }\n            return ;\n        }\n        if (k &lt; 0) {\n            return ;\n        }\n        // choose\n        s.push_back(nums[st]);\n        dfs(nums, s, st+1, ed, k-nums[st]);\n        s.pop_back();\n        int i = st+1;\n        while (i &lt;= ed &amp;&amp; nums[i] == nums[st]) i++;\n        // not choose\n        dfs(nums, s, i, ed, k);\n    }\n\n    vector&lt;vector&lt;int&gt;&gt; combinationSum2(vector&lt;int&gt;&amp; nums, int target) {\n        sort(nums.begin(), nums.end());\n        res.clear();\n        vector&lt;int&gt; s;\n        dfs(nums, s, 0, nums.size()-1, target);\n        return res;\n    }\n};\n</code></pre>"},{"location":"cs-life/bigdata/grow-up/","title":"Goal","text":"<ul> <li>Google API Design\uff0c\u57f9\u517b\u4e00\u4e0b\u5de5\u7a0b\u7d20\u517b\uff0c\u5305\u62ec\u547d\u540d\uff0c\u5411\u524d\u517c\u5bb9\u6027\uff0c\u6587\u6863\u7b49\u79d1\u5b66\u505a\u6cd5<ul> <li>\u6807\u51c6\u5b57\u6bb5: https://cloud.google.com/apis/design/standard_fields</li> </ul> </li> <li>go https://golang.org/doc/effective_go.html</li> <li>\u4e86\u89e3etcd\uff0c\u5165\u95e8\u4f7f\u7528HDFS / HBase / MapReduce / Spark / Storm</li> <li>MIT 6.824 \u719f\u6089Go\u4f7f\u7528\u3001\u719f\u6089CSP\u7f16\u7a0b\u6a21\u578b</li> <li>Paper: <code>Facebook HayStack</code> \u548c <code>Ceph</code></li> <li>\u57fa\u672c\u6280\u80fd python / bash / html + css + js</li> <li>\u4e86\u89e3\u4e00\u4e0b\u6df1\u5ea6\u5b66\u4e60\uff0c\u770b\u4e00\u4e0b\u5143\u8001\u7ea7\u522b\u7684Alexnet</li> <li>CUDA\u662f\u4ec0\u4e48\uff1f https://www.youtube.com/watch?v=nRSxp5ZKwhQ</li> </ul>"},{"location":"cs-life/bigdata/hive_query/","title":"\u590d\u6742 hive \u7528\u6cd5","text":""},{"location":"cs-life/bigdata/hive_query/#partition-by","title":"partition by\uff0c\u83b7\u53d6\u5206\u7ec4\u5185\u5e8f\u53f7","text":"<pre><code>select  author_id,\n        rule_key,\n        from_unixtime(create_time, 'yyyyMMdd') as clean_date\nfrom    (\n            select  author_id,\n                    rule_key,\n                    create_time,\n                    ROW_NUMBER() over(\n                        partition by\n                                author_id\n                        order by\n                                create_time desc\n                    ) as rn\n            from    ecom.app_author_credit_score_change_df\n            where   date = '${date}'\n            and     banned_day = -1\n            and     is_revoke = 0\n            and     from_unixtime(create_time, 'yyyyMMdd') &gt;= '${date-7}'\n        )\nwhere   rn = 1\n</code></pre>"},{"location":"cs-life/bigdata/notes/","title":"\u6781\u5ba2\u65f6\u95f4-\u4ece\u96f6\u5f00\u59cb\u5b66\u5927\u6570\u636e-\u7b14\u8bb0","text":""},{"location":"cs-life/bigdata/notes/#_1","title":"\u79fb\u52a8\u8ba1\u7b97\u6bd4\u79fb\u52a8\u6570\u636e\u66f4\u5212\u7b97","text":"<p>\u79fb\u52a8\u8ba1\u7b97\u7a0b\u5e8f\u5230\u6570\u636e\u6240\u5728\u4f4d\u7f6e\u8fdb\u884c\u8ba1\u7b97\u662f\u5982\u4f55\u5b9e\u73b0\u7684\u5462\uff1f</p> <ol> <li>\u5c06\u5f85\u5904\u7406\u7684\u5927\u89c4\u6a21\u6570\u636e\u5b58\u50a8\u5728\u670d\u52a1\u5668\u96c6\u7fa4\u7684\u6240\u6709\u670d\u52a1\u5668\u4e0a\uff0c\u4e3b\u8981\u4f7f\u7528 HDFS \u5206\u5e03\u5f0f\u6587\u4ef6\u5b58\u50a8\u7cfb\u7edf\uff0c\u5c06\u6587\u4ef6\u5206\u6210\u5f88\u591a\u5757\uff08Block\uff09\uff0c\u4ee5\u5757\u4e3a\u5355\u4f4d\u5b58\u50a8\u5728\u96c6\u7fa4\u7684\u670d\u52a1\u5668\u4e0a\u3002</li> <li>\u5927\u6570\u636e\u5f15\u64ce\u6839\u636e\u96c6\u7fa4\u91cc\u4e0d\u540c\u670d\u52a1\u5668\u7684\u8ba1\u7b97\u80fd\u529b\uff0c\u5728\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u542f\u52a8\u82e5\u5e72\u5206\u5e03\u5f0f\u4efb\u52a1\u6267\u884c\u8fdb\u7a0b\uff0c\u8fd9\u4e9b\u8fdb\u7a0b\u4f1a\u7b49\u5f85\u7ed9\u5b83\u4eec\u5206\u914d\u6267\u884c\u4efb\u52a1\u3002</li> <li>\u4f7f\u7528\u5927\u6570\u636e\u8ba1\u7b97\u6846\u67b6\u652f\u6301\u7684\u7f16\u7a0b\u6a21\u578b\u8fdb\u884c\u7f16\u7a0b\uff0c\u6bd4\u5982 Hadoop \u7684 MapReduce \u7f16\u7a0b\u6a21\u578b\uff0c\u6216\u8005 Spark \u7684 RDD \u7f16\u7a0b\u6a21\u578b\u3002\u5e94\u7528\u7a0b\u5e8f\u7f16\u5199\u597d\u4ee5\u540e\uff0c\u5c06\u5176\u6253\u5305\uff0cMapReduce \u548cSpark \u90fd\u662f\u5728 JVM \u73af\u5883\u4e2d\u8fd0\u884c\uff0c\u6240\u4ee5\u6253\u5305\u51fa\u6765\u7684\u662f\u4e00\u4e2a Java \u7684 JAR \u5305\u3002</li> <li>\u7528 Hadoop \u6216\u8005 Spark \u7684\u542f\u52a8\u547d\u4ee4\u6267\u884c\u8fd9\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684 JAR \u5305\uff0c\u9996\u5148\u6267\u884c\u5f15\u64ce\u4f1a\u89e3\u6790\u7a0b\u5e8f\u8981\u5904\u7406\u7684\u6570\u636e\u8f93\u5165\u8def\u5f84\uff0c\u6839\u636e\u8f93\u5165\u6570\u636e\u91cf\u7684\u5927\u5c0f\uff0c\u5c06\u6570\u636e\u5206\u6210\u82e5\u5e72\u7247\uff08Split\uff09\uff0c\u6bcf\u4e00\u4e2a\u6570\u636e\u7247\u90fd\u5206\u914d\u7ed9\u4e00\u4e2a\u4efb\u52a1\u6267\u884c\u8fdb\u7a0b\u53bb\u5904\u7406\u3002</li> <li>\u4efb\u52a1\u6267\u884c\u8fdb\u7a0b\u6536\u5230\u5206\u914d\u7684\u4efb\u52a1\u540e\uff0c\u68c0\u67e5\u81ea\u5df1\u662f\u5426\u6709\u4efb\u52a1\u5bf9\u5e94\u7684\u7a0b\u5e8f\u5305\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u53bb\u4e0b\u8f7d\u7a0b\u5e8f\u5305\uff0c\u4e0b\u8f7d\u4ee5\u540e\u901a\u8fc7\u53cd\u5c04\u7684\u65b9\u5f0f\u52a0\u8f7d\u7a0b\u5e8f\u3002\u8d70\u5230\u8fd9\u91cc\uff0c\u6700\u91cd\u8981\u7684\u4e00\u6b65\uff0c\u4e5f\u5c31\u662f\u79fb\u52a8\u8ba1\u7b97\u5c31\u5b8c\u6210\u4e86\u3002</li> <li>\u52a0\u8f7d\u7a0b\u5e8f\u540e\uff0c\u4efb\u52a1\u6267\u884c\u8fdb\u7a0b\u6839\u636e\u5206\u914d\u7684\u6570\u636e\u7247\u7684\u6587\u4ef6\u5730\u5740\u548c\u6570\u636e\u5728\u6587\u4ef6\u5185\u7684\u504f\u79fb\u91cf\u8bfb\u53d6\u6570\u636e\uff0c\u5e76\u628a\u6570\u636e\u8f93\u5165\u7ed9\u5e94\u7528\u7a0b\u5e8f\u76f8\u5e94\u7684\u65b9\u6cd5\u53bb\u6267\u884c\uff0c\u4ece\u800c\u5b9e\u73b0\u5728\u5206\u5e03\u5f0f\u670d\u52a1\u5668\u96c6\u7fa4\u4e2d\u79fb\u52a8\u8ba1\u7b97\u7a0b\u5e8f\uff0c\u5bf9\u5927\u89c4\u6a21\u6570\u636e\u8fdb\u884c\u5e76\u884c\u5904\u7406\u7684\u8ba1\u7b97\u76ee\u6807\u3002</li> </ol>"},{"location":"cs-life/bigdata/notes/#raid","title":"\u4eceRAID\u770b\u5782\u76f4\u4f38\u7f29\u5230\u6c34\u5e73\u4f38\u7f29\u7684\u6f14\u5316","text":""},{"location":"cs-life/bigdata/notes/#raid_1","title":"RAID\u5206\u7c7b","text":"<p>RAID\uff08\u72ec\u7acb\u78c1\u76d8\u5197\u4f59\u9635\u5217\uff09\u6280\u672f\u662f\u5c06\u591a\u5757\u666e\u901a\u78c1\u76d8\u7ec4\u6210\u4e00\u4e2a\u9635\u5217\uff0c\u5171\u540c\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\u3002\u4e3b\u8981\u662f\u4e3a\u4e86\u6539\u5584\u78c1\u76d8\u7684\u5b58\u50a8\u5bb9\u91cf\u3001\u8bfb\u5199\u901f\u5ea6\uff0c\u589e\u5f3a\u78c1\u76d8\u7684\u53ef\u7528\u6027\u548c\u5bb9\u9519\u80fd\u529b\u3002</p> <ul> <li>RAID 0\u662f\u6570\u636e\u5728\u4ece\u5185\u5b58\u7f13\u51b2\u533a\u5199\u5165\u78c1\u76d8\u65f6\uff0c\u6839\u636e\u78c1\u76d8\u6570\u91cf\u5c06\u6570\u636e\u5206\u6210 N \u4efd\uff0c\u8fd9\u4e9b\u6570\u636e\u540c\u65f6\u5e76\u53d1\u5199\u5165 N \u5757\u78c1\u76d8\uff0c\u4f7f\u5f97\u6570\u636e\u6574\u4f53\u5199\u5165\u901f\u5ea6\u662f\u4e00\u5757\u78c1\u76d8\u7684 N \u500d\uff1b\u8bfb\u53d6\u7684\u65f6\u5019\u4e5f\u4e00\u6837\uff0c\u56e0\u6b64 RAID 0 \u5177\u6709\u6781\u5feb\u7684\u6570\u636e\u8bfb\u5199\u901f\u5ea6\u3002\u4f46\u662f RAID 0\u4e0d\u505a\u6570\u636e\u5907\u4efd\uff0cN \u5757\u78c1\u76d8\u4e2d\u53ea\u8981\u6709\u4e00\u5757\u635f\u574f\uff0c\u6570\u636e\u5b8c\u6574\u6027\u5c31\u88ab\u7834\u574f\uff0c\u5176\u4ed6\u78c1\u76d8\u7684\u6570\u636e\u4e5f\u90fd\u65e0\u6cd5\u4f7f\u7528\u4e86\u3002</li> <li>RAID 1\u662f\u6570\u636e\u5728\u5199\u5165\u78c1\u76d8\u65f6\uff0c\u5c06\u4e00\u4efd\u6570\u636e\u540c\u65f6\u5199\u5165\u4e24\u5757\u78c1\u76d8\uff0c\u8fd9\u6837\u4efb\u4f55\u4e00\u5757\u78c1\u76d8\u635f\u574f\u90fd\u4e0d\u4f1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931\uff0c\u63d2\u5165\u4e00\u5757\u65b0\u78c1\u76d8\u5c31\u53ef\u4ee5\u901a\u8fc7\u590d\u5236\u6570\u636e\u7684\u65b9\u5f0f\u81ea\u52a8\u4fee\u590d\uff0c\u5177\u6709\u6781\u9ad8\u7684\u53ef\u9760\u6027</li> <li>RAID 10\u662f\u5c06\u6240\u6709\u78c1\u76d8 N \u5e73\u5747\u5206\u6210\u4e24\u4efd\uff0c\u6570\u636e\u540c\u65f6\u5728\u4e24\u4efd\u78c1\u76d8\u5199\u5165\uff0c\u76f8\u5f53\u4e8e RAID 1\uff1b\u4f46\u662f\u5e73\u5206\u6210\u4e24\u4efd\uff0c\u5728\u6bcf\u4e00\u4efd\u78c1\u76d8\uff08\u4e5f\u5c31\u662f N/2\u5757\u78c1\u76d8\uff09\u91cc\u9762\uff0c\u5229\u7528 RAID 0 \u6280\u672f\u5e76\u53d1\u8bfb\u5199\uff0c\u8fd9\u6837\u65e2\u63d0\u9ad8\u53ef\u9760\u6027\u53c8\u6539\u5584\u6027\u80fd\u3002\u4e0d\u8fc7 RAID10 \u7684\u78c1\u76d8\u5229\u7528\u7387\u8f83\u4f4e\uff0c\u6709\u4e00\u534a\u7684\u78c1\u76d8\u7528\u6765\u5199\u5907\u4efd\u6570\u636e\u3002</li> <li>RAID 3\u5728\u6570\u636e\u5199\u5165\u78c1\u76d8\u7684\u65f6\u5019\uff0c\u5c06\u6570\u636e\u5206\u6210 N-1 \u4efd\uff0c\u5e76\u53d1\u5199\u5165 N-1\u5757\u78c1\u76d8\uff0c\u5e76\u5728\u7b2c N \u5757\u78c1\u76d8\u8bb0\u5f55\u6821\u9a8c\u6570\u636e\uff0c\u8fd9\u6837\u4efb\u4f55\u4e00\u5757\u78c1\u76d8\u635f\u574f\uff08\u5305\u62ec\u6821\u9a8c\u6570\u636e\u78c1\u76d8\uff09\uff0c\u90fd\u53ef\u4ee5\u5229\u7528\u5176\u4ed6 N-1 \u5757\u78c1\u76d8\u7684\u6570\u636e\u4fee\u590d\u3002\u5982\u679c\u4fee\u6539\u8f83\u591a\uff0c\u7b2c N \u5757\u78c1\u76d8\u66f4\u5bb9\u6613\u635f\u574f\u3002</li> <li>RAID 5 \u548c RAID 3 \u5f88\u76f8\u4f3c\uff0c\u4f46\u662f\u6821\u9a8c\u6570\u636e\u4e0d\u662f\u5199\u5165\u7b2c N \u5757\u78c1\u76d8\uff0c\u800c\u662f\u87ba\u65cb\u5f0f\u5730\u5199\u5165\u6240\u6709\u78c1\u76d8\u4e2d\u3002\u8fd9\u6837\u6821\u9a8c\u6570\u636e\u7684\u4fee\u6539\u4e5f\u88ab\u5e73\u5747\u5230\u6240\u6709\u78c1\u76d8\u4e0a\uff0c\u907f\u514d RAID 3 \u9891\u7e41\u5199\u574f\u4e00\u5757\u78c1\u76d8\u7684\u60c5\u51b5\u3002</li> <li>RAID 6 \u548c RAID 5 \u7c7b\u4f3c\uff0c\u4f46\u662f\u6570\u636e\u53ea\u5199\u5165 N-2 \u5757\u78c1\u76d8\uff0c\u5e76\u87ba\u65cb\u5f0f\u5730\u5728\u4e24\u5757\u78c1\u76d8\u4e2d\u5199\u5165\u6821\u9a8c\u4fe1\u606f\uff08\u4f7f\u7528\u4e0d\u540c\u7b97\u6cd5\u751f\u6210\uff09\u3002\u5982\u679c\u6570\u636e\u9700\u8981\u5f88\u9ad8\u7684\u53ef\u9760\u6027\uff0c\u5728\u51fa\u73b0\u540c\u65f6\u635f\u574f\u4e24\u5757\u78c1\u76d8\u7684\u60c5\u51b5\u4e0b\uff08\u6216\u8005\u8fd0\u7ef4\u7ba1\u7406\u6c34\u5e73\u6bd4\u8f83\u843d\u540e\uff0c\u574f\u4e86\u4e00\u5757\u78c1\u76d8\u4f46\u662f\u8fdf\u8fdf\u6ca1\u6709\u66f4\u6362\uff0c\u5bfc\u81f4\u53c8\u574f\u4e86\u4e00\u5757\u78c1\u76d8\uff09\uff0c\u4ecd\u7136\u9700\u8981\u4fee\u590d\u6570\u636e\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u4f7f\u7528RAID 6\u3002</li> </ul>"},{"location":"cs-life/bigdata/notes/#_2","title":"\u5c0f\u7ed3","text":"<ol> <li>\u6570\u636e\u5b58\u50a8\u5bb9\u91cf\u7684\u95ee\u9898\u3002RAID \u4f7f\u7528\u4e86 N \u5757\u78c1\u76d8\u6784\u6210\u4e00\u4e2a\u5b58\u50a8\u9635\u5217\uff0c\u5982\u679c\u4f7f\u7528 RAID 5\uff0c\u6570\u636e\u5c31\u53ef\u4ee5\u5b58\u50a8\u5728 N-1 \u5757\u78c1\u76d8\u4e0a\uff0c\u8fd9\u6837\u5c06\u5b58\u50a8\u7a7a\u95f4\u6269\u5927\u4e86 N-1 \u500d\u3002</li> <li>\u6570\u636e\u8bfb\u5199\u901f\u5ea6\u7684\u95ee\u9898\u3002RAID \u6839\u636e\u53ef\u4ee5\u4f7f\u7528\u7684\u78c1\u76d8\u6570\u91cf\uff0c\u5c06\u5f85\u5199\u5165\u7684\u6570\u636e\u5206\u6210\u591a\u7247\uff0c\u5e76\u53d1\u540c\u65f6\u5411\u591a\u5757\u78c1\u76d8\u8fdb\u884c\u5199\u5165\uff0c\u663e\u7136\u5199\u5165\u7684\u901f\u5ea6\u53ef\u4ee5\u5f97\u5230\u660e\u663e\u63d0\u9ad8\uff1b\u540c\u7406\uff0c\u8bfb\u53d6\u901f\u5ea6\u4e5f\u53ef\u4ee5\u5f97\u5230\u660e\u663e\u63d0\u9ad8\u3002\u4e0d\u8fc7\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8e\u4f20\u7edf\u673a\u68b0\u78c1\u76d8\u7684\u8bbf\u95ee\u5ef6\u8fdf\u4e3b\u8981\u6765\u81ea\u4e8e\u5bfb\u5740\u65f6\u95f4\uff0c\u6570\u636e\u771f\u6b63\u8fdb\u884c\u8bfb\u5199\u7684\u65f6\u95f4\u53ef\u80fd\u53ea\u5360\u636e\u6574\u4e2a\u6570\u636e\u8bbf\u95ee\u65f6\u95f4\u7684\u4e00\u5c0f\u90e8\u5206\uff0c\u6240\u4ee5\u6570\u636e\u5206\u7247\u540e\u5bf9 N \u5757\u78c1\u76d8\u8fdb\u884c\u5e76\u53d1\u8bfb\u5199\u64cd\u4f5c\u5e76\u4e0d\u80fd\u5c06\u8bbf\u95ee\u901f\u5ea6\u63d0\u9ad8 N \u500d\u3002</li> <li>\u6570\u636e\u53ef\u9760\u6027\u7684\u95ee\u9898\u3002\u4f7f\u7528 RAID 10\u3001RAID 5 \u6216\u8005 RAID 6 \u65b9\u6848\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u6570\u636e\u6709\u5197\u4f59\u5b58\u50a8\uff0c\u6216\u8005\u5b58\u50a8\u6821\u9a8c\u4fe1\u606f\uff0c\u6240\u4ee5\u5f53\u67d0\u5757\u78c1\u76d8\u635f\u574f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u901a\u8fc7\u5176\u4ed6\u78c1\u76d8\u4e0a\u7684\u6570\u636e\u548c\u6821\u9a8c\u6570\u636e\u5c06\u4e22\u5931\u78c1\u76d8\u4e0a\u7684\u6570\u636e\u8fd8\u539f\u3002</li> </ol>"},{"location":"cs-life/bigdata/notes/#hdfs","title":"HDFS\u4f9d\u7136\u662f\u5b58\u50a8\u7684\u738b\u8005","text":""},{"location":"cs-life/bigdata/notes/#hdfs_1","title":"HDFS \u662f\u5982\u4f55\u5b9e\u73b0\u5927\u6570\u636e\u9ad8\u901f\u3001\u53ef\u9760\u7684\u5b58\u50a8\u548c\u8bbf\u95ee\u7684","text":"<ul> <li>DataNode \u8d1f\u8d23\u6587\u4ef6\u6570\u636e\u7684\u5b58\u50a8\u548c\u8bfb\u5199\u64cd\u4f5c\uff0cHDFS \u5c06\u6587\u4ef6\u6570\u636e\u5206\u5272\u6210\u82e5\u5e72\u6570\u636e\u5757\uff08Block\uff09\uff0c\u6bcf\u4e2a DataNode \u5b58\u50a8\u4e00\u90e8\u5206\u6570\u636e\u5757\uff0c\u8fd9\u6837\u6587\u4ef6\u5c31\u5206\u5e03\u5b58\u50a8\u5728\u6574\u4e2a HDFS \u670d\u52a1\u5668\u96c6\u7fa4\u4e2d\u3002</li> <li>NameNode \u8d1f\u8d23\u6574\u4e2a\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u7684\u5143\u6570\u636e\uff08MetaData\uff09\u7ba1\u7406\uff0c\u4e5f\u5c31\u662f\u6587\u4ef6\u8def\u5f84\u540d\u3001\u6570\u636e\u5757\u7684 ID \u4ee5\u53ca\u5b58\u50a8\u4f4d\u7f6e\u7b49\u4fe1\u606f\uff0c\u76f8\u5f53\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u6587\u4ef6\u5206\u914d\u8868\uff08FAT\uff09\u7684\u89d2\u8272\u3002</li> </ul>"},{"location":"cs-life/bigdata/notes/#hdfs_2","title":"HDFS \u9ad8\u53ef\u7528\u8bbe\u8ba1","text":""},{"location":"cs-life/bigdata/notes/#_3","title":"\u6570\u636e\u5b58\u50a8\u6545\u969c\u5bb9\u9519","text":"<p>\u78c1\u76d8\u4ecb\u8d28\u5728\u5b58\u50a8\u8fc7\u7a0b\u4e2d\u53d7\u73af\u5883\u6216\u8005\u8001\u5316\u5f71\u54cd\uff0c\u5176\u5b58\u50a8\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u51fa\u73b0\u9519\u4e71\u3002HDFS \u7684\u5e94\u5bf9\u63aa\u65bd\u662f\uff0c\u5bf9\u4e8e\u5b58\u50a8\u5728 DataNode \u4e0a\u7684\u6570\u636e\u5757\uff0c\u8ba1\u7b97\u5e76\u5b58\u50a8\u6821\u9a8c\u548c\uff08CheckSum\uff09\u3002\u5728\u8bfb\u53d6\u6570\u636e\u7684\u65f6\u5019\uff0c\u91cd\u65b0\u8ba1\u7b97\u8bfb\u53d6\u51fa\u6765\u7684\u6570\u636e\u7684\u6821\u9a8c\u548c\uff0c\u5982\u679c\u6821\u9a8c\u4e0d\u6b63\u786e\u5c31\u629b\u51fa\u5f02\u5e38\uff0c\u5e94\u7528\u7a0b\u5e8f\u6355\u83b7\u5f02\u5e38\u540e\u5c31\u5230\u5176\u4ed6 DataNode \u4e0a\u8bfb\u53d6\u5907\u4efd\u6570\u636e\u3002</p>"},{"location":"cs-life/bigdata/notes/#_4","title":"\u78c1\u76d8\u6545\u969c\u5bb9\u9519","text":"<p>\u5982\u679c DataNode \u76d1\u6d4b\u5230\u672c\u673a\u7684\u67d0\u5757\u78c1\u76d8\u635f\u574f\uff0c\u5c31\u5c06\u8be5\u5757\u78c1\u76d8\u4e0a\u5b58\u50a8\u7684\u6240\u6709 BlockID \u62a5\u544a\u7ed9NameNode\uff0cNameNode \u68c0\u67e5\u8fd9\u4e9b\u6570\u636e\u5757\u8fd8\u5728\u54ea\u4e9b DataNode \u4e0a\u6709\u5907\u4efd\uff0c\u901a\u77e5\u76f8\u5e94\u7684DataNode \u670d\u52a1\u5668\u5c06\u5bf9\u5e94\u7684\u6570\u636e\u5757\u590d\u5236\u5230\u5176\u4ed6\u670d\u52a1\u5668\u4e0a\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u5757\u7684\u5907\u4efd\u6570\u6ee1\u8db3\u8981\u6c42</p>"},{"location":"cs-life/bigdata/notes/#datanode","title":"DataNode \u6545\u969c\u5bb9\u9519","text":"<p>DataNode \u4f1a\u901a\u8fc7\u5fc3\u8df3\u548c NameNode \u4fdd\u6301\u901a\u4fe1\uff0c\u5982\u679c DataNode \u8d85\u65f6\u672a\u53d1\u9001\u5fc3\u8df3\uff0cNameNode \u5c31\u4f1a\u8ba4\u4e3a\u8fd9\u4e2a DataNode \u5df2\u7ecf\u5b95\u673a\u5931\u6548\uff0c\u7acb\u5373\u67e5\u627e\u8fd9\u4e2a DataNode \u4e0a\u5b58\u50a8\u7684\u6570\u636e\u5757\u6709\u54ea\u4e9b\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u6570\u636e\u5757\u8fd8\u5b58\u50a8\u5728\u54ea\u4e9b\u670d\u52a1\u5668\u4e0a\uff0c\u968f\u540e\u901a\u77e5\u8fd9\u4e9b\u670d\u52a1\u5668\u518d\u590d\u5236\u4e00\u4efd\u6570\u636e\u5757\u5230\u5176\u4ed6\u670d\u52a1\u5668\u4e0a\uff0c\u4fdd\u8bc1 HDFS \u5b58\u50a8\u7684\u6570\u636e\u5757\u5907\u4efd\u6570\u7b26\u5408\u7528\u6237\u8bbe\u7f6e\u7684\u6570\u76ee\uff0c\u5373\u4f7f\u518d\u51fa\u73b0\u670d\u52a1\u5668\u5b95\u673a\uff0c\u4e5f\u4e0d\u4f1a\u4e22\u5931\u6570\u636e\u3002</p>"},{"location":"cs-life/bigdata/notes/#namenode","title":"NameNode \u6545\u969c\u5bb9\u9519","text":"<p>NameNode \u662f\u6574\u4e2a HDFS \u7684\u6838\u5fc3\uff0c\u8bb0\u5f55\u7740 HDFS \u6587\u4ef6\u5206\u914d\u8868\u4fe1\u606f\uff0c\u6240\u6709\u7684\u6587\u4ef6\u8def\u5f84\u548c\u6570\u636e\u5757\u5b58\u50a8\u4fe1\u606f\u90fd\u4fdd\u5b58\u5728 NameNode\uff0c\u5982\u679c NameNode \u6545\u969c\uff0c\u6574\u4e2a HDFS \u7cfb\u7edf\u96c6\u7fa4\u90fd\u65e0\u6cd5\u4f7f\u7528\uff1b\u5982\u679c NameNode \u4e0a\u8bb0\u5f55\u7684\u6570\u636e\u4e22\u5931\uff0c\u6574\u4e2a\u96c6\u7fa4\u6240\u6709 DataNode \u5b58\u50a8\u7684\u6570\u636e\u4e5f\u5c31\u6ca1\u7528\u4e86\u3002\u6240\u4ee5\uff0cNameNode \u9ad8\u53ef\u7528\u5bb9\u9519\u80fd\u529b\u975e\u5e38\u91cd\u8981\u3002NameNode \u91c7\u7528\u4e3b\u4ece\u70ed\u5907\u7684\u65b9\u5f0f\u63d0\u4f9b\u9ad8\u53ef\u7528\u670d\u52a1\u3002</p>"},{"location":"cs-life/bigdata/notes/#_5","title":"\u9ad8\u53ef\u7528\u7b56\u7565","text":"<p>\u5e38\u7528\u7684\u4fdd\u8bc1\u7cfb\u7edf\u53ef\u7528\u6027\u7684\u7b56\u7565\u6709\u5197\u4f59\u5907\u4efd\u3001\u5931\u6548\u8f6c\u79fb\u548c\u964d\u7ea7\u9650\u6d41\u3002</p> <ul> <li>\u5197\u4f59\u5907\u4efd\uff0c\u4efb\u4f55\u7a0b\u5e8f\u3001\u4efb\u4f55\u6570\u636e\uff0c\u90fd\u81f3\u5c11\u8981\u6709\u4e00\u4e2a\u5907\u4efd\uff0c\u4e5f\u5c31\u662f\u8bf4\u7a0b\u5e8f\u81f3\u5c11\u8981\u90e8\u7f72\u5230\u4e24\u53f0\u670d\u52a1\u5668\uff0c\u6570\u636e\u81f3\u5c11\u8981\u5907\u4efd\u5230\u53e6\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u3002\u6b64\u5916\uff0c\u7a0d\u6709\u89c4\u6a21\u7684\u4e92\u8054\u7f51\u4f01\u4e1a\u90fd\u4f1a\u5efa\u8bbe\u591a\u4e2a\u6570\u636e\u4e2d\u5fc3\uff0c\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u4e92\u76f8\u8fdb\u884c\u5907\u4efd\uff0c\u7528\u6237\u8bf7\u6c42\u53ef\u80fd\u4f1a\u88ab\u5206\u53d1\u5230\u4efb\u4f55\u4e00\u4e2a\u6570\u636e\u4e2d\u5fc3\uff0c\u5373\u6240\u8c13\u7684\u5f02\u5730\u591a\u6d3b\uff0c\u5728\u906d\u9047\u5730\u57df\u6027\u7684\u91cd\u5927\u6545\u969c\u548c\u81ea\u7136\u707e\u5bb3\u7684\u65f6\u5019\uff0c\u4f9d\u7136\u4fdd\u8bc1\u5e94\u7528\u7684\u9ad8\u53ef\u7528 \u3002</li> <li>\u5f53\u8981\u8bbf\u95ee\u7684\u7a0b\u5e8f\u6216\u8005\u6570\u636e\u65e0\u6cd5\u8bbf\u95ee\u65f6\uff0c\u9700\u8981\u5c06\u8bbf\u95ee\u8bf7\u6c42\u8f6c\u79fb\u5230\u5907\u4efd\u7684\u7a0b\u5e8f\u6216\u8005\u6570\u636e\u6240\u5728\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u8fd9\u4e5f\u5c31\u662f\u5931\u6548\u8f6c\u79fb\u3002\u5931\u6548\u8f6c\u79fb\u4f60\u5e94\u8be5\u6ce8\u610f\u7684\u662f\u5931\u6548\u7684\u9274\u5b9a\uff0c\u50cf NameNode \u8fd9\u6837\u4e3b\u4ece\u670d\u52a1\u5668\u7ba1\u7406\u540c\u4e00\u4efd\u6570\u636e\u7684\u573a\u666f\uff0c\u5982\u679c\u4ece\u670d\u52a1\u5668\u9519\u8bef\u5730\u4ee5\u4e3a\u4e3b\u670d\u52a1\u5668\u5b95\u673a\u800c\u63a5\u7ba1\u96c6\u7fa4\u7ba1\u7406\uff0c\u4f1a\u51fa\u73b0\u4e3b\u4ece\u670d\u52a1\u5668\u4e00\u8d77\u5bf9 DataNode \u53d1\u9001\u6307\u4ee4\uff0c\u8fdb\u800c\u5bfc\u81f4\u96c6\u7fa4\u6df7\u4e71\uff0c\u4e5f\u5c31\u662f\u6240\u8c13\u7684\u201c\u8111\u88c2\u201d\u3002\u8fd9\u4e5f\u662f\u8fd9\u7c7b\u573a\u666f\u9009\u4e3e\u4e3b\u670d\u52a1\u5668\u65f6\uff0c\u5f15\u5165 ZooKeeper \u7684\u539f\u56e0\u3002</li> <li>\u5f53\u5927\u91cf\u7684\u7528\u6237\u8bf7\u6c42\u6216\u8005\u6570\u636e\u5904\u7406\u8bf7\u6c42\u5230\u8fbe\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u8ba1\u7b97\u8d44\u6e90\u6709\u9650\uff0c\u53ef\u80fd\u65e0\u6cd5\u5904\u7406\u5982\u6b64\u5927\u91cf\u7684\u8bf7\u6c42\uff0c\u8fdb\u800c\u5bfc\u81f4\u8d44\u6e90\u8017\u5c3d\uff0c\u7cfb\u7edf\u5d29\u6e83\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u62d2\u7edd\u90e8\u5206\u8bf7\u6c42\uff0c\u5373\u8fdb\u884c\u9650\u6d41\uff1b\u4e5f\u53ef\u4ee5\u5173\u95ed\u90e8\u5206\u529f\u80fd\uff0c\u964d\u4f4e\u8d44\u6e90\u6d88\u8017\uff0c\u5373\u8fdb\u884c\u964d\u7ea7\u3002\u9650\u6d41\u662f\u4e92\u8054\u7f51\u5e94\u7528\u7684\u5e38\u5907\u529f\u80fd\uff0c\u56e0\u4e3a\u8d85\u51fa\u8d1f\u8f7d\u80fd\u529b\u7684\u8bbf\u95ee\u6d41\u91cf\u5728\u4f55\u65f6\u4f1a\u7a81\u7136\u5230\u6765\uff0c\u4f60\u6839\u672c\u65e0\u6cd5\u9884\u6599\uff0c\u6240\u4ee5\u5fc5\u987b\u63d0\u524d\u505a\u597d\u51c6\u5907\uff0c\u5f53\u9047\u5230\u7a81\u53d1\u9ad8\u5cf0\u6d41\u91cf\u65f6\uff0c\u5c31\u53ef\u4ee5\u7acb\u5373\u542f\u52a8\u9650\u6d41\u3002\u800c\u964d\u7ea7\u901a\u5e38\u662f\u4e3a\u53ef\u9884\u77e5\u7684\u573a\u666f\u51c6\u5907\u7684\uff0c\u6bd4\u5982\u7535\u5546\u7684\u201c\u53cc\u5341\u4e00\u201d\u4fc3\u9500\uff0c\u4e3a\u4e86\u4fdd\u969c\u4fc3\u9500\u6d3b\u52a8\u671f\u95f4\u5e94\u7528\u7684\u6838\u5fc3\u529f\u80fd\u80fd\u591f\u6b63\u5e38\u8fd0\u884c\uff0c\u6bd4\u5982\u4e0b\u5355\u529f\u80fd\uff0c\u53ef\u4ee5\u5bf9\u7cfb\u7edf\u8fdb\u884c\u964d\u7ea7\u5904\u7406\uff0c\u5173\u95ed\u90e8\u5206\u975e\u91cd\u8981\u529f\u80fd\uff0c\u6bd4\u5982\u5546\u54c1\u8bc4\u4ef7\u529f\u80fd</li> </ul>"},{"location":"cs-life/bigdata/notes/#mapreduce","title":"MapReduce\u5982\u4f55\u8ba9\u6570\u636e\u5b8c\u6210\u4e00\u6b21\u65c5\u884c\uff1f","text":"<p>MapReduce \u7248\u672c WordCount \u7a0b\u5e8f\u7684\u6838\u5fc3\u662f\u4e00\u4e2a map \u51fd\u6570\u548c\u4e00\u4e2a reduce \u51fd\u6570\uff0cTODO\uff1a \u5b9e\u8df5\u4e00\u4e0b</p> <p>\u5927\u6570\u636e\u64cd\u4f5c\u4f9d\u8d56 <code>map reduce shuffle</code> \u6765\u5b9e\u73b0\u5206\u7ec4\uff0c\u805a\u5408\uff0c\u8fde\u63a5\u7684\u64cd\u4f5c</p>"},{"location":"cs-life/bigdata/notes/#mapreduce_1","title":"MapReduce \u4f5c\u4e1a\u542f\u52a8\u548c\u8fd0\u884c\u673a\u5236","text":"<ol> <li>\u5927\u6570\u636e\u5e94\u7528\u8fdb\u7a0b\u3002\u8fd9\u7c7b\u8fdb\u7a0b\u662f\u542f\u52a8 MapReduce \u7a0b\u5e8f\u7684\u4e3b\u5165\u53e3\uff0c\u4e3b\u8981\u662f\u6307\u5b9a Map \u548cReduce \u7c7b\u3001\u8f93\u5165\u8f93\u51fa\u6587\u4ef6\u8def\u5f84\u7b49\uff0c\u5e76\u63d0\u4ea4\u4f5c\u4e1a\u7ed9 Hadoop \u96c6\u7fa4\uff0c\u4e5f\u5c31\u662f\u4e0b\u9762\u63d0\u5230\u7684JobTracker \u8fdb\u7a0b\u3002\u8fd9\u662f\u7531\u7528\u6237\u542f\u52a8\u7684 MapReduce \u7a0b\u5e8f\u8fdb\u7a0b\uff0c\u6bd4\u5982\u6211\u4eec\u4e0a\u671f\u63d0\u5230\u7684WordCount \u7a0b\u5e8f\u3002</li> <li>JobTracker \u8fdb\u7a0b\u3002\u8fd9\u7c7b\u8fdb\u7a0b\u6839\u636e\u8981\u5904\u7406\u7684\u8f93\u5165\u6570\u636e\u91cf\uff0c\u547d\u4ee4\u4e0b\u9762\u63d0\u5230\u7684 TaskTracker \u8fdb\u7a0b\u542f\u52a8\u76f8\u5e94\u6570\u91cf\u7684 Map \u548c Reduce \u8fdb\u7a0b\u4efb\u52a1\uff0c\u5e76\u7ba1\u7406\u6574\u4e2a\u4f5c\u4e1a\u751f\u547d\u5468\u671f\u7684\u4efb\u52a1\u8c03\u5ea6\u548c\u76d1\u63a7\u3002\u8fd9\u662f Hadoop \u96c6\u7fa4\u7684\u5e38\u9a7b\u8fdb\u7a0b\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cJobTracker \u8fdb\u7a0b\u5728\u6574\u4e2a Hadoop \u96c6\u7fa4\u5168\u5c40\u552f\u4e00\u3002</li> <li>TaskTracker \u8fdb\u7a0b\u3002\u8fd9\u4e2a\u8fdb\u7a0b\u8d1f\u8d23\u542f\u52a8\u548c\u7ba1\u7406 Map \u8fdb\u7a0b\u4ee5\u53ca Reduce \u8fdb\u7a0b\u3002\u56e0\u4e3a\u9700\u8981\u6bcf\u4e2a\u6570\u636e\u5757\u90fd\u6709\u5bf9\u5e94\u7684 map \u51fd\u6570\uff0cTaskTracker \u8fdb\u7a0b\u901a\u5e38\u548c HDFS \u7684 DataNode \u8fdb\u7a0b\u542f\u52a8\u5728\u540c\u4e00\u4e2a\u670d\u52a1\u5668\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cHadoop \u96c6\u7fa4\u4e2d\u7edd\u5927\u591a\u6570\u670d\u52a1\u5668\u540c\u65f6\u8fd0\u884c DataNode \u8fdb\u7a0b\u548cTaskTracker \u8fdb\u7a0b\u3002</li> </ol>"},{"location":"cs-life/bigdata/notes/#_6","title":"\u8d44\u6e90\u8c03\u5ea6\u548c\u8ba1\u7b97\u8c03\u5ea6","text":"<ul> <li>\u8d44\u6e90\u8c03\u5ea6 \u5982Yarn\uff0c\u7ba1\u7406\u7684\u662f\u96c6\u7fa4\u4e2d\u7684\u8ba1\u7b97\u8d44\u6e90\uff0c\u5982CPU\u3001\u5185\u5b58\u7684\u5206\u914d\u548c\u56de\u6536\u3002</li> <li>\u8ba1\u7b97\u8c03\u5ea6 \u662f\u8ba1\u7b97\u4efb\u52a1\u8c03\u5ea6\uff0c\u5982map\u548creduce\u7684\u4efb\u52a1\u6216\u8005spark\u7684\u4efb\u52a1\uff0c\u5e94\u8be5\u5728\u54ea\u4e2acontainer\u542f\u52a8\uff0c\u542f\u52a8\u524d\u540e\u987a\u5e8f\u7ba1\u7406\u7b49\u3002</li> </ul>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/","title":"\u8bbe\u8ba1\u6570\u636e\u5bc6\u96c6\u578b\u5e94\u7528","text":""},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_2","title":"\u4e00\u3001\u6570\u636e\u7cfb\u7edf\u57fa\u77f3","text":""},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_3","title":"\u53ef\u9760\u6027\uff0c\u53ef\u4f38\u7f29\u6027\uff0c\u53ef\u7ef4\u62a4\u6027","text":"<p>\u4f5c\u4e3a\u8f6f\u4ef6\u7ef4\u62a4\u8005\uff0c\u8981\u5bf9\u8f6f\u4ef6\u7cfb\u7edf\u6709\u5168\u65b9\u9762\u7684\u8ba4\u77e5\uff0c\u6307\u6807\u53ef\u89c2\u6d4b\uff0c\u5c3d\u53ef\u80fd\u670d\u52a1\u65e0\u72b6\u6001\uff0c\u6839\u636e\u6d41\u91cf\u81ea\u884c\u6269\u7f29\u5bb9\uff0c\u5e76\u4e14\u8003\u8651\u515c\u5e95\uff0c\u964d\u7ea7\u65b9\u6848\uff0c\u505a\u5230\u5e38\u6001\u5316\u6f14\u7ec3\u3002</p> <p></p> <p>\u6848\u4f8b\u6709Twitter\u7684\u63a8\u6587\u53d1\u5e03\u3002</p> <ul> <li>\u5bf9\u4e8e\u7c89\u4e1d\u591a\u7684\u535a\u4e3b\uff0c\u7c89\u4e1d\u83b7\u53d6\u535a\u6587\u91c7\u7528\u62c9\u7684\u65b9\u5f0f\u3002(\u53d1\u4ef6\u7bb1\u67e5\u8be2\uff0c\u538b\u529b\u5728\u8bfb)</li> <li>\u5bf9\u4e8e\u7c89\u4e1d\u5c11\u7684\u535a\u4e3b\uff0c\u7c89\u4e1d\u83b7\u53d6\u535a\u6587\u91c7\u7528\u63a8\u7684\u65b9\u5f0f\u3002(\u6536\u4ef6\u7bb1\u67e5\u8be2\uff0c\u538b\u529b\u5728\u5199)</li> </ul>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_4","title":"\u6570\u636e\u6a21\u578b\u4e0e\u67e5\u8be2\u8bed\u8a00","text":"<p>\u4ecb\u7ecd\u4e86NoSQL\uff0c\u547d\u4ee4\u5f0f\u548c\u58f0\u660e\u5f0f\u67e5\u8be2\uff0c\u56fe\u67e5\u8be2\u8fd8\u6ca1\u63a5\u89e6\u8fc7(\u4eca\u5e74\u62bd\u7a7a\u7b80\u5355\u7528\u4e0b) \u76ee\u524d\u751f\u4ea7\u7cfb\u7edf\u7528\u7684MongoDB\uff0cRedis\uff0cMySQL\uff0cES\u3002</p> <p>\u6848\u4f8b\u6709Linkedin\u7684\u7b80\u5386\u6570\u636e\u6a21\u578b\u8bbe\u8ba1\u3002</p> <ul> <li>\u8003\u8651\u70b9\u5728\u4e8e\uff0c\u6570\u636e\u4e00\u5bf9\u591a\uff0c\u8303\u5f0f\u8bbe\u8ba1\uff0c\u6570\u636e\u5197\u4f59\uff0cid\u6807\u8bc6\u3002</li> </ul>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_5","title":"\u5b58\u50a8\u4e0e\u68c0\u7d22","text":""},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_6","title":"\u5b58\u50a8\u7ed3\u6784","text":"<p>\u65e5\u5fd7\u7ed3\u6784\uff08log-structured\uff09 \u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u9762\u5411\u9875\u9762\uff08page-oriented\uff09 \u7684\uff08\u4f8b\u5982B\u6811\uff09</p> <ul> <li>\u5bf9\u4e8e\u65e5\u5fd7\u7ed3\u6784\u5b58\u50a8\u5f15\u64ce\uff0c\u65e5\u5fd7\u662f\u4e3b\u8981\u7684\u5b58\u50a8\u4f4d\u7f6e\u3002\u65e5\u5fd7\u6bb5\u5728\u540e\u53f0\u538b\u7f29\uff0c\u5e76\u8fdb\u884c\u5783\u573e\u56de\u6536\u3002</li> <li>\u5bf9\u4e8e\u8986\u5199\u5355\u4e2a\u78c1\u76d8\u5757\u7684 B \u6811\uff0c\u6bcf\u6b21\u4fee\u6539\u90fd\u4f1a\u5148\u5199\u5165 \u9884\u5199\u5f0f\u65e5\u5fd7\uff08Write Ahead Log, WAL\uff09\uff0c\u4ee5\u4fbf\u5d29\u6e83\u540e\u7d22\u5f15\u53ef\u4ee5\u6062\u590d\u5230\u4e00\u4e2a\u4e00\u81f4\u7684\u72b6\u6001\u3002</li> </ul> <p>\u6848\u4f8b</p> <p>BitCask</p> <ul> <li>\u5185\u5b58\u6784\u5efa\u54c8\u5e0c\u7d22\u5f15\uff0c\u6570\u636e\u987a\u5e8f\u5b58\u50a8</li> <li>\u540c\u6837\u952e\u5bf9\u5e94\u7684\u503c\uff0c\u91c7\u53d6\u65b0\u503c\u8986\u76d6\u65e7\u503c\u7684\u505a\u6cd5</li> <li>\u5185\u5b58\u7d22\u5f15\u6784\u5efa\u5feb\u7167\uff0c\u4e3a\u4e86\u5d29\u6e83\u6062\u590d\u66f4\u5feb</li> </ul> <p>LSM\u6811\uff1aLevelDB\u3001RocksDB \uff08\u5f85\u770b\u6e90\u7801\uff09</p> <ul> <li>\u5185\u5b58\u6709\u5e8f\u7d22\u5f15memTable\uff08\u91c7\u7528\u7ea2\u9ed1\u6811\uff0cAVL\u6811\u7ef4\u62a4\uff09\uff0c\u78c1\u76d8\u7ef4\u62a4 SSTable\uff08Sorted String Table\uff09\uff0c\u6709\u5e8f\u7ed3\u6784</li> <li>\u91c7\u7528 Bloom\u8fc7\u6ee4\u5668 \u786e\u5b9a\u952e\u662f\u5426\u5b58\u5728</li> </ul> <p>B\u6811\uff1aMySQL</p> <ul> <li>\u91c7\u7528\u9875\u7ba1\u7406\u7684\u673a\u5236\uff0c\u6839\u636e\u952e\u7684\u7d22\u5f15\uff0c\u627e\u5230\u6570\u636e\u7684\u9875\uff0c\u66f4\u65b0\u9875\u7684\u6570\u636e</li> <li>\u5982\u679c\u6570\u636e\u9875\u5b58\u50a8\u7a7a\u95f4\u4e0d\u8db3\u4ee5\u652f\u6301\u672c\u6b21\u63d2\u5165/\u66f4\u65b0\uff0c\u9875\u5206\u88c2</li> <li>\u5982\u679c\u5220\u9664\u5bfc\u81f4\u9875\u5185\u6570\u636e\u8f83\u5c11\uff0c\u9875\u5408\u5e76</li> </ul> <p>\u4e3b\u952e\u7d22\u5f15\uff0c\u666e\u901a\u7d22\u5f15\uff0c\u805a\u96c6\u7d22\u5f15\uff0c\u975e\u805a\u96c6\u7d22\u5f15\uff0c\u8986\u76d6\u7d22\u5f15</p> <p>\u5168\u6587\u641c\u7d22\uff0c\u6a21\u7cca\u7d22\u5f15</p>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_7","title":"\u4e8b\u52a1\u8fd8\u662f\u5206\u6790\uff1f","text":"<p>\u6bd4\u8f83\u4e8b\u52a1\u5904\u7406\u548c\u5206\u6790\u7cfb\u7edf\u7684\u7279\u70b9</p> \u5c5e\u6027 \u4e8b\u52a1\u5904\u7406\u7cfb\u7edf OLTP \u5206\u6790\u7cfb\u7edf OLAP \u4e3b\u8981\u8bfb\u53d6\u6a21\u5f0f \u67e5\u8be2\u5c11\u91cf\u8bb0\u5f55\uff0c\u6309\u952e\u8bfb\u53d6 \u5728\u5927\u6279\u91cf\u8bb0\u5f55\u4e0a\u805a\u5408 \u4e3b\u8981\u5199\u5165\u6a21\u5f0f \u968f\u673a\u8bbf\u95ee\uff0c\u5199\u5165\u8981\u6c42\u4f4e\u5ef6\u65f6 \u6279\u91cf\u5bfc\u5165\uff08ETL\uff09\u6216\u8005\u4e8b\u4ef6\u6d41 \u4e3b\u8981\u7528\u6237 \u7ec8\u7aef\u7528\u6237\uff0c\u901a\u8fc7 Web \u5e94\u7528 \u5185\u90e8\u6570\u636e\u5206\u6790\u5e08\uff0c\u7528\u4e8e\u51b3\u7b56\u652f\u6301 \u5904\u7406\u7684\u6570\u636e \u6570\u636e\u7684\u6700\u65b0\u72b6\u6001\uff08\u5f53\u524d\u65f6\u95f4\u70b9\uff09 \u968f\u65f6\u95f4\u63a8\u79fb\u7684\u5386\u53f2\u4e8b\u4ef6 \u6570\u636e\u96c6\u5c3a\u5bf8 GB ~ TB TB ~ PB <p></p> <ul> <li>OLTP\u7cfb\u7edf\u901a\u5e38\u9762\u5411\u7528\u6237\uff0c\u8fd9\u610f\u5473\u7740\u7cfb\u7edf\u53ef\u80fd\u4f1a\u6536\u5230\u5927\u91cf\u7684\u8bf7\u6c42\u3002\u4e3a\u4e86\u5904\u7406\u8d1f\u8f7d\uff0c\u5e94\u7528\u7a0b\u5e8f\u901a\u5e38\u53ea\u8bbf\u95ee\u6bcf\u4e2a\u67e5\u8be2\u4e2d\u7684\u5c11\u90e8\u5206\u8bb0\u5f55\u3002\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u67d0\u79cd\u952e\u6765\u8bf7\u6c42\u8bb0\u5f55\uff0c\u5b58\u50a8\u5f15\u64ce\u4f7f\u7528\u7d22\u5f15\u6765\u67e5\u627e\u6240\u8bf7\u6c42\u7684\u952e\u7684\u6570\u636e\u3002\u78c1\u76d8\u5bfb\u9053\u65f6\u95f4\u5f80\u5f80\u662f\u8fd9\u91cc\u7684\u74f6\u9888\u3002</li> <li>\u6570\u636e\u4ed3\u5e93\u548c\u7c7b\u4f3c\u7684\u5206\u6790\u7cfb\u7edf\u4e3b\u8981\u7531\u4e1a\u52a1\u5206\u6790\u4eba\u5458\u4f7f\u7528\u3002\u901a\u5e38\u6bcf\u4e2a\u67e5\u8be2\u5f00\u9500\u9ad8\u6602\uff0c\u9700\u8981\u5728\u77ed\u65f6\u95f4\u5185\u626b\u63cf\u6570\u767e\u4e07\u6761\u8bb0\u5f55\u3002\u78c1\u76d8\u5e26\u5bbd\uff08\u800c\u4e0d\u662f\u67e5\u627e\u65f6\u95f4\uff09\u5f80\u5f80\u662f\u74f6\u9888\uff0c\u5217\u5f0f\u5b58\u50a8\u662f\u8fd9\u79cd\u5de5\u4f5c\u8d1f\u8f7d\u8d8a\u6765\u8d8a\u6d41\u884c\u7684\u89e3\u51b3\u65b9\u6848\u3002</li> </ul>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_8","title":"\u7f16\u7801\u4e0e\u6f14\u5316","text":"<p>\u6570\u636e\u524d\u5411\u517c\u5bb9\uff0c\u540e\u5411\u517c\u5bb9</p> <p>\u6570\u636e\u7f16\u7801\u65b9\u5f0f\uff1aJSON\uff0cXML\uff0cMsgPack\uff0cThrift\uff0cProtoBuf</p> <p>\u6570\u636e\u6d41\u6d41\u8f6c\u65b9\u5f0f</p> <ul> <li>\u6570\u636e\u5e93\uff0c\u5199\u5165\u540e\u8bfb\u53d6</li> <li>RPC \u548c REST API\uff0c\u540c\u6b65\u8c03\u7528</li> <li>\u5f02\u6b65\u6d88\u606f\uff0c\u6d88\u606f\u4ee3\u7406\u4f5c\u4e3a\u7f13\u51b2\u533a\uff0c\u4e0a\u6e38\u65e0\u9700\u5173\u6ce8\u4e0b\u6e38\u7cfb\u7edf\u60c5\u51b5</li> </ul>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_9","title":"\u4e8c\u3001\u5206\u5e03\u5f0f\u7cfb\u7edf","text":"<ul> <li>\u8bb8\u591a\u5904\u7406\u5668\uff0c\u5185\u5b58\u548c\u78c1\u76d8\u53ef\u4ee5\u5728\u540c\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u4e0b\u76f8\u4e92\u8fde\u63a5\uff0c\u5feb\u901f\u7684\u76f8\u4e92\u8fde\u63a5\u5141\u8bb8\u4efb\u610f\u5904\u7406\u5668\u8bbf\u95ee\u5185\u5b58\u6216\u78c1\u76d8\u7684\u4efb\u610f\u90e8\u5206\u3002\u5728\u8fd9\u79cd \u5171\u4eab\u5185\u5b58\u67b6\u6784\uff08shared-memory architecture\uff09 \u4e2d\uff0c\u6240\u6709\u7684\u7ec4\u4ef6\u90fd\u53ef\u4ee5\u770b\u4f5c\u4e00\u53f0\u5355\u72ec\u7684\u673a\u5668\uff0c\u8d2d\u4e70\u66f4\u5f3a\u5927\u7684\u673a\u5668\uff0c\u6709\u65f6\u79f0\u4e3a \u5782\u76f4\u4f38\u7f29\uff0c\u5373 vertical scaling\uff0c\u6216 \u5411\u4e0a\u4f38\u7f29\uff0c\u5373 scale up</li> <li>\u65e0\u5171\u4eab\u67b6\u6784\uff08shared-nothing architecture\uff0c\u6709\u65f6\u88ab\u79f0\u4e3a \u6c34\u5e73\u4f38\u7f29\uff0c\u5373 horizontal scaling\uff0c\u6216 \u5411\u5916\u4f38\u7f29\uff0c\u5373 scaling out</li> </ul>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_10","title":"\u590d\u5236","text":""},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_11","title":"\u9886\u5bfc\u8005\u548c\u8ffd\u968f\u8005","text":"<p>\u5ba2\u6237\u7aef\u5199\u5165\u4e3b\u5e93\uff08leader|master|primary\uff09\uff0c\u4e3b\u5e93\u53d1\u9001\u590d\u5236\u6d41\uff08replication log\uff09\uff0c\u6216\u53d8\u66f4\u6d88\u606f\uff08change stream\uff09\uff0c\u4ece\u5e93\uff08followers|read replicas|slaves|secondaries|hot-standby\uff09\u63a5\u53d7\u6570\u636e\uff0c\u6309\u76f8\u540c\u7684\u5904\u7406\u987a\u5e8f\u6765\u5904\u7406</p> <ul> <li>\u540c\u6b65\uff0c\u4e3b\u5e93\u548c\u4ece\u5e93\u540c\u6b65\u66f4\u65b0\u6570\u636e</li> <li>\u534a\u540c\u6b65\uff0c\u4e3b\u5e93\u548c\u4e00\u4e2a\u4ece\u5e93\u540c\u6b65\u66f4\u65b0\u6570\u636e\uff0c\u5176\u4ed6\u4ece\u5e93\u5f02\u6b65\u66f4\u65b0\u6570\u636e</li> <li>\u5f02\u6b65\uff0c\u4e3b\u5e93\u66f4\u65b0\u6570\u636e\uff0c\u4ece\u5e93\u5f02\u6b65\u66f4\u65b0\u6570\u636e</li> </ul> \u590d\u5236\u65b9\u5f0f \u4e3b\u5e93 \u4ece\u5e93 \u540c\u6b65\u590d\u5236 \u540c\u6b65 \u6240\u6709\u4ece\u5e93\u90fd\u540c\u6b65\u66f4\u65b0\u6570\u636e \u534a\u540c\u6b65\u590d\u5236 \u540c\u6b65 \u4e00\u4e2a\u4ece\u5e93\u540c\u6b65\u66f4\u65b0\u6570\u636e\uff0c\u5176\u4ed6\u4ece\u5e93\u5f02\u6b65\u66f4\u65b0\u6570\u636e \u5f02\u6b65\u590d\u5236 \u540c\u6b65 \u6240\u6709\u4ece\u5e93\u90fd\u5f02\u6b65\u590d\u5236\u6570\u636e <p>\u589e\u52a0\u65b0\u4ece\u5e93\uff0c\u5176\u8fc7\u7a0b\u5982\u4e0b\u6240\u793a\uff1a</p> <ol> <li>\u5728\u67d0\u4e2a\u65f6\u523b\u83b7\u53d6\u4e3b\u5e93\u7684\u4e00\u81f4\u6027\u5feb\u7167\uff08\u5982\u679c\u53ef\u80fd\uff0c\u4e0d\u5fc5\u9501\u5b9a\u6574\u4e2a\u6570\u636e\u5e93\uff09\u3002\u5bf9\u4e8e\u67d0\u4e9b\u573a\u666f\uff0c\u53ef\u80fd\u9700\u8981\u7b2c\u4e09\u65b9\u5de5\u5177\uff0c\u4f8b\u5982\u7528\u4e8e MySQL \u7684 innobackupex\u3002</li> <li>\u5c06\u5feb\u7167\u590d\u5236\u5230\u65b0\u7684\u4ece\u5e93\u8282\u70b9\u3002</li> <li>\u4ece\u5e93\u8fde\u63a5\u5230\u4e3b\u5e93\uff0c\u5e76\u62c9\u53d6\u5feb\u7167\u4e4b\u540e\u53d1\u751f\u7684\u6240\u6709\u6570\u636e\u53d8\u66f4\u3002\u8fd9\u8981\u6c42\u5feb\u7167\u4e0e\u4e3b\u5e93\u590d\u5236\u65e5\u5fd7\u4e2d\u7684\u4f4d\u7f6e\u7cbe\u786e\u5173\u8054\u3002\u8be5\u4f4d\u7f6e\u6709\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u4f8b\u5982 PostgreSQL \u5c06\u5176\u79f0\u4e3a \u65e5\u5fd7\u5e8f\u5217\u53f7\uff08log sequence number\uff0cLSN\uff09\uff0cMySQL \u5c06\u5176\u79f0\u4e3a \u4e8c\u8fdb\u5236\u65e5\u5fd7\u5750\u6807\uff08binlog coordinates\uff09\u3002 \u5f53\u4ece\u5e93\u5904\u7406\u5b8c\u5feb\u7167\u4e4b\u540e\u79ef\u7d2f\u7684\u6570\u636e\u53d8\u66f4\uff0c\u6211\u4eec\u5c31\u8bf4\u5b83 \u8d76\u4e0a\uff08caught up\uff09 \u4e86\u4e3b\u5e93\uff0c\u73b0\u5728\u5b83\u53ef\u4ee5\u7ee7\u7eed\u53ca\u65f6\u5904\u7406\u4e3b\u5e93\u4ea7\u751f\u7684\u6570\u636e\u53d8\u5316\u4e86\u3002</li> </ol> <p>\u590d\u5236\u65e5\u5fd7\u5206\u7c7b</p> <ul> <li>\u8bed\u53e5\u590d\u5236<ul> <li>\u8003\u8651\u662f\u786e\u5b9a\u6027\u8bed\u53e5\uff0c\u7c7b\u4f3c<code>now()</code>\u9700\u8981\u63d0\u524d\u8f6c\u4e49</li> </ul> </li> <li>\u4f20\u8f93\u9884\u5199\u5f0f\u65e5\u5fd7<ul> <li>\u65e5\u5fd7\u7ed3\u6784\u5b58\u50a8\u5f15\u64ceLSM\u7b49\uff0cWAL\u65e5\u5fd7</li> </ul> </li> <li>\u903b\u8f91\u65e5\u5fd7\u590d\u5236<ul> <li>\u57fa\u4e8e\u884c\uff0c\u5982 MYSQL \u7684 binlog</li> </ul> </li> <li>\u57fa\u4e8e\u89e6\u53d1\u5668\u7684\u590d\u5236<ul> <li>\u89e6\u53d1\u5668\u5141\u8bb8\u4f60\u5c06\u6570\u636e\u66f4\u6539\uff08\u5199\u5165\u4e8b\u52a1\uff09\u53d1\u751f\u65f6\u81ea\u52a8\u6267\u884c\u7684\u81ea\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u6ce8\u518c\u5728\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u3002\u89e6\u53d1\u5668\u6709\u673a\u4f1a\u5c06\u66f4\u6539\u8bb0\u5f55\u5230\u4e00\u4e2a\u5355\u72ec\u7684\u8868\u4e2d\uff0c\u4f7f\u7528\u5916\u90e8\u7a0b\u5e8f\u8bfb\u53d6\u8fd9\u4e2a\u8868\uff0c\u518d\u52a0\u4e0a\u4e00\u4e9b\u5fc5\u8981\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u5c31\u53ef\u4ee5\u5c06\u6570\u636e\u53d8\u66f4\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u7cfb\u7edf\u53bb\u3002</li> </ul> </li> </ul>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_12","title":"\u590d\u5236\u5ef6\u8fdf\u95ee\u9898","text":"<ul> <li>\u8bfb\u5df1\u4e4b\u5199<ul> <li>\u5199\u540e\u8bfb\u4e00\u81f4\u6027\uff08read-after-write consistency\uff09\uff0c\u4e5f\u79f0\u4e3a \u8bfb\u5df1\u4e4b\u5199\u4e00\u81f4\u6027\uff08read-your-writes consistency\uff09</li> </ul> </li> <li>\u5355\u8c03\u8bfb<ul> <li>\u5b9e\u73b0\u5355\u8c03\u8bfb\u7684\u4e00\u79cd\u65b9\u5f0f\u662f\u786e\u4fdd\u6bcf\u4e2a\u7528\u6237\u603b\u662f\u4ece\u540c\u4e00\u4e2a\u526f\u672c\u8fdb\u884c\u8bfb\u53d6\uff08\u4e0d\u540c\u7684\u7528\u6237\u53ef\u4ee5\u4ece\u4e0d\u540c\u7684\u526f\u672c\u8bfb\u53d6\uff09\u3002</li> <li>\u4f8b\u5982\uff0c\u53ef\u4ee5\u57fa\u4e8e\u7528\u6237 ID \u7684\u6563\u5217\u6765\u9009\u62e9\u526f\u672c\uff0c\u800c\u4e0d\u662f\u968f\u673a\u9009\u62e9\u526f\u672c\u3002\u4f46\u662f\uff0c\u5982\u679c\u8be5\u526f\u672c\u51fa\u73b0\u6545\u969c\uff0c\u7528\u6237\u7684\u67e5\u8be2\u5c06\u9700\u8981\u91cd\u65b0\u8def\u7531\u5230\u53e6\u4e00\u4e2a\u526f\u672c</li> </ul> </li> <li>\u4e00\u81f4\u524d\u7f00\u8bfb<ul> <li>\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u662f\uff0c\u786e\u4fdd\u4efb\u4f55\u56e0\u679c\u76f8\u5173\u7684\u5199\u5165\u90fd\u5199\u5165\u76f8\u540c\u7684\u5206\u533a</li> </ul> </li> <li>\u590d\u5236\u5ef6\u8fdf</li> </ul>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_13","title":"\u591a\u4e3b\u590d\u5236","text":"<p>\u534f\u540c\u7f16\u8f91\u573a\u666f\u4e0b\uff0c\u9700\u8981\u591a\u4e2a\u4eba/\u591a\u4e2a\u8bbe\u5907\u7684\u6570\u636e\u4e92\u76f8\u540c\u6b65\u3002</p> <p>\u5b9e\u73b0\u51b2\u7a81\u5408\u5e76\u89e3\u51b3\u6709\u591a\u79cd\u9014\u5f84\uff1a</p> <ul> <li>\u7ed9\u6bcf\u4e2a\u5199\u5165\u4e00\u4e2a\u552f\u4e00\u7684 ID\uff08\u4f8b\u5982\u65f6\u95f4\u6233\u3001\u957f\u968f\u673a\u6570\u3001UUID \u6216\u8005\u952e\u548c\u503c\u7684\u54c8\u5e0c\uff09\uff0c\u6311\u9009\u6700\u9ad8 ID \u7684\u5199\u5165\u4f5c\u4e3a\u80dc\u5229\u8005\uff0c\u5e76\u4e22\u5f03\u5176\u4ed6\u5199\u5165\u3002\u5982\u679c\u4f7f\u7528\u65f6\u95f4\u6233\uff0c\u8fd9\u79cd\u6280\u672f\u88ab\u79f0\u4e3a \u6700\u540e\u5199\u5165\u80dc\u5229\uff08LWW, last write wins\uff09\u3002\u867d\u7136\u8fd9\u79cd\u65b9\u6cd5\u5f88\u6d41\u884c\uff0c\u4f46\u662f\u5f88\u5bb9\u6613\u9020\u6210\u6570\u636e\u4e22\u5931</li> <li>\u4e3a\u6bcf\u4e2a\u526f\u672c\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684 ID\uff0cID \u7f16\u53f7\u66f4\u9ad8\u7684\u5199\u5165\u5177\u6709\u66f4\u9ad8\u7684\u4f18\u5148\u7ea7\u3002\u8fd9\u79cd\u65b9\u6cd5\u4e5f\u610f\u5473\u7740\u6570\u636e\u4e22\u5931</li> <li>\u4ee5\u67d0\u79cd\u65b9\u5f0f\u5c06\u8fd9\u4e9b\u503c\u5408\u5e76\u5728\u4e00\u8d77 - \u4f8b\u5982\uff0c\u6309\u5b57\u6bcd\u987a\u5e8f\u6392\u5e8f\uff0c\u7136\u540e\u8fde\u63a5\u5b83\u4eec\uff08\u5408\u5e76\u7684\u6807\u9898\u53ef\u80fd\u7c7b\u4f3c\u4e8e \u201cB/C\u201d\uff09</li> <li>\u7528\u4e00\u79cd\u53ef\u4fdd\u7559\u6240\u6709\u4fe1\u606f\u7684\u663e\u5f0f\u6570\u636e\u7ed3\u6784\u6765\u8bb0\u5f55\u51b2\u7a81\uff0c\u5e76\u7f16\u5199\u89e3\u51b3\u51b2\u7a81\u7684\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\uff08\u4e5f\u8bb8\u901a\u8fc7\u63d0\u793a\u7528\u6237\u7684\u65b9\u5f0f\uff09</li> </ul>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_14","title":"\u5c0f\u7ed3","text":"<p>\u590d\u5236\u7684\u76ee\u7684</p> <ul> <li>\u9ad8\u53ef\u7528\u6027\uff1b\u5373\u4f7f\u5728\u4e00\u53f0\u673a\u5668\uff08\u6216\u591a\u53f0\u673a\u5668\uff0c\u6216\u6574\u4e2a\u6570\u636e\u4e2d\u5fc3\uff09\u505c\u673a\u7684\u60c5\u51b5\u4e0b\u4e5f\u80fd\u4fdd\u6301\u7cfb\u7edf\u6b63\u5e38\u8fd0\u884c</li> <li>\u5ef6\u8fdf\uff1b\u5c06\u6570\u636e\u653e\u7f6e\u5728\u5730\u7406\u4e0a\u8ddd\u79bb\u7528\u6237\u8f83\u8fd1\u7684\u5730\u65b9\uff0c\u4ee5\u4fbf\u7528\u6237\u80fd\u591f\u66f4\u5feb\u5730\u4e0e\u5176\u4ea4\u4e92</li> <li>\u53ef\u4f38\u7f29\u6027\uff1b\u901a\u8fc7\u5728\u526f\u672c\u4e0a\u8bfb\uff0c\u80fd\u591f\u5904\u7406\u6bd4\u5355\u673a\u66f4\u5927\u7684\u8bfb\u53d6\u91cf</li> </ul> <p>\u590d\u5236\u7684\u4e09\u79cd\u4e3b\u8981\u65b9\u6cd5</p> <ul> <li>\u5355\u4e3b\u590d\u5236\uff1b\u5ba2\u6237\u7aef\u5c06\u6240\u6709\u5199\u5165\u64cd\u4f5c\u53d1\u9001\u5230\u5355\u4e2a\u8282\u70b9\uff08\u4e3b\u5e93\uff09\uff0c\u8be5\u8282\u70b9\u5c06\u6570\u636e\u66f4\u6539\u4e8b\u4ef6\u6d41\u53d1\u9001\u5230\u5176\u4ed6\u526f\u672c\uff08\u4ece\u5e93\uff09\u3002</li> <li>\u591a\u4e3b\u590d\u5236\uff1b\u5ba2\u6237\u7aef\u5c06\u6bcf\u4e2a\u5199\u5165\u53d1\u9001\u5230\u51e0\u4e2a\u4e3b\u5e93\u8282\u70b9\u4e4b\u4e00\uff0c\u5176\u4e2d\u4efb\u4f55\u4e00\u4e2a\u4e3b\u5e93\u90fd\u53ef\u4ee5\u63a5\u53d7\u5199\u5165\u3002\u4e3b\u5e93\u5c06\u6570\u636e\u66f4\u6539\u4e8b\u4ef6\u6d41\u53d1\u9001\u7ed9\u5f7c\u6b64\u4ee5\u53ca\u4efb\u4f55\u4ece\u5e93\u8282\u70b9\u3002</li> <li>\u65e0\u4e3b\u590d\u5236\uff1b\u5ba2\u6237\u7aef\u5c06\u6bcf\u4e2a\u5199\u5165\u53d1\u9001\u5230\u51e0\u4e2a\u8282\u70b9\uff0c\u5e76\u4ece\u591a\u4e2a\u8282\u70b9\u5e76\u884c\u8bfb\u53d6\uff0c\u4ee5\u68c0\u6d4b\u548c\u7ea0\u6b63\u5177\u6709\u9648\u65e7\u6570\u636e\u7684\u8282\u70b9\u3002</li> </ul> <p>\u590d\u5236\u5ef6\u8fdf\u4e00\u81f4\u6027\u6a21\u578b</p> <ul> <li>\u5199\u540e\u8bfb\u4e00\u81f4\u6027\uff1b\u7528\u6237\u5e94\u8be5\u603b\u662f\u80fd\u770b\u5230\u81ea\u5df1\u63d0\u4ea4\u7684\u6570\u636e\u3002</li> <li>\u5355\u8c03\u8bfb\uff1b\u7528\u6237\u5728\u770b\u5230\u67d0\u4e2a\u65f6\u95f4\u70b9\u7684\u6570\u636e\u540e\uff0c\u4ed6\u4eec\u4e0d\u5e94\u8be5\u518d\u770b\u5230\u8be5\u6570\u636e\u5728\u66f4\u65e9\u65f6\u95f4\u70b9\u7684\u60c5\u51b5\u3002</li> <li>\u4e00\u81f4\u524d\u7f00\u8bfb\uff1b\u7528\u6237\u5e94\u8be5\u770b\u5230\u6570\u636e\u5904\u4e8e\u4e00\u79cd\u5177\u6709\u56e0\u679c\u610f\u4e49\u7684\u72b6\u6001\uff1a\u4f8b\u5982\uff0c\u6309\u6b63\u786e\u7684\u987a\u5e8f\u770b\u5230\u4e00\u4e2a\u95ee\u9898\u548c\u5bf9\u5e94\u7684\u56de\u7b54\u3002</li> </ul>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_15","title":"\u5206\u533a","text":"<p>\u5206\u533a\u7684\u76ee\u6807\u662f\u5728\u591a\u53f0\u673a\u5668\u4e0a\u5747\u5300\u5206\u5e03\u6570\u636e\u548c\u67e5\u8be2\u8d1f\u8f7d\uff0c\u907f\u514d\u51fa\u73b0\u70ed\u70b9\uff08\u8d1f\u8f7d\u4e0d\u6210\u6bd4\u4f8b\u7684\u8282\u70b9\uff09\u3002</p> <p>\u5206\u533a\u65b9\u5f0f</p> <ul> <li>\u952e\u8303\u56f4\u5206\u533a</li> <li>\u6563\u5217\u5206\u533a</li> </ul> <p>\u8bf7\u6c42\u5206\u533a\u8def\u7531\u65b9\u5f0f</p> <ul> <li>\u8282\u70b9\u8def\u7531\uff1b\u6570\u636e\u5728B\u8282\u70b9\uff0c\u5ba2\u6237\u7aef-&gt;A\u8282\u70b9 \u4e2d\u8f6c-&gt; B\u8282\u70b9</li> <li>\u4ee3\u7406\u8def\u7531\uff1b\u6570\u636e\u5728B\u8282\u70b9\uff0c\u5ba2\u6237\u7aef-&gt;proxy-&gt;B\u8282\u70b9\uff0cproxy\u4f7f\u7528zk\uff0cetcd\u7ef4\u62a4\u5143\u6570\u636e</li> <li>\u5ba2\u6237\u7aef\u8def\u7531\uff1b\u5ba2\u6237\u7aef\u77e5\u9053\u6240\u6709\u8282\u70b9\u4fe1\u606f\uff0c\u5ba2\u6237\u7aef\u505a\u8def\u7531</li> </ul>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_16","title":"\u4e8b\u52a1","text":""},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_17","title":"\u5c0f\u7ed3","text":"<p>\u810f\u8bfb</p> <ul> <li>\u4e00\u4e2a\u5ba2\u6237\u7aef\u8bfb\u53d6\u5230\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aef\u5c1a\u672a\u63d0\u4ea4\u7684\u5199\u5165\u3002\u8bfb\u5df2\u63d0\u4ea4 \u6216\u66f4\u5f3a\u7684\u9694\u79bb\u7ea7\u522b\u53ef\u4ee5\u9632\u6b62\u810f\u8bfb\u3002</li> </ul> <p>\u8bfb\u53d6\u504f\u5dee\uff08\u4e0d\u53ef\u91cd\u590d\u8bfb\uff09</p> <ul> <li>\u5728\u540c\u4e00\u4e2a\u4e8b\u52a1\u4e2d\uff0c\u5ba2\u6237\u7aef\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u70b9\u4f1a\u770b\u89c1\u6570\u636e\u5e93\u7684\u4e0d\u540c\u72b6\u6001\u3002\u5feb\u7167\u9694\u79bb \u7ecf\u5e38\u7528\u4e8e\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5b83\u5141\u8bb8\u4e8b\u52a1\u4ece\u4e00\u4e2a\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u4e00\u81f4\u6027\u5feb\u7167\u4e2d\u8bfb\u53d6\u6570\u636e\u3002\u5feb\u7167\u9694\u79bb\u901a\u5e38\u4f7f\u7528 \u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff08MVCC\uff09 \u6765\u5b9e\u73b0\u3002</li> </ul> <p>\u4e22\u5931\u66f4\u65b0</p> <ul> <li>\u4e24\u4e2a\u5ba2\u6237\u7aef\u540c\u65f6\u6267\u884c \u8bfb\u53d6 - \u4fee\u6539 - \u5199\u5165\u5e8f\u5217\u3002\u5176\u4e2d\u4e00\u4e2a\u5199\u64cd\u4f5c\uff0c\u5728\u6ca1\u6709\u5408\u5e76\u53e6\u4e00\u4e2a\u5199\u5165\u53d8\u66f4\u60c5\u51b5\u4e0b\uff0c\u76f4\u63a5\u8986\u76d6\u4e86\u53e6\u4e00\u4e2a\u5199\u64cd\u4f5c\u7684\u7ed3\u679c\u3002\u6240\u4ee5\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u3002\u5feb\u7167\u9694\u79bb\u7684\u4e00\u4e9b\u5b9e\u73b0\u53ef\u4ee5\u81ea\u52a8\u9632\u6b62\u8fd9\u79cd\u5f02\u5e38\uff0c\u800c\u53e6\u4e00\u4e9b\u5b9e\u73b0\u5219\u9700\u8981\u624b\u52a8\u9501\u5b9a\uff08SELECT FOR UPDATE\uff09\u3002</li> </ul> <p>\u5199\u5165\u504f\u5dee</p> <ul> <li>\u4e00\u4e2a\u4e8b\u52a1\u8bfb\u53d6\u4e00\u4e9b\u4e1c\u897f\uff0c\u6839\u636e\u5b83\u6240\u770b\u5230\u7684\u503c\u4f5c\u51fa\u51b3\u5b9a\uff0c\u5e76\u5c06\u8be5\u51b3\u5b9a\u5199\u5165\u6570\u636e\u5e93\u3002\u4f46\u662f\uff0c\u5199\u5165\u65f6\uff0c\u8be5\u51b3\u5b9a\u7684\u524d\u63d0\u4e0d\u518d\u662f\u771f\u5b9e\u7684\u3002\u53ea\u6709\u53ef\u4e32\u884c\u5316\u7684\u9694\u79bb\u624d\u80fd\u9632\u6b62\u8fd9\u79cd\u5f02\u5e38\u3002</li> </ul> <p>\u5e7b\u8bfb</p> <ul> <li>\u4e8b\u52a1\u8bfb\u53d6\u7b26\u5408\u67d0\u4e9b\u641c\u7d22\u6761\u4ef6\u7684\u5bf9\u8c61\u3002\u53e6\u4e00\u4e2a\u5ba2\u6237\u7aef\u8fdb\u884c\u5199\u5165\uff0c\u5f71\u54cd\u641c\u7d22\u7ed3\u679c\u3002\u5feb\u7167\u9694\u79bb\u53ef\u4ee5\u9632\u6b62\u76f4\u63a5\u7684\u5e7b\u50cf\u8bfb\u53d6\uff0c\u4f46\u662f\u5199\u5165\u504f\u5dee\u4e0a\u4e0b\u6587\u4e2d\u7684\u5e7b\u8bfb\u9700\u8981\u7279\u6b8a\u5904\u7406\uff0c\u4f8b\u5982\u7d22\u5f15\u8303\u56f4\u9501\u5b9a\u3002</li> </ul> <p>\u5176\u4ed6\u5173\u4e8e\u6570\u636e\u5e93\u65b9\u9762\u7684\u77e5\u8bc6\u53ef\u4ee5\u770b \u300aMySQL\u6280\u672f\u5185\u5e55 InnoDB\u5b58\u50a8\u5f15\u64ce \u7b2c2\u7248\u300b</p>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_18","title":"\u6848\u4f8b","text":"<p>\u9700\u8981\u53ef\u91cd\u590d\u8bfb\u7684\u573a\u666f</p> <p>\u6848\u4f8b \u80cc\u666f\uff1a\u8f6c\u8d26\uff0c\u7528\u6237A 500\u5143\uff0c\u7528\u6237B 500\u5143\uff0cA\u7ed9B\u8f6c100\u5143\uff08\u5982\u679c\u4e0d\u53ef\u91cd\u590d\u8bfb\uff09</p> <p>\u4e8b\u52a11</p> <ul> <li>\u64cd\u4f5ca. A-100</li> <li>\u64cd\u4f5cb. B+100 </li> <li>\u64cd\u4f5cc. commit</li> </ul> <p>\u4e8b\u52a12</p> <ul> <li>\u64cd\u4f5cd. \u8bfbA 500\u5143                                       </li> <li>\u64cd\u4f5ce. \u8bfbB  600\u5143</li> </ul> <p>\u6309\u7167 d-&gt;a-&gt;b-&gt;c-&gt;e \u7684\u987a\u5e8f\u6267\u884c</p> <p>\u6b64\u65f6\u4e8b\u52a12\u91cc A\u548cB\u4e00\u51711100\uff0c\u8fdd\u53cd\u4e86\u6570\u636e\u4e00\u81f4\u6027</p>"},{"location":"cs-life/computer-science/classic-book/ddia/ddia/#_19","title":"\u5f15\u7528","text":"<ul> <li>https://vonng.gitbooks.io/ddia-cn/content/</li> </ul>"},{"location":"cs-life/computer-science/network/dns/","title":"\u6587\u7ae0","text":"<ul> <li>Linux DNS\u7f51\u7edc\u89e3\u6790</li> <li>nslookup\u547d\u4ee4</li> <li>dig\u547d\u4ee4</li> </ul> <p>\u547d\u4ee4\u4f7f\u7528\u5982\u4e0b <pre><code>nslookup www.baidu.com\n\ndig -trace sturnus.yitu-inc.com\ndig -x 10.60.24.37\n</code></pre></p>"},{"location":"cs-life/computer-science/network/dns/#k8s-dns","title":"k8s dns","text":"<p>\u914d\u7f6e<code>k8s</code> pod \u770b\u5230\u4e86<code>/etc/resolv.conf</code></p> <p>\u5185\u5bb9\u5982\u4e0b</p> <pre><code>nameserver 10.96.0.10\nsearch default.svc.cluster.local svc.cluster.local cluster.local\noptions ndots:5\n</code></pre> <p>\u5173\u952e\u8bcd\u89e3\u91ca <pre><code>nameserver    //\u5b9a\u4e49DNS\u670d\u52a1\u5668\u7684IP\u5730\u5740\ndomain       //\u5b9a\u4e49\u672c\u5730\u57df\u540d\nsearch        //\u5b9a\u4e49\u57df\u540d\u7684\u641c\u7d22\u5217\u8868\nsortlist        //\u5bf9\u8fd4\u56de\u7684\u57df\u540d\u8fdb\u884c\u6392\u5e8f\n</code></pre></p> <p>domian:\u58f0\u660e\u4e3b\u673a\u5728\u90a3\u4e2a\u57df search \u8868\u793a\u5982\u679c\u6ca1\u6709\u7ed9FQDN(\u5b8c\u6574\u57df\u540d:port)\u7684\u60c5\u51b5\u4e0b\uff0c\u6bd4\u5982\u53ea\u7ed9\u4e3b\u673a\u540d<code>redis-server</code>, resolver\u8981\u53bb\u90a3\u4e2a\u57df\u67e5\u8be2\u4e3b\u673a</p>"},{"location":"cs-life/computer-science/network/dns/#_2","title":"\u67e5\u627e\u987a\u5e8f","text":"<p>\u4e00\u822c\u67e5\u8be2\u7684\u987a\u5e8f\u662f\u5148\u770b\u81ea\u5df1\u7684hosts\u6587\u4ef6\uff0c\u5982\u679c\u67e5\u4e0d\u5230\u5c31\u50cf\u6240\u8fde\u63a5\u7684DNS\u670d\u52a1\u5668\u53bb\u67e5\uff0c\u4e5f\u5c31\u662fnameserver\uff0cDNS\u4f1a\u6839\u636e\u4f60\u6240\u63d0\u4f9b\u7684\u57df\u540d\u6765\u67e5\u5bf9\u5e94\u7684\u670d\u52a1\u5668IP\uff0c\u5982\u679c\u67e5\u5230\u4e86\u5c31\u4f1a\u8fd4\u56de\u7ed3\u679c\u3002</p>"},{"location":"cs-life/computer-science/network/framework/","title":"Go \u7684 Web / RPC \u6846\u67b6","text":""},{"location":"cs-life/computer-science/network/framework/#web","title":"web\u5de5\u4f5c\u65b9\u5f0f\u7684\u51e0\u4e2a\u6982\u5ff5","text":"<p>Request\uff1a\u7528\u6237\u8bf7\u6c42\u7684\u4fe1\u606f\uff0c\u7528\u6765\u89e3\u6790\u7528\u6237\u7684\u8bf7\u6c42\u4fe1\u606f\uff0c\u5305\u62ecpost\u3001get\u3001cookie\u3001url\u7b49\u4fe1\u606f</p> <p>Response\uff1a\u670d\u52a1\u5668\u9700\u8981\u53cd\u9988\u7ed9\u5ba2\u6237\u7aef\u7684\u4fe1\u606f</p> <p>Conn\uff1a\u7528\u6237\u7684\u6bcf\u6b21\u8bf7\u6c42\u94fe\u63a5</p> <p>Handler\uff1a\u5904\u7406\u8bf7\u6c42\u548c\u751f\u6210\u8fd4\u56de\u4fe1\u606f\u7684\u5904\u7406\u903b\u8f91</p>"},{"location":"cs-life/computer-science/network/framework/#1-nethttp","title":"1. net/http \u8fd0\u884c\u673a\u5236","text":"<p>\u4e0b\u56fe\u662fGo\u5b9e\u73b0Web\u670d\u52a1\u7684\u5de5\u4f5c\u6a21\u5f0f\u7684\u6d41\u7a0b\u56fe</p> <p></p> <p>\u56fe1. http\u5305\u6267\u884c\u6d41\u7a0b</p> <ol> <li> <p>\u521b\u5efaListen Socket, \u76d1\u542c\u6307\u5b9a\u7684\u7aef\u53e3, \u7b49\u5f85\u5ba2\u6237\u7aef\u8bf7\u6c42\u5230\u6765\u3002</p> </li> <li> <p>Listen Socket\u63a5\u53d7\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42, \u5f97\u5230Client Socket, \u63a5\u4e0b\u6765\u901a\u8fc7Client Socket\u4e0e\u5ba2\u6237\u7aef\u901a\u4fe1\u3002</p> </li> <li> <p>\u5904\u7406\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42, \u9996\u5148\u4eceClient Socket\u8bfb\u53d6HTTP\u8bf7\u6c42\u7684\u534f\u8bae\u5934, \u5982\u679c\u662fPOST\u65b9\u6cd5, \u8fd8\u53ef\u80fd\u8981\u8bfb\u53d6\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684\u6570\u636e, \u7136\u540e\u4ea4\u7ed9\u76f8\u5e94\u7684handler\u5904\u7406\u8bf7\u6c42, handler\u5904\u7406\u5b8c\u6bd5\u51c6\u5907\u597d\u5ba2\u6237\u7aef\u9700\u8981\u7684\u6570\u636e, \u901a\u8fc7Client Socket\u5199\u7ed9\u5ba2\u6237\u7aef\u3002</p> </li> </ol> <p>\u8fd9\u6574\u4e2a\u7684\u8fc7\u7a0b\u91cc\u9762\u6211\u4eec\u53ea\u8981\u4e86\u89e3\u6e05\u695a\u4e0b\u9762\u4e09\u4e2a\u95ee\u9898\uff0c\u4e5f\u5c31\u77e5\u9053Go\u662f\u5982\u4f55\u8ba9Web\u8fd0\u884c\u8d77\u6765\u4e86</p> <ul> <li>\u5982\u4f55\u76d1\u542c\u7aef\u53e3\uff1f</li> <li>\u5982\u4f55\u63a5\u6536\u5ba2\u6237\u7aef\u8bf7\u6c42\uff1f</li> <li>\u5982\u4f55\u5206\u914dhandler\uff1f</li> </ul> <p>\u524d\u9762\u5c0f\u8282\u7684\u4ee3\u7801\u91cc\u9762\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0cGo\u662f\u901a\u8fc7\u4e00\u4e2a\u51fd\u6570<code>ListenAndServe</code>\u6765\u5904\u7406\u8fd9\u4e9b\u4e8b\u60c5\u7684\uff0c\u5176\u5b9e\u73b0\u6e90\u7801\u5982\u4e0b\uff1a</p> <pre><code>func ListenAndServe(addr string, handler Handler) error {\n    server := &amp;Server{Addr: addr, Handler: handler}\n    return server.ListenAndServe()\n}\n</code></pre> <p><code>ListenAndServe</code>\u4f1a\u521d\u59cb\u5316\u4e00\u4e2a<code>sever</code>\u5bf9\u8c61\uff0c\u7136\u540e\u8c03\u7528\u4e86<code>Server</code>\u5bf9\u8c61\u7684\u65b9\u6cd5<code>ListenAndServe</code>\u3002\u5176\u6e90\u7801\u5982\u4e0b\uff1a</p> <pre><code>func (srv *Server) ListenAndServe() error {\n    if srv.shuttingDown() {\n        return ErrServerClosed\n    }\n    addr := srv.Addr\n    if addr == \"\" {\n        addr = \":http\"\n    }\n    ln, err := net.Listen(\"tcp\", addr)\n    if err != nil {\n        return err\n    }\n    return srv.Serve(ln)\n}\n</code></pre> <p><code>ListenAndServe</code>\u8c03\u7528\u4e86<code>net.Listen(\"tcp\", addr)</code>\uff0c\u4e5f\u5c31\u662f\u5e95\u5c42\u7528TCP\u534f\u8bae\u642d\u5efa\u4e86\u4e00\u4e2a\u670d\u52a1\uff0c\u6700\u540e\u8c03\u7528<code>src.Serve</code>\u76d1\u63a7\u6211\u4eec\u8bbe\u7f6e\u7684\u7aef\u53e3\u3002\u76d1\u63a7\u4e4b\u540e\u5982\u4f55\u63a5\u6536\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u5462\uff1f</p> <p><code>Serve</code>\u7684\u5177\u4f53\u5b9e\u73b0\u5982\u4e0b(\u4e3a\u7a81\u51fa\u91cd\u70b9\uff0c\u4ec5\u5c55\u793a\u5173\u952e\u4ee3\u7801)\uff0c\u901a\u8fc7\u4e0b\u9762\u7684\u5206\u6790\u6e90\u7801\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u5177\u4f53\u5904\u7406\u8fc7\u7a0b\uff1a</p> <pre><code>func (srv *Server) Serve(l net.Listener) error {\n    ...\n\n    ctx := context.WithValue(baseCtx, ServerContextKey, srv)\n    for {\n        rw, err := l.Accept()\n        ...\n\n        connCtx := ctx\n        if cc := srv.ConnContext; cc != nil { // wrap ctx\n            connCtx = cc(connCtx, rw)\n            if connCtx == nil {\n                panic(\"ConnContext returned nil\")\n            }\n        }\n        ...\n        c := srv.newConn(rw)\n        c.setState(c.rwc, StateNew, runHooks) // before Serve can return\n        go c.serve(connCtx)\n    }\n}\n</code></pre> <p>\u8fd9\u4e2a\u51fd\u6570\u91cc\u9762\u8d77\u4e86\u4e00\u4e2a<code>for{}</code>\uff0c\u9996\u5148\u901a\u8fc7Listener\u63a5\u6536\u8bf7\u6c42\uff1a<code>l.Accept()</code>\uff0c\u5176\u6b21\u521b\u5efa\u4e00\u4e2aConn\uff1a<code>c := srv.newConn(rw)</code>\uff0c\u6700\u540e\u5355\u72ec\u5f00\u4e86\u4e00\u4e2agoroutine\uff0c\u628a\u8fd9\u4e2a\u8bf7\u6c42\u7684\u6570\u636e\u5f53\u505a\u53c2\u6570\u6254\u7ed9\u8fd9\u4e2aconn\u53bb\u670d\u52a1\uff1a<code>go c.serve(connCtx)</code>\u3002\u8fd9\u4e2a\u5c31\u662f\u9ad8\u5e76\u53d1\u4f53\u73b0\u4e86\uff0c\u7528\u6237\u7684\u6bcf\u4e00\u6b21\u8bf7\u6c42\u90fd\u662f\u5728\u4e00\u4e2a\u65b0\u7684goroutine\u53bb\u670d\u52a1\uff0c\u76f8\u4e92\u4e0d\u5f71\u54cd\u3002</p> <p>\u90a3\u4e48\u5982\u4f55\u5177\u4f53\u5206\u914d\u5230\u76f8\u5e94\u7684\u51fd\u6570\u6765\u5904\u7406\u8bf7\u6c42\u5462\uff1f\u6211\u4eec\u7ee7\u7eed\u5206\u6790conn\u7684<code>serve</code>\u65b9\u6cd5\uff0c\u5176\u6e90\u7801\u5982\u4e0b(\u4e3a\u7a81\u51fa\u91cd\u70b9\uff0c\u4ec5\u5c55\u793a\u5173\u952e\u4ee3\u7801)\uff1a</p> <pre><code>func (c *conn) serve(ctx context.Context) {\n    ...\n\n    ctx, cancelCtx := context.WithCancel(ctx)\n    c.cancelCtx = cancelCtx\n    defer cancelCtx()\n\n    c.r = &amp;connReader{conn: c}\n    c.bufr = newBufioReader(c.r)\n    c.bufw = newBufioWriterSize(checkConnErrorWriter{c}, 4&lt;&lt;10)\n\n    for {\n        w, err := c.readRequest(ctx)\n        ...\n\n        // HTTP cannot have multiple simultaneous active requests.[*]\n        // Until the server replies to this request, it can't read another,\n        // so we might as well run the handler in this goroutine.\n        // [*] Not strictly true: HTTP pipelining. We could let them all process\n        // in parallel even if their responses need to be serialized.\n        // But we're not going to implement HTTP pipelining because it\n        // was never deployed in the wild and the answer is HTTP/2.\n        serverHandler{c.server}.ServeHTTP(w, w.req)\n        w.cancelCtx()\n        ...\n\n    }\n}\n</code></pre> <p>conn\u9996\u5148\u4f1a\u89e3\u6790request:<code>w, err := c.readRequest(ctx)</code>, \u7136\u540e\u83b7\u53d6\u76f8\u5e94\u7684handler\u53bb\u5904\u7406\u8bf7\u6c42:<code>serverHandler{c.server}.ServeHTTP(w, w.req)</code>\uff0c<code>ServeHTTP</code>\u7684\u5177\u4f53\u5b9e\u73b0\u5982\u4e0b\uff1a</p> <pre><code>func (sh serverHandler) ServeHTTP(rw ResponseWriter, req *Request) {\n    handler := sh.srv.Handler\n    if handler == nil {\n        handler = DefaultServeMux\n    }\n    if req.RequestURI == \"*\" &amp;&amp; req.Method == \"OPTIONS\" {\n        handler = globalOptionsHandler{}\n    }\n    handler.ServeHTTP(rw, req)\n}\n</code></pre> <p><code>sh.srv.Handler</code>\u5c31\u662f\u6211\u4eec\u521a\u624d\u5728\u8c03\u7528\u51fd\u6570<code>ListenAndServe</code>\u65f6\u5019\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u6211\u4eec\u524d\u9762\u4f8b\u5b50\u4f20\u9012\u7684\u662fnil\uff0c\u4e5f\u5c31\u662f\u4e3a\u7a7a\u3002</p> <p>\u90a3\u4e48\u9ed8\u8ba4\u83b7\u53d6<code>handler = DefaultServeMux</code>,\u90a3\u4e48\u8fd9\u4e2a\u53d8\u91cf\u7528\u6765\u505a\u4ec0\u4e48\u7684\u5462\uff1f</p> <p>\u5bf9\uff0c\u8fd9\u4e2a\u53d8\u91cf\u5c31\u662f\u4e00\u4e2a\u8def\u7531\u5668\uff0c\u5b83\u7528\u6765\u5339\u914durl\u8df3\u8f6c\u5230\u5176\u76f8\u5e94\u7684handle\u51fd\u6570\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6211\u4eec\u6709\u8bbe\u7f6e\u8fc7\u5417?</p> <p>\u6709\uff0c\u6211\u4eec\u8c03\u7528\u7684\u4ee3\u7801\u91cc\u9762\u7b2c\u4e00\u53e5\u4e0d\u662f\u8c03\u7528\u4e86<code>http.HandleFunc(\"/\", sayhelloName)</code>\u561b\u3002</p> <p>\u8fd9\u4e2a\u4f5c\u7528\u5c31\u662f\u6ce8\u518c\u4e86\u8bf7\u6c42<code>/</code>\u7684\u8def\u7531\u89c4\u5219\uff0c\u5f53\u8bf7\u6c42uri\u4e3a\"/\"\uff0c\u8def\u7531\u5c31\u4f1a\u8f6c\u5230\u51fd\u6570sayhelloName\uff0cDefaultServeMux\u4f1a\u8c03\u7528ServeHTTP\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5185\u90e8\u5176\u5b9e\u5c31\u662f\u8c03\u7528sayhelloName\u672c\u8eab\uff0c\u6700\u540e\u901a\u8fc7\u5199\u5165response\u7684\u4fe1\u606f\u53cd\u9988\u5230\u5ba2\u6237\u7aef\u3002</p> <p>\u8be6\u7ec6\u7684\u6574\u4e2a\u6d41\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u56fe2. \u4e00\u4e2ahttp\u8fde\u63a5\u5904\u7406\u6d41\u7a0b</p>"},{"location":"cs-life/computer-science/network/framework/#2-netrpc","title":"2. net/rpc \u8fd0\u884c\u673a\u5236","text":"<p>\u770b\u4e0bnet/rpc\u6846\u67b6\u7684\u5b9e\u73b0</p> <p></p> <p>\u56fe3. net/rpc\u6846\u67b6\u8fde\u63a5\u5904\u7406\u6d41\u7a0b</p>"},{"location":"cs-life/computer-science/network/framework/#21-client","title":"2.1 client \u6e90\u7801\u7b80\u6613\u5206\u6790","text":"<p>\u7b80\u8ff0</p> <ol> <li>client \u4f7f\u7528\u4e86\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u7684\u6a21\u5f0f\uff0c\u89e3\u8026\u4e86\u6d88\u606f\u53d1\u9001\u4e0e\u6d88\u606f\u63a5\u53d7\u7684\u5904\u7406</li> <li>client \u91c7\u7528\u81ea\u589e\u5e8f\u5217\u53f7\uff0c\u5b9e\u73b0\u4e86 \u94fe\u63a5\u7684\u591a\u8def\u590d\u7528\uff08\u907f\u514d\u4e00\u4e2arpc\uff0c\u521b\u5efa\u4e00\u4e2atcp\u94fe\u63a5\uff09</li> </ol> <p>\u9996\u5148Dial\uff0c\u548cserver\u5efa\u7acb\u94fe\u63a5</p> <pre><code>// Dial connects to an RPC server at the specified network address.\nfunc Dial(network, address string) (*Client, error) {\n    conn, err := net.Dial(network, address)\n    ...\n    return NewClient(conn), nil\n}\n</code></pre> <p>\u63a5\u7740\u67e5\u770b <code>NewClient</code>\uff0c\u7740\u91cd\u770b <code>client.input</code>\u7684\u5b9e\u73b0</p> <pre><code>func NewClient(conn io.ReadWriteCloser) *Client {\n    encBuf := bufio.NewWriter(conn)\n    client := &amp;gobClientCodec{conn, gob.NewDecoder(conn), gob.NewEncoder(encBuf), encBuf}\n    return NewClientWithCodec(client)\n}\n\nfunc NewClientWithCodec(codec ClientCodec) *Client {\n    client := &amp;Client{\n        codec:   codec,\n        pending: make(map[uint64]*Call),\n    }\n    go client.input() // \u5f00\u4e00\u4e2a\u534f\u7a0b\u5904\u7406\u5f53\u524d\u94fe\u63a5\u7684\u6240\u6709\u8bf7\u6c42\u548c\u54cd\u5e94\n    return client\n}\n\nfunc (client *Client) input() {\n    for err == nil {\n        response = Response{}\n        err = client.codec.ReadResponseHeader(&amp;response) // \u5982\u679c\u6ca1\u6709\u8f93\u51fa\u6d41\uff0c\u5219\u963b\u585e\u7b49\u5f85\uff0c\u5426\u5219\u8bfb\u4e00\u4e0bconn\u7684\u8f93\u51fa\u6d41\u7684header\uff0c\u5e76decode\uff0c\n        ...\n        seq := response.Seq // \u62ff\u5230\u54cd\u5e94\u5e8f\u53f7\uff08\u5ba2\u6237\u7aef\u751f\u6210\u7684\u8bf7\u6c42\u5e8f\u53f7\uff09\n        client.mutex.Lock()\n        call := client.pending[seq]  // \u62ff\u5230\u5bf9\u5e94\u7684call\u5bf9\u8c61\n        delete(client.pending, seq)\n        client.mutex.Unlock()\n\n        switch {\n            ... \n        default:\n            err = client.codec.ReadResponseBody(call.Reply) // \u5c06Resp.Body\u8d4b\u503c\u7ed9 call.Reply\uff0c\u5e76\u901a\u77e5call.Done()\n            ...\n            call.done()\n        }\n    }\n}\n\nfunc (call *Call) done() {\n    select {\n    case call.Done &lt;- call:\n        // ok\n        ... \n    default:\n        ...\n    }\n}\n</code></pre> <p>client\u6267\u884c\u7684\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u540c\u6b65\u8c03\u7528Call\u65b9\u6cd5\uff08\u672c\u8d28\u4e0a\u662f\u6784\u5efacall\u5bf9\u8c61\uff0c\u5e76\u7b49\u5f85call\u5bf9\u8c61\u91cc\u9762\u7684Done chan\u6d88\u606f\uff09</p> <pre><code>args := &amp;Args{7, 8}\nreply := new(Reply)\nerr := client.Call(\"Arith.Add\", args, reply)\n\nfunc (client *Client) Call(serviceMethod string, args interface{}, reply interface{}) error {\n    call := &lt;-client.Go(serviceMethod, args, reply, make(chan *Call, 1)).Done\n    return call.Error\n}\n\nfunc (client *Client) Go(serviceMethod string, args interface{}, reply interface{}, done chan *Call) *Call {\n    call := new(Call)\n    call.ServiceMethod = serviceMethod\n    call.Args = args\n    call.Reply = reply\n    ...\n    call.Done = done\n    client.send(call) \n    return call\n}\n\nfunc (client *Client) send(call *Call) {\n    client.reqMutex.Lock()\n    defer client.reqMutex.Unlock()\n\n    // Register this call.\n    client.mutex.Lock()\n    ...\n    seq := client.seq\n    client.seq++   // \u6bcf\u6b21\u8bf7\u6c42\u5e8f\u53f7\u81ea\u589e\u4e0b\n    client.pending[seq] = call // \u5c06call\u52a0\u5165\u5230 pending list\u91cc\uff0c\u7531input()\u65b9\u6cd5\u6765\u6d88\u8d39\n    client.mutex.Unlock()\n\n    // Encode and send the request.\n    client.request.Seq = seq\n    client.request.ServiceMethod = call.ServiceMethod\n    err := client.codec.WriteRequest(&amp;client.request, call.Args)\n    ....\n}\n</code></pre>"},{"location":"cs-life/computer-science/network/framework/#22-server","title":"2.2 server \u6e90\u7801\u7b80\u6613\u5206\u6790","text":"<p>\u7b80\u8ff0</p> <ol> <li>\u6d88\u8d39\u8005\u540chttp\u6846\u67b6\uff0c\u5bf9\u4e8e\u6bcf\u4e2aconn\u90fd\u8fdb\u884c\u5f02\u6b65\u5904\u7406\uff0c\u6bcf\u4e2areq\u53c8\u5355\u72ec\u5f00\u4e86\u534f\u7a0b\u53bb\u5904\u7406\uff0c\u6709\u6548\u63d0\u5347\u670d\u52a1\u7aef\u7684\u541e\u5410\u3002</li> <li>\u91c7\u7528\u4e86\u53cd\u5c04\uff0c\u5c06method\u6302\u9760\u5728\u4e00\u4e2astruct\u5bf9\u8c61\uff08\u5c06struct\u6ce8\u518c\u4e3a\u4e00\u4e2aService\uff09\uff0c\u5e76\u5bf9\u65b9\u6cd5\u5b9e\u73b0\u6709\u7740\u4e25\u683c\u5b9a\u4e49\uff0c\u5fc5\u987b\u7b26\u5408 <code>func (t *structName) Add(args *Args, reply *Reply) error</code></li> </ol> <p>\u770b\u4e0bserver\u5bf9\u8c61\u7684\u5b9a\u4e49</p> <pre><code>// Server represents an RPC Server.\ntype Server struct {\n    serviceMap sync.Map   // map[string]*service  \u5b58\u653eservice\n    reqLock    sync.Mutex // protects freeReq\n    freeReq    *Request\n    respLock   sync.Mutex // protects freeResp\n    freeResp   *Response\n}\n</code></pre> <p>\u9996\u5148Register service</p> <pre><code>// Register publishes the receiver's methods in the DefaultServer.\nfunc Register(rcvr interface{}) error { return DefaultServer.Register(rcvr) }\n\nfunc (server *Server) Register(rcvr interface{}) error {\n    return server.register(rcvr, \"\", false)\n}\n\nfunc (server *Server) register(rcvr interface{}, name string, useName bool) error {\n    s := new(service)\n    s.typ = reflect.TypeOf(rcvr)\n    s.rcvr = reflect.ValueOf(rcvr)\n    sname := reflect.Indirect(s.rcvr).Type().Name() // \u83b7\u53d6struct name\n    if useName {\n        sname = name\n    }\n    ... \n    s.name = sname\n\n    // Install the methods\n    s.method = suitableMethods(s.typ, true) // \u904d\u5386\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684Methods\n    ... \n    if _, dup := server.serviceMap.LoadOrStore(sname, s); dup {\n        return errors.New(\"rpc: service already defined: \" + sname)\n    }\n    return nil\n}\n</code></pre> <p>\u63a5\u7740\u5982\u540c http server \u4e00\u6837\uff0c\u7ed1\u5b9a\u7aef\u53e3\uff0c<code>ListenAndServe</code></p> <pre><code>var l net.Listener\nl, newServerAddr = listenTCP()\nlog.Println(\"NewServer test RPC server listening on\", newServerAddr)\ngo newServer.Accept(l)\n\nfunc listenTCP() (net.Listener, string) {\n    l, e := net.Listen(\"tcp\", \"127.0.0.1:0\") // any available address\n    if e != nil {\n        log.Fatalf(\"net.Listen tcp :0: %v\", e)\n    }\n    return l, l.Addr().String()\n}\n\nfunc (server *Server) Accept(lis net.Listener) {\n    for {\n        conn, err := lis.Accept()\n        if err != nil {\n            log.Print(\"rpc.Serve: accept:\", err.Error())\n            return\n        }\n        go server.ServeConn(conn)\n    }\n}\n\nfunc (server *Server) ServeConn(conn io.ReadWriteCloser) {\n    buf := bufio.NewWriter(conn)\n    srv := &amp;gobServerCodec{\n        rwc:    conn,\n        dec:    gob.NewDecoder(conn),\n        enc:    gob.NewEncoder(buf),\n        encBuf: buf,\n    }\n    // \u4e3b\u8981\u5b9a\u4e49\u597d \u7f16\u7801\n    server.ServeCodec(srv)  \n}\n\nfunc (server *Server) ServeCodec(codec ServerCodec) {\n    sending := new(sync.Mutex)\n    wg := new(sync.WaitGroup)\n    for {\n        // \u6839\u636erequest \u83b7\u53d6 service\uff0cmethod\uff0creq\uff0cargv\uff0creplyv\n        service, mtype, req, argv, replyv, keepReading, err := server.readRequest(codec)\n        ...\n        wg.Add(1)\n        go service.call(server, sending, wg, mtype, req, argv, replyv, codec)\n    }\n    // We've seen that there are no more requests.\n    // Wait for responses to be sent before closing codec.\n    wg.Wait()\n    codec.Close()\n}\n\nfunc (server *Server) readRequest(codec ServerCodec) (service *service, mtype *methodType, req *Request, argv, replyv reflect.Value, keepReading bool, err error) {\n    service, mtype, req, keepReading, err = server.readRequestHeader(codec)\n    if err != nil {\n        ...\n    }\n\n    // Decode the argument value.\n    argIsValue := false // if true, need to indirect before calling.\n    if mtype.ArgType.Kind() == reflect.Ptr {\n        argv = reflect.New(mtype.ArgType.Elem())\n    } else {\n        argv = reflect.New(mtype.ArgType)\n        argIsValue = true\n    }\n    // argv guaranteed to be a pointer now.\n    if err = codec.ReadRequestBody(argv.Interface()); err != nil {\n        return\n    }\n    if argIsValue {\n        argv = argv.Elem()\n    }\n\n    replyv = reflect.New(mtype.ReplyType.Elem())\n\n    switch mtype.ReplyType.Elem().Kind() {\n    case reflect.Map:\n        replyv.Elem().Set(reflect.MakeMap(mtype.ReplyType.Elem()))\n    case reflect.Slice:\n        replyv.Elem().Set(reflect.MakeSlice(mtype.ReplyType.Elem(), 0, 0))\n    }\n    return\n}\n\n// \u6839\u636e\u8bf7\u6c42\u83b7\u53d6 mtype\uff0creq \uff08mtype\u662fmethod\u7684\u53cd\u5c04\u4fe1\u606f\uff09\nfunc (server *Server) readRequestHeader(codec ServerCodec) (svc *service, mtype *methodType, req *Request, keepReading bool, err error) {\n    // Grab the request header.\n    req = server.getRequest()\n    err = codec.ReadRequestHeader(req)\n    ...\n\n    // We read the header successfully. If we see an error now,\n    // we can still recover and move on to the next request.\n    keepReading = true\n\n    // \u8bf7\u6c42\u4f20\u6765\u7684 ServiceMethod \u662f serviceName.MethodName\n    dot := strings.LastIndex(req.ServiceMethod, \".\")\n    ...\n    serviceName := req.ServiceMethod[:dot]\n    methodName := req.ServiceMethod[dot+1:]\n\n    // Look up the request.\n    svci, ok := server.serviceMap.Load(serviceName)\n    ...\n    svc = svci.(*service)\n    mtype = svc.method[methodName]\n    if mtype == nil {\n        err = errors.New(\"rpc: can't find method \" + req.ServiceMethod)\n    }\n    return\n}\n\n// \u6839\u636e\u83b7\u53d6\u7684method\u548creq\uff0c\u53cd\u5c04\u6267\u884c\u65b9\u6cd5\nfunc (s *service) call(server *Server, sending *sync.Mutex, wg *sync.WaitGroup, mtype *methodType, req *Request, argv, replyv reflect.Value, codec ServerCodec) {\n    if wg != nil {\n        defer wg.Done()\n    }\n    mtype.Lock()\n    mtype.numCalls++\n    mtype.Unlock()\n    function := mtype.method.Func\n    // Invoke the method, providing a new value for the reply.\n    returnValues := function.Call([]reflect.Value{s.rcvr, argv, replyv})\n    // The return value for the method is an error.\n    errInter := returnValues[0].Interface()\n    errmsg := \"\"\n    if errInter != nil {\n        errmsg = errInter.(error).Error()\n    }\n    server.sendResponse(sending, req, replyv.Interface(), codec, errmsg)\n    server.freeRequest(req)\n}\n</code></pre>"},{"location":"cs-life/computer-science/network/http/","title":"\u56fe\u89e3http","text":"<p>\u7c97\u7565\u8bfb\u4e86\u4e00\u4e0b &lt;&lt;\u56fe\u89e3http&gt;&gt;\u8fd9\u672c\u4e66  \u6458\u6284\u4e86\u90e8\u5206\u5185\u5bb9</p>"},{"location":"cs-life/computer-science/network/http/#https","title":"https\u7b80\u5355\u6d41\u7a0b","text":"<ol> <li>client\u5148\u8bf7\u6c42server</li> <li>server\u8fd4\u56de\u6570\u5b57\u8bc1\u4e66</li> <li>client\u4f7f\u7528CA\u673a\u6784\u7684\u9881\u53d1\u7684\u516c\u94a5\u5bf9\u6570\u5b57\u8bc1\u4e66\u8fdb\u884c\u89e3\u5bc6\uff0c\u7136\u540e\u901a\u8fc7\u6458\u8981\u7b97\u6cd5\u8ba1\u7b97\u51fa\u7684\u503c\u548c\u6570\u5b57\u7b7e\u540d\u8fdb\u884c\u9a8c\u8bc1\uff0c\u76f8\u7b49\u5219\u901a\u8fc7</li> <li>client\u751f\u6210session_key, \u5e76\u4e14\u7528\u4e0a\u4e00\u6b65\u89e3\u51fa\u6765\u7684\u516c\u94a5\u8fdb\u884c\u52a0\u5bc6\u4f20\u9001\u7ed9server</li> <li>server\u6839\u636e\u79c1\u94a5\u53bb\u89e3 session_key, \u7136\u540e\u5c31\u53ef\u4ee5\u5bf9\u8981\u53d1\u9001\u7684\u5185\u5bb9\u4f7f\u7528session_key\u8fdb\u884c\u52a0\u89e3\u5bc6\u4e86</li> </ol>"},{"location":"cs-life/computer-science/network/http/#_1","title":"\u6570\u5b57\u8bc1\u4e66","text":"<ul> <li>\u6570\u5b57\u8bc1\u4e66\u6211\u7684\u7406\u89e3\u662f\u6709\u56db\u4e2a\u91cd\u8981\u7684\u7ec4\u6210\uff0c\u516c\u94a5\uff0c\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5etc...\u6458\u8981\u7b97\u6cd5\uff0c\u6458\u8981\u503c<ul> <li>\u5ba2\u6237\u7aef\u516c\u94a5\u8fdb\u884c\u89e3\u5bc6\u4e00\u4e2a\u4e1c\u897f\uff0c\u7136\u540e\u5229\u7528\u6458\u8981\u7b97\u6cd5\u8ba1\u7b97\u51fa\u6458\u8981\u503c\u548c\u6570\u5b57\u8bc1\u4e66\u91cc\u9762\u7684\u6458\u8981\u503c\u8fdb\u884c\u6bd4\u5bf9</li> </ul> </li> <li>\u6570\u5b57\u7b7e\u540d\u3001\u6570\u5b57\u8bc1\u4e66\u4e0eHTTPS\u662f\u4ec0\u4e48\u5173\u7cfb</li> </ul>"},{"location":"cs-life/computer-science/network/http/#_2","title":"\u6570\u5b57\u8bc1\u4e66\u548c\u6570\u5b57\u7b7e\u540d\u7684\u533a\u522b","text":"<ul> <li>\u9996\u5148\u8981\u77e5\u9053https\u662f\u4e00\u4e2a\u4e09\u65b9\uff08client, server, CA\u673a\u6784\uff09\u52a0\u89e3\u5bc6\u7684\u8fc7\u7a0b</li> <li>server\u5bf9\u516c\u94a5\u7533\u8bf7\u8bc1\u4e66, \u5148\u5bf9\u516c\u94a5\u8fdb\u884c<code>\u6458\u8981</code>\u7b97\u6cd5(hash\u7b97\u6cd5)\uff0c\u751f\u6210<code>\u6570\u5b57\u7b7e\u540d</code>(\u5982\u679c\u516c\u94a5\u88ab\u7be1\u6539\uff0c\u90a3\u4e48hash\u503c\u4f1a\u53d8)</li> <li>CA\u673a\u6784\u4f7f\u7528\u79c1\u94a5\u5bf9server\u7533\u8bf7\u7684\u516c\u94a5\u548c\u6570\u5b57\u7b7e\u540d\u8fdb\u884c\u52a0\u5bc6\u5373\u751f\u6210<code>\u6570\u5b57\u8bc1\u4e66</code></li> </ul>"},{"location":"cs-life/computer-science/network/http/#http_1","title":"http","text":""},{"location":"cs-life/computer-science/network/http/#http_2","title":"http\u5e38\u7528\u65b9\u6cd5","text":"<p>\u5e38\u7528\u7684http\u65b9\u6cd5\u6709 <code>get</code> <code>post</code> <code>put</code> <code>delete</code> <code>head</code> <code>options</code>  - post \u4f20\u8f93\u5b9e\u4f53(\u53c2\u6570)  - put \u4f20\u8f93\u6587\u4ef6  - options \u83b7\u53d6\u670d\u52a1\u7aef\u63a5\u53d7\u7684\u65b9\u6cd5</p>"},{"location":"cs-life/computer-science/network/http/#http-10","title":"http 1.0","text":"<p>http1.0\u662f\u5efa\u7acb\u4e00\u4e2ahttp\u5c31\u7528\u4e00\u4e2atcp\u8fde\u63a5</p>"},{"location":"cs-life/computer-science/network/http/#http11","title":"http1.1","text":"<ul> <li>\u6301\u4e45\u8fde\u63a5\u7684\u7279\u70b9\u662f\uff0c\u53ea\u8981\u4efb\u610f\u4e00\u7aef\u6ca1\u6709\u660e\u786e\u63d0\u51fa\u65ad\u5f00\u8fde\u63a5\uff0c\u5219\u4fdd\u6301TCP\u8fde\u63a5\u72b6\u6001</li> <li>\u7ba1\u9053\u5316\u6280\u672f\uff0c\u5c31\u662f\u53d1\u9001\u8bf7\u6c42\u4e0d\u7528\u7b49\u54cd\u5e94\u56de\u6765\uff0c\u5c31\u53ef\u4ee5\u7ee7\u7eed\u53d1\u9001\u8bf7\u6c42\uff0c\u5f02\u6b65\u7684\u4f53\u73b0</li> </ul>"},{"location":"cs-life/computer-science/network/http/#_3","title":"\u591a\u90e8\u5206\u5bf9\u8c61\u96c6\u5408","text":"<p>\u6709\u4e24\u79cd\u5f62\u5f0f  - multipart/form-data  - multipart/byteranges \u62a5\u6587\u8d77\u59cb\u662f <code>--filekey</code>  \u7ec8\u6b62\u662f<code>--filekey--</code> \u90e8\u5206\u5185\u5bb9\u8bf7\u6c42\u5934  - Range 0-1000</p>"},{"location":"cs-life/computer-science/network/http/#_4","title":"\u72b6\u6001\u7801","text":"<ul> <li>200  ok</li> <li>201  created</li> <li>204  no content</li> <li>206  partial content</li> <li>301  move permanently\u6c38\u4e45</li> <li>302  found \u4e34\u65f6\uff0c\u4fdd\u5b58\u7684\u4e66\u7b7e\u8fd8\u662f\u6700\u539f\u59cb\u7684</li> <li>303  see other</li> <li>304  not modify </li> <li>400  bad request</li> <li>401  unauthorized \u672a\u8ba4\u8bc1</li> <li>403  forbidden \u8d44\u6e90\u6709\uff0c\u6ca1\u6743\u9650</li> <li>404  not found</li> <li>500  internal server error</li> <li>503  service unavailable</li> </ul>"},{"location":"cs-life/computer-science/network/http/#header","title":"header\u90e8\u5206\u5b57\u6bb5","text":"<p>header\u6709\u56db\u79cd\uff0c\u901a\u7528header\uff0c\u8bf7\u6c42header\uff0c\u54cd\u5e94header\uff0c\u5b9e\u4f53header</p> <p>cache-control</p> <ul> <li>no cache \u5ba2\u6237\u7aef\u4e0d\u8981\u8fc7\u671f\u6570\u636e\uff0c\u4f46\u662f\u4ee3\u7406\u670d\u52a1\u5668\u53ef\u4ee5\u7f13\u5b58\uff0c\u53ea\u662f\u6bcf\u6b21\u8bf7\u6c42\u65f6\u5019\uff0c\u4ee3\u7406\u670d\u52a1\u5668\u53bb\u68c0\u9a8c\u4e00\u4e0b\u81ea\u8eab\u7f13\u5b58\u662f\u5426\u9700\u8981\u66f4\u65b0</li> </ul> <p>connection</p> <ul> <li>\u63a7\u5236\u4e0d\u5728\u8f6c\u53d1\u7ed9\u4ee3\u7406\u7684\u5b57\u6bb5\uff0c\u51cf\u5c11\u4f20\u8f93\u6570\u636e</li> <li>\u7ba1\u7406\u6301\u4e45\u8fde\u63a5</li> </ul> <p>accept</p> <ul> <li>\u5ba2\u6237\u7aef\u80fd\u63a5\u6536\u7684\u6587\u4ef6\u7c7b\u578b</li> </ul> <p>host</p> <p>\u786e\u5b9a\u662f\u4e00\u53f0\u7269\u7406\u673a\u4e2d\u786e\u5b9a\u7684\u90a3\u4e2a\u865a\u62df\u670d\u52a1\u5668</p> <p>if-match</p> <p>\u6bd4\u8f83\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684etag\u503c(\u731c\u6d4b\u662f\u6587\u4ef6\u66f4\u65b0\u9700\u8981\u7528\u5230</p> <p>if-range</p> <p>\u5982\u679c\u6210\u529f\uff0c\u8fd4\u56de\u5206\u7247\uff0c\u4e0d\u6210\u529f\uff0c\u8fd4\u56de\u5168\u90e8\u5185\u5bb9\u3002</p> <p>accept-ranges</p> <p>\u5982\u679cvalue \u4e3abytes\u670d\u52a1\u7aef\u53ef\u4ee5\u63a5\u53d7\u5206\u7247</p> <p>server</p> <p>\u670d\u52a1\u7aef\u4fe1\u606f\u3002</p> <p>location</p> <p>\u8df3\u8f6c\u5230value(url\u66f4\u65b0 \u72b6\u6001\u7801\u4e3a30X redirect</p>"},{"location":"cs-life/computer-science/network/http/#cookie","title":"cookie","text":"<p>\u670d\u52a1\u7aef\u5411\u5ba2\u6237\u7aef\u7684\u54cd\u5e94\u62a5\u6587\u7684\u5934\u90e8\u6709set_cookie\u5b57\u6bb5\uff0c\u5ba2\u6237\u7aef\u62ff\u5230\u540e\uff0c\u5b58\u8d77\u6765\uff0c\u4e0b\u6b21\u53d1\u9001\u7684\u65f6\u5019\uff0c\u5c31\u5e26\u4e0acookie\u5b57\u6bb5</p> <ul> <li>\u670d\u52a1\u7aefset-cookie</li> <li>\u5ba2\u6237\u7aefcookie</li> <li>httponly\u662f\u6307\uff0cjs\u4e0d\u80fd\u53bb\u8bfb\u53d6cookie</li> </ul>"},{"location":"cs-life/computer-science/network/http/#websocket","title":"websocket","text":"<p>\u5168\u53cc\u5de5\uff0c\u670d\u52a1\u7aef\u4e0d\u7528\u7b49\u5ba2\u6237\u7aef\u5c31\u53ef\u4ee5\u63a8\u9001</p>"},{"location":"cs-life/computer-science/network/http/#web","title":"web\u653b\u51fb","text":"<ul> <li>\u8868\u5355\u5904\u672c\u8eab\u662fform\uff0c\u91cc\u9762\u6dfb\u52a0\u4e00\u4e9bjs\uff0c\u5bfc\u81f4action\u5730\u5740\u8f6c\u5411\u653b\u51fb\u8005</li> <li>js\u53bb\u83b7\u53d6cookie\u5e76\u4e14\u53d1\u9001</li> <li>sql\u6ce8\u5165 and 1=1</li> <li>\u8c03\u7528shell\u547d\u4ee4\u53bb\u83b7\u53d6\u4e00\u4e9b\u6743\u9650\u5e76\u4e14\u53d1\u9001</li> <li>header\u6539\u5199</li> <li>\u91cd\u5b9a\u5411</li> </ul>"},{"location":"cs-life/computer-science/network/http/#http-client","title":"http client","text":"<ul> <li>http client</li> </ul>"},{"location":"cs-life/computer-science/network/net-program/","title":"\u9ad8\u6027\u80fd\u7f51\u7edc\u7f16\u7a0b","text":"<ol> <li>accept\u5efa\u7acb\u8fde\u63a5</li> <li>TCP\u6d88\u606f\u7684\u53d1\u9001</li> <li>TCP\u6d88\u606f\u7684\u63a5\u6536</li> <li>TCP\u8fde\u63a5\u7684\u5173\u95ed</li> <li>IO\u590d\u7528\u4e0e\u5e76\u53d1\u7f16\u7a0b</li> <li>reactor\u53cd\u5e94\u5806\u4e0e\u5b9a\u65f6\u5668\u7ba1\u7406</li> <li>tcp\u8fde\u63a5\u7684\u5185\u5b58\u4f7f\u7528</li> </ol>"},{"location":"cs-life/computer-science/network/net-program/#_2","title":"\u5355\u673a\u652f\u6491\u767e\u4e07\u8fde\u63a5\u8bbe\u8ba1","text":"<ul> <li>C1000k Practice Guide</li> </ul>"},{"location":"cs-life/computer-science/network/proxy/","title":"\u6b63/\u53cd\u5411\u4ee3\u7406","text":""},{"location":"cs-life/computer-science/network/proxy/#_1","title":"\u7f51\u7edc\u4ee3\u7406","text":""},{"location":"cs-life/computer-science/network/proxy/#_2","title":"\u6b63\u5411\u4ee3\u7406","text":"<p>\u573a\u666f\uff1a</p> <p>\u5728\u516c\u53f8\u6211\u60f3\u901a\u8fc7\u901a\u8fc7\u8bbf\u95ee\u672c\u57302208\u7aef\u53e3\uff08consul\u66b4\u9732\u7684\u7aef\u53e3\uff09\uff0c\u5c06\u8bf7\u6c42\u6253\u5230\u5f00\u53d1\u673a\u76842208\u7aef\u53e3\uff08consul agent\u5b9e\u9645\u8282\u70b9\uff09\uff0c\u5728<code>\u672c\u5730</code>\u7528\u4e0b\u9762\u7684\u547d\u4ee4</p> <pre><code>alias ssh2dev=\"ssh -f -N -L 2280:127.0.0.1:2280 serverUser@serverIp\"\n</code></pre>"},{"location":"cs-life/computer-science/network/proxy/#_3","title":"\u53cd\u5411\u4ee3\u7406","text":"<p>\u573a\u666f\uff1a</p> <ol> <li>\u516c\u53f8\u5185\u90e8\u6709\u4e00\u53f0\u670d\u52a1\u56681\uff0cip\u5730\u5740\u4e3a: 10.12.10.11\uff0c\u53ea\u6709\u516c\u53f8\u5185\u90e8\u540c\u4e00\u7f51\u6bb5\u7684\u8bbe\u5907\u624d\u80fd\u8bbf\u95ee</li> <li>\u516c\u53f8\u5916\u9762\u6709\u4e00\u53f0\u516c\u7f51ip\u7684\u670d\u52a1\u56682\uff0cip\u5730\u5740\u4e3a: 45.32.127.32\uff0c\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u8bbf\u95ee</li> </ol> <p>\u5047\u5982\u6211\u4eec\u9700\u8981\u516c\u53f8\u5916\u90e8\u7684\u4eba\u4e5f\u80fd\u8bbf\u95ee\u670d\u52a1\u56681\u9700\u8981\u600e\u4e48\u505a\u5462\uff1f\u5728<code>\u5185\u7f51\u670d\u52a1\u5668</code>\u4e0a\u6267\u884c\u5982\u4e0b\u547d\u4ee4</p> <pre><code>ssh -fNR 8000:localhost:80 root@45.32.127.32\n</code></pre> <p>\u8fd9\u6bb5\u547d\u4ee4\u7684\u610f\u601d\u662f\u628a\u5bf9\u670d\u52a1\u56682\u76848000\u7aef\u53e3\u8bf7\u6c42\u8f6c\u53d1\u5230\u670d\u52a1\u56681\u768480\u7aef\u53e3\uff0c\u8fd9\u6837\u6211\u4eec\u8bbf\u95ee http://45.32.127.32:8000 \u5c31\u76f8\u5f53\u4e8e\u8bbf\u95ee http://10.12.10.11:80</p> <p>\u8fd8\u6709\u4e00\u70b9\u975e\u5e38\u91cd\u8981\uff0c\u4f60\u9700\u8981\u572845.32.127.32\u8fd9\u53f0\u670d\u52a1\u5668\u5f00\u542fssh\u4e00\u4e2a\u914d\u7f6e\uff08linux\u7cfb\u7edf\u91cc\u9762\u4e00\u822c\u662f\u5728/etc/ssh/sshd_config\u6587\u4ef6\uff09\uff1a</p> <pre><code>GatewayPorts yes\n</code></pre>"},{"location":"cs-life/computer-science/network/tcp/","title":"TCP","text":"<ul> <li>OSI\u4e03\u5c42\u6a21\u578b<ul> <li>\u7269\u7406\u5c42\uff0c\u4f20\u8f93\u6bd4\u7279\u6d41<code>bit</code></li> <li>\u6570\u636e\u94fe\u8def\u5c42\uff0c\u4f20\u8f93\u5c40\u57df\u7f51\u5185\u7684\u5e27<code>frame</code>\uff0c\u6709\u5dee\u9519\u6821\u9a8c\uff0c\u6d41\u91cf\u63a7\u5236</li> <li>\u8def\u7531\u5c42(ip)\uff0c\u63d0\u4f9b\u7f51\u7edc\u8bbe\u5907\u95f4\u7684\u8def\u7531\u529f\u80fd\uff0c\u6570\u636e\u62a5 <code>Packet</code> or <code>Datagram</code></li> <li>\u4f20\u8f93\u5c42(TCP / UDP)\uff0c\u63d0\u4f9b\u901a\u4fe1\u5b50\u7f51\u548c\u8d44\u6e90\u5b50\u7f51\u7684\u4ea4\u4e92\uff0c\u4f20\u8f93\u6bb5<code>segment</code></li> <li>\u4f1a\u8bdd\u5c42\uff0c\u63d0\u4f9b\u8d44\u6e90\u95f4\u7684\u4f1a\u8bdd\u7ba1\u7406\u548c\u63a7\u5236</li> <li>\u8868\u793a\u5c42\uff0c\u6570\u636e\u683c\u5f0f\u7684\u8f6c\u6362\uff0c\u52a0\u89e3\u5bc6</li> <li>\u5e94\u7528\u5c42\uff0c\u63d0\u4f9b\u8ba1\u7b97\u673a\u8bbf\u95ee\u7f51\u7edc\u7684\u63a5\u53e3\uff0c\u4f9b\u7528\u6237\u4f7f\u7528\uff0c\u6d88\u606f<code>message</code></li> </ul> </li> <li>TCP/IP<ul> <li>TCP\u662f\u4e00\u4e2a\u9762\u5411\u8fde\u63a5\u7684\u3001\u53ef\u9760\u7684\u3001\u57fa\u4e8e\u5b57\u8282\u6d41\u7684\u4f20\u8f93\u5c42\u534f\u8bae\u3002\u800c UDP\u662f\u4e00\u4e2a\u9762\u5411\u65e0\u8fde\u63a5\u7684\u4f20\u8f93\u5c42\u534f\u8bae\u3002</li> </ul> </li> <li>IPV4(4\u4e2a\u5b57\u8282), IPV6(16\u4e2a\u5b57\u8282)</li> <li>\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u8fde\u63a5<ul> <li>\u56db\u5143\u7ec4\uff08\u6e90ip, \u76ee\u7684ip, \u6e90\u7aef\u53e3\uff0c\u76ee\u7684\u7aef\u53e3\uff09</li> </ul> </li> <li>\u5206\u7247\u5927\u5c0f<ul> <li>MTU \u4ee5\u592a\u7f51\u6700\u5927\u652f\u6301\u7684\u5355\u5e27 1500</li> <li>MSS TCP\u652f\u6301\u7684\u5355\u5206\u7ec4 512</li> </ul> </li> </ul>"},{"location":"cs-life/computer-science/network/tcp/#_1","title":"\u4e09\u6b21\u63e1\u624b","text":"<ul> <li>\u4e09\u6b21\u63e1\u624b<ul> <li>\u9996\u5148\uff0cserver\u7aef\u4fdd\u6301<code>LISTEN</code>\u72b6\u6001</li> <li>client\u7aef \u53d1\u9001 SYN, seq=x\u7684\u8bf7\u6c42\u540e\u5904\u4e8e<code>SYN-SEND</code></li> <li>server\u7aef\u63a5\u6536\u5230\uff0c\u56de\u4f20client SYN, ACK\uff0cseq=y, ack=x+1\u7684\u8bf7\u6c42\u540e\u7531<code>LISTEN</code>\u5904\u4e8e<code>SYN-RECEIVED</code></li> <li>client\u7aef\u6536\u5230\u540e\uff0c\u56de\u4f20ACK,seq=x+1,ack=y+1\u8bf7\u6c42\u540e\u8fdb\u5165<code>ESTABLISHED</code></li> <li>server\u7aef\u63a5\u6536\u5230\uff0c\u4e5f\u8fdb\u5165<code>ESTABLISHED</code></li> </ul> </li> <li>\u4e3a\u4ec0\u4e48\u4e0d\u53ef\u4ee5\u662f\u4e24\u6b21\u63e1\u624b<ul> <li>\u6839\u672c\u539f\u56e0: \u65e0\u6cd5\u786e\u8ba4\u5ba2\u6237\u7aef\u7684\u63a5\u6536\u80fd\u529b\u3002</li> <li>\u9632\u6b62\u4e4b\u524d\u5bfc\u81f4\u4e22\u7684\u94fe\u63a5\u5efa\u7acb\u7684\u62a5\u6587\uff0c\u5728client\u4e0eserver\u5df2\u7ecf\u5173\u95ed\u7684\u60c5\u51b5\u4e0b\uff0c\u53c8\u5efa\u7acb\u4e86\u94fe\u63a5\uff0c\u9020\u6210\u8d44\u6e90\u6d6a\u8d39</li> </ul> </li> <li>\u4e3a\u4ec0\u4e48\u4e0d\u53ef\u4ee5\u662f\u56db\u6b21\u63e1\u624b<ul> <li>\u4e09\u6b21\u63e1\u624b\u7684\u76ee\u7684\u662f\u786e\u8ba4\u53cc\u65b9 \u53d1\u9001\u548c \u63a5\u6536\u7684\u80fd\u529b\uff0c\u90a3\u56db\u6b21\u63e1\u624b\u53ef\u4ee5\u561b\uff1f\u5f53\u7136\u53ef\u4ee5\uff0c100 \u6b21\u90fd\u53ef\u4ee5\u3002\u4f46\u4e3a\u4e86\u89e3\u51b3\u95ee\u9898\uff0c\u4e09\u6b21\u5c31\u8db3\u591f\u4e86\uff0c\u518d\u591a\u7528\u5904\u5c31\u4e0d\u5927\u4e86\u3002</li> </ul> </li> <li>\u5982\u4f55\u5e94\u5bf9 SYN Flood \u653b\u51fb<ul> <li>\u589e\u52a0 SYN \u8fde\u63a5\uff0c\u4e5f\u5c31\u662f\u589e\u52a0\u534a\u8fde\u63a5\u961f\u5217\u7684\u5bb9\u91cf\u3002</li> <li>\u51cf\u5c11 SYN + ACK \u91cd\u8bd5\u6b21\u6570\uff0c\u907f\u514d\u5927\u91cf\u7684\u8d85\u65f6\u91cd\u53d1\u3002</li> <li>\u5229\u7528 SYN Cookie \u6280\u672f\uff0c\u5728\u670d\u52a1\u7aef\u63a5\u6536\u5230 SYN\u540e\u4e0d\u7acb\u5373\u5206\u914d\u8fde\u63a5\u8d44\u6e90\uff0c\u800c\u662f\u6839\u636e\u8fd9\u4e2a SYN\u8ba1\u7b97\u51fa\u4e00\u4e2aCookie\uff0c\u8fde\u540c\u7b2c\u4e8c\u6b21\u63e1\u624b\u56de\u590d\u7ed9\u5ba2\u6237\u7aef\uff0c\u5728\u5ba2\u6237\u7aef\u56de\u590d ACK\u7684\u65f6\u5019\u5e26\u4e0a\u8fd9\u4e2a Cookie\u503c\uff0c\u670d\u52a1\u7aef\u9a8c\u8bc1 Cookie \u5408\u6cd5\u4e4b\u540e\u624d\u5206\u914d\u8fde\u63a5\u8d44\u6e90\u3002</li> </ul> </li> </ul>"},{"location":"cs-life/computer-science/network/tcp/#_2","title":"\u56db\u6b21\u6325\u624b","text":"<ul> <li>\u56db\u6b21\u6325\u624b<ul> <li>\u9996\u5148\uff0cclient\u548cserver\u90fd\u662f<code>EATABLISHED</code> (\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u79f0\u4e3b\u52a8\u5173\u95ed\u7684\u4e00\u65b9\u53ebclient)</li> <li>client \u53d1\u9001 FIN, client \u8fdb\u5165<code>FIN-WAIT1</code></li> <li>server \u6536\u5230\u540e\uff0c\u53d1\u9001 ACK, server\u8fdb\u5165<code>CLOSE_WAIT</code> </li> <li>client \u6536\u5230\u540e, \u8fdb\u5165<code>FIN-WAIT2</code></li> <li>server\u5904\u7406\u5b8c\u5269\u4f59\u7684\u6570\u636e\u540e\uff0c\u53d1\u9001 FIN \u548c ACK\uff0c\u8fdb\u5165<code>LAST-ACk</code></li> <li>client\u6536\u5230\u540e\uff0c\u53d1\u9001ACK\uff0c\u8fdb\u5165<code>TIME_WAIT</code>\uff0c\u8fc72MSL\u8fdb\u5165<code>CLOSED</code></li> <li>server\u6536\u5230\u540e\uff0c\u4e5f\u8fdb\u5165<code>CLOSED</code></li> </ul> </li> <li>\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u4e09\u6b21\u6325\u624b<ul> <li>\u662f\u53ef\u4ee5\u5b58\u5728\u4e09\u6b21\u6325\u624b\u7684\u60c5\u51b5\u7684\uff08\u5373\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u540c\u65f6\u53d1\u6765\u4e86fin, \u7531fin-wait1\u8f6c\u6362\u5230closing\u72b6\u6001\uff09</li> <li>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e09\u6b21\u6325\u624b\uff0c\u4f1a\u4f7f\u5f97\u5ba2\u6237\u7aef\u8fd9\u91cc\u7684socket\u53ef\u80fd\u5b58\u5728\u6ca1\u6709\u5b89\u5168\u91ca\u653e\u7684\u60c5\u51b5<ul> <li>\u5982\u679c\u7b2c\u4e09\u6b21\u6325\u624b\u4e22\u5305\u4e86\uff0c\u670d\u52a1\u7aef\u5df2\u7ecf\u5173\u95ed\u4e86socket\uff0c\u4f46\u662f\u5ba2\u6237\u7aef\u7684socket\u5176\u5b9e\u8fd8\u6ca1\u6709\u5173</li> </ul> </li> </ul> </li> <li>\u5927\u91cf CLOSE_WAIT \u72b6\u6001\u5206\u6790<ul> <li>\u5927\u6982\u7387\u662f\u670d\u52a1\u7aef\u5904\u7406\u8f83\u6162\uff0c\u8d44\u6e90\u8fdf\u8fdf\u91ca\u653e\u4e0d\u6389</li> <li>\u5982\u679c\u670d\u52a1\u7aef\u5728\u5904\u7406\u8fc7\u7a0b\u4e2d\uff0c\u8017\u65f6\u8f83\u957f\uff0c\uff08\u8fdb\u5165\u6b7b\u5faa\u73af\u3001\u7b49\u9501\u3001\u4e0b\u6e38\u670d\u52a1\u54cd\u5e94\u6162\u7b49\uff09\uff0c\u5047\u8bbe20s\u624d\u8fd4\u56de\uff0c\u4f46\u662f\u5ba2\u6237\u7aef\u660e\u663e\u4e0d\u53ef\u80fd\u7b49\u90a3\u4e48\u4e45\uff0c\u4e00\u822c5-10s\u5c31\u8d85\u65f6\u4e86\u3002\u8d85\u65f6\u4e86\uff0c\u5ba2\u6237\u7aef\u53d1\u8d77fin\uff0c\u670d\u52a1\u5668\u56deack\uff0c\u6b64\u65f6\u670d\u52a1\u5668\u7aef\u5e94\u8be5\u5c31\u662fclose_wait\u3002</li> </ul> </li> <li>\u5927\u91cf TIME_WAIT \u72b6\u6001\u5206\u6790<ul> <li>\u5ba2\u6237\u7aef\u5efa\u7acb\u94fe\u63a5\u8f83\u591a, \u77ed\u8fde\u63a5 -&gt; \u957f\u8fde\u63a5</li> </ul> </li> <li>\u4e3a\u4ec0\u4e48\u89812MSL(<code>Maximum Segment Lifetime</code>\uff0c\u62a5\u6587\u6700\u5927\u751f\u5b58\u65f6\u95f4)<ul> <li>1 \u4e2a MSL \u786e\u4fdd\u56db\u6b21\u6325\u624b\u4e2d\u4e3b\u52a8\u5173\u95ed\u65b9\u6700\u540e\u7684 ACK \u62a5\u6587\u6700\u7ec8\u80fd\u8fbe\u5230\u5bf9\u7aef</li> <li>1 \u4e2a MSL \u786e\u4fdd\u5bf9\u7aef\u6ca1\u6709\u6536\u5230 ACK \u91cd\u4f20\u7684 FIN \u62a5\u6587\u53ef\u4ee5\u5230\u8fbe</li> </ul> </li> </ul>"},{"location":"cs-life/computer-science/network/tcp/#_3","title":"\u53ef\u9760\u6027\u4fdd\u8bc1","text":"<p>TCP\u4fdd\u8bc1\u6d88\u606f\u4e0d\u91cd\u590d\uff0c\u4e0d\u4e22\u5931\uff0c\u4e0d\u4e71\u5e8f\uff0c\u5e76\u4e14\u6309\u5e8f\u5230\u8fbe</p> <ul> <li>\u4fdd\u8bc1\u53ef\u9760\u6027<ul> <li>\u5e8f\u5217\u53f7\u548c\u786e\u8ba4\u5e94\u7b54\u4fe1\u53f7</li> <li>\u8d85\u65f6\u91cd\u53d1\u63a7\u5236</li> <li>\u8fde\u63a5\u7ba1\u7406</li> <li>\u6ed1\u52a8\u7a97\u53e3\u63a7\u5236</li> <li>\u6d41\u91cf\u63a7\u5236</li> <li>\u62e5\u585e\u63a7\u5236</li> </ul> </li> <li>TCP \u7684\u6d41\u91cf\u63a7\u5236<ul> <li>\u4e3b\u8981\u7684\u65b9\u5f0f\u5c31\u662f\u63a5\u6536\u65b9\u8fd4\u56de\u7684 ACK \u4e2d\u4f1a\u5305\u542b\u81ea\u5df1\u7684\u63a5\u6536\u7a97\u53e3\u7684\u5927\u5c0f\uff0c\u5e76\u4e14\u5229\u7528\u5927\u5c0f\u6765\u63a7\u5236\u53d1\u9001\u65b9\u7684\u6570\u636e\u53d1\u9001\u3002</li> </ul> </li> <li>TCP \u7684\u62e5\u585e\u63a7\u5236<ul> <li>\u6162\u542f\u52a8<ul> <li>\u5230\u9608\u503c\u524d\uff0c\u4ece1\u5230\u9608\u503c\uff0c\u7ffb\u500d\u4e0a\u5347</li> </ul> </li> <li>\u62e5\u585e\u907f\u514d<ul> <li>\u5230\u8fbe\u9608\u503c\u540e\uff0c\u6bcf\u6b21\u52a01</li> </ul> </li> <li>\u5feb\u901f\u91cd\u4f20<ul> <li>\u5f53\u6536\u5230\u91cd\u590d\u7684ACK\u4e09\u6b21\uff0c\u7acb\u9a6c\u91cd\u4f20\u6570\u636e</li> </ul> </li> <li>\u5feb\u6062\u590d</li> <li>Nagle\u7b97\u6cd5<ul> <li>\u6700\u591a\u53ea\u6709\u4e00\u4e2a\u5c0f\u62a5\u6587\u7684\u5305\u5728\u53d1\u9001</li> </ul> </li> </ul> </li> </ul>"},{"location":"cs-life/computer-science/network/tcp/#_4","title":"\u7c98\u5305\u548c\u62c6\u5305","text":"<p>csv\u53d8\u91cf\u7684\u5904\u7406\u672c\u8d28\u4e0a\u4e5f\u662f\u4e00\u4e2a\u62c6\u5305\u7684\u5904\u7406</p> <p>\u5982\u4f55\u89e3\u51b3\u7c98\u5305\uff0c\u901a\u5e38\u6765\u8bf4\uff0c\u4e00\u822c\u6709\u4e0b\u9762\u51e0\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li>\u6d88\u606f\u957f\u5ea6\u56fa\u5b9a\uff0c\u63d0\u524d\u786e\u5b9a\u5305\u957f\u5ea6\uff0c\u8bfb\u53d6\u7684\u65f6\u5019\u4e5f\u5b89\u56fa\u5b9a\u957f\u5ea6\u8bfb\u53d6\uff0c\u9002\u5408\u5b9a\u957f\u6d88\u606f\u5305\u3002</li> <li>\u4f7f\u7528\u7279\u6b8a\u7684\u5b57\u7b26\u6216\u5b57\u7b26\u4e32\u4f5c\u4e3a\u6d88\u606f\u7684\u8fb9\u754c\uff0c\u4f8b\u5982 HTTP \u534f\u8bae\u7684 headers \u4ee5\u201c\\r\\n\u201d\u4e3a\u5b57\u6bb5\u7684\u5206\u9694\u7b26</li> <li>\u81ea\u5b9a\u4e49\u534f\u8bae\uff0c\u5c06\u6d88\u606f\u5206\u4e3a\u6d88\u606f\u5934\u548c\u6d88\u606f\u4f53\uff0c\u6d88\u606f\u5934\u4e2d\u5305\u542b\u8868\u793a\u6d88\u606f\u603b\u957f\u5ea6</li> </ol>"},{"location":"cs-life/computer-science/os/linux_cmd/","title":"Linux\u57fa\u7840\u4f7f\u7528","text":""},{"location":"cs-life/computer-science/os/linux_cmd/#_1","title":"\u6587\u4ef6\u53ca\u76ee\u5f55\u7ba1\u7406","text":"<ul> <li>\u76ee\u5f55/\u6587\u4ef6 \u7684\u521b\u5efa\u3001\u5220\u9664\u3001\u67e5\u8be2<ul> <li>mkdir, rm, cp, mv, <code>ln -s</code>\u8f6f\u8fde\u63a5, ln\u786c\u8fde\u63a5</li> </ul> </li> <li>\u6587\u4ef6\u7684\u67e5\u8be2\u548c\u68c0\u7d22<ul> <li>find, locate</li> </ul> </li> <li>\u67e5\u770b\u6587\u4ef6\u5185\u5bb9<ul> <li>cat, vi, tail, more</li> </ul> </li> <li>\u5c06\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\u91cd\u5b9a\u5411\u5230\u540c\u4e00\u6587\u4ef6<ul> <li>2&gt;&amp;1</li> </ul> </li> <li>\u627e\u4e00\u4e2a\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u7684java\u6587\u4ef6 <ul> <li><code>find . -maxdepth 2 -name \"*.java\"</code></li> </ul> </li> <li>\u5c06docker log \u8ffd\u52a0\u5230\u6587\u4ef6\u4e2d <ul> <li><code>docker logs ${containerId} | less | tee -a service.log</code></li> </ul> </li> <li>\u8f6f\u8fde\u63a5\u76ee\u5f55\u65f6\uff0c\u9700\u8981\u6307\u5b9a\u6e90\u76ee\u5f55\u4e3a\u7edd\u5bf9\u8def\u5f84 <code>ln -s {sourceAbsolutePath} {destPath}</code></li> </ul>"},{"location":"cs-life/computer-science/os/linux_cmd/#_2","title":"\u5de5\u4f5c\u76f8\u5173","text":"<ul> <li>echo <ul> <li>echo \"xxx\" \u4f1a\u5e26\u4e0a\u56de\u8f66</li> <li>echo -n \"xxx\" \u4e0d\u4f1a\u5e26\u56de\u8f66</li> </ul> </li> <li>tee<ul> <li>tee -a xxx.log \uff08append\u6587\u4ef6\u5c3e\u90e8\uff09</li> </ul> </li> <li>watch <ul> <li>\u89c2\u5bdf\u547d\u4ee4\u6267\u884c\u7ed3\u679c\u7684\u53d8\u5316</li> </ul> </li> <li>time xxxx <ul> <li>\u547d\u4ee4xxx\u7684\u8017\u65f6</li> </ul> </li> <li>grep <ul> <li>-i \u662f ignore case</li> <li>-A after</li> <li>-B before</li> <li>grep -Eo 'inspect_sub_type\":[0-9]{1,2}' \u9001\u5ba1\u6570\u636e.txt</li> </ul> </li> <li>date<ul> <li>date \"+%Y%m%d-%H%M%S\"</li> </ul> </li> <li>cut<ul> <li>echo -n \"122\" | md5sum | cut -d \" \" -f1</li> </ul> </li> <li>tr<ul> <li>echo -n \"12 2\" | tr ' ' ':'</li> </ul> </li> <li>export &amp; source<ul> <li>\u53d8\u91cf\u5c11\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u663e\u793a\u5f97export\u58f0\u660e\u73af\u5883\u53d8\u91cf\uff0c\u4e0d\u8fc7\u5b83\u751f\u6548\u4ec5\u9650\u4e8e\u5f53\u524d\u7684shell </li> <li>\u53d8\u91cf\u591a\u7684\u60c5\u51b5\u4e0b \u53ef\u4ee5\u5199\u5230\u4e00\u4e2a\u6587\u4ef6\u91cc\u9762\uff0c\u7136\u540esource</li> </ul> </li> <li>set<ul> <li>set -x \uff08\u7528\u4e8e shell debug\uff09</li> </ul> </li> <li>envsubst <pre><code>linux:~/test$ cat temp\necho $var\nlinux:~/test$ export var=draymonder\nlinux:~/test$ envsubst &lt; temp &gt; temp_var\nlinux:~/test$ cat temp_var\necho draymonder\n</code></pre></li> <li>ethtool</li> <li>df <ul> <li>df -h</li> </ul> </li> <li>lsof<ul> <li>sudo lsof -i:3306</li> </ul> </li> <li>Linux \u7a0b\u5e8f\u540e\u53f0\u8fd0\u884c\u7684\u65b9\u6cd5<ul> <li>set pid, nohup, &amp;</li> </ul> </li> <li>\u6570\u636e\u540c\u6b65<ul> <li>rsync -av --delete ./ dev:/home/zhangyubing.amor/go/src/github.com/draymonders/gmem</li> </ul> </li> <li>\u547d\u4ee4\u63d0\u793a<ul> <li>tldr </li> </ul> </li> </ul>"},{"location":"cs-life/computer-science/os/linux_cmd/#_3","title":"\u573a\u666f","text":"<ul> <li>\u83b7\u53d6\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u4e0d\u540c\u7684\u6587\u4ef6\u540e\u7f00<ul> <li>ls | cut -d'.' -f2 | sort | uniq</li> </ul> </li> <li>Docker\u76f8\u5173<ul> <li>docker images | grep none | awk '{ print $3 }' | xargs -r docker rmi</li> <li>docker ps -a | awk '{ print $1 }' | grep -v \"CONTAINER\" | xargs -r docker rm -f </li> </ul> </li> <li>\u505c\u6b62\u67d0\u4e2a\u5e94\u7528\u7a0b\u5e8f<ul> <li>ps -aux | grep python3 | awk '{ print $2 }' | xargs kill -9</li> </ul> </li> <li>\u67e5\u770bcpu\u4fe1\u606f<ul> <li>cat /proc/cpuinfo | grep name | cut -d: -f 2 | uniq -c  </li> </ul> </li> <li>\u5b9a\u65f6\u67e5\u770b\u65e5\u5fd7<ul> <li>watch \"grep '\u5185\u5bb9' xxx.log\"</li> </ul> </li> </ul>"},{"location":"cs-life/computer-science/os/linux_cmd/#_4","title":"\u6587\u672c\u5904\u7406","text":"<ul> <li>\u67e5\u8be2socket\u72b6\u6001 <ul> <li><code>sudo netstat -autpn | awk '/^tcp/ { ++S[$6] } END { for(a in S) print a,S[a] }'</code></li> </ul> </li> <li>\u53d6linux\u6587\u4ef6\u7b2c4\u884c\uff0c\u6709\u7528\\t\u5206\u5272\u7684\u82e5\u5e72\u4e2aip\u5730\u5740\u3002\u7edf\u8ba1\u51fa\u6765\u51fa\u73b0\u6b21\u6570\u6700\u591a\u7684\u524d\u56db\u4e2a\u3002<ul> <li>\u83b7\u53d6ip\u5730\u5740\u6709\u4e24\u79cd\u601d\u8def<ul> <li><code>cat test | head -4 | tail -1 | xargs -d'\\t' -r -i echo {}</code></li> <li><code>sed -n 4p test | sed \"s#\\t#\\n#g\"</code> (\u63a8\u8350)</li> </ul> </li> <li>\u6392\u5e8f\u83b7\u53d6topK<ul> <li><code>sort -n | uniq -c | sort -r -n -k1 | head -4</code></li> </ul> </li> </ul> </li> <li>\u5f62\u5982\u201ca=xx||b=yy||c=zz\u201d\u7684log\uff0c\u6c42b&gt;5\u7684\u884c<ul> <li><code>sed 's/||/\\ /g' temp1.log | awk '{ split($2,a,\"=\"); if (a[2]&gt;5) print $0 }'</code></li> </ul> </li> </ul>"},{"location":"cs-life/computer-science/os/linux_cmd/#_5","title":"\u622a\u5c4f","text":"<ul> <li>Linux \u622a\u56fe\u5feb\u6377\u952e<ul> <li><code>ctrl shift PrtSc</code></li> </ul> </li> </ul>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/","title":"\u57fa\u4e8eVSCode\u548cCMake\u8fdb\u884cC/C++\u5f00\u53d1","text":""},{"location":"cs-life/computer-science/os/linux_cpp_develop/#_1","title":"\u5f00\u53d1\u73af\u5883\u642d\u5efa","text":""},{"location":"cs-life/computer-science/os/linux_cpp_develop/#_2","title":"\u7f16\u8bd1\u5668\uff0c\u8c03\u8bd5\u5668\u5b89\u88c5","text":"<ul> <li>\u5b89\u88c5GCC\uff0cGDB</li> </ul> <pre><code>sudo apt update\n# \u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\u7f16\u8bd1\u5668\u548c\u8c03\u8bd5\u5668\nsudo apt install build-essential gdb\n</code></pre> <ul> <li>\u5b89\u88c5\u6210\u529f\u786e\u8ba4</li> </ul> <pre><code># \u4ee5\u4e0b\u547d\u4ee4\u786e\u8ba4\u6bcf\u4e2a\u8f6f\u4ef6\u662f\u5426\u5b89\u88c5\u6210\u529f\n# \u5982\u679c\u6210\u529f\uff0c\u5219\u663e\u793a\u7248\u672c\u53f7\ngcc --version\ng++ --version\ngdb --version\n</code></pre>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/#cmake","title":"CMake\u5b89\u88c5","text":"<p>\u5b89\u88c5cmake</p> <pre><code># \u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\u7f16\u8bd1\u5668\u548c\u8c03\u8bd5\u5668\nsudo apt install cmake\n</code></pre> <p>\u5b89\u88c5\u6210\u529f\u786e\u8ba4</p> <pre><code># \u786e\u8ba4\u662f\u5426\u5b89\u88c5\u6210\u529f\n# \u5982\u679c\u6210\u529f\uff0c\u5219\u663e\u793a\u7248\u672c\u53f7\ncmake --version\n</code></pre>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/#gcc","title":"GCC\u7f16\u8bd1\u5668","text":""},{"location":"cs-life/computer-science/os/linux_cpp_develop/#_3","title":"\u7f16\u8bd1\u8fc7\u7a0b","text":"<ul> <li> <p>\u9884\u5904\u7406-Pre-Processing               //.i\u6587\u4ef6 <pre><code># -E \u9009\u9879\u6307\u793a\u7f16\u8bd1\u5668\u4ec5\u5bf9\u8f93\u5165\u6587\u4ef6\u8fdb\u884c\u9884\u5904\u7406(\u5bf9#include, #define\u505a\u6587\u672c\u66ff\u6362)\ng++  -E  test.cpp  -o  test.i    //.i\u6587\u4ef6\n</code></pre></p> </li> <li> <p>\u7f16\u8bd1-Compiling                        // .s\u6587\u4ef6 <pre><code># -S \u7f16\u8bd1\u9009\u9879\u544a\u8bc9 g++ \u5728\u4e3a C++ \u4ee3\u7801\u4ea7\u751f\u4e86\u6c47\u7f16\u8bed\u8a00\u6587\u4ef6\u540e\u505c\u6b62\u7f16\u8bd1\n#  g++ \u4ea7\u751f\u7684\u6c47\u7f16\u8bed\u8a00\u6587\u4ef6\u7684\u7f3a\u7701\u6269\u5c55\u540d\u662f .s \ng++  -S  test.i  -o   test.s\n</code></pre></p> </li> <li> <p>\u6c47\u7f16-Assembling                   // .o\u6587\u4ef6 <pre><code># -c \u9009\u9879\u544a\u8bc9 g++ \u4ec5\u628a\u6e90\u4ee3\u7801\u7f16\u8bd1\u4e3a\u673a\u5668\u8bed\u8a00\u7684\u76ee\u6807\u4ee3\u7801\n# \u7f3a\u7701\u65f6 g++ \u5efa\u7acb\u7684\u76ee\u6807\u4ee3\u7801\u6587\u4ef6\u6709\u4e00\u4e2a .o \u7684\u6269\u5c55\u540d\u3002\ng++  -c  test.s  -o  test.o\n</code></pre></p> </li> <li> <p>\u94fe\u63a5-Linking                       // bin\u6587\u4ef6 <pre><code># -o \u7f16\u8bd1\u9009\u9879\u6765\u4e3a\u5c06\u4ea7\u751f\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7528\u6307\u5b9a\u7684\u6587\u4ef6\u540d\ng++  test.o  -o  test\n</code></pre></p> </li> </ul>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/#_4","title":"\u91cd\u8981\u7f16\u8bd1\u53c2\u6570","text":"<ul> <li> <p>-g\u7f16\u8bd1\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u53ef\u6267\u884c\u6587\u4ef6 <pre><code># -g \u9009\u9879\u544a\u8bc9 GCC \u4ea7\u751f\u80fd\u88ab GNU \u8c03\u8bd5\u5668GDB\u4f7f\u7528\u7684\u8c03\u8bd5\u4fe1\u606f\uff0c\u4ee5\u8c03\u8bd5\u7a0b\u5e8f\u3002\n\n# \u4ea7\u751f\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u53ef\u6267\u884c\u6587\u4ef6test\ng++ -g test.cpp\n</code></pre></p> </li> <li> <p>O[n]    \u4f18\u5316\u6e90\u4ee3\u7801 <pre><code>## \u6240\u8c13\u4f18\u5316\uff0c\u4f8b\u5982\u7701\u7565\u6389\u4ee3\u7801\u4e2d\u4ece\u672a\u4f7f\u7528\u8fc7\u7684\u53d8\u91cf\u3001\u76f4\u63a5\u5c06\u5e38\u91cf\u8868\u8fbe\u5f0f\u7528\u7ed3\u679c\u503c\u4ee3\u66ff\u7b49\u7b49\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u4f1a\u7f29\u51cf\u76ee\u6807\u6587\u4ef6\u6240\u5305\u542b\u7684\u4ee3\u7801\u91cf\uff0c\u63d0\u9ad8\u6700\u7ec8\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u8fd0\u884c\u6548\u7387\u3002\n\n# -O \u9009\u9879\u544a\u8bc9 g++ \u5bf9\u6e90\u4ee3\u7801\u8fdb\u884c\u57fa\u672c\u4f18\u5316\u3002\u8fd9\u4e9b\u4f18\u5316\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u90fd\u4f1a\u4f7f\u7a0b\u5e8f\u6267\u884c\u7684\u66f4\u5feb\u3002 -O2 \u9009\u9879\u544a\u8bc9 g++ \u4ea7\u751f\u5c3d\u53ef\u80fd\u5c0f\u548c\u5c3d\u53ef\u80fd\u5feb\u7684\u4ee3\u7801\u3002 \u5982-O2\uff0c-O3\uff0c-On\uff08n \u5e38\u4e3a0\u20133\uff09\n# -O \u540c\u65f6\u51cf\u5c0f\u4ee3\u7801\u7684\u957f\u5ea6\u548c\u6267\u884c\u65f6\u95f4\uff0c\u5176\u6548\u679c\u7b49\u4ef7\u4e8e-O1\n# -O0 \u8868\u793a\u4e0d\u505a\u4f18\u5316\n# -O1 \u4e3a\u9ed8\u8ba4\u4f18\u5316\n# -O2 \u9664\u4e86\u5b8c\u6210-O1\u7684\u4f18\u5316\u4e4b\u5916\uff0c\u8fd8\u8fdb\u884c\u4e00\u4e9b\u989d\u5916\u7684\u8c03\u6574\u5de5\u4f5c\uff0c\u5982\u6307\u4ee4\u8c03\u6574\u7b49\u3002\n# -O3 \u5219\u5305\u62ec\u5faa\u73af\u5c55\u5f00\u548c\u5176\u4ed6\u4e00\u4e9b\u4e0e\u5904\u7406\u7279\u6027\u76f8\u5173\u7684\u4f18\u5316\u5de5\u4f5c\u3002\n# \u9009\u9879\u5c06\u4f7f\u7f16\u8bd1\u7684\u901f\u5ea6\u6bd4\u4f7f\u7528 -O \u65f6\u6162\uff0c \u4f46\u901a\u5e38\u4ea7\u751f\u7684\u4ee3\u7801\u6267\u884c\u901f\u5ea6\u4f1a\u66f4\u5feb\u3002\n\n# \u4f7f\u7528 -O2\u4f18\u5316\u6e90\u4ee3\u7801\uff0c\u5e76\u8f93\u51fa\u53ef\u6267\u884c\u6587\u4ef6\ng++ -O2 test.cpp\n</code></pre></p> </li> <li> <p>l  \u548c  -L     \u6307\u5b9a\u5e93\u6587\u4ef6  |  \u6307\u5b9a\u5e93\u6587\u4ef6\u8def\u5f84 <pre><code># -l\u53c2\u6570(\u5c0f\u5199)\u5c31\u662f\u7528\u6765\u6307\u5b9a\u7a0b\u5e8f\u8981\u94fe\u63a5\u7684\u5e93\uff0c-l\u53c2\u6570\u7d27\u63a5\u7740\u5c31\u662f\u5e93\u540d\n# \u5728/lib\u548c/usr/lib\u548c/usr/local/lib\u91cc\u7684\u5e93\u76f4\u63a5\u7528-l\u53c2\u6570\u5c31\u80fd\u94fe\u63a5\n\n# \u94fe\u63a5glog\u5e93\ng++ -lglog test.cpp\n\n# \u5982\u679c\u5e93\u6587\u4ef6\u6ca1\u653e\u5728\u4e0a\u9762\u4e09\u4e2a\u76ee\u5f55\u91cc\uff0c\u9700\u8981\u4f7f\u7528-L\u53c2\u6570(\u5927\u5199)\u6307\u5b9a\u5e93\u6587\u4ef6\u6240\u5728\u76ee\u5f55\n# -L\u53c2\u6570\u8ddf\u7740\u7684\u662f\u5e93\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u540d\n\n# \u94fe\u63a5mytest\u5e93\uff0clibmytest.so\u5728/home/draymonder/mytestlibfolder\u76ee\u5f55\u4e0b\ng++ -L/home/draymonder/mytestlibfolder -lmytest test.cpp\n</code></pre></p> </li> <li> <p>-I    \u6307\u5b9a\u5934\u6587\u4ef6\u641c\u7d22\u76ee\u5f55</p> </li> </ul> <pre><code># -I \n# /usr/include\u76ee\u5f55\u4e00\u822c\u662f\u4e0d\u7528\u6307\u5b9a\u7684\uff0cgcc\u77e5\u9053\u53bb\u90a3\u91cc\u627e\uff0c\u4f46 \u662f\u5982\u679c\u5934\u6587\u4ef6\u4e0d\u5728/usr/icnclude\u91cc\u6211\u4eec\u5c31\u8981\u7528-I\u53c2\u6570\u6307\u5b9a\u4e86\uff0c\u6bd4\u5982\u5934\u6587\u4ef6\u653e\u5728/myinclude\u76ee\u5f55\u91cc\uff0c\u90a3\u7f16\u8bd1\u547d\u4ee4\u884c\u5c31\u8981\u52a0\u4e0a-I/myinclude \u53c2\u6570\u4e86\uff0c\u5982\u679c\u4e0d\u52a0\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a\u201dxxxx.h: No such file or directory\u201d\u7684\u9519\u8bef\u3002-I\u53c2\u6570\u53ef\u4ee5\u7528\u76f8\u5bf9\u8def\u5f84\uff0c\u6bd4\u5982\u5934\u6587\u4ef6\u5728\u5f53\u524d \u76ee\u5f55\uff0c\u53ef\u4ee5\u7528-I.\u6765\u6307\u5b9a\u3002\u4e0a\u9762\u6211\u4eec\u63d0\u5230\u7684\u2013cflags\u53c2\u6570\u5c31\u662f\u7528\u6765\u751f\u6210-I\u53c2\u6570\u7684\u3002\n\ng++ -I/myinclude test.cpp\n</code></pre> <ul> <li> <p>-Wall    \u6253\u5370\u8b66\u544a\u4fe1\u606f <pre><code># \u6253\u5370\u51fagcc\u63d0\u4f9b\u7684\u8b66\u544a\u4fe1\u606f\ng++ -Wall test.cpp\n</code></pre></p> </li> <li> <p>-w    \u5173\u95ed\u8b66\u544a\u4fe1\u606f <pre><code># \u5173\u95ed\u6240\u6709\u8b66\u544a\u4fe1\u606f\ng++ -w test.cpp\n</code></pre></p> </li> <li> <p>-std=c++11    \u8bbe\u7f6e\u7f16\u8bd1\u6807\u51c6 <pre><code># \u4f7f\u7528 c++11 \u6807\u51c6\u7f16\u8bd1 test.cpp\ng++ -std=c++11 test.cpp\n</code></pre></p> </li> <li> <p>-o     \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d <pre><code># \u6307\u5b9a\u5373\u5c06\u4ea7\u751f\u7684\u6587\u4ef6\u540d\n\n# \u6307\u5b9a\u8f93\u51fa\u53ef\u6267\u884c\u6587\u4ef6\u540d\u4e3atest\ng++ test.cpp -o test\n</code></pre></p> </li> <li> <p>-D     \u5b9a\u4e49\u5b8f</p> </li> </ul> <p><pre><code># \u5728\u4f7f\u7528gcc/g++\u7f16\u8bd1\u7684\u65f6\u5019\u5b9a\u4e49\u5b8f\n\n# \u5e38\u7528\u573a\u666f\uff1a\n# -DDEBUG \u5b9a\u4e49DEBUG\u5b8f\uff0c\u53ef\u80fd\u6587\u4ef6\u4e2d\u6709DEBUG\u5b8f\u90e8\u5206\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u7528\u4e2aDDEBUG\u6765\u9009\u62e9\u5f00\u542f\u6216\u5173\u95edDEBUG\n</code></pre> \u793a\u4f8b\u4ee3\u7801\uff1a <pre><code>// -Dname \u5b9a\u4e49\u5b8fname,\u9ed8\u8ba4\u5b9a\u4e49\u5185\u5bb9\u4e3a\u5b57\u7b26\u4e32\u201c1\u201d\n\n#include &lt;stdio.h&gt;\n\nint main()\n{\n    #ifdef DEBUG\n        printf(\"DEBUG LOG\\n\");\n    #endif\n        printf(\"in\\n\");\n}\n\n// 1. \u5728\u7f16\u8bd1\u7684\u65f6\u5019\uff0c\u4f7f\u7528gcc -DDEBUG main.cpp\n// 2. \u7b2c\u4e03\u884c\u4ee3\u7801\u53ef\u4ee5\u88ab\u6267\u884c\n</code></pre></p> <p>\u6ce8\uff1a\u4f7f\u7528 <code>man gcc</code>\u547d\u4ee4\u53ef\u4ee5\u67e5\u770bgcc\u82f1\u6587\u4f7f\u7528\u624b\u518c</p>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/#g","title":"g++\u547d\u4ee4\u884c\u7f16\u8bd1","text":"<p>\u6848\u4f8b\uff1a\u6700\u521d\u76ee\u5f55\u7ed3\u6784: 2 directories, 3 files</p> <pre><code># \u6700\u521d\u76ee\u5f55\u7ed3\u6784\n.\n\u251c\u2500\u2500 include\n\u2502   \u2514\u2500\u2500 Swap.h\n\u251c\u2500\u2500 main.cpp\n\u2514\u2500\u2500 src\n    \u2514\u2500\u2500 Swap.cpp\n\n2 directories, 3 files\n</code></pre>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/#_5","title":"\u76f4\u63a5\u7f16\u8bd1","text":"<p>\u6700\u7b80\u5355\u7684\u7f16\u8bd1\uff0c\u5e76\u8fd0\u884c <pre><code># \u5c06 main.cpp src/Swap.cpp \u7f16\u8bd1\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\ng++ main.cpp src/Swap.cpp -Iinclude\n# \u8fd0\u884ca.out\n./a.out\n</code></pre> \u589e\u52a0\u53c2\u6570\u7f16\u8bd1\uff0c\u5e76\u8fd0\u884c <pre><code># \u5c06 main.cpp src/Swap.cpp \u7f16\u8bd1\u4e3a\u53ef\u6267\u884c\u6587\u4ef6 \u9644\u5e26\u4e00\u5806\u53c2\u6570\ng++ main.cpp src/Swap.cpp -Iinclude -std=c++11 -O2 -Wall -o b.out\n# \u8fd0\u884c b.out\n./b.out\n</code></pre></p>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/#_6","title":"\u751f\u6210\u5e93\u6587\u4ef6\u5e76\u7f16\u8bd1","text":"<ul> <li> <p>\u94fe\u63a5\u9759\u6001\u5e93\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u2460 <pre><code>## \u8fdb\u5165src\u76ee\u5f55\u4e0b\n$cd src\n\n# \u6c47\u7f16\uff0c\u751f\u6210Swap.o\u6587\u4ef6\ng++ Swap.cpp -c -I../include\n# \u751f\u6210\u9759\u6001\u5e93libSwap.a\nar rs libSwap.a Swap.o\n\n## \u56de\u5230\u4e0a\u7ea7\u76ee\u5f55\n$cd ..\n\n# \u94fe\u63a5\uff0c\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6:staticmain\ng++ main.cpp -Iinclude -Lsrc -lSwap -o staticmain\n</code></pre></p> </li> <li> <p>\u94fe\u63a5\u52a8\u6001\u5e93\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u2461 <pre><code>## \u8fdb\u5165src\u76ee\u5f55\u4e0b\n$cd src\n\n# \u751f\u6210\u52a8\u6001\u5e93libSwap.so\ng++ Swap.cpp -I../include -fPIC -shared -o libSwap.so\n## \u4e0a\u9762\u547d\u4ee4\u7b49\u4ef7\u4e8e\u4ee5\u4e0b\u4e24\u6761\u547d\u4ee4\n# gcc Swap.cpp -I../include -c -fPIC\n# gcc -shared -o libSwap.so Swap.o\n\n## \u56de\u5230\u4e0a\u7ea7\u76ee\u5f55\n$cd ..\n\n# \u94fe\u63a5\uff0c\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6:sharemain\ng++ main.cpp -Iinclude -Lsrc -lSwap -o sharemain\n</code></pre></p> </li> <li> <p>\u7f16\u8bd1\u5b8c\u6210\u540e\u7684\u76ee\u5f55\u7ed3\u6784</p> </li> </ul> <p>\u6700\u7ec8\u76ee\u5f55\u7ed3\u6784\uff1a2 directories, 8 files <pre><code># \u6700\u7ec8\u76ee\u5f55\u7ed3\u6784\n.\n\u251c\u2500\u2500 include\n\u2502   \u2514\u2500\u2500 Swap.h\n\u251c\u2500\u2500 main.cpp\n\u251c\u2500\u2500 sharemain\n\u251c\u2500\u2500 src\n\u2502   \u251c\u2500\u2500 libSwap.a\n\u2502   \u251c\u2500\u2500 libSwap.so\n\u2502   \u251c\u2500\u2500 Swap.cpp\n\u2502   \u2514\u2500\u2500 Swap.o\n\u2514\u2500\u2500 staticmain\n\n2 directories, 8 files\n</code></pre></p>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/#_7","title":"\u8fd0\u884c\u53ef\u6267\u884c\u6587\u4ef6","text":"<p>\u8fd0\u884c\u53ef\u6267\u884c\u6587\u4ef6\u2460 <pre><code># \u8fd0\u884c\u53ef\u6267\u884c\u6587\u4ef6\n./staticmain\n</code></pre></p> <p>\u8fd0\u884c\u53ef\u6267\u884c\u6587\u4ef6\u2461 <pre><code># \u8fd0\u884c\u53ef\u6267\u884c\u6587\u4ef6\nLD_LIBRARY_PATH=src ./sharemain\n</code></pre></p>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/#gdb","title":"GDB\u8c03\u8bd5\u5668","text":"<p>\u8c03\u8bd5\u5f00\u59cb\uff1a\u6267\u884cgdb [exefilename] \uff0c\u8fdb\u5165gdb\u8c03\u8bd5\u7a0b\u5e8f\uff0c\u5176\u4e2dexefilename\u4e3a\u8981\u8c03\u8bd5\u7684\u53ef\u6267\u884c\u6587\u4ef6\u540d</p> <p>\u8c03\u8bd5\u60f3\u770b\u4ee3\u7801\u53ef\u4ee5 <code>ctrl+x</code>\u540e<code>ctrl+a</code>\u8fdb\u5165gui\u6a21\u5f0f </p>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/#_8","title":"\u5e38\u7528\u547d\u4ee4","text":"<pre><code>## \u4ee5\u4e0b\u547d\u4ee4\u540e\u62ec\u53f7\u5185\u4e3a\u547d\u4ee4\u7684\u7b80\u5316\u4f7f\u7528\uff0c\u6bd4\u5982run\uff08r\uff09\uff0c\u76f4\u63a5\u8f93\u5165\u547d\u4ee4 r \u5c31\u4ee3\u8868\u547d\u4ee4run\n\n$(gdb)help(h)        # \u67e5\u770b\u547d\u4ee4\u5e2e\u52a9\uff0c\u5177\u4f53\u547d\u4ee4\u67e5\u8be2\u5728gdb\u4e2d\u8f93\u5165help + \u547d\u4ee4 \n\n$(gdb)run(r)         # \u91cd\u65b0\u5f00\u59cb\u8fd0\u884c\u6587\u4ef6\uff08run-text\uff1a\u52a0\u8f7d\u6587\u672c\u6587\u4ef6\uff0crun-bin\uff1a\u52a0\u8f7d\u4e8c\u8fdb\u5236\u6587\u4ef6\uff09\n\n$(gdb)start          # \u5355\u6b65\u6267\u884c\uff0c\u8fd0\u884c\u7a0b\u5e8f\uff0c\u505c\u5728\u7b2c\u4e00\u884c\u6267\u884c\u8bed\u53e5\n\n$(gdb)list(l)        # \u67e5\u770b\u539f\u4ee3\u7801\uff08list-n,\u4ece\u7b2cn\u884c\u5f00\u59cb\u67e5\u770b\u4ee3\u7801\u3002list+ \u51fd\u6570\u540d\uff1a\u67e5\u770b\u5177\u4f53\u51fd\u6570\uff09\n\n$(gdb)set            # \u8bbe\u7f6e\u53d8\u91cf\u7684\u503c\n\n$(gdb)next(n)        # \u5355\u6b65\u8c03\u8bd5\uff08\u9010\u8fc7\u7a0b\uff0c\u51fd\u6570\u76f4\u63a5\u6267\u884c\uff09\n\n$(gdb)step(s)        # \u5355\u6b65\u8c03\u8bd5\uff08\u9010\u8bed\u53e5\uff1a\u8df3\u5165\u81ea\u5b9a\u4e49\u51fd\u6570\u5185\u90e8\u6267\u884c\uff09\n\n$(gdb)backtrace(bt)  # \u67e5\u770b\u51fd\u6570\u7684\u8c03\u7528\u7684\u6808\u5e27\u548c\u5c42\u7ea7\u5173\u7cfb\n\n$(gdb)frame(f)       # \u5207\u6362\u51fd\u6570\u7684\u6808\u5e27\n\n$(gdb)info(i)        # \u67e5\u770b\u51fd\u6570\u5185\u90e8\u5c40\u90e8\u53d8\u91cf\u7684\u6570\u503c\n\n$(gdb)finish         # \u7ed3\u675f\u5f53\u524d\u51fd\u6570\uff0c\u8fd4\u56de\u5230\u51fd\u6570\u8c03\u7528\u70b9\n\n$(gdb)continue(c)    # \u7ee7\u7eed\u8fd0\u884c\n\n$(gdb)print(p)       # \u6253\u5370\u503c\u53ca\u5730\u5740\n\n$(gdb)quit(q)        # \u9000\u51fagdb\n\n$(gdb)break+num(b)                 # \u5728\u7b2cnum\u884c\u8bbe\u7f6e\u65ad\u70b9\n\n$(gdb)info breakpoints             # \u67e5\u770b\u5f53\u524d\u8bbe\u7f6e\u7684\u6240\u6709\u65ad\u70b9\n\n$(gdb)delete breakpoints num(d)    # \u5220\u9664\u7b2cnum\u4e2a\u65ad\u70b9\n\n$(gdb)display                      # \u8ffd\u8e2a\u67e5\u770b\u5177\u4f53\u53d8\u91cf\u503c\n\n$(gdb)undisplay                    # \u53d6\u6d88\u8ffd\u8e2a\u89c2\u5bdf\u53d8\u91cf\n\n$(gdb)watch                        # \u88ab\u8bbe\u7f6e\u89c2\u5bdf\u70b9\u7684\u53d8\u91cf\u53d1\u751f\u4fee\u6539\u65f6\uff0c\u6253\u5370\u663e\u793a\n\n$(gdb)i watch                      # \u663e\u793a\u89c2\u5bdf\u70b9\n\n$(gdb)enable breakpoints           # \u542f\u7528\u65ad\u70b9\n\n$(gdb)disable breakpoints          # \u7981\u7528\u65ad\u70b9\n\n$(gdb)x                            # \u67e5\u770b\u5185\u5b58x/20xw \u663e\u793a20\u4e2a\u5355\u5143\uff0c16\u8fdb\u5236\uff0c4\u5b57\u8282\u6bcf\u5355\u5143\n\n$(gdb)run argv[1] argv[2]          # \u8c03\u8bd5\u65f6\u547d\u4ee4\u884c\u4f20\u53c2\n\n$(gdb)set follow-fork-mode child   # Makefile\u9879\u76ee\u7ba1\u7406\uff1a\u9009\u62e9\u8ddf\u8e2a\u7236\u5b50\u8fdb\u7a0b\uff08fork()\uff09\n</code></pre> <p>Tips:</p> <p>\u7f16\u8bd1\u7a0b\u5e8f\u65f6\u9700\u8981\u52a0\u4e0a-g\uff0c\u4e4b\u540e\u624d\u80fd\u7528gdb\u8fdb\u884c\u8c03\u8bd5\uff1a<code>gcc -g main.c -o main</code></p> <p>\u56de\u8f66\u952e\uff1a\u91cd\u590d\u4e0a\u4e00\u547d\u4ee4</p>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/#cmake_1","title":"CMake\u5b9e\u6218","text":"<ul> <li>\u7f16\u5199 <code>CMakeLists.txt</code></li> <li><code>make build &amp;&amp; cd build &amp;&amp; cmake .. &amp;&amp; make</code></li> </ul>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/#_9","title":"\u7b80\u5355\u5b9e\u4f8b","text":"<pre><code>cmake_minimum_required(VERSION 3.0)\n\nproject(HELLO)\n\nadd_compile_options(-Wall --std=c++11 -O2)\n\n# \u7f16\u8bd1\u7c7b\u578b Debug / Release\nset(CMAKE_BUILD_TYPE Debug ) \n\n# \u4e8c\u8fdb\u5236\u6587\u4ef6\u8fd0\u884c\u8def\u5f84 \nset(EXECUTABLE_OUTPUT_PATH ${PROJECT_BINARY_DIR}/bin)\n\n# \u751f\u6210\u5e93\u6587\u4ef6\nadd_library(swap SHARED src/swap.cpp )\n\n# \u5e93\u6587\u4ef6\u5934\u6587\u4ef6\ntarget_include_directories(swap PUBLIC ${PROJECT_SOURCE_DIR}/include )\n\n# \u4e8c\u8fdb\u5236\u6587\u4ef6\nadd_executable( main main.cpp )\n\n# \u94fe\u63a5 libswap.so\ntarget_link_libraries( main swap )\n</code></pre>"},{"location":"cs-life/computer-science/os/linux_cpp_develop/#vscode","title":"VSCode","text":""},{"location":"cs-life/computer-science/os/linux_cpp_develop/#tasksjson","title":"tasks.json","text":"<p>\u7528\u6765\u505a\u4efb\u52a1\u7f16\u6392\u4f7f\u7528</p> <pre><code>{   \n    \"version\": \"2.0.0\",\n    \"options\": {\n        \"cwd\": \"${workspaceFolder}/build\"\n    },\n    \"tasks\": [\n        {\n            \"type\": \"shell\",\n            \"label\": \"cmake\",\n            \"command\": \"cmake\",\n            \"args\": [\n                \"..\"\n            ]\n        },\n        {\n            \"label\": \"make\",\n            \"group\": {\n                \"kind\": \"build\",\n                \"isDefault\": true\n            },\n            \"command\": \"make\",\n            \"args\": [\n\n            ]\n        },\n        {\n            \"label\": \"Build\",\n            \"dependsOrder\": \"sequence\", // \u6309\u5217\u51fa\u7684\u987a\u5e8f\u6267\u884c\u4efb\u52a1\u4f9d\u8d56\u9879\n            \"dependsOn\":[\n                \"cmake\",\n                \"make\"\n            ]\n        }\n    ]\n\n}\n</code></pre>"},{"location":"cs-life/computer-science/os/linux_io/","title":"Linux IO","text":""},{"location":"cs-life/computer-science/os/linux_io/#_1","title":"\u7528\u6237\u6001\uff0c\u5185\u6838\u6001\u5207\u6362","text":"<p>\u7528\u6237\u8fdb\u7a0b\u5728\u7cfb\u7edf\u4e2d\u8fd0\u884c\u65f6\uff0c\u5927\u90e8\u5206\u65f6\u95f4\u662f\u5904\u5728\u7528\u6237\u6001\u7a7a\u95f4\u91cc\u7684\uff0c\u5728\u5176\u9700\u8981\u64cd\u4f5c\u7cfb\u7edf\u5e2e\u52a9\u5b8c\u6210\u4e00\u4e9b\u7528\u6237\u6001\u6ca1\u6709\u7279\u6743\u548c\u80fd\u529b\u5b8c\u6210\u7684\u64cd\u4f5c\u65f6\u5c31\u9700\u8981\u5207\u6362\u5230\u5185\u6838\u6001\u3002</p> <p>\u7528\u6237\u8fdb\u7a0b\u5982\u4f55\u5207\u6362\u5230\u5185\u6838\u6001\u7684\u60c5\u51b5</p> <ol> <li>\u7cfb\u7edf\u8c03\u7528 trap</li> <li>\u5f02\u5e38 exception </li> <li> <p>\u4e2d\u65ad\uff08interrupt\uff09\u3002</p> </li> <li> <p>\u7cfb\u7edf\u8c03\u7528\uff1a\u7528\u6237\u8fdb\u7a0b\u4e3b\u52a8\u53d1\u8d77\u7684\u64cd\u4f5c\u3002\u7528\u6237\u6001\u8fdb\u7a0b\u53d1\u8d77\u7cfb\u7edf\u8c03\u7528\u4e3b\u52a8\u8981\u6c42\u5207\u6362\u5230\u5185\u6838\u6001\uff0c\u9677\u5165\u5185\u6838\u4e4b\u540e\uff0c\u7531\u64cd\u4f5c\u7cfb\u7edf\u6765\u64cd\u4f5c\u7cfb\u7edf\u8d44\u6e90\uff0c\u5b8c\u6210\u4e4b\u540e\u518d\u8fd4\u56de\u5230\u8fdb\u7a0b\u3002</p> </li> <li>\u5f02\u5e38\uff1a\u88ab\u52a8\u7684\u64cd\u4f5c\uff0c\u4e14\u7528\u6237\u8fdb\u7a0b\u65e0\u6cd5\u9884\u6d4b\u5176\u53d1\u751f\u7684\u65f6\u673a\u3002\u5f53\u7528\u6237\u8fdb\u7a0b\u5728\u8fd0\u884c\u671f\u95f4\u53d1\u751f\u4e86\u5f02\u5e38\uff08\u6bd4\u5982\u67d0\u6761\u6307\u4ee4\u51fa\u4e86\u95ee\u9898\uff09\uff0c\u8fd9\u65f6\u4f1a\u89e6\u53d1\u7531\u5f53\u524d\u8fd0\u884c\u8fdb\u7a0b\u5207\u6362\u5230\u5904\u7406\u6b64\u5f02\u5e38\u7684\u5185\u6838\u76f8\u5173\u8fdb\u7a0b\u4e2d\uff0c\u4e5f\u5373\u662f\u5207\u6362\u5230\u4e86\u5185\u6838\u6001\u3002\u5f02\u5e38\u5305\u62ec\u7a0b\u5e8f\u8fd0\u7b97\u5f15\u8d77\u7684\u5404\u79cd\u9519\u8bef\u5982\u9664 0\u3001\u7f13\u51b2\u533a\u6ea2\u51fa\u3001\u7f3a\u9875\u7b49\u3002</li> <li>\u4e2d\u65ad\uff1a\u5f53\u5916\u56f4\u8bbe\u5907\u5b8c\u6210\u7528\u6237\u8bf7\u6c42\u7684\u64cd\u4f5c\u540e\uff0c\u4f1a\u5411 CPU \u53d1\u51fa\u76f8\u5e94\u7684\u4e2d\u65ad\u4fe1\u53f7\uff0c\u8fd9\u65f6 CPU \u4f1a\u6682\u505c\u6267\u884c\u4e0b\u4e00\u6761\u5373\u5c06\u8981\u6267\u884c\u7684\u6307\u4ee4\u800c\u8f6c\u5230\u4e0e\u4e2d\u65ad\u4fe1\u53f7\u5bf9\u5e94\u7684\u5904\u7406\u7a0b\u5e8f\u53bb\u6267\u884c\uff0c\u5982\u679c\u524d\u9762\u6267\u884c\u7684\u6307\u4ee4\u662f\u7528\u6237\u6001\u4e0b\u7684\u7a0b\u5e8f\uff0c\u90a3\u4e48\u8f6c\u6362\u7684\u8fc7\u7a0b\u81ea\u7136\u5c31\u4f1a\u662f\u4ece\u7528\u6237\u6001\u5230\u5185\u6838\u6001\u7684\u5207\u6362\u3002\u4e2d\u65ad\u5305\u62ec I/O \u4e2d\u65ad\u3001\u5916\u90e8\u4fe1\u53f7\u4e2d\u65ad\u3001\u5404\u79cd\u5b9a\u65f6\u5668\u5f15\u8d77\u7684\u65f6\u949f\u4e2d\u65ad\u7b49\u3002\u4e2d\u65ad\u548c\u5f02\u5e38\u7c7b\u4f3c\uff0c\u90fd\u662f\u901a\u8fc7\u4e2d\u65ad\u5411\u91cf\u8868\u6765\u627e\u5230\u76f8\u5e94\u7684\u5904\u7406\u7a0b\u5e8f\u8fdb\u884c\u5904\u7406\u3002\u533a\u522b\u5728\u4e8e\uff0c\u4e2d\u65ad\u6765\u81ea\u5904\u7406\u5668\u5916\u90e8\uff0c\u4e0d\u662f\u7531\u4efb\u4f55\u4e00\u6761\u4e13\u95e8\u7684\u6307\u4ee4\u9020\u6210\uff0c\u800c\u5f02\u5e38\u662f\u6267\u884c\u5f53\u524d\u6307\u4ee4\u7684\u7ed3\u679c\u3002</li> </ol>"},{"location":"cs-life/computer-science/os/linux_io/#read-write","title":"read / write \u7cfb\u7edf\u8c03\u7528","text":"<ul> <li>32\u4f4d\u7cfb\u7edf\u4e0b\uff0c4GB\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u524d3G\u4e3a\u7528\u6237\u7a7a\u95f4\uff0c\u6700\u540e1G\u4e3a\u7cfb\u7edf\u7a7a\u95f4</li> <li>\u5f53\u53d1\u751f\u7cfb\u7edf\u8c03\u7528\u65f6\uff0c\u4f1a\u4ea7\u751f\u4e2d\u65ad\uff0c\u8fdb\u7a0b\u4ece\u7528\u6237\u7a7a\u95f4\u5207\u6362\u5230\u7cfb\u7edf\u7a7a\u95f4</li> <li>\u7528\u6237\u7a7a\u95f4\u5411\u5185\u6838\u7a7a\u95f4\u4ea4\u6362\u6570\u636e\u4f7f\u7528<code>copy_from_user</code>, <code>copy_to_user</code>\u4e24\u4e2a\u51fd\u6570</li> </ul>"},{"location":"cs-life/computer-science/os/linux_io/#_2","title":"\u8bfb\u78c1\u76d8\u5199\u51fa\u5230\u7f51\u5361\u6d41\u7a0b","text":"<p>\u4e00\u6b21\u5b8c\u6574\u7684\u8bfb\u78c1\u76d8\u6587\u4ef6\u7136\u540e\u5199\u51fa\u5230\u7f51\u5361\u7684\u5e95\u5c42\u4f20\u8f93\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"cs-life/computer-science/os/linux_io/#reference","title":"reference","text":"<ul> <li>Linux I/O \u539f\u7406\u548c Zero-copy \u6280\u672f\u5168\u9762\u63ed\u79d8</li> </ul>"},{"location":"cs-life/computer-science/os/linux_memory/","title":"\u5185\u5b58","text":"<p>\u4f7f\u7528<code>free -m</code>, <code>available</code>\u5305\u542b\u4e86<code>free</code>, <code>available</code>\u91cc\u9762\u9664\u4e86<code>free</code>\u7684\u8fd8\u6709\u78c1\u76d8\u7684\u9875\u7f13\u5b58\u3002</p> <p><code>The \"available\" memory accounts for that. It sums up all memory that is unused or can be freed immediately.</code></p> <pre><code>              total        used        free      shared  buff/cache   available\nMem:          15903        3288        7868         878        4747       11442\nSwap:             0           0           0\n</code></pre>"},{"location":"cs-life/computer-science/os/os_interview/","title":"\u64cd\u4f5c\u7cfb\u7edf\u57fa\u7840","text":"<p>\u8fdb\u7a0b\u662f\u8d44\u6e90\u5206\u914d\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u7ebf\u7a0b\u662fCPU\u8c03\u5ea6\u7684\u6700\u5c0f\u5355\u4f4d</p> <ul> <li>\u8fdb\u7a0b\u7684\u72b6\u6001<ul> <li>created\uff08\u65b0\u5efa\uff09\uff0cready\uff08\u5c31\u7eea\uff09\uff0crunning\uff08\u8fd0\u884c\uff09\uff0cwaiting\uff08\u963b\u585e\uff09\uff0cTerminated\uff08\u7ec8\u6b62\uff09</li> <li>ps stat\u7684\u72b6\u6001<ol> <li>S \u5904\u4e8e\u4f11\u7720\u72b6\u6001</li> <li>Z \u50f5\u5c38\u8fdb\u7a0b</li> <li>s \u8be5\u8fdb\u7a0b\u6709\u5b50\u8fdb\u7a0b</li> <li>&lt; \u4f18\u5148\u7ea7\u9ad8\u7684\u8fdb\u7a0b</li> <li>N \u4f18\u5148\u7ea7\u8f83\u4f4e\u7684\u8fdb\u7a0b</li> <li>l \u591a\u8fdb\u7a0b\u7684</li> </ol> </li> </ul> </li> <li>\u4ec0\u4e48\u662f\u6b7b\u9501\uff1f\u6b7b\u9501\u4ea7\u751f\u7684\u6761\u4ef6<ul> <li>\u8d44\u6e90\u4e92\u65a5</li> <li>\u5360\u6709\u5e76\u7b49\u5f85</li> <li>\u4e0d\u53ef\u5265\u593a</li> <li>\u73af\u8def\u7b49\u5f85  </li> </ul> </li> <li>\u5b64\u513f\u8fdb\u7a0b <ul> <li>\u7236\u8fdb\u7a0b\u9000\u51fa\uff0c\u800c\u5b50\u8fdb\u7a0b\u8fd8\u6ca1\u9000\u51fa\uff0c\u4f1a\u88ab<code>pid=1</code>\u7684<code>init</code>\u8fdb\u7a0b\u6258\u7ba1</li> </ul> </li> <li>\u50f5\u5c38\u8fdb\u7a0b<ul> <li>\u5b50\u8fdb\u7a0b\u9000\u51fa\uff0c\u7236\u8fdb\u7a0b\u8fd8\u672a\u56de\u6536\u5b50\u8fdb\u7a0b\u7684\u76f8\u5173\u8d44\u6e90</li> <li>\u5371\u5bb3, \u4f1a\u5360\u7528\u8fdb\u7a0bid(\u8fdb\u7a0bid\u6709\u9650, 65535\u4e2a)</li> <li>\u89e3\u51b3\u65b9\u6848<ol> <li>\u5e72\u6389\u7236\u8fdb\u7a0b(\u5b50\u8fdb\u7a0b\u53d8\u6210\u5b64\u513f\u8fdb\u7a0b\uff0c\u88abinit\u8fdb\u7a0b\u6258\u7ba1)</li> <li>\u7236\u8fdb\u7a0b\u8c03\u7528waitPid</li> <li>fork\u4e24\u6b21,\u5b50\u8fdb\u7a0bfork\u5b8c\u540e\u521b\u5efa\u5b59\u8fdb\u7a0b\u7136\u540e\u9000\u51fa\uff0c\u5b59\u8fdb\u7a0b\u6267\u884c\u5177\u4f53\u7684\u903b\u8f91(\u8fd9\u6837\u5b59\u8fdb\u7a0b\u5c31\u662f\u5b64\u513f\u8fdb\u7a0b\u4e86)</li> </ol> </li> </ul> </li> <li>\u865a\u62df\u5185\u5b58\u662f\u4ec0\u4e48\u7528\u9014\uff0c\u5982\u4f55\u5b9e\u73b0\uff1f<ul> <li>\u9996\u5148\u9700\u8981\u77e5\u9053\u7269\u7406\u5730\u5740\u548c\u903b\u8f91\u5730\u5740</li> <li>\u865a\u62df\u5185\u5b58\u4f7f\u5f97\u5e94\u7528\u7a0b\u5e8f\u8ba4\u4e3a\u5b83\u62e5\u6709\u8fde\u7eed\u7684\u53ef\u7528\u7684\u5185\u5b58\uff08\u4e00\u4e2a\u8fde\u7eed\u5b8c\u6574\u7684\u5730\u5740\u7a7a\u95f4\uff09\uff0c\u800c\u5b9e\u9645\u4e0a\uff0c\u5b83\u901a\u5e38\u662f\u88ab\u5206\u9694\u6210\u591a\u4e2a\u7269\u7406\u5185\u5b58\u788e\u7247\uff0c\u8fd8\u6709\u90e8\u5206\u6682\u65f6\u5b58\u50a8\u5728\u5916\u90e8\u78c1\u76d8\u5b58\u50a8\u5668\u4e0a\uff0c\u5728\u9700\u8981\u65f6\u8fdb\u884c\u6570\u636e\u4ea4\u6362\u3002</li> </ul> </li> <li>\u8fdb\u7a0b\u7684\u901a\u4fe1\u65b9\u5f0f\u6709\u54ea\u4e9b<ul> <li>\u533f\u540d\u7ba1\u9053(\u4eb2\u7f18\u5173\u7cfb)</li> <li>\u5177\u540d\u7ba1\u9053</li> <li>\u6d88\u606f\u961f\u5217</li> <li>\u4fe1\u53f7\u91cf</li> <li>\u4fe1\u53f7</li> <li>\u5171\u4eab\u5185\u5b58</li> <li>socket</li> </ul> </li> <li>\u9875\u9762\u7f6e\u6362\u7b97\u6cd5<ul> <li>\u6700\u4f73(\u6240\u9009\u62e9\u7684\u88ab\u6362\u51fa\u7684\u9875\u9762\u5c06\u662f\u6700\u957f\u65f6\u95f4\u5185\u4e0d\u518d\u88ab\u8bbf\u95ee)</li> <li>\u6700\u8fd1\u672a\u4f7f\u7528(LRU)</li> <li>\u6700\u5c11\u9891\u7387\u672a\u4f7f\u7528(LFU)</li> <li>\u5148\u8fdb\u5148\u51fa</li> <li>\u65f6\u949f</li> </ul> </li> <li>\u5206\u9875\u548c\u5206\u6bb5\u6709\u4ec0\u4e48\u533a\u522b<ul> <li>\u5206\u9875\u5927\u5c0f\u76f8\u540c \u9875\u8868</li> <li>\u5206\u6bb5\u5927\u5c0f\u4e0d\u540c \u6bb5\u8868</li> <li>\u5206\u9875\u4e3b\u8981\u7528\u4e8e\u5b9e\u73b0\u865a\u62df\u5185\u5b58\uff0c\u4ece\u800c\u83b7\u5f97\u66f4\u5927\u7684\u5730\u5740\u7a7a\u95f4\uff1b\u5206\u6bb5\u4e3b\u8981\u662f\u4e3a\u4e86\u4f7f\u7a0b\u5e8f\u548c\u6570\u636e\u53ef\u4ee5\u88ab\u5212\u5206\u4e3a\u903b\u8f91\u4e0a\u72ec\u7acb\u7684\u5730\u5740\u7a7a\u95f4\u5e76\u4e14\u6709\u52a9\u4e8e\u5171\u4eab\u548c\u4fdd\u62a4</li> </ul> </li> <li>\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u8fdb\u7a0b\u8c03\u5ea6\u7b56\u7565\u6709\u54ea\u51e0\u79cd<ul> <li>\u5148\u6765\u5148\u670d\u52a1</li> <li>\u6700\u5c11\u6267\u884c\u65f6\u95f4</li> <li>\u4f18\u5148\u7ea7</li> <li>\u65f6\u95f4\u7247\u8f6e\u8f6c</li> </ul> </li> <li>\u7a0b\u5e8f\u4ece\u5806\u4e2d\u52a8\u6001\u5206\u914d\u5185\u5b58\u65f6\uff0c\u865a\u62df\u5185\u5b58\u4e0a\u600e\u4e48\u64cd\u4f5c\u7684</li> </ul>"},{"location":"cs-life/computer-science/os/xv6/","title":"xv6\u64cd\u4f5c\u7cfb\u7edf","text":""},{"location":"cs-life/computer-science/os/xv6/#_1","title":"\u5f00\u53d1\u73af\u5883\u6784\u5efa","text":"<p>\u4ee5mac\u7cfb\u7edf\u4e3a\u4f8b</p> <ol> <li> <p>\u5b89\u88c5virtual box\uff0c\u5e76\u52a0\u8f7d ubuntu 22.04\u955c\u50cf</p> <ul> <li>virtual box \u5f00\u542f\u7aef\u53e3\u6620\u5c04 <ul> <li>\u4e3b\u673a\u7aef\u53e3:\u865a\u62df\u673a\u7aef\u53e3 <code>2222:22</code></li> <li>\u901a\u8fc7 <code>ssh -p 2222 bing@localhost</code> \u8bbf\u95ee\u865a\u62df\u673a</li> </ul> </li> </ul> </li> <li> <p>\u5b89\u88c5\u4f9d\u8d56 </p> <ul> <li>\u9700\u8981\u7684\u4f9d\u8d56<ul> <li><code>sudo apt-get install -y gcc build-essential gdb gcc-multilib qemu-system-i386</code></li> </ul> </li> <li>b\u7ad9\u4f5c\u8005git\u4ed3\u5e93 <ul> <li><code>git clone https://github.com/Jeanhwea/xv6-course.git</code></li> </ul> </li> <li>\u5b98\u65b9xv6\u4ed3\u5e93  <ul> <li><code>git clone https://github.com/mit-pdos/xv6-public.git</code></li> <li>\u5b89\u88c5\u540e\u8fdb\u884c <code>make</code> \u548c <code>make qemu-nox-gdb</code></li> </ul> </li> </ul> </li> </ol>"},{"location":"cs-life/computer-science/os/xv6/#-","title":"\u5f00\u7bc7-\u64cd\u4f5c\u7cfb\u7edf\u63a5\u53e3","text":""},{"location":"cs-life/computer-science/os/xv6/#_2","title":"\u6807\u51c6\u8f93\u5165\u8f93\u51fa","text":"<p>\u6309\u7167\u60ef\u4f8b\uff0c\u8fdb\u7a0b\u4ece\u6587\u4ef6\u63cf\u8ff0\u7b260\u8bfb\u5165\uff08\u6807\u51c6\u8f93\u5165\uff09\uff0c\u4ece\u6587\u4ef6\u63cf\u8ff0\u7b261\u8f93\u51fa\uff08\u6807\u51c6\u8f93\u51fa\uff09\uff0c\u4ece\u6587\u4ef6\u63cf\u8ff0\u7b262\u8f93\u51fa\u9519\u8bef\uff08\u6807\u51c6\u9519\u8bef\u8f93\u51fa\uff09</p> <p><code>ls existing-file non-exsiting-file &gt; tmp1 2&gt;&amp;1</code></p> <p><code>2&gt;&amp;1</code> \u544a\u8bc9 shell \u7ed9\u8fd9\u6761\u547d\u4ee4\u4e00\u4e2a\u590d\u5236\u63cf\u8ff0\u7b261\u7684\u63cf\u8ff0\u7b262\u3002</p> <p>\u8fd9\u6837 existing-file \u7684\u540d\u5b57\u548c non-exsiting-file \u7684\u9519\u8bef\u8f93\u51fa\u90fd\u5c06\u51fa\u73b0\u5728 tmp1 \u4e2d</p>"},{"location":"cs-life/computer-science/os/xv6/#fork-exec","title":"\u4e3a\u4f55 fork \u548c exec \u662f\u5355\u72ec\u7684\u4e24\u79cd\u7cfb\u7edf\u8c03\u7528\uff1f","text":"<p>\u8fd9\u79cd\u533a\u5206\u4f7f\u5f97 shell \u53ef\u4ee5\u5728\u5b50\u8fdb\u7a0b\u6267\u884c\u6307\u5b9a\u7a0b\u5e8f\u4e4b\u524d\u5bf9\u5b50\u8fdb\u7a0b\u8fdb\u884c\u4fee\u6539\u3002</p> <p>\u4e3e\u4f8b <pre><code>int main()\n{\n    char *argv[2];\n    argv[0] = \"cat\";\n\n    if (fork() == 0) {\n        close(0); // \u5173\u95ed\u6807\u51c6\u8f93\u5165\n        int fd = open(\"input.txt\", O_RDONLY); // \u8fd4\u56de0\n        printf(\"fd %d\\n\", fd); // fd 0\n\n        execv(\"/bin/cat\", argv);\n    }\n    return 0;\n}\n</code></pre></p>"},{"location":"cs-life/computer-science/os/xv6/#kernels-qemu","title":"\u4e3a\u5565 kernel.s \u53ef\u4ee5\u5728qemu\u91cc\u5173\u4e2d\u65ad\uff0c\u4f46\u5728\u7528\u6237\u6001\u7a0b\u5e8f\u91cc\u4e0d\u884c\uff1f","text":"<pre><code># kernal.s\u6587\u4ef6\n\nkernel.out:     file format elf32-i386\n\n\nDisassembly of section .text:\n\n00007c00 &lt;start&gt;:\n    7c00:       fa                      cli\n    7c01:       b8 01 00                mov    $0x1,%ax\n    7c04:       fb                      sti\n\n00007c05 &lt;spin&gt;:\n    7c05:       eb fe                   jmp    7c05 &lt;spin&gt;\n</code></pre> <p>\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u5173\u4e2d\u65ad\u4e0e\u80fd\u5426\u6267\u884c\u7279\u6743\u6307\u4ee4\u6709\u5173\u3002\u5173\u4e2d\u65ad\u901a\u5e38\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u7684\u6838\u5fc3\u90e8\u5206\uff0c\u4e5f\u5c31\u662f\u5185\u6838\u6765\u5904\u7406\u7684\u3002\u5185\u6838\u8fd0\u884c\u5728\u7279\u6743\u6001\uff08\u5728x86\u67b6\u6784\u4e2d\u901a\u5e38\u662f0\u7ea7\uff09\uff0c\u53ef\u4ee5\u6267\u884c\u8bf8\u5982\u4fee\u6539\u4e2d\u65ad\u63a7\u5236\u5668\u72b6\u6001\u4e4b\u7c7b\u7684\u7279\u6743\u6307\u4ee4\u3002</p> <p>\u5728\u4f60\u6240\u63d0\u4f9b\u7684 kernel.s \u4e2d\u7684 cli \u6307\u4ee4\u548c sti \u6307\u4ee4\uff0c\u5206\u522b\u8868\u793a\u5173\u4e2d\u65ad\u548c\u5f00\u4e2d\u65ad\uff0c\u5b83\u4eec\u90fd\u662f\u7279\u6743\u6307\u4ee4\uff0c\u53ea\u6709\u5728\u5185\u6838\u6001\uff08Ring 0\uff09\u4e2d\u624d\u80fd\u6267\u884c\u3002 \u800c\u7528\u6237\u6001\u7a0b\u5e8f\u8fd0\u884c\u5728\u975e\u7279\u6743\u6001\uff08\u5728x86\u67b6\u6784\u4e2d\u901a\u5e38\u662f3\u7ea7\uff09\uff0c\u4e0d\u80fd\u76f4\u63a5\u6267\u884c\u7279\u6743\u6307\u4ee4\uff0c\u5305\u62ec\u5f00\u5173\u4e2d\u65ad\u7b49\u64cd\u4f5c\uff0c\u5426\u5219\u4f1a\u89e6\u53d1\u5f02\u5e38\u3002\u8fd9\u662f\u56e0\u4e3a\u7528\u6237\u7a0b\u5e8f\u53ef\u4ee5\u7531\u4efb\u4f55\u4eba\u7f16\u5199\u548c\u6267\u884c\uff0c\u5982\u679c\u5141\u8bb8\u7528\u6237\u6001\u7a0b\u5e8f\u968f\u610f\u5173\u95ed\u6216\u6253\u5f00\u4e2d\u65ad\uff0c\u90a3\u4e48\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u548c\u5b89\u5168\u6027\u5c31\u65e0\u6cd5\u4fdd\u969c\u3002</p> <p>\u6240\u4ee5\uff0ckernel.s \u80fd\u5728 qemu\uff08\u6a21\u62df\u7684\u5185\u6838\u6001\u73af\u5883\uff09\u4e2d\u5173\u95ed\u4e2d\u65ad\uff0c\u800c\u5728\u7528\u6237\u6001\u7a0b\u5e8f\u4e2d\u4e0d\u80fd\u5173\u95ed\u4e2d\u65ad\u3002</p>"},{"location":"cs-life/computer-science/os/xv6/#_3","title":"\u9875\u8868","text":"<p>dir\u3001\u9875\u76ee\u5f55</p> <ul> <li>pgdir: \u9875\u76ee\u5f55\u57fa\u5730\u5740\uff0c\u662f\u865a\u62df\u5730\u5740   </li> <li>PDX:  PDX(va) \u83b7\u53d6\u865a\u62df\u5730\u5740\uff0832\u4f4d\uff09\u7684\u524d10\u4f4d</li> <li>pde: \u9875\u76ee\u5f55\u9879\uff0cpgdir[0-1023]\u7684\u4e00\u4e2a\u5143\u7d20\uff0c\u5b58\u50a8\u7684\u662f (pgtab\u7684\u7269\u7406\u5730\u5740|\u6743\u9650\uff09</li> </ul> <p>table\u3001\u9875\u8868</p> <ul> <li>pgtab: \u9875\u8868\u57fa\u5730\u5740\uff0c\u662f\u865a\u62df\u5730\u5740</li> <li>PTX: PTX(va) \u83b7\u53d6\u865a\u62df\u5730\u5740\uff0832\u4f4d\uff09\u7684\u524d11-20\u4f4d</li> <li>pte: \u9875\u8868\u9879\uff0cpgtab[0-1023]\u7684\u4e00\u4e2a\u5143\u7d20\uff0c\u5b58\u50a8\u7684\u662f\uff08\u5143\u7d20\u7684\u7269\u7406\u5730\u5740|\u6743\u9650\uff09</li> <li>PTE_ADDR: \u6839\u636epde\uff0c\u83b7\u53d6\u5b9e\u9645pgtab\u7684\u7269\u7406\u5730\u5740</li> </ul>"},{"location":"cs-life/computer-science/os/xv6/#_4","title":"\u6574\u4f53\u542f\u52a8\u6d41\u7a0b","text":"<ol> <li>\u542f\u52a8\u6d41\u7a0b<ul> <li>\u4ece\u78c1\u76d8\u52a0\u8f7dkernel\u6587\u4ef6\u5230\u5185\u5b58</li> <li>\u901a\u8fc7 elf\u7684entry \u8c03\u7528 main</li> </ul> </li> <li>\u865a\u62df\u5185\u5b58\u7533\u8bf7\u4e0e\u5206\u914d<ul> <li>\u521b\u5efakernel\u7684\u9875\u8868\uff0c\u8fdb\u884c\u865a\u62df\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u6620\u5c04</li> </ul> </li> <li>\u8fd0\u884c\u7528\u6237\u8fdb\u7a0b<ul> <li>userinit <ul> <li>\u7533\u8bf7\u5e76\u521d\u59cb\u5316\u8fdb\u7a0b</li> <li>\u5c06initcode.S \u4ee3\u7801\u52a0\u8f7d\u5230\u8fdb\u7a0b\u7684\u9875\u76ee\u5f55\u5185\u5b58</li> </ul> </li> <li>mpmain:scheduler<ul> <li>\u83b7\u53d6\u5f53\u524dcpu\uff0c\u4ee5\u53ca\u53ef\u8fd0\u884c\u7684\u8fdb\u7a0b</li> <li>\u5207\u6362\u7528\u6237\u8fdb\u7a0b\u7684\u9875\u8868</li> <li>\u4fdd\u5b58cpu\u5bc4\u5b58\u5668\u7684\u6570\u636e\uff0c\u6808\u5207\u6362\u5230\u8fdb\u7a0b<ul> <li>forkret \u91ca\u653e\u8fdb\u7a0b\u9501</li> <li>trapret \u6808\u4e0a\u53d6\u51fa\u5bc4\u5b58\u5668\u7684\u503c</li> </ul> </li> </ul> </li> <li>initcode<ul> <li>\u6267\u884cexec(\"/init\")</li> </ul> </li> <li>init <code>pid=1</code><ul> <li>\u521b\u5efaconsole</li> <li>fork\u540e\u6267\u884c exec(\"sh\")</li> </ul> </li> <li>sh <code>pid=2</code><ul> <li>\u5faa\u73af\u76d1\u542c\u7528\u6237\u952e\u76d8\u8f93\u5165</li> <li><code>cd</code>\u547d\u4ee4\uff0c\u6539\u53d8\u76ee\u5f55</li> <li>\u5176\u4ed6\u547d\u4ee4\uff0cfork\u540eexec(<code>pid=3</code>)\uff0c\u6267\u884c\u540e\u5b50\u8fdb\u7a0b\u9000\u51fa\uff0csh\u7a0b\u5e8f\u7ee7\u7eed\u8fd0\u884c</li> </ul> </li> </ul> </li> </ol>"},{"location":"cs-life/computer-science/os/xv6/#xv6_1","title":"xv6\u542f\u52a8\u6d41\u7a0b\u8be6\u7ec6\u5206\u6790","text":"<ol> <li>bootasm.S<ol> <li>\u52a0\u8f7dlgdt\u8868</li> <li>\u8c03\u7528 bootmain.c:bootmain()</li> </ol> </li> <li>bootmain.c<ol> <li>\u52a0\u8f7d kernel \u5230\u5185\u5b58</li> <li>\u89e3\u6790 elf \u5934</li> <li>\u8df3\u8f6c elf-&gt;entry()</li> </ol> </li> <li>entry.S<ol> <li>\u521d\u59cb\u5316</li> <li>\u8df3\u8f6c main.c:main()</li> </ol> </li> <li>main</li> </ol>"},{"location":"cs-life/computer-science/os/xv6/#syscall","title":"syscall\u6d41\u7a0b","text":"<ol> <li>initcode.asm<ul> <li>int $T_SYSCALL (0x40)</li> </ul> </li> <li>vector.S<ul> <li>vector64</li> </ul> </li> <li>alltraps<ul> <li>call trap</li> </ul> </li> <li>trap</li> <li>syscall</li> <li>sys_exec</li> <li>exec<ul> <li>load elf</li> <li>alloc uvm\uff08virtual memory\uff09</li> <li>fill ustack</li> <li>replace old uvm to new uvm</li> </ul> </li> </ol>"},{"location":"cs-life/computer-science/os/xv6/#_5","title":"\u7528\u6237\u6001\u7a0b\u5e8f","text":"<p>\u4e0d\u540c\u7684\u7528\u6237\u7a0b\u5e8f</p> <ul> <li>cat\uff1a\u8bfb\u53d6fd\uff0c\u8f93\u51fa</li> <li>ls: \u626b\u63cf\u5f53\u524d\u6587\u4ef6/\u76ee\u5f55\uff0c\u8f93\u51fa</li> <li>echo: \u5199\u5165fd</li> <li>find: \u9012\u5f52\u626b\u63cf\u76ee\u5f55\uff0c\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u6587\u4ef6</li> <li>grep: \u6587\u4ef6\u5185\u5bb9\u6309\u884c\u5207\u5206\uff0c\u627e\u5230match pattern\u7684\u884c</li> <li>xargs: \u6839\u636e\u8f93\u5165\uff0c\u622a\u53d6\u6362\u884c\u7b26\uff0c\u6bcf\u4e2a\u7a0b\u5e8f\u4f9d\u6b21\u6267\u884c<ul> <li>find . b | xargs grep hello  =&gt; xargs grep hello ./a/b </li> </ul> </li> </ul> <p>scause 0x000000000000000d sepc=0x0000000080002052 stval=0x0000000000000000</p> <p>b *0x0000000080002052</p>"},{"location":"cs-life/computer-science/os/xv6/#biosrom","title":"\u56fa\u4ef6\uff0cbios\uff0crom","text":"<p>\u56fa\u4ef6\uff0cROM \u548c BIOS \u662f\u8ba1\u7b97\u673a\u786c\u4ef6\u548c\u8f6f\u4ef6\u5173\u952e\u7ec4\u6210\u90e8\u5206\uff0c\u5b83\u4eec\u5728\u7cfb\u7edf\u4e2d\u626e\u6f14\u4e0d\u540c\u89d2\u8272\uff1a - \u56fa\u4ef6\uff08Firmware\uff09: \u56fa\u4ef6\u662f\u5d4c\u5165\u5230\u786c\u4ef6\u8bbe\u5907\u4e2d\u7684\u8f6f\u4ef6\uff0c\u4f8b\u5982\uff1a\u8def\u7531\u5668\uff0c\u7f51\u5361\u7b49\u3002\u5b83\u63d0\u4f9b\u4e86\u786c\u4ef6\u8bbe\u5907\u7684\u4f4e\u7ea7\u63a7\u5236\uff0c\u7528\u4e8e\u786c\u4ef6\u4e2d\u7684\u7279\u5b9a\u6a21\u578b\u6216\u8bbe\u5907\u7c7b\u578b\u3002\u56fa\u4ef6\u80fd\u591f\u5728\u8bbe\u5907\u7535\u6e90\u5173\u95ed\u540e\u4fdd\u6301\u5b58\u50a8\uff0c\u4f46\u53ef\u88ab\u7279\u6b8a\u7a0b\u5e8f\u66f4\u65b0\u6216\u66ff\u6362\u3002 - ROM\uff08\u53ea\u8bfb\u5b58\u50a8\u5668\uff09: ROM\u662f\u4e00\u79cd\u5b58\u50a8\u5a92\u4ecb\uff0c\u7528\u4e8e\u8ba1\u7b97\u673a\uff0c\u5b83\u5b58\u50a8\u7684\u6570\u636e\u662f\u6c38\u4e45\u6027\u7684\uff0c\u5373\u4f7f\u5728\u7535\u6e90\u5173\u65ad\u65f6\u4e5f\u4e0d\u4f1a\u6d88\u5931\u3002ROM\u4e2d\u7684\u6570\u636e\u662f\u5728\u5236\u9020\u8fc7\u7a0b\u4e2d\u5199\u5165\u7684\uff0c\u542b\u6709\u521d\u59cb\u542f\u52a8\u7a0b\u5e8f\uff08BIOS\uff09\u6216\u8005\u5176\u4ed6\u7cfb\u7edf\u5fc5\u9700\u7684\u56fa\u4ef6\u3002 - BIOS\uff08\u57fa\u672c\u8f93\u5165/\u8f93\u51fa\u7cfb\u7edf\uff09: BIOS\u662f\u7cfb\u7edf\u542f\u52a8\u65f6\u7b2c\u4e00\u4e2a\u8fd0\u884c\u7684\u8f6f\u4ef6\uff0c\u5b58\u5728\u4e8eROM\u4e2d\uff0c\u5b83\u521d\u59cb\u5316\u5e76\u6d4b\u8bd5\u786c\u4ef6\uff0c\u7136\u540e\u4ece\u786c\u76d8\u6216\u5176\u4ed6\u8bbe\u5907\u52a0\u8f7d\u64cd\u4f5c\u7cfb\u7edf\u3002BIOS\u53ef\u80fd\u5305\u542b\u989d\u5916\u7684\u8f6f\u4ef6\u670d\u52a1\u548c\u8bca\u65ad\u7a0b\u5e8f\u3002 \u7efc\u4e0a\uff0c\u56fa\u4ef6\uff0cROM\u548cBIOS\u4e09\u8005\u5173\u7cfb\u7d27\u5bc6\u3002\u56fa\u4ef6\u662f\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u8f6f\u4ef6\uff0c\u901a\u5e38\u88ab\u70e7\u5f55\u5230ROM\u4e2d\uff0c\u8fd9\u6837\u786c\u4ef6\u5c31\u53ef\u4ee5\u5728\u7535\u6e90\u6253\u5f00\u65f6\u7acb\u523b\u5f00\u59cb\u5de5\u4f5c\u3002\u800c\u5176\u4e2d\u7684BIOS\u56fa\u4ef6\u8d1f\u8d23\u5728\u542f\u52a8\u65f6\u521d\u59cb\u5316\u786c\u4ef6\u5e76\u52a0\u8f7d\u64cd\u4f5c\u7cfb\u7edf\u3002</p>"},{"location":"cs-life/computer-science/os/xv6/#_6","title":"\u8fdb\u7a0b","text":"<p>the trampoline page contains the code to transition in and out of the kernel mapping the trapframe is necessary to save/restore the state of the user proces</p> <p>the state of a thread (local variables, function call return addresses) is stored on the thread\u2019s stacks.</p>"},{"location":"cs-life/computer-science/os/xv6/#_7","title":"\u9875\u8868","text":"<p>\u4e09\u5c42\u7ed3\u6784\u5141\u8bb8\u4ee5\u4e00\u79cd\u8282\u7701\u5185\u5b58\u7684\u65b9\u5f0f\u8bb0\u5f55 PTE\u3002\u5728\u5927\u8303\u56f4\u865a\u62df\u5730\u5740\u6ca1\u6709\u6620\u5c04\u7684\u5e38\u89c1\u60c5\u51b5\u4e0b\uff0c\u4e09\u7ea7\u7ed3\u6784\u53ef\u4ee5\u7701\u7565\u6574\u4e2a\u9875\u76ee\u5f55\u3002</p> <p>\u4e3a\u4ec0\u4e48\u662f\u4e09\u7ea7\u9875\u8868\uff1f</p> <ol> <li>\u5b58\u50a8\u6210\u672c\u8003\u8651<ul> <li>\u53ea\u6709\u4e00\u5c42\u9700\u89812^27\u7684\u7d22\u5f15\u9879\uff0c\u4f46\u662f\u5982\u679c\u662f\u4e09\u5c42\uff0c\u662f\u6309\u9700\u5206\u914d\uff0c\u7528\u5230\u591a\u5c11\u5c31\u5206\u914d\u591a\u5c11\uff0c\u6bd4\u5982\u53ea\u7528\u4e86[0][0][0] \u6700\u7ec8\u53ea\u751f\u6210\u4e863*2^9\u4e2a\u7d22\u5f15\u9879</li> </ul> </li> <li>cpu\u6027\u80fd<ul> <li>\u907f\u514d\u4ece\u7269\u7406\u5185\u5b58\u52a0\u8f7d PTE \u7684\u6210\u672c\uff0cRISC-V CPU \u5c06\u9875\u8868\u6761\u76ee\u7f13\u5b58\u5728\u8f6c\u6362\u540e\u5907\u7f13\u51b2\u533a (TLB) \u4e2d</li> </ul> </li> </ol> <p>pgTable \u662f4096\u5b57\u8282\uff1bint64\u6307\u9488\u5360\u75288\u5b57\u8282\uff1b\u56e0\u6b64\u4e00\u9875\u53ef\u4ee5\u5206\u914d512\uff082^9\uff09\u4e2aPTE <code>(pte &gt;&gt; 10) &lt;&lt; 12</code> \u4e00\u4e2aPTE\u6307\u5411\u4e00\u4e2a4096\u5b57\u8282\u7684\u7269\u7406\u9875\u9762\uff0c\u53f3\u79fb10\u4f4d\u662f\u4e3a\u4e86\u53bb\u6389flags\u4f4d\uff0c\u5de6\u79fb12\u4f4d\u662f\uff0c\u5bf9\u9f50\u4e00\u4e2a4096\u7684\u9875\u9762</p>"},{"location":"cs-life/machine-learn/data-analyze/pandas/","title":"pandas\u4ece\u5165\u95e8\u5230\u653e\u5f03","text":""},{"location":"cs-life/machine-learn/data-analyze/pandas/#createreadwrite","title":"Create/Read/Write","text":"<p>Create </p> <pre><code>data = pd.DataFrame({\"v1\": [1,2,3], \"v2\": [4,5,6]})\n</code></pre> <p>Read</p> <pre><code>data = pd.read_csv(\"xxx.csv\")\n</code></pre> <p>Write </p> <pre><code>data.to_csv(\"xxx.csv\")\n</code></pre>"},{"location":"cs-life/machine-learn/data-analyze/pandas/#indexselectassign","title":"Index/Select/Assign","text":"<p>Index</p> <ul> <li>iloc: \u57fa\u4e8e\u6574\u6570\u4f4d\u7f6e\u8fdb\u884c\u6570\u636e\u9009\u62e9</li> <li>loc: \u57fa\u4e8e\u6807\u7b7e\uff08Label\uff09\u7d22\u5f15\u8fdb\u884c\u6570\u636e\u9009\u62e9</li> </ul> <p>Select</p> <pre><code>top_oceania_wines = reviews.loc[\n    (reviews.country.isin(['Australia', 'New Zealand'])) &amp; \n    (reviews.country.isin(['Australia', 'New Zealand'])) &amp; (reviews.points &gt;= 95) (reviews.points &gt;= 95) \n]\n</code></pre> <p>Assign</p> <pre><code>reviews['critic'] = 'everyone'\nreviews['index_backwards'] = range(len(reviews), 0, -1)\n</code></pre>"},{"location":"cs-life/machine-learn/data-analyze/pandas/#summarymap","title":"Summary/Map","text":"<p>Summary</p> <pre><code>reviews.points.mean()   # \u5e73\u5747\u503c\nreviews.points.median() # \u4e2d\u4f4d\u6570\nreviews.taster_name.unique() # \u53bb\u91cd\u540e\u7684\u6570\u636e set&lt;tasker_name&gt;\nreviews.taster_name.value_counts() # \u53bb\u91cd\u6570\u636e \u4ee5\u53ca\u51fa\u73b0\u7684\u6b21\u6570 map&lt;tasker_name, int&gt;\ndf.loc['A'].idxmax() # A\u5217\u6700\u5927\u503c\u7684\u7d22\u5f15idx  (lambda df : min(df['A'].idx) =&gt; idx)\n</code></pre> <p>Map</p> <ul> <li>map\uff1a\u4e3b\u8981\u7528\u4e8eSeries\u5bf9\u8c61\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u8fdb\u884c\u5143\u7d20\u7ea7\u522b\u7684\u8f6c\u6362\uff0c\u7279\u522b\u662f\u57fa\u4e8e\u6620\u5c04\u5173\u7cfb\uff08\u5982\u5b57\u5178\uff09\u3002</li> <li>apply\uff1a\u66f4\u4e3a\u7075\u6d3b\uff0c\u53ef\u7528\u4e8eDataFrame\u548cSeries\u5bf9\u8c61\uff0c\u65e2\u80fd\u8fdb\u884c\u5143\u7d20\u7ea7\u522b\u7684\u8f6c\u6362\uff0c\u4e5f\u80fd\u5bf9\u6574\u884c\u6216\u6574\u5217\u8fdb\u884c\u64cd\u4f5c\u3002</li> </ul> <pre><code>n_trop = reviews.description.map(lambda desc: \"tropical\" in desc).sum()\ndf['A'] = df['A'].apply(lambda row: row['A'] + 5, axis=1)\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0capply\u51fd\u6570\u6709\u4e2a\u91cd\u8981\u7684\u53c2\u6570 <code>axis</code></p> <ul> <li>axis=0\uff1a\u9ed8\u8ba4\u503c\uff0c\u8868\u793a\u5bf9\u6bcf\u5217\uff08\u5217\uff09\u5e94\u7528\u51fd\u6570\u3002</li> <li>axis=1\uff1a\u8868\u793a\u5bf9\u6bcf\u884c\uff08\u884c\uff09\u5e94\u7528\u51fd\u6570\u3002\u8f83\u4e3a\u5e38\u7528</li> </ul> <pre><code>df = pd.DataFrame({\n    'A': [1, 2, 3],\n    'B': [10, 20, 30],\n    'C': [100, 200, 300]\n})\ncol_sum = df.apply(sum, axis=0) \nprint(col_sum)\n# \u8f93\u51fa:\n# A      6\n# B     60\n# C    600\n# dtype: int64\n\nrow_sum = df.apply(sum, axis=1)\nprint(row_sum)\n# \u8f93\u51fa:\n# 0    111\n# 1    222\n# 2    333\n# dtype: int64\n</code></pre>"},{"location":"cs-life/machine-learn/data-analyze/pandas/#groupsort","title":"Group/Sort","text":"<p>Group</p> <pre><code>reviews.groupby('taster').size() # group by taster count(1)\nreviews.groupby([\"variety\"]).price.agg([min, max]) # group by variety min(price), max(price)\n</code></pre> <p>Sort</p> <pre><code>reviews.groupby('price').points.max().sort_index(ascending=True)\nreviews.groupby([\"variety\"]).price.agg([min, max]).sort_values(by=[\"min\", \"max\"], ascending=False)\n</code></pre>"},{"location":"cs-life/machine-learn/data-analyze/pandas/#datatypemissing-value","title":"DataType/Missing Value","text":"<p>DataType</p> <pre><code>reviews.points.dtype\nreviews.points.astype('str')\n</code></pre> <p>MissingValue</p> <pre><code>reviews[pd.isnull(reviews.price)]\nreviews.region_1.fillna(\"Unknown\")\n</code></pre>"},{"location":"cs-life/machine-learn/data-analyze/pandas/#data-preprocess","title":"Data Preprocess","text":"<pre><code>import pandas as pd\n\na = [1,2,3,1,2]\nb = [20,30,40,20,None]\nc = [1749956606, 1749956605, 1749956604, 1749956606, 1749956602]\nd = [\"F\", \"M\", \"F\", \"F\", \"M\"]\ndf = pd.DataFrame({\"uid\": a, \"age\": b, \"ts\": c, \"gender\": d}, columns=[\"uid\", \"age\", \"ts\", \"gender\"])\n\n# \u53bb\u7f3a\u5931\u503c\ndf = df.dropna()\n# \u53bb\u91cd\ndf = df.drop_duplicates()\n\n# \u6311\u9009\u6570\u503c\u5217\ncols = df.select_dtypes(include=['number']).columns\nfor col in cols:\n    col_name = str(col)\n    if col_name in [\"uid\", \"ts\"]:\n        continue\n    df[f\"{col_name}_mean\"] = df[col].mean()\n\n# \u65f6\u95f4\u6233\ndf['time'] = pd.to_datetime(df['ts'], unit='s')\n\n# \u7c7b\u522b\u5904\u7406\ncols = df.select_dtypes(include=['object']).columns\ndf = pd.get_dummies(df, columns=cols, drop_first=True) # drop_first \u662f\u5426\u5220\u9664\u7b2c\u4e00\u4e2a\u7c7b\u522b\n</code></pre>"},{"location":"cs-life/machine-learn/deep-learning/linear_regression/","title":"\u7ebf\u6027\u56de\u5f52","text":""},{"location":"cs-life/machine-learn/deep-learning/linear_regression/#_2","title":"\u539f\u751f\u5b9e\u73b0","text":"<p>\u601d\u8def\uff0c\u6570\u636e\u662f\u7ebf\u6027\u5206\u5e03\u7684\uff0c\u5373 <code>y = w * x + b</code></p> <ol> <li>\u4eba\u5de5\u751f\u6210w_real\uff0cb_real\uff0c\u5e76\u4ee5\u6b64\u751f\u6210\u7279\u5f81\u96c6 \u548c \u7ed3\u679c</li> <li>\u968f\u673a\u751f\u6210\u62df\u5408\u7684 w_predict \u548c b_predict</li> <li>\u8bbe\u7f6e learning_rate(\u5b66\u4e60\u7387), batch_size(\u968f\u673a\u6837\u672c\u5927\u5c0f)\uff0cepoch(\u8bad\u7ec3\u6b21\u6570) \u8d85\u53c2\u6570</li> <li>\u5bf9\u4e8e\u7279\u5f81\u96c6\u548c\u7ed3\u679c\uff0c\u6bcf\u6b21\u8bad\u7ec3\uff0c\u968f\u673a\u62bd\u53d6 batch_size \u7684\u6570\u636e\uff0c\u8fdb\u884c\u8bad\u7ec3<ul> <li>\u5bf9 <code>w_predict * x + b_predict</code>\u4e0e \u771f\u5b9ey \u8fdb\u884c\u5e73\u65b9\u5dee \u6c42\u68af\u5ea6</li> <li>\u6309\u7167 <code>\u8d1f\u68af\u5ea6*\u5b66\u4e60\u7387</code> \u5bf9w_predict\u548cb_predict\u8fdb\u884c\u66f4\u65b0</li> </ul> </li> </ol> <pre><code>import math\nimport time\nimport numpy as np\nimport torch\nimport random\nfrom d2l import torch as d2l\n\n# \u751f\u6210\u6570\u636e  wx+b=y, n\u662fcase\u6570\u91cf\ndef gen_data(w, b, n):\n    x = torch.normal(0, 1, (n, len(w)))\n    y = torch.matmul(x, w) + b\n    y += torch.normal(0, 1, y.shape)\n    return x, y.reshape(-1, 1)\n\n# \u5bf9\u4e8efeatures/labels\uff0c\u6bcf\u6b21\u968f\u673a\u62bdbatch_size\u7684\u6570\u636e\u7528\u4f5c\u8bad\u7ec3\ndef data_iter(features, labels, batch_size):\n    ndim = len(features)\n    idx = [i for i in range(ndim)]\n    idx = random.shuffle(idx)\n    for i in range(ndim):\n        st, ed = i, min(i+batch_size, ndim)\n        yield features[st:ed], labels[st:ed]\n\n# \u9884\u6d4b\u503c\u4e0e\u771f\u5b9e\u503c\u7684 R2 \u8ddd\u79bb\ndef squared_loss(y_predict, y):\n    return (y - y_predict.reshape(y.shape))**2 / 2\n\n# \u6839\u636ew,b\u8ba1\u7b97\u9884\u6d4b\u503c \uff08\u7ebf\u6027\u56de\u5f52\uff09\ndef linreg(X, w, b):\n    return torch.matmul(X, w) + b\n\n# \u968f\u673a\u68af\u5ea6\u4e0b\u964d\ndef sgd(params, lr, batch_size):\n    with torch.no_grad():\n        for param in params:\n            down_grad = lr * param.grad / batch_size\n            # print(\"param: \", param, \"down_grad: \",down_grad)\n            param -= down_grad\n            param.grad.zero_()\n\nw_real = torch.Tensor([2.0, -2])\nb_real = -5\nfeatures, labels = gen_data(w_real, b_real, 100)\n\nw = torch.zeros((2,1), requires_grad=True)\nb = torch.zeros(1, requires_grad=True)\n#print(w)\n\nlr = 0.001 # learning rate\nepochs = 50\nnet = linreg # \u7ebf\u6027\u56de\u5f52\nloss = squared_loss #\u5747\u65b9\u635f\u5931\nbatch_size = 10\n\nepoch_ = []\nloss_ = []\n\nfor epoch in range(epochs):\n    for X, y in data_iter(features, labels, batch_size):\n        l = loss(net(X, w, b), y)\n        l.sum().backward()\n        sgd([w, b], lr, batch_size)\n    with torch.no_grad():\n        train_l = loss(net(features, w, b), labels)\n        real_loss = float(train_l.mean())\n        #print(f'epoch {epoch + 1}, loss {real_loss:f}')\n        epoch_.append(epoch)\n        loss_.append(real_loss)\nd2l.plt.plot(epoch_, loss_)\n\n\nprint(f'w\u4f30\u8ba1\u8bef\u5dee: {w_real - w.reshape(w_real.shape)}')\nprint(f'b\u4f30\u8ba1\u8bef\u5dee: {w_real - w.reshape(w_real.shape)}')\nprint(w_real, b_real)\nprint(w, b)\n</code></pre>"},{"location":"cs-life/machine-learn/deep-learning/linear_regression/#torch","title":"torch\u5de5\u5177\u7c7b\u5b9e\u73b0","text":"<pre><code>w_real = torch.Tensor([2.0, -2])\nb_real = -5\nfeatures, labels = d2l.synthetic_data(w_real, b_real, 1000) # \u751f\u6210\u6570\u636e\n\ndef load_array(data_arrays, batch_size, is_train=True):\n    dataset = data.TensorDataset(*data_arrays)\n    return data.DataLoader(dataset, batch_size, shuffle=is_train)\n\n\n# next(iter(data_iter)) # \u968f\u673a\u62bd\u6570\u636e\u8fdb\u884c\u62df\u5408\nnet = nn.Sequential(nn.Linear(2, 1))\nnet[0].weight.data.normal_(0, 0.01)\nnet[0].bias.data.fill_(0)\ntrainer = torch.optim.SGD(net.parameters(), lr=0.03) # sgd\u8868\u793a\u968f\u673a\u68af\u5ea6\u4e0b\u964d\n\nloss = nn.MSELoss() #\u5e73\u65b9\u5dee\n\nbatch_size = 10\ndata_iter = load_array((features, labels), batch_size)\n\nepochs = 3\nfor epoch in range(epochs):\n    for X, y in data_iter:\n        l = loss(net(X), y)\n        trainer.zero_grad()\n        l.backward()\n        trainer.step()\n    l = loss(net(features), labels)\n    print(f'epoch {epoch + 1}, loss {l:f}')\n\nw = net[0].weight.data\nb = net[0].bias.data\n\nprint(w_real, b_real)\nprint(w, b)\n</code></pre>"},{"location":"cs-life/machine-learn/deep-learning/multi_perceptron/","title":"\u591a\u5c42\u611f\u77e5\u673a","text":"<p>\u8f93\u5165\u548c\u8f93\u51fa\u4e2d\u95f4\uff0c\u589e\u52a0\u4e86\u9690\u85cf\u5c42</p> <p>\u9690\u85cf\u5c42\u5148\u505a <code>w * x + b</code>\u7684\u7ebf\u6027\u8fd0\u7b97\uff0c\u518d\u7ec4\u5408 <code>rule</code>\u3001<code>sigmod</code>\u3001<code>tanh</code>\u7684\u975e\u7ebf\u6027\u8fd0\u7b97</p> <p>\u591a\u5c42\u611f\u77e5\u673a\u7684\u8d85\u53c2\u6709</p> <ul> <li>\u5b66\u4e60\u7387 learning rate</li> <li>\u6279\u5927\u5c0f batch_size</li> <li>\u8bad\u7ec3\u5468\u671f epoches</li> <li>\u9690\u85cf\u5c42\u7684\u4e2a\u6570\uff0c\u4ee5\u53ca\u6bcf\u5c42\u7684\u795e\u7ecf\u5143\u4e2a\u6570</li> </ul>"},{"location":"cs-life/machine-learn/deep-learning/multi_perceptron/#_2","title":"\u7b80\u6613\u5b9e\u73b0","text":"<pre><code>import torch\nfrom torch import nn\nfrom d2l import torch as d2l\n\nbatch_size = 256\ntrain_iter, test_iter = d2l.load_data_fashion_mnist(batch_size)\n\nnum_inputs, num_outputs, num_hiddens = 784, 10, 256\n\n# \u5b9a\u4e49\u4e24\u4e2a\u77e9\u9635\nW1 = nn.Parameter(torch.randn(\n    num_inputs, num_hiddens, requires_grad=True) * 0.01)\nb1 = nn.Parameter(torch.zeros(num_hiddens, requires_grad=True))\nW2 = nn.Parameter(torch.randn(\n    num_hiddens, num_outputs, requires_grad=True) * 0.01)\nb2 = nn.Parameter(torch.zeros(num_outputs, requires_grad=True))\n\nparams = [W1, b1, W2, b2]\n\ndef rule(X):\n    return torch.max(X, torch.zeros_like(X))\n\ndef net(X):\n    X = X.reshape((-1, num_inputs))\n    H = rule(X@W1 + b1)\n    return (H@W2 + b2)\n\nloss = nn.CrossEntropyLoss(reduction='none')\n\nupdater = torch.optim.SGD(params, lr=lr)\nd2l.train_ch3(net, train_iter, test_iter, loss, num_epochs, updater)\n</code></pre>"},{"location":"cs-life/machine-learn/deep-learning/multi_perceptron/#torch","title":"torch\u5de5\u5177\u7c7b\u5b9e\u73b0","text":"<pre><code>import torch\nfrom torch import nn\nfrom d2l import torch as d2l\n\nnet = nn.Sequential(nn.Flatten(),\n                    nn.Linear(784, 256),\n                    nn.ReLU(),\n                    nn.Linear(256, 10))\n\ndef init_weights(m):\n    if type(m) == nn.Linear:\n        nn.init.normal_(m.weight, std=0.01)\n\nnet.apply(init_weights)\n\n\nbatch_size, lr, num_epochs = 256, 0.1, 10\nloss = nn.CrossEntropyLoss(reduction='none')\ntrainer = torch.optim.SGD(net.parameters(), lr=lr)\n\ntrain_iter, test_iter = d2l.load_data_fashion_mnist(batch_size)\nd2l.train_ch3(net, train_iter, test_iter, loss, num_epochs, trainer)\n</code></pre>"},{"location":"cs-life/machine-learn/deep-learning/pytorch-tutorial/","title":"PyTorch","text":""},{"location":"cs-life/machine-learn/deep-learning/pytorch-tutorial/#_1","title":"\u5165\u95e8\u6559\u7a0b","text":"<p>\u4f9d\u636epytorch\u5b98\u65b9\u6587\u6863\u4ee5\u53ca\u571f\u5806pytorch\u89c6\u9891\uff0c\u8bad\u7ec3\u4e00\u4e2a\u6a21\u578b\uff0c\u5206\u522b\u6709\u5982\u4e0b\u51e0\u6b65</p> <ol> <li>\u6311\u9009\u6570\u636e\u96c6</li> <li>\u7f51\u7edc\u6a21\u578b\u6784\u5efa (\u7ebf\u6027\u5c42\uff0c\u975e\u7ebf\u6027\u6fc0\u6d3b\uff0c\u5377\u79ef\u5c42\uff0c\u6c60\u5316\u5c42)</li> <li>loss\u51fd\u6570 (\u5206\u7c7b\u7528\u4ea4\u53c9\u71b5\uff0c\u56de\u5f52\u7528\u5747\u65b9\u5dee)</li> <li>\u4f18\u5316\u51fd\u6570\uff08\u68af\u5ea6\u4e0b\u964d\uff09</li> <li>\u8bbe\u7f6e\u8d85\u53c2\u6570\uff08lr\uff0cepoch\uff0cbatch_size\uff09</li> <li>\u6a21\u578b\u8bad\u7ec3</li> <li>\u6a21\u578b\u4fdd\u5b58</li> <li>(optional). TensorBoard\u753b\u56fe \u89c2\u5bdf</li> </ol> <pre><code>import torch.utils.data\nimport torchvision\nfrom PIL import Image\nimport torchvision.transforms as transforms\nfrom torch import nn\nfrom torch.optim import SGD\nfrom torch.utils.tensorboard import SummaryWriter\nfrom torchvision.utils import make_grid\nfrom tqdm import tqdm\n\n\ndef choose_device():\n    return (\"cuda\" if torch.cuda.is_available() else \"mps\" if torch.backends.mps.is_available() else \"cpu\")\n\ndevice = choose_device()\nprint(device)\n# \u786e\u4fdd\u4f7f\u7528 LANCZOS \u66ff\u4ee3 ANTIALIAS\nif not hasattr(Image, 'ANTIALIAS'):\n    Image.ANTIALIAS = Image.LANCZOS\n\n# \u56fe\u7247\u8f6ctensor\ntransform = transforms.Compose([\n    transforms.ToTensor()\n])\n\n# \u8d85\u53c2\u6570\nlr = 0.01\nepoches = 100\nbatch_size = 64\n\n# \u6570\u636e\u96c6\ntrain_dataset = torchvision.datasets.CIFAR10(\"../data\", train=True, transform=transform, download=True)\ntest_dataset = torchvision.datasets.CIFAR10(\"../data\", train=False, transform=transform, download=True)\ntrain_dataloader = torch.utils.data.DataLoader(dataset=train_dataset, batch_size=batch_size, shuffle=True)\ntest_dataloader = torch.utils.data.DataLoader(dataset=test_dataset, batch_size=batch_size)\n\n\n# \u6a21\u578b\nclass Model(nn.Module):\n    # \u8f93\u5165\u662f64*3*32*32\n    def __init__(self):\n        super().__init__()\n        # \u5377\u79ef\u5c42\n        self.conv = nn.Sequential(\n            nn.Conv2d(in_channels=3, out_channels=3, kernel_size=3, stride=1,padding=1, device=device),\n            nn.MaxPool2d(kernel_size=2), # 3*16*16\n            nn.Conv2d(in_channels=3, out_channels=3, kernel_size=3, stride=1, padding=1, device=device),\n            nn.MaxPool2d(kernel_size=2), # 3*8*8\n        )\n\n        # \u7ebf\u6027\u5c42\n        self.line = nn.Sequential(\n            nn.Flatten(),\n            nn.Linear(in_features=3*8*8, out_features=128, device=device),\n            nn.ReLU(),\n            nn.Linear(in_features=128, out_features=64, device=device),\n            nn.ReLU(),\n            nn.Linear(in_features=64, out_features=10, device=device),\n            nn.ReLU(),\n        )\n\n    def forward(self, X):\n        X = self.conv(X)\n        X = self.line(X)\n        return X\n\nm = Model()\n\nstep = 1\nloss_fn = nn.CrossEntropyLoss()\nopti = SGD(params=m.parameters(), lr=lr)\n\n#writer = SummaryWriter(log_dir=\"./board\")\n\nfor epoch in range(epoches):\n    loss_all, correct = 0.0, 0\n    print(f\"==== epoch {epoch} start ====\")\n    m.train()\n    for imgs, target in tqdm(train_dataloader, desc=\"train\"):\n        imgs = imgs.to(device)\n        target = target.to(device)\n        #print(f\"imgs shape {imgs.shape} target shape {target.shape}\")\n        pred = m(imgs)\n        opti.zero_grad()\n        loss = loss_fn(pred, target)\n        loss_all += loss.item()\n        loss.backward()\n        opti.step()\n        step += 1\n\n    m.eval()\n    for imgs, target in tqdm(test_dataloader, desc=\"eval\"):\n        with torch.no_grad():\n            imgs = imgs.to(device)\n            target = target.to(device)\n            pred = m(imgs)\n            classes = torch.argmax(pred, dim=1)\n            correct += (classes == target).sum()\n    #if step % 100 == 0:\n    print(f\"correct: {correct / len(test_dataset) * 100}%\")\n    #for imgs, target in test_dataset:\n    # print(f\"pred shape {pred.shape}\")\n    #writer.add_image(tag=\"img\", img_tensor=make_grid(imgs, ncols=8), global_step=step)\n    #writer.add_image(tag=\"pred\", img_tensor=make_grid(pred, ncols=8), global_step=step)\n# writer.close()\n</code></pre>"},{"location":"cs-life/machine-learn/deep-learning/pytorch-tutorial/#_2","title":"\u5f15\u7528","text":"<ul> <li>pytorch\u5b98\u65b9\u6587\u6863</li> <li>\u571f\u5806pytorch\u89c6\u9891</li> </ul>"},{"location":"cs-life/machine-learn/deep-learning/softmax/","title":"SoftMax","text":"<p>\u7528\u4f5c\u591a\u5206\u7c7b\uff0c\u6bd4\u5982\u624b\u5199\u6570\u5b57\u8bc6\u522b\uff0c\u8bc6\u522b 0-9 \u5171 10 \u4e2a\u6570\u5b57</p> <p>\u60f3\u9884\u6d4b m \u4e2a\u7ed3\u679c</p> <ul> <li>\u8f93\u5165\u77e9\u9635 X <code>(n, feature_num)</code></li> <li>\u6743\u91cd\u77e9\u9635 W <code>(feature_num, m)</code></li> <li>\u504f\u5dee b <code>(1, m)</code></li> </ul> <p>\u67d0\u4e00\u884c\u9884\u6d4b\u7684\u503c\u52a0\u548c\u4e3a 1\uff0c\u5e76\u4e14\u6bcf\u4e2a\u503c\u975e\u8d1f\uff0c\u8fd9\u91cc\u7528\u5230\u4e86 e^x \u6307\u6570\u51fd\u6570\uff0c\u56e0\u4e3a e^x &gt;= 0 \uff08\u5f53x\u65e0\u7a77\u5c0f\uff09</p>"},{"location":"cs-life/machine-learn/deep-learning/softmax/#_1","title":"\u539f\u751f\u5b9e\u73b0","text":"<p>\u601d\u8def</p> <ol> <li>\u52a0\u8f7d mnist \u6570\u636e\u96c6\uff0c\u5206\u4e3a\u8bad\u7ec3\u96c6 train_set \u548c \u6d4b\u8bd5\u96c6 test_set</li> <li>\u9884\u6d4b  <code>y_hat = softmax(W*x+b)</code> \u4e0e y \u7684\u8bef\u5dee\uff0c\u8bef\u5dee\u51fd\u6570\u91c7\u7528 <code>\u4ea4\u53c9\u71b5\u51fd\u6570</code>\uff0c\u4f7f\u7528\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u66f4\u65b0 <code>W</code> \u548c <code>b</code> \uff1f\uff1f\uff1f \u8868\u8ff0\u5bf9\u4e48\uff1f</li> <li>\u8bbe\u7f6e \u5b66\u4e60\u7387 \u548c \u6279\u5927\u5c0f\uff0c\u5bf9\u6a21\u578b\u8fdb\u884c\u4f18\u5316</li> </ol> <p>\u5b9e\u73b0\u4ee3\u7801</p> <pre><code>import torch\nimport torchvision\nfrom torch.utils import data\nfrom torchvision import transforms\nfrom d2l import torch as d2l\nfrom IPython import display\n\n# labels\u4e3a[0,1,2,4,3]\u8fd9\u79cd\uff0c\u8f6c\u6362\u4e3a\u771f\u5b9e\u7684\u7c7b\u522b\u82f1\u6587\ndef get_fashion_mnist_labels(labels):\n    text_labels = ['t-shirt', 'trouser', 'pullover', 'dress', 'coat',\n                   'sandal', 'shirt', 'sneaker', 'bag', 'ankle boot']\n    return [text_labels[int(i)] for i in labels]\n\n# \u6839\u636ebatch_size\u62bd\u53d6\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\uff0c(train_iter, test_iter)\n# \u6bcf\u4e2aiter\u6709X\u548cy\uff0cX\u4e3a\u5bf9\u5e94\u7684\u5f20\u91cf\uff0cy\u4e3a\u5bf9\u5e94\u7684label index\ndef load_data_fashion_mnist(batch_size, resize=None):\n    \"\"\"\u4e0b\u8f7dMnist\u6570\u636e\u96c6\uff0c\u5c06\u5176\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\"\"\"\n    trans = [transforms.ToTensor()]\n\n    if resize:\n        trans.insert(0, transforms.Resize(resize))\n    #print(trans)\n    trans = transforms.Compose(trans)\n\n    mnist_train = torchvision.datasets.FashionMNIST(\n        root=\"../data\", train=True, transform=trans, download=True\n    )\n    mnist_test = torchvision.datasets.FashionMNIST(\n        root=\"../data\", train=False, transform=trans, download=True\n    )\n\n    return (data.DataLoader(mnist_train, batch_size, shuffle=True,\n                           num_workers=4),\n           data.DataLoader(mnist_test, batch_size, shuffle=True,\n                           num_workers=4),\n           )\n\n# \u4f7f\u7528softmax\u6765\u4fdd\u8bc1\u6bcf\u884c\u7684\u6bcf\u9879\u90fd\u662f&gt;=0\uff0c\u5e76\u4e14\u6bcf\u884c\u603b\u548c\u52a0\u548c=1\ndef softmax(X):\n    X_exp = torch.exp(X)\n    partition = X_exp.sum(1, keepdim=True)\n    #print(f'X {X} \\nX_exp {X_exp} \\npartition {partition}')\n    return X_exp / partition\n\n# \u6a21\u578b\ndef net(X):\n    return softmax(\n        torch.matmul(X.reshape(-1, W.shape[0]), W) + b\n    )\n\n# \u635f\u5931\u51fd\u6570\uff0c\u4ea4\u53c9\u71b5\u635f\u5931 -log(y_hat * y)\ndef cross_entropy(y_hat, y):\n    return -torch.log(y_hat[range(len(y_hat)), y])\n\n# \u5e73\u65b9\u635f\u5931\u51fd\u6570\ndef L2(y_hat, y):\n    return (y_hat.reshape(y.shape) - y) ** 2 / 2\n\n#\u968f\u673a\u68af\u5ea6\u4e0b\u964d \u66f4\u65b0w\u548cb\ndef updater(batch_size): \n    return d2l.sgd([W,b], lr, batch_size)\n\n# \u51c6\u786e\u8bc4\u4f30\u51fd\u6570\uff0c\u5bf9\u4e8e\u6bcf\u884c\u6700\u5927\u503c\u4f5c\u4e3a\u9884\u6d4b\u7ed3\u679c\uff0c\u5224\u65ad\u9884\u6d4b\u51c6\u786e\u7cbe\u5ea6\ndef accuracy(y_hat, y):\n    if len(y_hat.shape) &gt; 1 and y_hat.shape[1] &gt; 1:\n        y_hat = y_hat.argmax(axis=1) # \u627e\u5230\u6bcf\u4e00\u884c\u6700\u5927\u503c\u7684index\n    #print(f'y_hat {y_hat}')\n    cmp = y_hat.type(y.dtype) == y\n    return float(cmp.type(y.dtype).sum())\n\n# \u7f51\u7edc\u8bad\u7ec3\ndef train_epoch_ch3(net, train_iter, loss, updater):\n    if isinstance(net, torch.nn.Module):\n        net.train()\n    # \u8bad\u7ec3\u635f\u5931\u603b\u548c\uff0c\u8bad\u7ec3\u51c6\u786e\u5ea6\u603b\u548c\uff0c\u6837\u672c\u6570\n    metric = d2l.Accumulator(3)\n    for X, y in train_iter:\n        y_hat = net(X)\n        l = loss(y_hat, y)\n        if isinstance(updater, torch.optim.Optimizer):\n            updater.zero_grad()\n            l.mean().backward()\n            updater.step()\n        else:\n            l.sum().backward()\n            updater(X.shape[0])\n\n        metric.add(float(l.sum()), accuracy(y_hat, y), y.numel())\n    # \u8fd4\u56de\u8bad\u7ec3\u635f\u5931\u548c \u548c \u8bad\u7ec3\u7cbe\u5ea6\n    return metric[0] / metric[2], metric[1] / metric[2]\n\n# \u901a\u8fc7\u6e10\u53d8\u56fe\u5f62\u89c2\u6d4b\u7ed3\u679c\ndef train_ch3(net, train_iter, test_iter, loss, num_epochs, updater):\n    animator = d2l.Animator(xlabel='epoch', xlim=[1, num_epochs],\n                       ylim=[0.3, 0.9], legend=['train loss', 'train acc', 'test acc']\n                   )\n    for epoch in range(num_epochs):\n        train_metrics = train_epoch_ch3(net, train_iter, loss, updater)\n\n        test_acc = d2l.evaluate_accuracy(net, test_iter)\n        animator.add(epoch+1, train_metrics + (test_acc,))\n\n    train_loss, train_acc = train_metrics\n    assert train_loss &lt; 0.5, train_loss\n    assert train_acc &lt;= 1 and train_acc &gt; 0.7, train_acc\n    assert test_acc &lt;= 1 and test_acc &gt; 0.7, test_acc\n\nbatch_size = 256\ntrain_iter, test_iter = load_data_fashion_mnist(batch_size)\n# \u56fe\u7247\u662f 1*28*28\u7684\nnum_inputs = 28*28\nnum_outputs = 10\nW = torch.normal(0, 0.01, size=(num_inputs, num_outputs), requires_grad=True)\nb = torch.zeros(num_outputs, requires_grad=True)\n\nlr = 0.1\nnum_epochs = 10\n\ntrain_ch3(net, train_iter, test_iter, cross_entropy, num_epochs, updater)\n</code></pre>"},{"location":"cs-life/machine-learn/deep-learning/softmax/#torch","title":"torch\u5de5\u5177\u7c7b\u5b9e\u73b0","text":"<pre><code>import torch\nfrom torch import nn\nfrom d2l import torch as d2l\n\nbatch_size = 256\ntrain_iter, test_iter = d2l.load_data_fashion_mnist(batch_size)\n\nnet = nn.Sequential(nn.Flatten(), nn.Linear(784, 10))\n\ndef init_weights(m):\n    if type(m) == nn.Linear:\n        nn.init.normal_(m.weight, std=0.01)\n\nnet.apply(init_weights)\n\ntrainer = torch.optim.SGD(net.parameters(), lr=0.1)\nnum_epochs = 10\nloss = nn.CrossEntropyLoss(reduction='none')\n\nd2l.train_ch3(net, train_iter, test_iter, loss, num_epochs, trainer)\n</code></pre>"},{"location":"cs-life/machine-learn/kaggle/tree/","title":"Kaggle\u5165\u95e8","text":""},{"location":"cs-life/machine-learn/kaggle/tree/#_1","title":"\u623f\u4ef7\u9884\u6d4b","text":"<p>\u540d\u8bcd\u89e3\u91ca</p> <ul> <li>mean_absolute_error\uff1a\u5e73\u5747\u7edd\u5bf9\u503c\u8bef\u5dee\uff0c\u9884\u6d4b\u503c\u4e0e\u771f\u5b9e\u503c\u95f4\u7684\u5e73\u5747\u7edd\u5bf9\u503c</li> <li>DecisionTreeRegressor\uff1a\u51b3\u7b56\u6811For\u56de\u5f52</li> <li>RandomForestRegressor\uff1a\u968f\u673a\u68ee\u6797For\u56de\u5f52</li> </ul> <pre><code>import pandas as pd\nfrom sklearn.metrics import mean_absolute_error\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.tree import DecisionTreeRegressor\n\n\n# Path of the file to read\niowa_file_path = '../input/home-data-for-ml-course/train.csv'\n\nhome_data = pd.read_csv(iowa_file_path)\n# Create target object and call it y\ny = home_data.SalePrice\n# Create X\nfeatures = ['LotArea', 'YearBuilt', '1stFlrSF', '2ndFlrSF', 'FullBath', 'BedroomAbvGr', 'TotRmsAbvGrd']\nX = home_data[features]\n\n# Split into validation and training data\ntrain_X, val_X, train_y, val_y = train_test_split(X, y, random_state=1)\n\n# Specify Model\niowa_model = DecisionTreeRegressor(random_state=1)\n# Fit Model\niowa_model.fit(train_X, train_y)\n\n# Make validation predictions and calculate mean absolute error\nval_predictions = iowa_model.predict(val_X)\nval_mae = mean_absolute_error(val_predictions, val_y)\nprint(\"Validation MAE when not specifying max_leaf_nodes: {:,.0f}\".format(val_mae))\n\n# Using best value for max_leaf_nodes\niowa_model = DecisionTreeRegressor(max_leaf_nodes=100, random_state=1)\niowa_model.fit(train_X, train_y)\nval_predictions = iowa_model.predict(val_X)\nval_mae = mean_absolute_error(val_predictions, val_y)\nprint(\"Validation MAE for best value of max_leaf_nodes: {:,.0f}\".format(val_mae))\n\n\nfrom sklearn.ensemble import RandomForestRegressor\n\n# Define the model. Set random_state to 1\nrf_model = RandomForestRegressor(random_state=1)\n# fit your model\nrf_model.fit(train_X, train_y)\n# Calculate the mean absolute error of your Random Forest model on the validation data\nrf_val_mae = mean_absolute_error(rf_model.predict(val_X), val_y)\nprint(\"Validation MAE for Random Forest Model: {}\".format(rf_val_mae))\n</code></pre>"},{"location":"cs-life/machine-learn/llm/agent/","title":"AI\u7684\u53d1\u5c55\u5bf9\u73b0\u6709\u4e1a\u52a1\u7684\u5f71\u54cd","text":"<ul> <li>\u641c\u7d22\u63a8\u8350<ul> <li>\u901a\u8fc7Transformer\u65b9\u5f0f\u4f18\u5316\u641c\u63a8\u80fd\u529b</li> <li>\u901a\u8fc7\u6587\u751f\u89c6\u9891\uff0c\u56fe\u751f\u89c6\u9891\u63d0\u5347\u5185\u5bb9\u521b\u4f5c\u6548\u7387</li> </ul> </li> <li>\u5185\u5bb9\u5ba1\u6838<ul> <li>\u5185\u5bb9\u7406\u89e3\uff1a\u5e95\u7ebf\u95ee\u9898\u7684\u8bc6\u522b\u3001\u8c23\u8a00\u7684\u9a8c\u771f</li> </ul> </li> <li>\u4ea4\u4e92\u65b9\u5f0f<ul> <li>\u7c7b\u8c46\u5305\u95ee\u7b54\u6a21\u5f0f</li> </ul> </li> <li>\u7535\u5546<ul> <li>\u7ebf\u4e0a\u4f53\u9a8c\u8bd5\u8863\u3001\u8bd5\u53e3\u7ea2</li> </ul> </li> <li>\u529e\u516c\u6c9f\u901a<ul> <li>\u7ebf\u4e0a\u5b9e\u65f6\u8bed\u97f3\u540c\u4f20</li> <li>\u4f1a\u8bae\u8bb0\u5f55\u548c\u603b\u7ed3</li> </ul> </li> </ul>"},{"location":"cs-life/machine-learn/llm/agent/agent/agent/","title":"Agent\u8c03\u7814","text":""},{"location":"cs-life/machine-learn/llm/agent/agent/agent/#_1","title":"\u80cc\u666f","text":"<p>\u80cc\u666f\uff1aManus\u7684\u53d1\u5e03\u8ba9\u4eba\u773c\u524d\u4e00\u4eae\uff0c\u7a81\u51fa\u7684\u70b9\u5728\u4e8e</p> <ul> <li>\u5904\u7406\u4efb\u52a1\u4f1a\u5148\u751f\u6210TodoList\uff0c\u8fc7\u7a0b\u4e2d\u4e0d\u65ad\u66f4\u65b0TodoList</li> <li>\u80fd\u8f83\u597d\u7684\u5229\u7528\u5de5\u5177\u3001\u5305\u62ec\u6d4f\u89c8\u5668\u3001\u641c\u7d22\u5f15\u64ce\u3001\u751f\u6210\u6587\u6863</li> </ul>"},{"location":"cs-life/machine-learn/llm/agent/agent/agent/#agent_1","title":"\u901a\u7528 Agent","text":""},{"location":"cs-life/machine-learn/llm/agent/agent/agent/#_2","title":"\u67b6\u6784\u5206\u6790","text":"<p>\u9488\u5bf9\u4f53\u9a8c\u8f83\u597d\u7684\u901a\u7528Agent\u8fdb\u884c\u7b80\u8981\u5206\u6790\uff0c\u8bba\u6587:Aime: Towards Fully-Autonomous Multi-Agent Framework</p> <p></p> <ul> <li>Dynamic Planner\uff08\u52a8\u6001\u89c4\u5212\u8005\uff09\uff1a\u5c06\u76ee\u6807\u5206\u89e3\u4e3a\u53ef\u6267\u884c\u5b50\u4efb\u52a1\u7684\u5c42\u6b21\u7ed3\u6784\u3001\u5e76\u7ef4\u62a4\u4e00\u4e2a\u5168\u5c40\u4efb\u52a1\u5217\u8868</li> <li>Actor Factory\uff08\u6267\u884c\u5668\u5de5\u5382\uff09\uff1a\u6839\u636e\u7279\u5b9a\u4efb\u52a1\u5b9e\u4f8b\u5316\u6267\u884c\u5668\u3001\u5305\u542b <code>Person</code>\uff0c<code>Task</code>\uff0c<code>Knowledge</code>\uff0c<code>ToolSet</code></li> <li>Actor\uff08\u6267\u884c\u5668\uff09\uff1a\u91c7\u7528<code>ReAct</code>\u6a21\u5f0f</li> <li>Progress Updater\uff08\u8fdb\u5ea6\u66f4\u65b0\u5668\uff09\uff1a\u6839\u636e\u6267\u884c\u5668\u7684\u8f93\u51fa\u3001\u66f4\u65b0\u5168\u5c40\u4efb\u52a1\u5217\u8868</li> </ul> <p>\u4ee5\u4e0b\u662f\u4e00\u6b21\u4efb\u52a1\u6267\u884c\u7684\u8be6\u60c5debug\uff0c\u7565\u6709\u5220\u51cf\uff1a</p>"},{"location":"cs-life/machine-learn/llm/agent/agent/agent/#_3","title":"\u6267\u884c\u793a\u4f8b","text":"<p>Step1\uff1a\u63a5\u6536\u7528\u6237\u9700\u6c42 <pre><code>\u5c06\u8fd9\u7bc7\u8bba\u6587 `https://arxiv.org/pdf/2507.11988` \u751f\u6210\u4e00\u4e2a\u6e05\u6670\u3001\u6709\u6df1\u5ea6\u548c\u4fe1\u606f\u91cf\u7684\u6587\u6863\u3002\n\u6587\u6863\u8bed\u8a00\u5e94\u4e3a `\u4e2d\u6587` \n- \u6458\u8981\u603b\u7ed3\uff1a\u63d0\u53d6\u8bba\u6587\u6458\u8981\u8fdb\u884c\u603b\u7ed3\uff0c\u68b3\u7406\u6838\u5fc3\u7684\u521b\u65b0/\u529f\u80fd\u70b9 \n- \u603b\u7ed3\u5e76\u9610\u8ff0\u6838\u5fc3\u529f\u80fd/\u521b\u65b0\u70b9\u7684\u65b9\u6848\uff0c\u603b\u7ed3\u8981\u7cbe\u7b80\n</code></pre></p> <p>Step2\uff1aPlanner\u62c6\u5206\u4efb\u52a1</p> <p>\u89c2\u5bdf\u4e0b\u65b9\u8f93\u51fa\uff0c\u53ef\u77e5Planner\u65e2\u751f\u6210\u4e86Todo List\uff0c\u8fd8\u751f\u6210\u4e86\u4e0b\u4e00\u6b65\u4efb\u52a1\u7684\u89d2\u8272\u3001\u76ee\u6807\u3001\u4efb\u52a1\u3001\u5de5\u5177</p> <pre><code>## Progress\n- [ ] **Phase 1: \u8bba\u6587\u5206\u6790\u4e0e\u6458\u8981\u751f\u6210**\n    - [ ] \u4ece\u6307\u5b9a URL \u4e0b\u8f7d\u5e76\u9605\u8bfb\u5b66\u672f\u8bba\u6587\n    - [ ] \u5206\u6790\u8bba\u6587\u4ee5\u63d0\u70bc\u5176\u6838\u5fc3\u8bba\u70b9\u3001\u65b9\u6cd5\u548c\u7ed3\u8bba\n    - [ ] \u5c06\u6838\u5fc3\u8981\u70b9\u603b\u7ed3\u4e3a\u6307\u5b9a\u7684\u76ee\u6807\u8bed\u8a00\uff08\u4e2d\u6587\uff09\n    - [ ] \u751f\u6210\u5305\u542b\u8be5\u6458\u8981\u7684\u521d\u59cb\u6587\u6863\n- [ ] **Phase 2: \u5173\u8054\u6587\u732e\u68c0\u7d22\u4e0e\u5206\u6790**\n    - [ ] \u8bc6\u522b\u76ee\u6807\u8bba\u6587\u7684\u4f5c\u8005\u548c\u7814\u7a76\u56e2\u961f\n    - [ ] \u68c0\u7d22\u540c\u4e00\u56e2\u961f\u7684\u5176\u4ed6\u76f8\u5173\u8bba\u6587\n    - [ ] \u68c0\u7d22\u5177\u6709\u76f8\u4f3c\u65b9\u6cd5\u6216\u7ed3\u8bba\u7684\u8bba\u6587\n    - [ ] \u68c0\u7d22\u5177\u6709\u4e0d\u540c\u6216\u76f8\u53cd\u89c2\u70b9\u7684\u8bba\u6587\n    - [ ] \u5206\u6790\u5e76\u6574\u7406\u68c0\u7d22\u5230\u7684\u6587\u732e\n- [ ] **Phase 3: \u6587\u6863\u4e30\u5bcc\u5316\u4e0e\u7ec8\u7a3f**\n    - [ ] \u8bfb\u53d6\u521d\u59cb\u6458\u8981\u6587\u6863\u548c\u6574\u7406\u597d\u7684\u5173\u8054\u6587\u732e\u5206\u6790\n    - [ ] \u5c06\u5173\u8054\u6587\u732e\u7684\u5206\u6790\u7ed3\u679c\u6574\u5408\u5230\u6458\u8981\u6587\u6863\u4e2d\n    - [ ] \u4f7f\u7528\u7efc\u5408\u5185\u5bb9\u66f4\u65b0\u6700\u7ec8\u6587\u6863\n\n## Rationale\n\u597d\u7684\uff0c\u6211\u5c06\u9075\u5faa\u60a8\u63d0\u4f9b\u7684SOP\u6765\u5b8c\u6210\u8fd9\u9879\u4efb\u52a1\u3002\u6574\u4e2a\u6d41\u7a0b\u5206\u4e3a\u4e09\u4e2a\u6e05\u6670\u7684\u9636\u6bb5\uff1a\u9996\u5148\uff0c\u6df1\u5165\u5206\u6790\u60a8\u6307\u5b9a\u7684\u8bba\u6587\u5e76\u751f\u6210\u4e00\u4efd\u6838\u5fc3\u6458\u8981\u7684\u6587\u6863\uff1b\u5176\u6b21\uff0c\u8fdb\u884c\u5173\u8054\u6587\u732e\u7684\u68c0\u7d22\u4e0e\u5206\u6790\uff0c\u4ee5\u4e30\u5bcc\u62a5\u544a\u7684\u6df1\u5ea6\u4e0e\u5e7f\u5ea6\uff1b\u6700\u540e\uff0c\u5c06\u6240\u6709\u4fe1\u606f\u6574\u5408\uff0c\u751f\u6210\u4e00\u4efd\u5168\u9762\u3001\u8be6\u5b9e\u7684\u6700\u7ec8\u7248\u6587\u6863\u3002\n\n\u73b0\u5728\uff0c\u6211\u5c06\u5f00\u59cb\u6267\u884c\u7b2c\u4e00\u9636\u6bb5\u7684\u4efb\u52a1\uff1a\u4e0b\u8f7d\u5e76\u5206\u6790\u8bba\u6587 `https://arxiv.org/pdf/2507.11988`\uff0c\u7136\u540e\u751f\u6210\u4e00\u4efd\u5305\u542b\u6838\u5fc3\u8981\u70b9\u548c\u6df1\u5ea6\u89e3\u8bfb\u7684\u521d\u59cb\u4e2d\u6587\u6587\u6863\u3002\n\n## Action (mewtwo)\nparam=\"task_brief\"\n\u4e0b\u8f7d\u5e76\u5206\u6790\u6307\u5b9a\u7684Arxiv\u8bba\u6587\uff0c\u751f\u6210\u4e00\u4efd\u6838\u5fc3\u6458\u8981\u7684\u4e2d\u6587\u6587\u6863\u3002\n\"\"\"param=\"task\"\n**\u4efb\u52a1\u76ee\u6807:** \u6839\u636e\u6307\u5b9a\u7684\u5b66\u672f\u8bba\u6587 `https://arxiv.org/pdf/2507.11988`\uff0c\u751f\u6210\u4e00\u4efd\u7cbe\u70bc\u3001\u6709\u6df1\u5ea6\u7684\u6838\u5fc3\u8981\u70b9\u4e2d\u6587\u6458\u8981\u6587\u6863\u3002\n\n**\u8be6\u7ec6\u6b65\u9aa4:**\n1.  **\u83b7\u53d6\u5e76\u9605\u8bfb\u8bba\u6587**: \u4f7f\u7528 `arxiv` \u5de5\u5177\uff0c\u4ece\u6307\u5b9a\u7684 URL (`https://arxiv.org/pdf/2507.11988`) \u4e0b\u8f7d\u5e76\u9605\u8bfb\u8bba\u6587\u7684\u5168\u90e8\u5185\u5bb9\u3002\n2.  **\u63d0\u70bc\u4e0e\u603b\u7ed3\u6838\u5fc3\u5185\u5bb9**: \u8bf7\u6df1\u5165\u7406\u89e3\u8bba\u6587\u5185\u5bb9\uff0c\u5e76\u751f\u6210\u4e00\u4efd\u9ad8\u8d28\u91cf\u7684\u4e2d\u6587\u603b\u7ed3\u3002\u603b\u7ed3\u5185\u5bb9\u5fc5\u987b\u4e25\u683c\u9075\u5faa\u7528\u6237\u8981\u6c42\uff0c\u5305\u542b\u4ee5\u4e0b\u90e8\u5206\uff1a\n    - **\u6458\u8981\u603b\u7ed3**: \u63d0\u53d6\u5e76\u603b\u7ed3\u8bba\u6587\u6458\u8981\uff0c\u68b3\u7406\u5176\u6838\u5fc3\u7684\u521b\u65b0/\u529f\u80fd\u70b9\u3002\u5e94\u6db5\u76d6\u7814\u7a76\u80cc\u666f\u3001\u4e3b\u8981\u8d21\u732e\u3001\u65b9\u6cd5\u6982\u8ff0\u548c\u7ed3\u8bba\u7b49\u5b8c\u6574\u8981\u7d20\u3002\n    - **\u6838\u5fc3\u529f\u80fd/\u521b\u65b0\u70b9\u9610\u8ff0**: \u7cbe\u7b80\u5730\u603b\u7ed3\u5e76\u9610\u8ff0\u8bba\u6587\u7684\u6838\u5fc3\u529f\u80fd/\u521b\u65b0\u70b9\u3002\u5728\u603b\u7ed3\u65f6\uff0c\u4e0d\u4ec5\u8981\u8bf4\u660e\u201c\u662f\u4ec0\u4e48\u201d\uff0c\u8fd8\u8981\u6df1\u5165\u9610\u8ff0\u5176\u201c\u4e3a\u4ec0\u4e48\u91cd\u8981\u201d\u4ee5\u53ca\u201c\u4e0e\u73b0\u6709\u65b9\u6cd5\u7684\u533a\u522b\u201d\u3002\n3.  **\u786e\u4fdd\u5185\u5bb9\u8d28\u91cf**:\n    - **\u5b66\u672f\u4e25\u8c28\u6027**: \u51c6\u786e\u5f15\u7528\u8bba\u6587\u4e2d\u7684\u5173\u952e\u6570\u636e\u3001\u5b9e\u9a8c\u7ed3\u679c\u548c\u6280\u672f\u7ec6\u8282\uff0c\u907f\u514d\u4fe1\u606f\u5931\u771f\u3002\n    - **\u53ef\u8bfb\u6027**: \u786e\u4fdd\u6587\u6863\u7ed3\u6784\u5c42\u6b21\u6e05\u6670\uff0c\u5305\u542b\u5b8c\u6574\u7684\u6807\u9898\u5c42\u7ea7\u548c\u903b\u8f91\u8109\u7edc\u3002\n4.  **\u521b\u5efa\u6587\u6863**: \u4f7f\u7528 `files` \u5de5\u5177\u5c06\u8fd9\u4efd\u4e2d\u6587\u603b\u7ed3\u62a5\u544a\u751f\u6210\u4e00\u4e2aMarkdown\u6587\u4ef6\u3002\u6587\u6863\u6807\u9898\u5e94\u6e05\u6670\u53cd\u6620\u8bba\u6587\u4e3b\u9898\u3002\n\"\"\"\n\"\"\"param=\"persona\"\n\u4f60\u662f\u4e00\u4f4d\u8d44\u6df1\u7684AI\u9886\u57df\u7814\u7a76\u5458\uff0c\u7cbe\u901a\u7279\u5b9a\u9886\u57df\u7684\u5b66\u672f\u77e5\u8bc6\uff0c\u64c5\u957f\u5feb\u901f\u9605\u8bfb\u82f1\u6587\u6587\u732e\u5e76\u7cbe\u51c6\u5730\u63d0\u70bc\u6838\u5fc3\u5185\u5bb9\u3002\u4f60\u80fd\u591f\u7528\u6e05\u6670\u3001\u4e13\u4e1a\u7684\u4e2d\u6587\uff0c\u5e76\u7ed3\u5408\u56fe\u8868\u3001\u9ad8\u4eae\u7b49\u5f62\u5f0f\uff0c\u6df1\u5165\u6d45\u51fa\u5730\u9610\u8ff0\u590d\u6742\u7684\u5b66\u672f\u6982\u5ff5\u548c\u6280\u672f\u65b9\u6848\uff0c\u786e\u4fdd\u62a5\u544a\u7684\u4e13\u4e1a\u6027\u548c\u53ef\u8bfb\u6027\u3002\n\"\"\"\n\"\"\"param=\"tools_selection_thought\"\nfiles:maybe\nterminal:no\nresearch:no\nsearch:no\nknowledgebase_search:no\nbrowser:no\narxiv:yes\n\"\"\"\n\"\"\"param=\"tools\"\narxiv,files\n\"\"\"\n</code></pre> <p>Step3: \u6267\u884c\u7b2c\u4e00\u6b65\u4efb\u52a1</p> <pre><code>\u4efb\u52a1\u5df2\u6210\u529f\u5b8c\u6210\u3002\n\n\u6211\u4e25\u683c\u6309\u7167\u4efb\u52a1\u8981\u6c42\uff0c\u5b8c\u6210\u4e86\u5bf9\u5b66\u672f\u8bba\u6587 `https://arxiv.org/pdf/2507.11988` \u7684\u6df1\u5ea6\u5206\u6790\u4e0e\u603b\u7ed3\uff0c\u5e76\u751f\u6210\u4e86\u4e00\u4efd\u9ad8\u8d28\u91cf\u7684\u6587\u6863\u3002\n\n**\u6267\u884c\u6d41\u7a0b\u56de\u987e:**\n1.  **\u8bba\u6587\u83b7\u53d6\u4e0e\u5904\u7406:** \u4f7f\u7528 `mcp:arxiv_download_paper` \u5de5\u5177\u6210\u529f\u4e0b\u8f7d\u4e86\u6307\u5b9a\u8bba\u6587\uff0c\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a\u6613\u4e8e\u5904\u7406\u7684 Markdown \u683c\u5f0f (`papers/2507.11988.md`)\u3002\n2.  **\u5185\u5bb9\u9605\u8bfb\u4e0e\u5206\u6790:** \u901a\u8fc7 `mcp:arxiv_read_paper` \u5de5\u5177\u5b8c\u6574\u9605\u8bfb\u4e86\u8bba\u6587\u5185\u5bb9\uff0c\u4e3a\u540e\u7eed\u63d0\u70bc\u6838\u5fc3\u89c2\u70b9\u5960\u5b9a\u4e86\u57fa\u7840\u3002\n3.  **\u6838\u5fc3\u5185\u5bb9\u63d0\u70bc:** \u6211\u6df1\u5165\u5206\u6790\u4e86\u8bba\u6587\u7684\u7814\u7a76\u80cc\u666f\u3001\u65b9\u6cd5\u8bba\u548c\u5b9e\u9a8c\u7ed3\u679c\uff0c\u64b0\u5199\u4e86\u4e00\u4efd\u8be6\u5c3d\u7684\u4e2d\u6587\u6458\u8981\u62a5\u544a (`report.md`)\uff0c\u5185\u5bb9\u6db5\u76d6\u4e86\u201c\u6458\u8981\u603b\u7ed3\u201d\u548c\u201c\u6838\u5fc3\u529f\u80fd/\u521b\u65b0\u70b9\u9610\u8ff0\u201d\u4e24\u5927\u677f\u5757\uff0c\u786e\u4fdd\u4e86\u5b66\u672f\u4e25\u8c28\u6027\u548c\u4fe1\u606f\u5b8c\u6574\u6027\u3002\n4.  **\u6587\u6863\u751f\u6210:** \u6700\u540e\uff0c\u8c03\u7528 `files` \u5de5\u5177\uff0c\u5c06 `report.md` \u7684\u5185\u5bb9\u8f6c\u5316\u4e3a\u4e00\u4efd\u7ed3\u6784\u6e05\u6670\u3001\u6392\u7248\u4e13\u4e1a\u7684\u6587\u6863\u3002\n\n\u6700\u7ec8\u7684\u6587\u6863\u4e0d\u4ec5\u51c6\u786e\u4f20\u8fbe\u4e86\u8bba\u6587\u7684\u6838\u5fc3\u601d\u60f3\uff0c\u8fd8\u901a\u8fc7\u7cbe\u5fc3\u7684\u6392\u7248\u548c\u5185\u5bb9\u7ec4\u7ec7\uff0c\u589e\u5f3a\u4e86\u62a5\u544a\u7684\u53ef\u8bfb\u6027\u3002\n</code></pre> <p>Step4: \u66f4\u65b0\u8fdb\u5ea6</p> <pre><code>- [x] **Phase 1: \u8bba\u6587\u5206\u6790\u4e0e\u6458\u8981\u751f\u6210**\n    - [x] \u4ece\u6307\u5b9a URL \u4e0b\u8f7d\u5e76\u9605\u8bfb\u5b66\u672f\u8bba\u6587\n    - [x] \u5206\u6790\u8bba\u6587\u4ee5\u63d0\u70bc\u5176\u6838\u5fc3\u8bba\u70b9\u3001\u65b9\u6cd5\u548c\u7ed3\u8bba\n    - [x] \u5c06\u6838\u5fc3\u8981\u70b9\u603b\u7ed3\u4e3a\u6307\u5b9a\u7684\u76ee\u6807\u8bed\u8a00\uff08\u4e2d\u6587\uff09\n    - [x] \u751f\u6210\u5305\u542b\u8be5\u6458\u8981\u7684\u521d\u59cb\u6587\u6863\n- [ ] **Phase 2: \u5173\u8054\u6587\u732e\u68c0\u7d22\u4e0e\u5206\u6790**\n    - [ ] \u8bc6\u522b\u76ee\u6807\u8bba\u6587\u7684\u4f5c\u8005\u548c\u7814\u7a76\u56e2\u961f\n    - [ ] \u68c0\u7d22\u540c\u4e00\u56e2\u961f\u7684\u5176\u4ed6\u76f8\u5173\u8bba\u6587\n    - [ ] \u68c0\u7d22\u5177\u6709\u76f8\u4f3c\u65b9\u6cd5\u6216\u7ed3\u8bba\u7684\u8bba\u6587\n    - [ ] \u68c0\u7d22\u5177\u6709\u4e0d\u540c\u6216\u76f8\u53cd\u89c2\u70b9\u7684\u8bba\u6587\n    - [ ] \u5206\u6790\u5e76\u6574\u7406\u68c0\u7d22\u5230\u7684\u6587\u732e\n- [ ] **Phase 3: \u6587\u6863\u4e30\u5bcc\u5316\u4e0e\u7ec8\u7a3f**\n    - [ ] \u8bfb\u53d6\u521d\u59cb\u6458\u8981\u6587\u6863\u548c\u6574\u7406\u597d\u7684\u5173\u8054\u6587\u732e\u5206\u6790\n    - [ ] \u5c06\u5173\u8054\u6587\u732e\u7684\u5206\u6790\u7ed3\u679c\u6574\u5408\u5230\u6458\u8981\u6587\u6863\u4e2d\n    - [ ] \u4f7f\u7528\u7efc\u5408\u5185\u5bb9\u66f4\u65b0\u6700\u7ec8\u6587\u6863\n</code></pre> <p>Step5: \u89c4\u5212\u7b2c\u4e8c\u6b65\u4efb\u52a1</p> <pre><code>## Progress\n- [x] **Phase 1: \u8bba\u6587\u5206\u6790\u4e0e\u6458\u8981\u751f\u6210**\n    - [x] \u4ece\u6307\u5b9a URL \u4e0b\u8f7d\u5e76\u9605\u8bfb\u5b66\u672f\u8bba\u6587\n    - [x] \u5206\u6790\u8bba\u6587\u4ee5\u63d0\u70bc\u5176\u6838\u5fc3\u8bba\u70b9\u3001\u65b9\u6cd5\u548c\u7ed3\u8bba\n    - [x] \u5c06\u6838\u5fc3\u8981\u70b9\u603b\u7ed3\u4e3a\u6307\u5b9a\u7684\u76ee\u6807\u8bed\u8a00\uff08\u4e2d\u6587\uff09\n    - [x] \u751f\u6210\u5305\u542b\u8be5\u6458\u8981\u7684\u521d\u59cb\u6587\u6863\n- [ ] **Phase 2: \u5173\u8054\u6587\u732e\u68c0\u7d22\u4e0e\u5206\u6790**\n    - [ ] \u8bc6\u522b\u76ee\u6807\u8bba\u6587\u7684\u4f5c\u8005\u548c\u7814\u7a76\u56e2\u961f\n    - [ ] \u68c0\u7d22\u540c\u4e00\u56e2\u961f\u7684\u5176\u4ed6\u76f8\u5173\u8bba\u6587\n    - [ ] \u68c0\u7d22\u5177\u6709\u76f8\u4f3c\u65b9\u6cd5\u6216\u7ed3\u8bba\u7684\u8bba\u6587\n    - [ ] \u68c0\u7d22\u5177\u6709\u4e0d\u540c\u6216\u76f8\u53cd\u89c2\u70b9\u7684\u8bba\u6587\n    - [ ] \u5206\u6790\u5e76\u6574\u7406\u68c0\u7d22\u5230\u7684\u6587\u732e\n- [ ] **Phase 3: \u6587\u6863\u4e30\u5bcc\u5316\u4e0e\u7ec8\u7a3f**\n    - [ ] \u8bfb\u53d6\u521d\u59cb\u6458\u8981\u6587\u6863\u548c\u6574\u7406\u597d\u7684\u5173\u8054\u6587\u732e\u5206\u6790\n    - [ ] \u5c06\u5173\u8054\u6587\u732e\u7684\u5206\u6790\u7ed3\u679c\u6574\u5408\u5230\u6458\u8981\u6587\u6863\u4e2d\n    - [ ] \u4f7f\u7528\u7efc\u5408\u5185\u5bb9\u66f4\u65b0\u6700\u7ec8\u6587\u6863\n\n## Rationale\n\u7b2c\u4e00\u9636\u6bb5\u201c\u8bba\u6587\u5206\u6790\u4e0e\u6458\u8981\u751f\u6210\u201d\u5df2\u6210\u529f\u5b8c\u6210\uff0c\u5e76\u4ea7\u51fa\u4e86\u4e00\u4efd\u9ad8\u8d28\u91cf\u7684\u6587\u6863\u3002\u73b0\u5728\uff0c\u6211\u4eec\u5c06\u8fdb\u5165SOP\u7684\u7b2c\u4e8c\u9636\u6bb5\uff1a\u201c\u5173\u8054\u6587\u732e\u68c0\u7d22\u4e0e\u5206\u6790\u201d\u3002\n\n\u6b64\u9636\u6bb5\u7684\u76ee\u6807\u662f\u56f4\u7ed5\u6838\u5fc3\u8bba\u6587\u300aAIME: \u8fc8\u5411\u5b8c\u5168\u81ea\u4e3b\u7684\u591a\u667a\u80fd\u4f53\u6846\u67b6\u300b\u8fdb\u884c\u6df1\u5165\u7684\u5b66\u672f\u80cc\u666f\u6316\u6398\uff0c\u4ee5\u589e\u5f3a\u6700\u7ec8\u62a5\u544a\u7684\u6df1\u5ea6\u548c\u5168\u9762\u6027\u3002\u6211\u5c06\u59d4\u6d3e\u4e00\u4e2a\u5177\u5907\u5f3a\u5927\u6587\u732e\u68c0\u7d22\u548c\u5206\u6790\u80fd\u529b\u7684`mewtwo` agent\u6765\u6267\u884c\u6b64\u4efb\u52a1\u3002\u8be5agent\u5c06\u9996\u5148\u4ece\u5df2\u4e0b\u8f7d\u7684\u8bba\u6587\u4e2d\u8bc6\u522b\u4f5c\u8005\u548c\u7814\u7a76\u56e2\u961f\uff0c\u7136\u540e\u4ece\u4e09\u4e2a\u7ef4\u5ea6\uff08\u4f5c\u8005\u76f8\u5173\u5de5\u4f5c\u3001\u76f8\u4f3c\u7814\u7a76\u3001\u4e0d\u540c/\u76f8\u53cd\u601d\u8def\u7684\u7814\u7a76\uff09\u8fdb\u884c\u5168\u9762\u7684\u6587\u732e\u68c0\u7d22\uff0c\u6700\u540e\u5c06\u6240\u6709\u53d1\u73b0\u6574\u7406\u6210\u4e00\u4efd\u7ed3\u6784\u5316\u7684Markdown\u6587\u4ef6\uff0c\u4e3a\u7b2c\u4e09\u9636\u6bb5\u7684\u5185\u5bb9\u6574\u5408\u505a\u51c6\u5907\u3002\n\n## Action (mewtwo)\n\"\"\"param=\"task_brief\"\n\u56f4\u7ed5\u6838\u5fc3\u8bba\u6587\u8fdb\u884c\u5168\u9762\u7684\u5173\u8054\u6587\u732e\u68c0\u7d22\u4e0e\u5206\u6790\u3002\n\"\"\"\n\"\"\"param=\"task\"\n**\u4efb\u52a1\u76ee\u6807:** \u56f4\u7ed5\u76ee\u6807\u8bba\u6587 `AIME: Towards Fully Autonomous Multi-agent Frameworks` (\u5b58\u50a8\u4e8e `papers/2507.11988.md`)\uff0c\u6267\u884c\u4e00\u4e2a\u5168\u9762\u7684\u5173\u8054\u6587\u732e\u68c0\u7d22\u4e0e\u5206\u6790\u4efb\u52a1\u3002\n\n**\u8be6\u7ec6\u6b65\u9aa4:**\n1.  **\u8bc6\u522b\u4f5c\u8005\u4e0e\u56e2\u961f**: \u9996\u5148\uff0c\u4ece\u5df2\u6709\u7684\u8bba\u6587\u6587\u4ef6 `papers/2507.11988.md` \u4e2d\u8bc6\u522b\u51fa\u4e3b\u8981\u4f5c\u8005\u53ca\u5176\u6240\u5c5e\u7684\u7814\u7a76\u56e2\u961f\u3002\n2.  **\u6267\u884c\u4e09\u7c7b\u68c0\u7d22**:\n    *   **\u4f5c\u8005\u76f8\u5173\u5de5\u4f5c**: \u67e5\u627e\u4e3b\u8981\u4f5c\u8005\u5728\u591a\u667a\u80fd\u4f53\u7cfb\u7edf\u3001\u81ea\u4e3bAI\u6846\u67b6\u7b49\u76f8\u5173\u9886\u57df\u7684\u5176\u4ed6\u91cd\u8981\u8bba\u6587\u3002\n    *   **\u76f8\u4f3c\u7814\u7a76**: \u67e5\u627e\u4e0e\u201cAIME\u201d\u6846\u67b6\u601d\u60f3\u7c7b\u4f3c\u7684\u8bba\u6587\uff0c\u7279\u522b\u662f\u90a3\u4e9b\u5c1d\u8bd5\u89e3\u51b3\u76f8\u540c\u95ee\u9898\uff08\u5982\u81ea\u4e3b\u534f\u4f5c\u3001\u52a8\u6001\u4efb\u52a1\u89c4\u5212\uff09\u6216\u4f7f\u7528\u76f8\u4f3c\u65b9\u6cd5\uff08\u5982\u5206\u5c42\u63a7\u5236\u3001\u591a\u667a\u80fd\u4f53\u901a\u4fe1\uff09\u7684\u8bba\u6587\u3002\n    *   **\u4e0d\u540c/\u76f8\u53cd\u601d\u8def\u7684\u7814\u7a76**: \u67e5\u627e\u63d0\u51fa\u4e0d\u540c\u6280\u672f\u8def\u7ebf\uff08\u4f8b\u5982\uff0c\u4e2d\u5fc3\u5316\u63a7\u5236 vs. AIME\u7684\u53bb\u4e2d\u5fc3\u5316\u534f\u4f5c\uff09\u6216\u5bf9AIME\u89c2\u70b9\u63d0\u51fa\u6311\u6218\u7684\u8bba\u6587\u3002\n3.  **\u6574\u7406\u5e76\u8f93\u51fa\u7ed3\u679c**: \u5c06\u68c0\u7d22\u5230\u7684\u6240\u6709\u76f8\u5173\u8bba\u6587\u6574\u7406\u6210\u4e00\u4e2a\u7ed3\u6784\u5316\u7684\u5217\u8868\u3002\u5bf9\u4e8e\u6bcf\u4e00\u7bc7\u8bba\u6587\uff0c\u8bf7\u63d0\u4f9b\uff1a\n    *   \u6807\u9898\u548c\u4f5c\u8005\u3002\n    *   \u8bba\u6587\u7684\u516c\u5f00\u8bbf\u95ee\u94fe\u63a5 (\u4f18\u5148\u4f7f\u7528 arXiv \u94fe\u63a5)\u3002\n    *   \u7b80\u8981\u8bf4\u660e\u5176\u4e0e\u76ee\u6807\u8bba\u6587\u7684\u5173\u8054\u6027\uff08\u5c5e\u4e8e\u4e0a\u8ff0\u54ea\u4e00\u7c7b\uff0c\u6838\u5fc3\u89c2\u70b9\u662f\u4ec0\u4e48\uff09\u3002\n4.  **\u4fdd\u5b58\u7ed3\u679c**: \u5c06\u6700\u7ec8\u7684\u6574\u7406\u7ed3\u679c\u4fdd\u5b58\u5230\u4e00\u4e2a\u540d\u4e3a `related_literature_report.md` \u7684 Markdown \u6587\u4ef6\u4e2d\uff0c\u4ee5\u4fbf\u540e\u7eed\u6b65\u9aa4\u4f7f\u7528\u3002\n\"\"\"\n\"\"\"param=\"persona\"\n\u4f60\u662f\u4e00\u540d\u9876\u5c16\u7684AI\u9886\u57df\u6587\u732e\u7814\u7a76\u5458\uff0c\u62e5\u6709\u5f3a\u5927\u7684\u4fe1\u606f\u68c0\u7d22\u548c\u5206\u6790\u80fd\u529b\u3002\u4f60\u80fd\u591f\u5feb\u901f\u5b9a\u4f4d\u4e00\u4e2a\u7814\u7a76\u9886\u57df\u5185\u7684\u5173\u952e\u8bba\u6587\u3001\u8ffd\u8e2a\u7279\u5b9a\u5b66\u8005\u6216\u56e2\u961f\u7684\u7814\u7a76\u8109\u7edc\uff0c\u5e76\u8bc6\u522b\u51fa\u4e0d\u540c\u6280\u672f\u8def\u7ebf\u7684\u4ee3\u8868\u6027\u5de5\u4f5c\u3002\n\"\"\"\n\"\"\"param=\"tools_selection_thought\"\nfiles:maybe\nterminal:no\nresearch:no\nsearch:yes\nknowledgebase_search:no\nbrowser:no\narxiv:yes\n\"\"\"\n\"\"\"param=\"tools\"\narxiv,search,files\n\"\"\"\n</code></pre> <p>Step6: \u6267\u884c\u7b2c\u4e8c\u6b65\u4efb\u52a1</p> <pre><code>\u4efb\u52a1\u5df2\u6210\u529f\u5b8c\u6210\u3002\n\n\u6211\u4e25\u683c\u6309\u7167\u4efb\u52a1\u8981\u6c42\uff0c\u56f4\u7ed5\u76ee\u6807\u8bba\u6587 `AIME: Towards Fully-Autonomous Multi-agent Frameworks`\uff0c\u6267\u884c\u4e86\u5168\u9762\u7684\u5173\u8054\u6587\u732e\u68c0\u7d22\u4e0e\u5206\u6790\u3002\n\n**\u6267\u884c\u6d41\u7a0b\u56de\u987e:**\n1.  **\u8bc6\u522b\u4f5c\u8005\u4e0e\u56e2\u961f**: \u6211\u9996\u5148\u5206\u6790\u4e86\u8bba\u6587 `papers/2507.11988.md`\uff0c\u51c6\u786e\u8bc6\u522b\u51fa\u4e86\u4e3b\u8981\u4f5c\u8005\uff08Yexuan Shi \u7b49\uff09\u53ca\u5176\u6240\u5c5e\u673a\u6784\uff08ByteDance\uff09\uff0c\u5e76\u63d0\u70bc\u4e86\u8bba\u6587\u7684\u6838\u5fc3\u4e3b\u9898\u3002\n2.  **\u6267\u884c\u4e09\u7c7b\u68c0\u7d22**: \u57fa\u4e8e\u5206\u6790\u7ed3\u679c\uff0c\u6211\u8bbe\u8ba1\u4e86\u7cbe\u51c6\u7684\u68c0\u7d22\u7b56\u7565\uff0c\u5e76\u5229\u7528 `search` \u5de5\u5177\u9ad8\u6548\u5730\u67e5\u627e\u4e86\u4e09\u7c7b\u6587\u732e\uff1a\n    *   **\u4f5c\u8005\u76f8\u5173\u5de5\u4f5c**: \u63a2\u7d22\u4e86\u4e3b\u8981\u4f5c\u8005\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u548c\u6570\u636e\u8054\u90a6\u7b49\u9886\u57df\u7684\u7814\u7a76\uff0c\u4e3a\u5176\u8bbe\u8ba1 AIME \u6846\u67b6\u63d0\u4f9b\u4e86\u6280\u672f\u80cc\u666f\u3002\n    *   **\u76f8\u4f3c\u7814\u7a76**: \u627e\u5230\u4e86\u5982 `AgentNet`\u3001`MetaGPT` \u7b49\u5728\u7406\u5ff5\u6216\u76ee\u6807\u4e0a\u4e0e AIME \u76f8\u4f3c\u7684\u6846\u67b6\uff0c\u5e76\u8fdb\u884c\u4e86\u5bf9\u6bd4\u5206\u6790\u3002\n    *   **\u4e0d\u540c/\u76f8\u53cd\u601d\u8def\u7684\u7814\u7a76**: \u68c0\u7d22\u4e86\u63a2\u8ba8\u4e2d\u5fc3\u5316\u4e0e\u53bb\u4e2d\u5fc3\u5316\u63a7\u5236\u7b56\u7565\u7684\u6587\u732e\uff0c\u4e3a\u7406\u89e3 AIME \u7684\u6df7\u5408\u67b6\u6784\u8bbe\u8ba1\u63d0\u4f9b\u4e86\u7406\u8bba\u89c6\u89d2\u3002\n3.  **\u6574\u7406\u5e76\u8f93\u51fa\u7ed3\u679c**: \u6211\u5c06\u6240\u6709\u68c0\u7d22\u548c\u5206\u6790\u7ed3\u679c\u7cfb\u7edf\u5730\u6574\u7406\u6210\u4e86\u4e00\u4efd\u7ed3\u6784\u6e05\u6670\u7684 Markdown \u62a5\u544a\u3002\n4.  **\u4fdd\u5b58\u7ed3\u679c**: \u6700\u7ec8\u62a5\u544a\u5df2\u4fdd\u5b58\u4e3a `related_literature_report.md` \u6587\u4ef6\u3002\n\n\u8fd9\u4efd\u62a5\u544a\u4e3a\u6df1\u5165\u7406\u89e3 AIME \u6846\u67b6\u7684\u6280\u672f\u80cc\u666f\u3001\u521b\u65b0\u70b9\u53ca\u5176\u5728\u73b0\u6709\u7814\u7a76\u683c\u5c40\u4e2d\u7684\u4f4d\u7f6e\u63d0\u4f9b\u4e86\u575a\u5b9e\u7684\u57fa\u7840\u3002\n</code></pre> <p>Step7: \u8fdb\u5ea6\u66f4\u65b0</p> <pre><code>- [x] **Phase 1: \u8bba\u6587\u5206\u6790\u4e0e\u6458\u8981\u751f\u6210**\n    - [x] \u4ece\u6307\u5b9a URL \u4e0b\u8f7d\u5e76\u9605\u8bfb\u5b66\u672f\u8bba\u6587\n    - [x] \u5206\u6790\u8bba\u6587\u4ee5\u63d0\u70bc\u5176\u6838\u5fc3\u8bba\u70b9\u3001\u65b9\u6cd5\u548c\u7ed3\u8bba\n    - [x] \u5c06\u6838\u5fc3\u8981\u70b9\u603b\u7ed3\u4e3a\u6307\u5b9a\u7684\u76ee\u6807\u8bed\u8a00\uff08\u4e2d\u6587\uff09\n    - [x] \u751f\u6210\u5305\u542b\u8be5\u6458\u8981\u7684\u521d\u59cb\u6587\u6863\uff08\u6587\u6863\uff09\n- [x] **Phase 2: \u5173\u8054\u6587\u732e\u68c0\u7d22\u4e0e\u5206\u6790**\n    - [x] \u8bc6\u522b\u76ee\u6807\u8bba\u6587\u7684\u4f5c\u8005\u548c\u7814\u7a76\u56e2\u961f\n    - [x] \u68c0\u7d22\u540c\u4e00\u56e2\u961f\u7684\u5176\u4ed6\u76f8\u5173\u8bba\u6587\n    - [x] \u68c0\u7d22\u5177\u6709\u76f8\u4f3c\u65b9\u6cd5\u6216\u7ed3\u8bba\u7684\u8bba\u6587\n    - [x] \u68c0\u7d22\u5177\u6709\u4e0d\u540c\u6216\u76f8\u53cd\u89c2\u70b9\u7684\u8bba\u6587\n    - [x] \u5206\u6790\u5e76\u6574\u7406\u68c0\u7d22\u5230\u7684\u6587\u732e\n- [ ] **Phase 3: \u6587\u6863\u4e30\u5bcc\u5316\u4e0e\u7ec8\u7a3f**\n    - [ ] \u8bfb\u53d6\u521d\u59cb\u6458\u8981\u6587\u6863\u548c\u6574\u7406\u597d\u7684\u5173\u8054\u6587\u732e\u5206\u6790\n    - [ ] \u5c06\u5173\u8054\u6587\u732e\u7684\u5206\u6790\u7ed3\u679c\u6574\u5408\u5230\u6458\u8981\u6587\u6863\u4e2d\n    - [ ] \u4f7f\u7528\u7efc\u5408\u5185\u5bb9\u66f4\u65b0\u6700\u7ec8\u6587\u6863\n</code></pre> <p>Step8\uff1a\u89c4\u5212\u7b2c\u4e09\u6b65\u4efb\u52a1</p> <pre><code>## Progress\n- [x] **Phase 1: \u8bba\u6587\u5206\u6790\u4e0e\u6458\u8981\u751f\u6210**\n    - [x] \u4ece\u6307\u5b9a URL \u4e0b\u8f7d\u5e76\u9605\u8bfb\u5b66\u672f\u8bba\u6587\n    - [x] \u5206\u6790\u8bba\u6587\u4ee5\u63d0\u70bc\u5176\u6838\u5fc3\u8bba\u70b9\u3001\u65b9\u6cd5\u548c\u7ed3\u8bba\n    - [x] \u5c06\u6838\u5fc3\u8981\u70b9\u603b\u7ed3\u4e3a\u6307\u5b9a\u7684\u76ee\u6807\u8bed\u8a00\uff08\u4e2d\u6587\uff09\n    - [x] \u751f\u6210\u5305\u542b\u8be5\u6458\u8981\u7684\u521d\u59cb\u6587\u6863\uff08\u6587\u6863\uff09\n- [x] **Phase 2: \u5173\u8054\u6587\u732e\u68c0\u7d22\u4e0e\u5206\u6790**\n    - [x] \u8bc6\u522b\u76ee\u6807\u8bba\u6587\u7684\u4f5c\u8005\u548c\u7814\u7a76\u56e2\u961f\n    - [x] \u68c0\u7d22\u540c\u4e00\u56e2\u961f\u7684\u5176\u4ed6\u76f8\u5173\u8bba\u6587\n    - [x] \u68c0\u7d22\u5177\u6709\u76f8\u4f3c\u65b9\u6cd5\u6216\u7ed3\u8bba\u7684\u8bba\u6587\n    - [x] \u68c0\u7d22\u5177\u6709\u4e0d\u540c\u6216\u76f8\u53cd\u89c2\u70b9\u7684\u8bba\u6587\n    - [x] \u5206\u6790\u5e76\u6574\u7406\u68c0\u7d22\u5230\u7684\u6587\u732e\n- [ ] **Phase 3: \u6587\u6863\u4e30\u5bcc\u5316\u4e0e\u7ec8\u7a3f**\n    - [ ] \u8bfb\u53d6\u521d\u59cb\u6458\u8981\u6587\u6863\u548c\u6574\u7406\u597d\u7684\u5173\u8054\u6587\u732e\u5206\u6790\n    - [ ] \u5c06\u5173\u8054\u6587\u732e\u7684\u5206\u6790\u7ed3\u679c\u6574\u5408\u5230\u6458\u8981\u6587\u6863\u4e2d\n    - [ ] \u4f7f\u7528\u7efc\u5408\u5185\u5bb9\u66f4\u65b0\u6700\u7ec8\u6587\u6863\n\n## Rationale\n\u524d\u4e24\u4e2a\u9636\u6bb5\u7684\u4efb\u52a1\u5df2\u5706\u6ee1\u5b8c\u6210\u3002\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u4e00\u4efd\u5173\u4e8e\u6838\u5fc3\u8bba\u6587\u7684\u6df1\u5ea6\u6458\u8981\u6587\u6863\uff0c\u4ee5\u53ca\u4e00\u4efd\u8be6\u5c3d\u7684\u5173\u8054\u6587\u732e\u5206\u6790\u62a5\u544a\u3002\n\n\u73b0\u5728\uff0c\u6211\u4eec\u8fdb\u5165SOP\u7684\u6700\u540e\u9636\u6bb5\u2014\u2014\u201c\u6587\u6863\u4e30\u5bcc\u5316\u4e0e\u7ec8\u7a3f\u201d\u3002\u6b64\u9636\u6bb5\u7684\u6838\u5fc3\u4efb\u52a1\u662f\u5c06\u7b2c\u4e8c\u9636\u6bb5\u4ea7\u51fa\u7684\u5b66\u672f\u80cc\u666f\u548c\u5173\u8054\u7814\u7a76\u5206\u6790\uff0c\u65e0\u7f1d\u5730\u6574\u5408\u5230\u7b2c\u4e00\u9636\u6bb5\u751f\u6210\u7684\u521d\u59cb\u6458\u8981\u6587\u6863\u4e2d\uff0c\u4ece\u800c\u5f62\u6210\u4e00\u4efd\u5185\u5bb9\u66f4\u5168\u9762\u3001\u89c6\u89d2\u66f4\u5b8f\u5927\u7684\u6700\u7ec8\u62a5\u544a\u3002\n\n\u6211\u5c06\u6307\u6d3e\u4e00\u540d\u5177\u5907\u4e25\u8c28\u5b66\u672f\u7f16\u8f91\u80fd\u529b\u7684 `mewtwo` agent \u6765\u6267\u884c\u6b64\u9879\u4efb\u52a1\u3002\u5b83\u5c06\u8bfb\u53d6\u5e76\u5408\u5e76\u4e24\u4e2a\u6838\u5fc3\u6587\u4ef6\uff0c\u7136\u540e\u4f7f\u7528\u6574\u5408\u540e\u7684\u5185\u5bb9\u8986\u76d6\u5e76\u66f4\u65b0\u5df2\u521b\u5efa\u7684\u6587\u6863\uff0c\u786e\u4fdd\u6700\u7ec8\u4ea7\u51fa\u7684\u62a5\u544a\u903b\u8f91\u8fde\u8d2f\u3001\u7ed3\u6784\u6e05\u6670\u3001\u4fe1\u606f\u5b8c\u6574\u3002\n\n## Action (mewtwo)\n\"\"\"param=\"task_brief\"\n\u5c06\u5173\u8054\u6587\u732e\u5206\u6790\u62a5\u544a\u6574\u5408\u5230\u5df2\u6709\u7684\u8bba\u6587\u6458\u8981\u6587\u6863\u4e2d\uff0c\u751f\u6210\u6700\u7ec8\u7248\u62a5\u544a\u3002\n\"\"\"\n\"\"\"param=\"task\"\n**\u4efb\u52a1\u76ee\u6807:** \u5c06\u5173\u8054\u6587\u732e\u5206\u6790\u62a5\u544a\u8865\u5145\u5230\u5df2\u6709\u7684\u4e2d\u6587\u7cbe\u8981\u6587\u6863\u4e2d\uff0c\u5f62\u6210\u6700\u7ec8\u7684\u7efc\u5408\u6027\u62a5\u544a\u3002\n\n**\u8be6\u7ec6\u6b65\u9aa4:**\n1.  **\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9**:\n    *   \u8bfb\u53d6\u4e4b\u524d\u751f\u6210\u7684\u4e2d\u6587\u6458\u8981\u62a5\u544a\u6587\u4ef6 `report.md`\u3002\n    *   \u8bfb\u53d6\u5305\u542b\u5173\u8054\u6587\u732e\u5206\u6790\u7684\u62a5\u544a\u6587\u4ef6 `related_literature_report.md`\u3002\n2.  **\u5185\u5bb9\u6574\u5408**:\n    *   \u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Markdown \u5185\u5bb9\u3002\u9996\u5148\uff0c\u5305\u542b `report.md` \u7684\u5168\u90e8\u5185\u5bb9\u3002\n    *   \u7136\u540e\uff0c\u5728\u672b\u5c3e\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u5927\u6807\u9898\uff0c\u4f8b\u5982 `## \u5173\u8054\u7814\u7a76\u4e0e\u5b66\u672f\u80cc\u666f`\u3002\n    *   \u63a5\u7740\uff0c\u5c06 `related_literature_report.md` \u7684\u5168\u90e8\u5185\u5bb9\u8ffd\u52a0\u5230\u8fd9\u4e2a\u65b0\u6807\u9898\u4e0b\u65b9\u3002\n3.  **\u66f4\u65b0\u6587\u6863**:\n    *   \u4f7f\u7528 `lark_creation` \u5de5\u5177\u7684\u6587\u6863\u66f4\u65b0\u529f\u80fd\u3002\n    *   \u5b9a\u4f4d\u5230\u4e4b\u524d\u521b\u5efa\u7684\u6587\u6863 URL: `https://bytedance.larkoffice.com/docx/MJJTdZnPwoD9Apx7hpHcSKk8nHe`\u3002\n    *   \u7528\u6574\u5408\u540e\u7684\u5168\u65b0 Markdown \u5185\u5bb9\uff0c**\u8986\u76d6\u5e76\u66f4\u65b0**\u8be5\u6587\u6863\u7684\u5168\u90e8\u5185\u5bb9\uff0c\u5b8c\u6210\u6700\u7ec8\u62a5\u544a\u3002\n\"\"\"\n\"\"\"param=\"persona\"\n\u4f60\u662f\u4e00\u4f4d\u4e25\u8c28\u7684\u5b66\u672f\u7f16\u8f91\uff0c\u64c5\u957f\u6574\u5408\u4e0d\u540c\u6765\u6e90\u7684\u4fe1\u606f\uff0c\u5c06\u591a\u4efd\u6587\u6863\u5408\u5e76\u6210\u4e00\u4efd\u903b\u8f91\u8fde\u8d2f\u3001\u7ed3\u6784\u6e05\u6670\u7684\u7efc\u5408\u6027\u62a5\u544a\u3002\u4f60\u5bf9\u7ec6\u8282\u4e00\u4e1d\u4e0d\u82df\uff0c\u786e\u4fdd\u6700\u7ec8\u4ea7\u51fa\u7684\u6587\u6863\u5177\u6709\u6781\u9ad8\u7684\u4e13\u4e1a\u6c34\u51c6\u548c\u53ef\u8bfb\u6027\u3002\n\"\"\"\n\"\"\"param=\"tools_selection_thought\"\nfiles:yes\nterminal:no\nresearch:no\nsearch:no\nknowledgebase_search:no\nbrowser:no\narxiv:no\n\"\"\"\n\"\"\"param=\"tools\"\nfiles\n\"\"\"\n</code></pre> <p>Step9: \u6267\u884c\u7b2c\u4e09\u6b65\u4efb\u52a1</p> <pre><code>\u4efb\u52a1\u5df2\u6210\u529f\u5b8c\u6210\u3002\n\n\u6211\u5df2\u6309\u7167\u8981\u6c42\uff0c\u5c06\u8bba\u6587\u6458\u8981\u62a5\u544a\u4e0e\u5173\u8054\u6587\u732e\u5206\u6790\u62a5\u544a\u6210\u529f\u5408\u5e76\uff0c\u5e76\u751f\u6210\u4e86\u4e00\u4efd\u7efc\u5408\u6027\u7684\u6587\u6863\u3002\n\n**\u6267\u884c\u6b65\u9aa4\uff1a**\n1.  **\u6587\u4ef6\u5408\u5e76**\uff1a\u901a\u8fc7 `bash` \u547d\u4ee4\uff0c\u6211\u5c06 `report.md` \u4e0e `related_literature_report.md` \u7684\u5185\u5bb9\u5408\u5e76\u5230 `final_report.md` \u6587\u4ef6\u4e2d\uff0c\u5e76\u52a0\u5165\u4e86\u65b0\u7684\u4e8c\u7ea7\u6807\u9898\u4ee5\u533a\u5206\u5185\u5bb9\u3002\n2.  **\u6587\u6863\u751f\u6210**\uff1a\u6211\u4f7f\u7528 `lark_creation` \u5de5\u5177\uff0c\u57fa\u4e8e\u6574\u5408\u540e\u7684 `final_report.md`\uff0c\u521b\u5efa\u4e86\u6700\u7ec8\u7684\u62a5\u544a\u3002\n\n\u6700\u7ec8\u7684\u62a5\u544a\u5185\u5bb9\u5168\u9762\uff0c\u7ed3\u6784\u6e05\u6670\uff0c\u8fbe\u5230\u4e86\u9884\u671f\u7684\u4efb\u52a1\u76ee\u6807\u3002\n</code></pre> <p>Step10: \u8fdb\u5ea6\u66f4\u65b0</p> <pre><code>- [x] **Phase 1: \u8bba\u6587\u5206\u6790\u4e0e\u6458\u8981\u751f\u6210**\n    - [x] \u4ece\u6307\u5b9a URL \u4e0b\u8f7d\u5e76\u9605\u8bfb\u5b66\u672f\u8bba\u6587\n    - [x] \u5206\u6790\u8bba\u6587\u4ee5\u63d0\u70bc\u5176\u6838\u5fc3\u8bba\u70b9\u3001\u65b9\u6cd5\u548c\u7ed3\u8bba\n    - [x] \u5c06\u6838\u5fc3\u8981\u70b9\u603b\u7ed3\u4e3a\u6307\u5b9a\u7684\u76ee\u6807\u8bed\u8a00\uff08\u4e2d\u6587\uff09\n    - [x] \u751f\u6210\u5305\u542b\u8be5\u6458\u8981\u7684\u521d\u59cb\u6587\u6863\uff08\u6587\u6863\uff09\n- [x] **Phase 2: \u5173\u8054\u6587\u732e\u68c0\u7d22\u4e0e\u5206\u6790**\n    - [x] \u8bc6\u522b\u76ee\u6807\u8bba\u6587\u7684\u4f5c\u8005\u548c\u7814\u7a76\u56e2\u961f\n    - [x] \u68c0\u7d22\u540c\u4e00\u56e2\u961f\u7684\u5176\u4ed6\u76f8\u5173\u8bba\u6587\n    - [x] \u68c0\u7d22\u5177\u6709\u76f8\u4f3c\u65b9\u6cd5\u6216\u7ed3\u8bba\u7684\u8bba\u6587\n    - [x] \u68c0\u7d22\u5177\u6709\u4e0d\u540c\u6216\u76f8\u53cd\u89c2\u70b9\u7684\u8bba\u6587\n    - [x] \u5206\u6790\u5e76\u6574\u7406\u68c0\u7d22\u5230\u7684\u6587\u732e\n- [x] **Phase 3: \u6587\u6863\u4e30\u5bcc\u5316\u4e0e\u7ec8\u7a3f**\n    - [x] \u8bfb\u53d6\u521d\u59cb\u6458\u8981\u6587\u6863\u548c\u6574\u7406\u597d\u7684\u5173\u8054\u6587\u732e\u5206\u6790\n    - [x] \u5c06\u5173\u8054\u6587\u732e\u7684\u5206\u6790\u7ed3\u679c\u6574\u5408\u5230\u6458\u8981\u6587\u6863\u4e2d\n    - [x] \u4f7f\u7528\u7efc\u5408\u5185\u5bb9\u66f4\u65b0\u6700\u7ec8\u6587\u6863\n</code></pre> <p>Step11: \u4efb\u52a1\u5b8c\u6210</p> <pre><code>\u6211\u5df2\u6210\u529f\u5bf9\u60a8\u6307\u5b9a\u7684\u8bba\u6587\u300aAIME: \u8fc8\u5411\u5b8c\u5168\u81ea\u4e3b\u7684\u591a\u667a\u80fd\u4f53\u6846\u67b6\u300b\u8fdb\u884c\u4e86\u6df1\u5165\u5206\u6790\uff0c\u5e76\u6839\u636e\u60a8\u7684\u8981\u6c42\u751f\u6210\u4e86\u4e00\u4efd\u6e05\u6670\u3001\u6709\u6df1\u5ea6\u7684\u6587\u6863\u3002\u8fd9\u4efd\u6587\u6863\u8be6\u7ec6\u603b\u7ed3\u4e86 AIME \u6846\u67b6\u7684\u6838\u5fc3\u521b\u65b0\u70b9\uff0c\u5305\u62ec\u5176\u81ea\u4e3b\u89c4\u5212\u4e0e\u6267\u884c\u3001\u52a8\u6001\u5de5\u5177\u4f7f\u7528\u3001\u5206\u5c42\u591a\u667a\u80fd\u4f53\u534f\u4f5c\u4ee5\u53ca\u6df7\u5408\u67b6\u6784\u8bbe\u8ba1\uff0c\u65e8\u5728\u89e3\u51b3\u5927\u578b\u8bed\u8a00\u6a21\u578b\u5728\u590d\u6742\u4efb\u52a1\u4e2d\u81ea\u4e3b\u6027\u4e0d\u8db3\u7684\u95ee\u9898\u3002\u6211\u786e\u4fdd\u4e86\u62a5\u544a\u5185\u5bb9\u8be6\u5b9e\u3001\u903b\u8f91\u6e05\u6670\uff0c\u5e76\u7ed3\u5408\u4e86\u76f8\u5173\u6587\u732e\u5206\u6790\uff0c\u5b8c\u5168\u7b26\u5408\u60a8\u5bf9\u6df1\u5ea6\u548c\u4fe1\u606f\u91cf\u7684\u8981\u6c42\u3002\n</code></pre>"},{"location":"cs-life/machine-learn/llm/agent/agent/agent/#agent_2","title":"\u4ee3\u7801 Agent","text":"<p>\u5f53\u524d\u5e02\u573a\u4e0a\u6bd4\u8f83\u8f83\u4e3a\u706b\u7684\u662f Cursor\u3001Claude Code\u3001Trae</p>"},{"location":"cs-life/machine-learn/llm/agent/agent/agent/#trae","title":"Trae \u7cfb\u7edf\u67b6\u6784","text":"<p>Trae Agent Code Repo</p> <p>\u7cfb\u7edf\u67b6\u6784</p> <p></p> <p>\u6570\u636e\u6d41\u56fe</p> <p></p> <p>\u65b0\u5947\u7684\u70b9</p> <ul> <li>Prompt</li> <li>Ckg\uff08Code Knowledge Grpah\uff09: \u7ef4\u62a4\u4ee3\u7801\u7684\u51fd\u6570\u548c\u7c7b\u7684\u539f\u4fe1\u606f\u5230\u672c\u5730\u6570\u636e\u5e93\uff0c</li> <li>sequential thinking\uff1a\u5bf9\u4e4b\u524d\u60f3\u6cd5\u8fdb\u884c\u8d28\u7591\u548c\u4fee\u6539\uff0c</li> </ul> <p>\u4ee3\u7801\u5165\u53e3</p> <pre><code>task_args = {\n    \"project_path\": working_dir,\n    \"issue\": task,\n    \"must_patch\": \"true\" if must_patch else \"false\",\n    \"patch_path\": patch_path,\n}\nagent.new_task(task, task_args)\n_ = asyncio.run(agent.execute_task())\n</code></pre>"},{"location":"cs-life/machine-learn/llm/agent/agent/agent/#_4","title":"\u611f\u60f3","text":"<p>\u73b0\u6709\u7684Agent\u7684\u4f7f\u7528\u4f53\u9a8c</p> <ul> <li>\u5bf9\u4e8e\u4ece0\u52301\u7684\u9879\u76ee\u7684\u6784\u5efa\u63d0\u6548\u662f\u5f88\u5927\u7684</li> <li>\u5bf9\u4e8e\u7ef4\u62a4\u5f88\u4e45\u7684\u4ee3\u7801\u4ed3\u9700\u8981\u66f4\u5927\u7684\u4e0a\u4e0b\u6587\u624d\u80fd\u4f7fAgent\u7406\u89e3\uff0c\u8fd9\u662f\u672a\u6765\u7684\u7a81\u7834\u70b9</li> </ul>"},{"location":"cs-life/machine-learn/llm/agent/agent/agent/#_5","title":"\u9644\u5f55","text":"<ul> <li>Manus\u5b98\u65b9\u7684Context Engineer\u7684\u7ecf\u9a8c\u5206\u4eab<ul> <li>\u5229\u7528 KV Cache\uff0c\u964d\u4f4e\u6a21\u578b\u8c03\u7528\u6210\u672c</li> <li>\u5229\u7528 \u54cd\u5e94\u9884\u586b\u5145\uff0c\u5f15\u5bfc\u6a21\u578b\u5f3a\u5236\u4f7f\u7528\u5bf9\u5e94\u7684\u5de5\u5177</li> </ul> </li> <li>Trae \u6587\u7ae0\u89e3\u8bfb</li> </ul>"},{"location":"cs-life/machine-learn/llm/agent/imo_agent/imo_agent/","title":"IMO-Agent","text":"<p>google gemini \u5728IMO 2025\u83b7\u5f97\u91d1\u724c (solved 5/6)</p>"},{"location":"cs-life/machine-learn/llm/agent/imo_agent/imo_agent/#_1","title":"\u8bbe\u8ba1","text":""},{"location":"cs-life/machine-learn/llm/agent/imo_agent/imo_agent/#workflow","title":"Workflow","text":"<p>At a high level, our pipeline proceeds as follows (illustrated in 1):</p> <ul> <li>Step 1: Initial solution generation with the prompt</li> <li>Step 2: Self-improvement</li> <li>Step 3: Verifying the solution with the prompt and generating a bug report; go to Step 4 or Step 6 (see below for explanations)</li> <li>Step 4: Review of the bug report</li> <li>Step 5: Correcting or improving the solution based on the bug report; go to Step 3</li> <li>Step 6: Accept or Reject</li> </ul> <p></p>"},{"location":"cs-life/machine-learn/llm/agent/imo_agent/imo_agent/#agent","title":"Agent","text":"<p>\u6838\u5fc3\u4ee3\u7801\u6d41\u7a0b</p> <pre><code># \u5177\u4f53Prompt\u5728\u4e0b\u4e00\u8282\nstep1_prompt = \"\" # \u6c42\u89e3\u601d\u8def\nself_improvement_prompt = \"\" # \u81ea\u6539\u8fdb\ncheck_complete_prompt = \"response yes or no if the solution is complete\" # \u5224\u65ad\u662f\u5426\u5b8c\u6210\ncorrection_prompt = \"\" # \u4fee\u6b63Prompt\nverification_system_prompt = \"\" # \u9a8c\u8bc1\u7ed3\u679c\u662f\u5426\u6b63\u786e\nverification_reminder = \"\" # \u6307\u5f15\u4e00\u6b65\u6b65\u9a8c\u8bc1\u8bba\u8bc1\u7ed3\u679c\uff0c\u5982\u6709\u4e0d\u5bf9\uff0c\u7ed9\u51fa\u9519\u8bef\u70b9\n\ndef verify_result(problem_s, solution):\n    # \u9a8c\u8bc1\u7ed3\u679c\u662f\u5426\u6b63\u786e\n    check_correctness_resp = llm_client.request({\n        \"system_prompt\": [verification_system_prompt],\n        \"user_prompt\": [problem_s, solution, verification_reminder],\n    })\n    check_correctness = check_correctness_resp[\"content\"]\n    # \u63d0\u53d6\u9a8c\u8bc1\u7ed3\u679c\n    bug_detail, check_res = extract_detail(check_correctness)\n    return bug_detail, check_res \n\ndef init_explorations(problem_s, other_prompts=[]):\n    # \u521d\u59cb\u5316\u89e3\u9898\u601d\u8def\n    init_req = {\n        \"system_prompt\": [step1_prompt],\n        \"user_prompt\": [problem_s, other_prompts...]\n    }\n    resp1 = llm_client.request(init_req)\n    step1_out = resp1[\"content\"]\n\n    # \u81ea\u6539\u8fdb\n    resp2 = llm_client.request({\n        \"system_prompt\": [],\n        \"user_prompt\": [step1_out, self_improvement_prompt]\n    })\n    solution = resp2[\"content\"]\n    # \u5224\u65ad\u662f\u5426\u5b8c\u6210\n    is_complete_resp = llm_client.request({\n        \"system_prompt\": [],\n        \"user_prompt\": [solution, check_complete_prompt]\n    })\n    is_complete = is_complete_resp[\"content\"]\n    if not is_complete:\n        return None, None, None, None\n    # \u9a8c\u8bc1\u7ed3\u679c\u662f\u5426\u6b63\u786e\uff0c\u4e0d\u6b63\u786e\u7ed9\u51fa\u9519\u8bef\u70b9\n    bug_detail, check_res = verify_result(problem_s, solution)\n    return init_req, solution, bug_detail, check_res\n\ndef agent(problem_s, other_prompts=[]):\n    init_req, solution, bug_detail, check_res = init_explorations(problem_s, other_prompts)\n    max_try = 30\n    correct_cnt, err_cnt = 0, 0\n    for i in range(max_try):\n        if \"yes\" not in check_res:\n            # \u7ed3\u5408solution\u548cbug_detail\u4fee\u6b63solution\n            update_req = init_req.clone()\n            update_req.user_prompt += [solution, bug_detail, correction_prompt]\n\n            resp = llm_client.request(update_req)\n            solution = resp[\"content\"]\n\n        # \u9a8c\u8bc1\u7ed3\u679c\n        bug_detail, check_res = verify_result(problem_s, solution)\n        if \"yes\" in check_res:\n            correct_cnt += 1\n            err_cnt = 0\n        else:\n            err_cnt += 1\n        if correct_cnt &gt;= 5: # \u67095\u6b21\u6b63\u786e\uff0c\u8ba4\u4e3a\u6c42\u89e3\u6210\u529f\n            return solution\n        elif err_cnt &gt;= 10:\n            return None\n\ndef main():\n    max_runs = 10\n    for i in range(max_runs): # \u591a\u6b21\u5c1d\u8bd5\u6c42\u89e3\n        solution = agent(problem_s, other_prompt)\n        if solution is not None:\n            print(\"correct solution\", solution)\n            break\n</code></pre>"},{"location":"cs-life/machine-learn/llm/agent/imo_agent/imo_agent/#prompt","title":"Prompt","text":"<p>step1_prompt</p> <ul> <li>\u6838\u5fc3\u8bf4\u660e<ul> <li>\u4e25\u8c28\u81f3\u5173\u91cd\u8981</li> <li>\u5173\u4e8e\u5b8c\u6574\u6027\u7684\u5766\u8bda\u6001\u5ea6\uff1a \u5982\u679c\u4f60\u627e\u4e0d\u5230\u5b8c\u6574\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u4f60\u7edd\u5bf9\u4e0d\u80fd\u53bb\u731c\u6d4b\u6216\u521b\u9020\u4e00\u4e2a\u770b\u4f3c\u6b63\u786e\u4f46\u5b58\u5728\u9690\u85cf\u7f3a\u9677\u6216\u8bba\u8bc1\u6f0f\u6d1e\u7684\u89e3\u51b3\u65b9\u6848\u3002\u76f8\u53cd\uff0c\u4f60\u5e94\u8be5\u53ea\u5c55\u793a\u90a3\u4e9b\u4f60\u80fd\u591f\u4e25\u683c\u8bc1\u660e\u7684\u91cd\u8981\u90e8\u5206\u6210\u679c\u3002</li> </ul> </li> <li>\u8f93\u51fa\u683c\u5f0f<ol> <li>\u6982\u8ff0\uff1a\u7b80\u8981\u6982\u8ff0\u4f60\u7684\u7814\u7a76\u7ed3\u679c\u3002\u672c\u8282\u5fc5\u987b\u5305\u542b\u4e24\u90e8\u5206\uff1a<ul> <li>\u7ed3\u8bba</li> <li>\u65b9\u6cd5\u6982\u8ff0</li> </ul> </li> <li>\u8be6\u7ec6\u89e3\u51b3\u65b9\u6848\uff1a\u5448\u73b0\u5b8c\u6574\u7684\u3001\u5faa\u5e8f\u6e10\u8fdb\u7684\u6570\u5b66\u8bc1\u660e\u3002\u6bcf\u4e00\u6b65\u90fd\u5fc5\u987b\u6709\u5408\u7406\u7684\u903b\u8f91\u4f9d\u636e\u5e76\u8fdb\u884c\u6e05\u6670\u7684\u89e3\u91ca\u3002</li> </ol> </li> <li>\u81ea\u6211\u7ea0\u6b63\u8bf4\u660e<ul> <li>\u5728\u786e\u5b9a\u6700\u7ec8\u8f93\u51fa\u4e4b\u524d\uff0c\u8bf7\u4ed4\u7ec6\u68c0\u67e5\u4f60\u7684\u201c\u65b9\u6cd5\u8349\u56fe\u201d\u548c\u201c\u8be6\u7ec6\u89e3\u51b3\u65b9\u6848\u201d\uff0c\u786e\u4fdd\u5b83\u4eec\u6e05\u6670\u3001\u4e25\u8c28\uff0c\u5e76\u4e25\u683c\u9075\u5faa\u4e0a\u8ff0\u6240\u6709\u8bf4\u660e\u3002\u9a8c\u8bc1\u6bcf\u4e00\u4e2a\u9648\u8ff0\u662f\u5426\u90fd\u76f4\u63a5\u6709\u52a9\u4e8e\u5f62\u6210\u6700\u7ec8\u8fde\u8d2f\u7684\u6570\u5b66\u8bba\u8bc1\u3002</li> </ul> </li> </ul> <p>self_improvement_prompt</p> <ul> <li>\u4f60\u6709\u673a\u4f1a\u6539\u8fdb\u4f60\u7684\u89e3\u51b3\u65b9\u6848\u3002\u8bf7\u4ed4\u7ec6\u5ba1\u67e5\u4f60\u7684\u89e3\u51b3\u65b9\u6848\u3002\u5982\u6709\u9519\u8bef\u8bf7\u7ea0\u6b63\uff0c\u5982\u6709\u8bba\u8bc1\u4e0d\u8db3\u7684\u5730\u65b9\u8bf7\u8865\u5145\u3002\u4f60\u7b2c\u4e8c\u8f6e\u7684\u8f93\u51fa\u5e94\u4e25\u683c\u9075\u5faa\u7cfb\u7edf\u63d0\u793a\u4e2d\u7684\u8bf4\u660e\u3002</li> </ul> <p>check_complete_prompt</p> <ul> <li>\u4ee5\u4e0b\u6587\u672c\u662f\u5426\u58f0\u79f0\u8be5\u89e3\u51b3\u65b9\u6848\u5df2\u5b8c\u6210\uff1f{solution} \u8bf7\u7cbe\u786e\u56de\u590d\u201c\u662f\u201d\u6216\u201c\u5426\u201d\uff0c\u4e0d\u8981\u8bf4\u5176\u4ed6\u8bdd\u3002</li> </ul> <p>correction_prompt</p> <ul> <li>\u4ee5\u4e0b\u662f\u9519\u8bef\u62a5\u544a\u3002\u5982\u679c\u60a8\u8ba4\u540c\u5176\u4e2d\u7684\u67d0\u4e9b\u6761\u76ee\uff0c\u80fd\u5426\u6539\u8fdb\u60a8\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u4f7f\u5176\u5b8c\u6574\u4e14\u4e25\u8c28\uff1f\u8bf7\u6ce8\u610f\uff0c\u751f\u6210\u9519\u8bef\u62a5\u544a\u7684\u8bc4\u4f30\u4eba\u5458\u53ef\u80fd\u4f1a\u8bef\u89e3\u60a8\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u4ece\u800c\u51fa\u73b0\u9519\u8bef\u3002</li> <li>\u5982\u679c\u4f60\u4e0d\u540c\u610f bug \u62a5\u544a\u4e2d\u7684\u67d0\u4e9b\u5185\u5bb9\uff0c\u8bf7\u6dfb\u52a0\u4e00\u4e9b\u8be6\u7ec6\u7684\u89e3\u91ca\u4ee5\u907f\u514d\u6b64\u7c7b\u8bef\u89e3\u3002\u4f60\u7684\u65b0\u89e3\u51b3\u65b9\u6848\u5e94\u4e25\u683c\u9075\u5faa\u7cfb\u7edf\u63d0\u793a\u4e2d\u7684\u8bf4\u660e\u3002</li> </ul> <p>verification_system_prompt</p> <ul> <li>\u89d2\u8272<ul> <li>\u4f60\u662f\u4e00\u4f4d\u4e13\u4e1a\u6570\u5b66\u5bb6\uff0c\u4e5f\u662f\u4e00\u573a\u56fd\u9645\u6570\u5b66\u5965\u6797\u5339\u514b\uff08IMO\uff09\u6c34\u5e73\u8003\u8bd5\u7684\u4e25\u8c28\u9605\u5377\u4eba\u3002\u4f60\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u4e25\u683c\u9a8c\u8bc1\u6240\u63d0\u4f9b\u7684\u6570\u5b66\u89e3\u7b54\u3002 \u53ea\u6709\u5f53\u6bcf\u4e00\u6b65\u90fd\u6709\u4e25\u683c\u7684\u4f9d\u636e\u65f6\uff0c\u624d\u80fd\u5224\u5b9a\u4e00\u4e2a\u89e3\u7b54\u662f\u6b63\u786e\u7684\u3002 \u901a\u8fc7\u9519\u8bef\u63a8\u7406\u3001\u6709\u6839\u636e\u7684\u731c\u6d4b\u6216\u8bba\u8bc1\u5b58\u5728\u6f0f\u6d1e\u800c\u5f97\u51fa\u6b63\u786e\u6700\u7ec8\u7b54\u6848\u7684\u89e3\u7b54\uff0c\u5fc5\u987b\u88ab\u6807\u8bb0\u4e3a\u9519\u8bef\u6216\u4e0d\u5b8c\u6574\u3002</li> </ul> </li> <li>\u8bf4\u660e<ol> <li>\u6838\u5fc3\u8bf4\u660e<ul> <li>\u4f60\u7684\u552f\u4e00\u4efb\u52a1\u662f\u627e\u51fa\u5e76\u62a5\u544a\u6240\u63d0\u4f9b\u89e3\u51b3\u65b9\u6848\u4e2d\u7684\u6240\u6709\u95ee\u9898\u3002\u4f60\u5fc5\u987b\u626e\u6f14\u4e00\u540d\u9a8c\u8bc1\u8005 \uff0c\u800c\u975e\u89e3\u51b3\u8005\u3002\u8bf7\u52ff\u5c1d\u8bd5\u7ea0\u6b63\u4f60\u53d1\u73b0\u7684\u9519\u8bef\u6216\u586b\u8865\u7a7a\u767d\u3002</li> <li>\u4f60\u5fc5\u987b\u5bf9\u6574\u4e2a\u89e3\u51b3\u65b9\u6848\u8fdb\u884c\u9010\u6b65\u68c0\u67e5\u3002\u6b64\u5206\u6790\u5c06\u5448\u73b0\u5728\u4e00\u4efd\u8be6\u7ec6\u9a8c\u8bc1\u65e5\u5fd7\u4e2d\uff0c\u5728\u8be5\u65e5\u5fd7\u91cc\uff0c\u4f60\u8981\u5bf9\u6bcf\u4e00\u6b65\u7684\u8bc4\u4f30\u7ed9\u51fa\u7406\u7531\uff1a\u5bf9\u4e8e\u6b63\u786e\u7684\u6b65\u9aa4\uff0c\u7b80\u8981\u8bf4\u660e\u5373\u53ef\uff1b\u5bf9\u4e8e\u5b58\u5728\u9519\u8bef\u6216\u6f0f\u6d1e\u7684\u6b65\u9aa4\uff0c\u4f60\u5fc5\u987b\u63d0\u4f9b\u8be6\u7ec6\u89e3\u91ca\u3002</li> </ul> </li> <li>\u5982\u4f55\u5904\u7406\u89e3\u51b3\u65b9\u6848\u4e2d\u7684\u95ee\u9898<ul> <li>\u4e25\u91cd\u9519\u8bef\uff1a \u8fd9\u662f\u4efb\u4f55\u7834\u574f\u8bc1\u660e\u903b\u8f91\u94fe\u7684\u9519\u8bef\u3002\u8fd9\u65e2\u5305\u62ec\u903b\u8f91\u8c2c\u8bef \uff08\u4f8b\u5982\uff0c\u58f0\u79f0 A&gt;B, C&gt;D \u610f\u5473\u7740 A - C&gt;B - D\uff09\uff0c\u4e5f\u5305\u62ec\u4e8b\u5b9e\u6027\u9519\u8bef \uff08\u4f8b\u5982\uff0c\u50cf 2 + 3 = 6 \u8fd9\u6837\u7684\u8ba1\u7b97\u9519\u8bef\uff09\u3002</li> <li>\u5bf9\u9f50\u95f4\u8ddd\uff1a \u8fd9\u9002\u7528\u4e8e\u90a3\u4e9b\u7ed3\u8bba\u53ef\u80fd\u6b63\u786e\uff0c\u4f46\u6240\u63d0\u4f9b\u7684\u8bba\u8bc1\u4e0d\u5b8c\u6574\u3001\u542b\u7cca\u4e0d\u6e05\u6216\u7f3a\u4e4f\u8db3\u591f\u4e25\u8c28\u6027\u7684\u6b65\u9aa4\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u5fc5\u987b\u63d0\u4f9b\u8be6\u7ec6\u7684\u89e3\u91ca\uff0c\u8bf4\u660e\u5982\u4f55\u6539\u8fdb\u8bba\u8bc1\u3002</li> </ul> </li> <li>\u8f93\u51fa\u683c\u5f0f <ul> <li>\u603b\u7ed3\uff1a\u5305\u542b\u4e24\u4e2a\u90e8\u5206<ul> <li>\u6700\u7ec8\u7ed3\u8bba\uff1a\uff1a\u7528\u4e00\u53e5\u6e05\u6670\u7684\u8bdd\u6765\u8868\u660e\u8be5\u89e3\u51b3\u65b9\u6848\u7684\u6574\u4f53\u6709\u6548\u6027\u3002\u4f8b\u5982\uff1a\u201c\u8be5\u89e3\u51b3\u65b9\u6848\u6b63\u786e\u201d\u3001\u201c\u8be5\u89e3\u51b3\u65b9\u6848\u5b58\u5728\u4e25\u91cd\u9519\u8bef\uff0c\u56e0\u6b64\u65e0\u6548\u201d\u6216\u201c\u8be5\u89e3\u51b3\u65b9\u6848\u7684\u65b9\u6cd5\u53ef\u884c\uff0c\u4f46\u5b58\u5728\u51e0\u5904\u8bba\u8bc1\u6f0f\u6d1e\u201d\u3002</li> <li>\u4e00\u4e2a\u5e26\u9879\u76ee\u7b26\u53f7\u7684\u5217\u8868\uff0c\u603b\u7ed3\u4f60\u53d1\u73b0\u7684\u6240\u6709\u95ee\u9898\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u53d1\u73b0\u7684\u95ee\u9898\uff0c\u4f60\u5fc5\u987b\u63d0\u4f9b\uff1a<ul> <li>\u4f4d\u7f6e\uff1a \u95ee\u9898\u51fa\u73b0\u5904\u5173\u952e\u77ed\u8bed\u6216\u516c\u5f0f\u7684\u76f4\u63a5\u5f15\u7528\u3002</li> <li>\u95ee\u9898\uff1a \u5bf9\u95ee\u9898\u7684\u7b80\u8981\u63cf\u8ff0\u53ca\u5176\u5206\u7c7b\uff08 \u4e25\u91cd\u9519\u8bef\u6216\u8bba\u8bc1\u7f3a\u53e3 \uff09\u3002</li> </ul> </li> </ul> </li> <li>\u8be6\u7ec6\u9a8c\u8bc1\u65e5\u5fd7\uff1a\u5728\u603b\u7ed3\u4e4b\u540e\uff0c\u8bf7\u6309\u7167\u6838\u5fc3\u8bf4\u660e\u7684\u5b9a\u4e49\u63d0\u4f9b\u5b8c\u6574\u7684\u3001\u9010\u6b65\u7684\u9a8c\u8bc1\u65e5\u5fd7\u3002\u5f53\u4f60\u63d0\u53ca\u89e3\u51b3\u65b9\u6848\u7684\u7279\u5b9a\u90e8\u5206\u65f6\uff0c\u5728\u5bf9\u8be5\u90e8\u5206\u8fdb\u884c\u8be6\u7ec6\u5206\u6790\u4e4b\u524d\uff0c \u5f15\u7528\u76f8\u5173\u6587\u672c\u4ee5\u660e\u786e\u4f60\u7684\u5f15\u7528\u5185\u5bb9\u3002</li> </ul> </li> </ol> </li> <li>\u793a\u4f8b<ul> <li>\u6700\u7ec8\u7ed3\u8bba\uff1a \u8be5\u89e3\u51b3\u65b9\u6848\u65e0\u6548 \uff0c\u56e0\u4e3a\u5b83\u5305\u542b\u4e00\u4e2a\u4e25\u91cd\u9519\u8bef\u3002</li> <li>\u8c03\u67e5\u7ed3\u679c\u5217\u8868\uff1a<ul> <li>\u4f4d\u7f6e\uff1a \u201c\u901a\u8fc7\u4ea4\u6362\u6781\u9650\u548c\u79ef\u5206\uff0c\u6211\u4eec\u5f97\u5230\u2026\u2026\u201d<ul> <li>\u95ee\u9898\uff1a \u7f3a\u4e4f\u5408\u7406\u6027\u4f9d\u636e\u2014\u2014\u8be5\u89e3\u51b3\u65b9\u6848\u5728\u672a\u63d0\u4f9b\u5408\u7406\u6027\u4f9d\u636e\uff08\u5982\u8bc1\u660e\u4e00\u81f4\u6536\u655b\u6027\uff09\u7684\u60c5\u51b5\u4e0b\u4ea4\u6362\u4e86\u6781\u9650\u548c\u79ef\u5206\u7684\u987a\u5e8f\u3002</li> </ul> </li> <li>\u4f4d\u7f6e\uff1a \u201c\u7531 $A &gt; B$ \u548c $C &gt; D$ \u53ef\u63a8\u51fa $A - C &gt; B - D$\u201d<ul> <li>\u95ee\u9898\uff1a \u4e25\u91cd\u9519\u8bef\u2014\u2014\u8fd9\u4e00\u6b65\u5b58\u5728\u903b\u8f91\u8c2c\u8bef\u3002\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u5bf9\u4e0d\u7b49\u5f0f\u8fdb\u884c\u76f8\u51cf\u5e76\u975e\u6709\u6548\u7684\u6570\u5b66\u8fd0\u7b97\u3002</li> </ul> </li> </ul> </li> </ul> </li> </ul> <p>verification_reminder</p> <ul> <li>\u4f60\u7684\u4efb\u52a1\u662f\u62c5\u4efb\u56fd\u9645\u6570\u5b66\u5965\u6797\u5339\u514b\uff08IMO\uff09\u7684\u8bc4\u5206\u5458\u3002\u73b0\u5728\uff0c\u4e3a\u4e0a\u8ff0\u89e3\u7b54\u751f\u6210\u603b\u7ed3\u548c\u9010\u6b65\u9a8c\u8bc1\u8bb0\u5f55 \u3002\u5728\u4f60\u7684\u8bb0\u5f55\u4e2d\uff0c\u8981\u6309\u7167\u4e0a\u8ff0\u8bf4\u660e\u5bf9\u6bcf\u4e00\u4e2a\u6b63\u786e\u6b65\u9aa4\u8fdb\u884c\u8bba\u8bc1\uff0c\u5e76\u8be6\u7ec6\u89e3\u91ca\u4f60\u53d1\u73b0\u7684\u4efb\u4f55\u9519\u8bef\u6216\u8bba\u8bc1\u6f0f\u6d1e\u3002</li> </ul>"},{"location":"cs-life/machine-learn/llm/agent/imo_agent/imo_agent/#_2","title":"\u9644\u5f55","text":"<ul> <li>Gemini 2.5 Pro Capable of Winning Gold at IMO 2025</li> <li>IMO25 Agent Code</li> <li>\u89c6\u9891\u8bb2\u89e3</li> </ul>"},{"location":"cs-life/machine-learn/llm/agent/langmanus/langmanus/","title":"\u6df1\u5165\u7406\u89e3LangManus","text":""},{"location":"cs-life/machine-learn/llm/agent/langmanus/langmanus/#_1","title":"\u76ee\u6807","text":"<p>\u9605\u8bfbLangManus\u4ee3\u7801\uff0c\u5b66\u4e60<code>ReAct Agent</code>\u7684\u8bbe\u8ba1</p> <p></p> <ul> <li>coordinator\uff1a\u81ea\u884c\u5904\u7406\u7b80\u5355\u95ee\u9898\uff0c\u590d\u6742\u95ee\u9898\u79fb\u4ea4planner</li> <li>planner\uff1a\u534f\u8c03\u591aAgent\uff0c\u8bbe\u8ba1\u8ba1\u5212-&gt;\u660e\u786e\u6b65\u9aa4-&gt;\u5177\u4f53\u6267\u884c</li> <li>supervisor\uff1ateam\u7ec4\u957f\uff0c\u7528\u6765\u6d3e\u6d3b\u513f</li> <li>researcher\uff1a\u4f7f\u7528\u641c\u7d22\u548c\u722c\u866b\u6765\u89e3\u51b3\u95ee\u9898</li> <li>reporter\uff1a\u6839\u636e\u8f93\u5165\u603b\u7ed3\u6210\u62a5\u544a</li> <li>browser\uff1a\u7406\u89e3\u81ea\u7136\u8bed\u8a00\u6307\u4ee4\u5e76\u5c06\u5176\u8f6c\u5316\u4e3a\u6d4f\u89c8\u5668\u64cd\u4f5c</li> <li>coder\uff1a\u7528Python\u548cBash\u89e3\u51b3\u95ee\u9898</li> </ul>"},{"location":"cs-life/machine-learn/llm/agent/langmanus/langmanus/#demo","title":"Demo\u6f14\u793a","text":"<p>\u7528\u4e00\u4e2ademo\u7684\u65e5\u5fd7\u6765\u770b\u5f53\u524dLangManus\u5982\u4f55\u6267\u884c\u7684</p> <pre><code>Enter your query: 1+3=?\n\nINFO     [src.workflow] Starting workflow with user input: 1+3=?\n== Coordinator == \nINFO     [src.graph.nodes] Coordinator talking.\nINFO     [src.graph.nodes] coordinator response: handoff_to_planner()\n\n== Planner ==\nINFO     [src.graph.nodes] Planner generating full plan\nINFO     [src.graph.nodes] Planner Current state messages: [HumanMessage(content='1+3=?', additional_kwargs={}, response_metadata={}, id='bf92f5ce-81ac-4521-94d9-8f89fad6b0b9')]\nINFO     [src.graph.nodes] Planner response: \n{\n  \"thought\": \"\u7528\u6237\u9700\u8981\u8ba1\u7b971\u52a03\u7684\u7ed3\u679c\u3002\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u5b66\u95ee\u9898\uff0c\u9700\u8981\u7528\u5230coder\u4ee3\u7406\u8fdb\u884c\u8ba1\u7b97\u3002\",\n  \"title\": \"\u8ba1\u7b971+3\",\n  \"steps\": [\n    {\n      \"agent_name\": \"coder\",\n      \"title\": \"\u6267\u884c\u6570\u5b66\u8ba1\u7b97\",\n      \"description\": \"\u4f7f\u7528Python\u4ee3\u7801\u8ba1\u7b971+3\u7684\u6570\u503c\u7ed3\u679c\"\n    },\n    {\n      \"agent_name\": \"reporter\",\n      \"title\": \"\u751f\u6210\u6700\u7ec8\u62a5\u544a\",\n      \"description\": \"\u5c06\u8ba1\u7b97\u7ed3\u679c\u4ee5Markdown\u683c\u5f0f\u6574\u7406\u6210\u6700\u7ec8\u62a5\u544a\"\n    }\n  ]\n}\n\n== Supervisor ==\nINFO     [src.graph.nodes] Supervisor evaluating next action\nINFO     [src.graph.nodes] Current state messages: [HumanMessage(content='1+3=?', additional_kwargs={}, response_metadata={}, id='bf92f5ce-81ac-4521-94d9-8f89fad6b0b9'), HumanMessage(content='\\n\\n{\\n  \"thought\": \"\u7528\u6237\u9700\u8981\u8ba1\u7b971\u52a03\u7684\u7ed3\u679c\u3002\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u5b66\u95ee\u9898\uff0c\u9700\u8981\u7528\u5230coder\u4ee3\u7406\u8fdb\u884c\u8ba1\u7b97\u3002\",\\n  \"title\": \"\u8ba1\u7b971+3\",\\n  \"steps\": [\\n    {\\n      \"agent_name\": \"coder\",\\n      \"title\": \"\u6267\u884c\u6570\u5b66\u8ba1\u7b97\",\\n      \"description\": \"\u4f7f\u7528Python\u4ee3\u7801\u8ba1\u7b971+3\u7684\u6570\u503c\u7ed3\u679c\"\\n    },\\n    {\\n      \"agent_name\": \"reporter\",\\n      \"title\": \"\u751f\u6210\u6700\u7ec8\u62a5\u544a\",\\n      \"description\": \"\u5c06\u8ba1\u7b97\u7ed3\u679c\u4ee5Markdown\u683c\u5f0f\u6574\u7406\u6210\u6700\u7ec8\u62a5\u544a\"\\n    }\\n  ]\\n}', additional_kwargs={}, response_metadata={}, name='planner', id='8577f517-bf44-41d0-848c-2772c549c6eb')]\nINFO     [src.graph.nodes] Supervisor response: {'next': 'coder'}\n\n== Coder == \nINFO     [src.graph.nodes] Supervisor delegating to: coder\nINFO     [src.graph.nodes] Code agent starting task\nINFO     [src.tools.python_repl] Executing Python code\nWARNING  [langchain_experimental.utilities.python] Python REPL can execute arbitrary code. Use with caution.\nINFO     [src.tools.python_repl] Code execution successful\nINFO     [src.graph.nodes] Code agent response: ### 1 + 3 \u7684\u8ba1\u7b97\u7ed3\u679c\n\n\u901a\u8fc7Python\u4ee3\u7801\u8ba1\u7b97\uff0c1 + 3 \u7684\u7ed3\u679c\u4e3a 4\u3002\u5177\u4f53\u4ee3\u7801\u5982\u4e0b\uff1a\n\\`\\`\\`python\nprint(1 + 3)\n\\`\\`\\`\n\u8be5\u4ee3\u7801\u76f4\u63a5\u6267\u884c\u52a0\u6cd5\u8fd0\u7b97 `1 + 3`\uff0c\u5e76\u4f7f\u7528 `print` \u51fd\u6570\u5c06\u7ed3\u679c\u8f93\u51fa\uff0c\u8f93\u51fa\u7ed3\u679c\u4e3a 4\u3002\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c1 + 3 \u7684\u7ed3\u679c\u662f 4\u3002  \nINFO     [src.graph.nodes] Code agent completed task\n\n== Supervisor == \nINFO     [src.graph.nodes] Supervisor evaluating next action\nINFO     [src.graph.nodes] Current state messages: [HumanMessage(content='1+3=?', additional_kwargs={}, response_metadata={}, id='bf92f5ce-81ac-4521-94d9-8f89fad6b0b9'), HumanMessage(content='\\n\\n{\\n  \"thought\": \"\u7528\u6237\u9700\u8981\u8ba1\u7b971\u52a03\u7684\u7ed3\u679c\u3002\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u5b66\u95ee\u9898\uff0c\u9700\u8981\u7528\u5230coder\u4ee3\u7406\u8fdb\u884c\u8ba1\u7b97\u3002\",\\n  \"title\": \"\u8ba1\u7b971+3\",\\n  \"steps\": [\\n    {\\n      \"agent_name\": \"coder\",\\n      \"title\": \"\u6267\u884c\u6570\u5b66\u8ba1\u7b97\",\\n      \"description\": \"\u4f7f\u7528Python\u4ee3\u7801\u8ba1\u7b971+3\u7684\u6570\u503c\u7ed3\u679c\"\\n    },\\n    {\\n      \"agent_name\": \"reporter\",\\n      \"title\": \"\u751f\u6210\u6700\u7ec8\u62a5\u544a\",\\n      \"description\": \"\u5c06\u8ba1\u7b97\u7ed3\u679c\u4ee5Markdown\u683c\u5f0f\u6574\u7406\u6210\u6700\u7ec8\u62a5\u544a\"\\n    }\\n  ]\\n}', additional_kwargs={}, response_metadata={}, name='planner', id='8577f517-bf44-41d0-848c-2772c549c6eb'), HumanMessage(content='Response from coder:\\n\\n&lt;response&gt;\\n### 1 + 3 \u7684\u8ba1\u7b97\u7ed3\u679c\\n\\n\u901a\u8fc7Python\u4ee3\u7801\u8ba1\u7b97\uff0c1 + 3 \u7684\u7ed3\u679c\u4e3a 4\u3002\u5177\u4f53\u4ee3\u7801\u5982\u4e0b\uff1a\\n```python\\nprint(1 + 3)\\n```\\n\u8be5\u4ee3\u7801\u76f4\u63a5\u6267\u884c\u52a0\u6cd5\u8fd0\u7b97 `1 + 3`\uff0c\u5e76\u4f7f\u7528 `print` \u51fd\u6570\u5c06\u7ed3\u679c\u8f93\u51fa\uff0c\u8f93\u51fa\u7ed3\u679c\u4e3a 4\u3002\\n\\n\u7efc\u4e0a\u6240\u8ff0\uff0c1 + 3 \u7684\u7ed3\u679c\u662f 4\u3002  \\n&lt;/response&gt;\\n\\n*Please execute the next step.*', additional_kwargs={}, response_metadata={}, name='coder', id='9fd08d12-abfa-4f1a-806b-c37ab8a11a6c')]\nINFO     [src.graph.nodes] Supervisor response: {'next': 'reporter'}\n\n== Reporter == \nINFO     [src.graph.nodes] Supervisor delegating to: reporter\nINFO     [src.graph.nodes] Reporter write final report\nINFO     [src.graph.nodes] Reporter Current state messages: [HumanMessage(content='1+3=?', additional_kwargs={}, response_metadata={}, id='bf92f5ce-81ac-4521-94d9-8f89fad6b0b9'), HumanMessage(content='\\n\\n{\\n  \"thought\": \"\u7528\u6237\u9700\u8981\u8ba1\u7b971\u52a03\u7684\u7ed3\u679c\u3002\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u5b66\u95ee\u9898\uff0c\u9700\u8981\u7528\u5230coder\u4ee3\u7406\u8fdb\u884c\u8ba1\u7b97\u3002\",\\n  \"title\": \"\u8ba1\u7b971+3\",\\n  \"steps\": [\\n    {\\n      \"agent_name\": \"coder\",\\n      \"title\": \"\u6267\u884c\u6570\u5b66\u8ba1\u7b97\",\\n      \"description\": \"\u4f7f\u7528Python\u4ee3\u7801\u8ba1\u7b971+3\u7684\u6570\u503c\u7ed3\u679c\"\\n    },\\n    {\\n      \"agent_name\": \"reporter\",\\n      \"title\": \"\u751f\u6210\u6700\u7ec8\u62a5\u544a\",\\n      \"description\": \"\u5c06\u8ba1\u7b97\u7ed3\u679c\u4ee5Markdown\u683c\u5f0f\u6574\u7406\u6210\u6700\u7ec8\u62a5\u544a\"\\n    }\\n  ]\\n}', additional_kwargs={}, response_metadata={}, name='planner', id='8577f517-bf44-41d0-848c-2772c549c6eb'), HumanMessage(content='Response from coder:\\n\\n&lt;response&gt;\\n### 1 + 3 \u7684\u8ba1\u7b97\u7ed3\u679c\\n\\n\u901a\u8fc7Python\u4ee3\u7801\u8ba1\u7b97\uff0c1 + 3 \u7684\u7ed3\u679c\u4e3a 4\u3002\u5177\u4f53\u4ee3\u7801\u5982\u4e0b\uff1a\\n```python\\nprint(1 + 3)\\n```\\n\u8be5\u4ee3\u7801\u76f4\u63a5\u6267\u884c\u52a0\u6cd5\u8fd0\u7b97 `1 + 3`\uff0c\u5e76\u4f7f\u7528 `print` \u51fd\u6570\u5c06\u7ed3\u679c\u8f93\u51fa\uff0c\u8f93\u51fa\u7ed3\u679c\u4e3a 4\u3002\\n\\n\u7efc\u4e0a\u6240\u8ff0\uff0c1 + 3 \u7684\u7ed3\u679c\u662f 4\u3002  \\n&lt;/response&gt;\\n\\n*Please execute the next step.*', additional_kwargs={}, response_metadata={}, name='coder', id='9fd08d12-abfa-4f1a-806b-c37ab8a11a6c')]\nINFO     [src.graph.nodes] Reporter response:\n&lt;\u6267\u884c\u6570\u5b66\u8ba1\u7b97\u7ed3\u679c\u62a5\u544a&gt;\n&lt;\u6267\u884c\u6458\u8981&gt;\n\u672c\u6b21\u4efb\u52a1\u65e8\u5728\u8ba1\u7b971 + 3\u7684\u7ed3\u679c\u3002\u901a\u8fc7Python\u4ee3\u7801\u5b9e\u73b0\u4e86\u8be5\u8ba1\u7b97\uff0c\u6700\u7ec8\u5f97\u51fa\u7ed3\u679c\u4e3a4\u3002\n&lt;\u5173\u952e\u53d1\u73b0&gt;\n- \u5229\u7528Python\u4ee3\u7801 `print(1 + 3)` \u53ef\u51c6\u786e\u8ba1\u7b97\u51fa1 + 3\u7684\u548c\u4e3a4\u3002\n\n&lt;\u8be6\u7ec6\u5206\u6790&gt;\n\u4ee3\u7801 `print(1 + 3)` \u4e2d\uff0c`1 + 3` \u6267\u884c\u4e86\u52a0\u6cd5\u8fd0\u7b97\uff0c\u5c06\u4e24\u4e2a\u6570\u503c\u76f8\u52a0\uff0c`print` \u51fd\u6570\u5219\u8d1f\u8d23\u5c06\u8fd0\u7b97\u7ed3\u679c\u5c55\u793a\u51fa\u6765\uff0c\u5c55\u793a\u7684\u7ed3\u679c\u4e3a4\u3002\n\n&lt;\u7ed3\u8bba\u548c\u5efa\u8bae&gt;\n- **\u7ed3\u8bba**\uff1a1 + 3 \u7684\u8ba1\u7b97\u7ed3\u679c\u4e3a4\u3002\n- **\u5efa\u8bae**\uff1a\u5bf9\u4e8e\u7c7b\u4f3c\u7b80\u5355\u6570\u5b66\u8ba1\u7b97\uff0c\u53ef\u7ee7\u7eed\u91c7\u7528Python\u7b49\u7f16\u7a0b\u8bed\u8a00\u8fdb\u884c\u5feb\u901f\u51c6\u786e\u7684\u8fd0\u7b97\u3002\u4fe1\u606f\u6765\u6e90\u4e3acoder\u6267\u884c\u8ba1\u7b97\u540e\u63d0\u4f9b\u7684\u5185\u5bb9\u3002  \nINFO     [src.graph.nodes] Supervisor evaluating next action\nINFO     [src.graph.nodes] Current state messages: [HumanMessage(content='1+3=?', additional_kwargs={}, response_metadata={}, id='bf92f5ce-81ac-4521-94d9-8f89fad6b0b9'), HumanMessage(content='\\n\\n{\\n  \"thought\": \"\u7528\u6237\u9700\u8981\u8ba1\u7b971\u52a03\u7684\u7ed3\u679c\u3002\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u5b66\u95ee\u9898\uff0c\u9700\u8981\u7528\u5230coder\u4ee3\u7406\u8fdb\u884c\u8ba1\u7b97\u3002\",\\n  \"title\": \"\u8ba1\u7b971+3\",\\n  \"steps\": [\\n    {\\n      \"agent_name\": \"coder\",\\n      \"title\": \"\u6267\u884c\u6570\u5b66\u8ba1\u7b97\",\\n      \"description\": \"\u4f7f\u7528Python\u4ee3\u7801\u8ba1\u7b971+3\u7684\u6570\u503c\u7ed3\u679c\"\\n    },\\n    {\\n      \"agent_name\": \"reporter\",\\n      \"title\": \"\u751f\u6210\u6700\u7ec8\u62a5\u544a\",\\n      \"description\": \"\u5c06\u8ba1\u7b97\u7ed3\u679c\u4ee5Markdown\u683c\u5f0f\u6574\u7406\u6210\u6700\u7ec8\u62a5\u544a\"\\n    }\\n  ]\\n}', additional_kwargs={}, response_metadata={}, name='planner', id='8577f517-bf44-41d0-848c-2772c549c6eb'), HumanMessage(content='Response from coder:\\n\\n&lt;response&gt;\\n### 1 + 3 \u7684\u8ba1\u7b97\u7ed3\u679c\\n\\n\u901a\u8fc7Python\u4ee3\u7801\u8ba1\u7b97\uff0c1 + 3 \u7684\u7ed3\u679c\u4e3a 4\u3002\u5177\u4f53\u4ee3\u7801\u5982\u4e0b\uff1a\\n```python\\nprint(1 + 3)\\n```\\n\u8be5\u4ee3\u7801\u76f4\u63a5\u6267\u884c\u52a0\u6cd5\u8fd0\u7b97 `1 + 3`\uff0c\u5e76\u4f7f\u7528 `print` \u51fd\u6570\u5c06\u7ed3\u679c\u8f93\u51fa\uff0c\u8f93\u51fa\u7ed3\u679c\u4e3a 4\u3002\\n\\n\u7efc\u4e0a\u6240\u8ff0\uff0c1 + 3 \u7684\u7ed3\u679c\u662f 4\u3002  \\n&lt;/response&gt;\\n\\n*Please execute the next step.*', additional_kwargs={}, response_metadata={}, name='coder', id='9fd08d12-abfa-4f1a-806b-c37ab8a11a6c'), HumanMessage(content='Response from reporter:\\n\\n&lt;response&gt;\\n### \u6267\u884c\u6570\u5b66\u8ba1\u7b97\u7ed3\u679c\u62a5\u544a\\n#### \u6267\u884c\u6458\u8981\\n\u672c\u6b21\u4efb\u52a1\u65e8\u5728\u8ba1\u7b971 + 3\u7684\u7ed3\u679c\u3002\u901a\u8fc7Python\u4ee3\u7801\u5b9e\u73b0\u4e86\u8be5\u8ba1\u7b97\uff0c\u6700\u7ec8\u5f97\u51fa\u7ed3\u679c\u4e3a4\u3002\\n\\n#### \u5173\u952e\u53d1\u73b0\\n- \u5229\u7528Python\u4ee3\u7801 `print(1 + 3)` \u53ef\u51c6\u786e\u8ba1\u7b97\u51fa1 + 3\u7684\u548c\u4e3a4\u3002\\n\\n#### \u8be6\u7ec6\u5206\u6790\\n\u4ee3\u7801 `print(1 + 3)` \u4e2d\uff0c`1 + 3` \u6267\u884c\u4e86\u52a0\u6cd5\u8fd0\u7b97\uff0c\u5c06\u4e24\u4e2a\u6570\u503c\u76f8\u52a0\uff0c`print` \u51fd\u6570\u5219\u8d1f\u8d23\u5c06\u8fd0\u7b97\u7ed3\u679c\u5c55\u793a\u51fa\u6765\uff0c\u5c55\u793a\u7684\u7ed3\u679c\u4e3a4\u3002\\n\\n#### \u7ed3\u8bba\u548c\u5efa\u8bae\\n- **\u7ed3\u8bba**\uff1a1 + 3 \u7684\u8ba1\u7b97\u7ed3\u679c\u4e3a4\u3002\\n- **\u5efa\u8bae**\uff1a\u5bf9\u4e8e\u7c7b\u4f3c\u7b80\u5355\u6570\u5b66\u8ba1\u7b97\uff0c\u53ef\u7ee7\u7eed\u91c7\u7528Python\u7b49\u7f16\u7a0b\u8bed\u8a00\u8fdb\u884c\u5feb\u901f\u51c6\u786e\u7684\u8fd0\u7b97\u3002\u4fe1\u606f\u6765\u6e90\u4e3acoder\u6267\u884c\u8ba1\u7b97\u540e\u63d0\u4f9b\u7684\u5185\u5bb9\u3002  \\n&lt;/response&gt;\\n\\n*Please execute the next step.*', additional_kwargs={}, response_metadata={}, name='reporter', id='047db3f5-00bb-42ad-95b5-d2ea3639ada2')]\nINFO     [src.graph.nodes] Supervisor response: {'next': 'FINISH'}\nINFO     [src.graph.nodes] Workflow completed\nINFO     [src.workflow] Workflow completed successfully\n</code></pre>"},{"location":"cs-life/machine-learn/llm/agent/langmanus/langmanus/#_2","title":"\u8bbe\u8ba1","text":"<p>\u6574\u4f53\u5206\u4e3a Workflow -&gt; Agent -&gt; Prompt\u4e09\u5c42</p>"},{"location":"cs-life/machine-learn/llm/agent/langmanus/langmanus/#workflow","title":"Workflow","text":"<p>Service</p> <ol> <li>\u901a\u8fc7LangGraph\u6784\u5efaAgent \u8c03\u5ea6\u56fe <code>build_graph()</code></li> <li>\u4f20\u5165\u7528\u6237\u7684\u8f93\u5165\uff0c\u6267\u884cLangGraph\u4e8b\u4ef6\u6d41 <code>astream_events</code></li> </ol> <p>\u4ee3\u7801\u7247\u6bb5 <pre><code>if kind == \"on_chain_start\" and name in streaming_llm_agents:\n    if name == \"planner\":\n        yield {\n            \"event\": \"start_of_workflow\",\n            \"data\": {\"workflow_id\": workflow_id, \"input\": user_input_messages},\n        }\n    ydata = {\n        \"event\": \"start_of_agent\",\n        \"data\": {\n            \"agent_name\": name,\n            \"agent_id\": f\"{workflow_id}_{name}_{langgraph_step}\",\n        },\n    }\nelif kind == \"on_chain_end\" and name in streaming_llm_agents:\n    ydata = {\n        \"event\": \"end_of_agent\",\n        \"data\": {\n            \"agent_name\": name,\n            \"agent_id\": f\"{workflow_id}_{name}_{langgraph_step}\",\n        },\n    }\n....\n</code></pre></p> <p>Graph</p> <p>\u91cd\u70b9\u662f\u6784\u5efa\u4e86\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8282\u70b9\u4e4b\u95f4\u901a\u8fc7\u6267\u884c\u300cAgent\u51b3\u7b56\u300d \u6765\u8c03\u7528</p> <ul> <li>Coordinator\uff1a\u6267\u884c\u7528\u6237\u8bf7\u6c42\uff0cgoto planner/end</li> <li>Planner\uff1a\u751f\u6210\u8ba1\u5212\uff0cgoto supervisor/end<ul> <li>\u6df1\u5ea6\u601d\u8003\uff1a\u4f7f\u7528\u63a8\u7406\u6a21\u578b\u63a8\u7406</li> <li>\u8054\u7f51\u641c\u7d22\uff1a\u901a\u8fc7\u641c\u7d22\u5de5\u5177\u68c0\u7d22\u6807\u9898\u548c\u5185\u5bb9\u8865\u5145\u5230\u7528\u6237\u7684\u8f93\u5165\u4e2d</li> </ul> </li> <li>Supervisor\uff1a\u6839\u636ePlanner\u51b3\u7b56\u54ea\u4e2aAgent\u6765\u6267\u884c\uff0cgo TeamMembers/end</li> <li>Researcher\uff1a\u68c0\u7d22\u548c\u722c\u866b\u76f8\u5173\u4fe1\u606f\uff0cgoto Supervisor</li> <li>Coder\uff1a\u8fd0\u7b97\u4ee3\u7801\uff0cgoto Supervisor</li> <li>Browser\uff1a\u64cd\u4f5c\u6d4f\u89c8\u5668\uff0cgoto Supervisor</li> <li>Reporter\uff1a\u751f\u6210\u62a5\u544a</li> </ul> <p>\u4e0a\u4e0b\u6587\u6570\u636e</p> <pre><code>class State(MessagesState):\n    \"\"\"State for the agent system, extends MessagesState with next field.\"\"\"\n\n    # Constants\n    TEAM_MEMBERS: list[str]\n\n    # Runtime Variables\n    next: str\n    full_plan: str\n    deep_thinking_mode: bool\n    search_before_planning: bool\n</code></pre> <p>\u5728\u4e0b\u4e00\u6b65\u9700\u8981<code>Supervisor</code>\u51b3\u7b56\u4e0b\u4e00\u6b65\u8981\u6267\u884c\u7684Agent\u65f6\uff0c\u7ed9LLM\u7684\u8f93\u5165\u662f</p> <pre><code>Response from {agent}:\n&lt;response&gt;\n{agent_response}\n&lt;/response&gt;\n\n*Please execute the next step.*\n</code></pre>"},{"location":"cs-life/machine-learn/llm/agent/langmanus/langmanus/#agent","title":"Agent","text":"<p>config</p> <ul> <li>\u5b9a\u4e49\u4e86LLMType: \u5305\u542b basic\uff0creasoning\uff0cvision \u4e09\u7c7b</li> <li>\u5b9a\u4e49\u4e0d\u540cAgent\u7684LLMType</li> </ul> <p>agents</p> <ul> <li>\u4f7f\u7528langchain\u5305\u5bf9LLMType\u5efa\u7acb\u4e86 reasoning_llm, basic_llm, vl_llm</li> <li>\u521b\u5efa\u4e86\u591aAgent<ul> <li>research_agent<ul> <li>Tool\uff1atavily_tool, crawl_tool</li> </ul> </li> <li>coder_agent<ul> <li>Tool\uff1apython_repl_tool, bash_tool</li> </ul> </li> <li>browser_agent<ul> <li>Tool\uff1abrowser_tool</li> </ul> </li> </ul> </li> </ul> <p>api</p> <ul> <li>\u63d0\u4f9b\u540e\u7aefapi\u63a5\u53e3\uff0c\u652f\u6301\u6d41\u5f0f\u7684\u6570\u636e\u8fd4\u56de\uff0c\u6838\u5fc3\u662f\u8c03\u7528run_agent_workflow</li> <li>\u8bbe\u8ba1\u4e86 Chat -&gt; Message -&gt; Content \u7684\u4e09\u5c42\u7ed3\u6784</li> </ul> <p>Tool</p> <ul> <li>bash\uff1a\u901a\u8fc7subprocess\u6267\u884cshell\u547d\u4ee4</li> <li>browser\uff1a\u4f7f\u7528BrowserAgent\u6267\u884c\u7528\u6237\u8bf7\u6c42</li> <li>crawl\uff1a\u4f7f\u7528Crawler\u722c\u866b</li> <li>langchain\u5185\u7f6e\u7684Tool<ul> <li>file_management\uff1aWriteFileTool</li> <li>python_repl\uff1aPythonREPL</li> <li>search\uff1aTavilySearchResults</li> </ul> </li> </ul> <p>crawler</p> <ul> <li>\u4f7f\u7528jina client\u8fdb\u884c\u722c\u866b\uff0c\u7528readabilipy\u63d0\u53d6\u8bf7\u6c42<ul> <li>\u8f6c\u6210markdown\u683c\u5f0f\uff08for debug\uff09</li> <li>\u8f6c\u6210 \u5927\u6a21\u578b\u9700\u8981\u7684message\u683c\u5f0f\uff08for \u8fd0\u884c\uff09</li> </ul> </li> </ul>"},{"location":"cs-life/machine-learn/llm/agent/langmanus/langmanus/#prompt","title":"Prompt","text":"<p>\u6309\u56fe1\u6240\u793a\u7684Agent\uff0cPrompt\u91cc\u63cf\u8ff0\u4e86\u5404\u81ea\u7684\u804c\u8d23</p> <p>coordinator</p> <p>\u8f93\u51fa <code>handoff_to_planner()</code> \u79fb\u4ea4planner</p> <p>planner</p> <ul> <li>\u7406\u89e3\u7528\u6237\u9700\u6c42\uff0c\u6574\u7406\u6210 Thought</li> <li>\u8bbe\u8ba1 step-by-step \u8ba1\u5212</li> <li>\u660e\u786eAgent\u7684\u804c\u8d23\u548c\u8f93\u51fa\uff08\u4ea4\u7531Agent\u7684\u8fde\u7eed\u6b65\u9aa4\u5408\u5e76\u4e3a\u4e00\u4e2a\u6b65\u9aa4\u5206\u53d1\u7ed9\u4e00\u4e2aAgent\uff09</li> </ul> <p>supervisor</p> <p>\u5206\u6790\u95ee\u9898 -&gt; \u5206\u53d1Agent -&gt; \u68c0\u67e5\u8f93\u51fa\u5e76\u7ee7\u7eed\u5206\u53d1</p> <ul> <li>\u5206\u53d1\u8f93\u51fa\uff1a{\"next\": \"researcher\"}</li> <li>\u7ed3\u675f\u8f93\u51fa\uff1a {\"next\": \"FINISH\"}</li> </ul> <p>researcher</p> <ul> <li>\u7406\u89e3\u95ee\u9898 -&gt; \u8bbe\u8ba1\u65b9\u6848 -&gt; \u6267\u884c\u65b9\u6848 -&gt; \u603b\u7ed3\u7ed3\u679c</li> <li>\u641c\u7d22\uff1atavily_tool\uff1b\u722c\u866b\uff1acrawl_tool</li> </ul> <p>reporter</p> <p>\u62a5\u544a\u5305\u62ec\uff1a\u6458\u8981\u3001\u5173\u952e\u70b9\u3001\u8be6\u7ec6\u63cf\u8ff0\u3001\u603b\u7ed3\u548c\u5efa\u8bae</p> <p>browser</p> <p>\u8bbf\u95ee\u7f51\u9875 -&gt; \u6267\u884c\u64cd\u4f5c\uff08\u70b9\u51fb\u3001\u8f93\u5165\u3001\u6eda\u52a8\uff09-&gt; \u63d0\u53d6\u4fe1\u606f</p> <p>coder</p> <p>\u5206\u6790\u9700\u6c42 -&gt; \u8bbe\u8ba1\u89e3\u51b3\u65b9\u6848 -&gt; \u5b9e\u73b0\u65b9\u6848 -&gt; \u6d4b\u8bd5\u65b9\u6848 -&gt; \u8bb0\u5f55\u65b9\u6cd5\u8bba -&gt; \u5448\u73b0\u7ed3\u679c</p> <p>file_manager</p> <p>\u4fdd\u5b58\u6587\u4ef6\uff1aWriteFileTool\uff0c\u8bfb\u53d6\u6587\u4ef6\uff1aReadFileTool</p>"},{"location":"cs-life/machine-learn/llm/agent/langmanus/langmanus/#_3","title":"\u9644\u5f55","text":""},{"location":"cs-life/machine-learn/llm/agent/langmanus/langmanus/#planner","title":"planner \u8f93\u51fa\u7ed3\u6784","text":"<pre><code>interface Step {\n  agent_name: string;\n  title: string;\n  description: string;\n  note?: string;\n}\n\ninterface Plan {\n  thought: string;\n  title: string;\n  steps: Step[];\n}\n</code></pre>"},{"location":"cs-life/machine-learn/llm/agent/langmanus/langmanus/#_4","title":"\u4f9d\u8d56\u5305","text":"<pre><code>== langchain\u3001graph\u7ec4\u4ef6\n\"langchain-community&gt;=0.3.19\",\n\"langchain-experimental&gt;=0.3.4\",\n\"langchain-openai&gt;=0.3.8\",\n\"langchain-deepseek&gt;=0.1.2\",\n\"langgraph&gt;=0.3.5\",\n\n== \u7f51\u9875\u4e2d\u63d0\u53d6\u4e3b\u8981\u5185\u5bb9\u548c\u5143\u6570\u636e\uff0c\u8f6c\u6362\n\"httpx&gt;=0.28.1\",\n\"readabilipy&gt;=0.3.0\",\n\"markdownify&gt;=1.1.0\",\n\n== \u73af\u5883\u914d\u7f6e\u8bfb\u53d6\n\"python-dotenv&gt;=1.0.1\",\n\"socksio&gt;=1.0.0\",\n\n== AI\u6d4f\u89c8\u5668\n\"browser-use&gt;=0.1.0\",\n\n== \u6570\u636e\u5206\u6790\n\"pandas&gt;=2.2.3\",\n\"numpy&gt;=2.2.3\",\n\"yfinance&gt;=0.2.54\", \uff08\u91d1\u878d\u5e02\u573a\u6570\u636e\uff0c\u80a1\u7968\u6570\u636e\uff09\n\n== server\u7aef\n\"fastapi&gt;=0.110.0\",\n\"uvicorn&gt;=0.27.1\",\n\"sse-starlette&gt;=1.6.5\",\n</code></pre>"},{"location":"cs-life/machine-learn/llm/auto-prompt/auto-prompt/","title":"LLM\u5927\u6a21\u578b","text":""},{"location":"cs-life/machine-learn/llm/auto-prompt/auto-prompt/#prompt-engineer","title":"Prompt Engineer","text":"<p>\u6709\u6ca1\u6709\u53ef\u80fd\u50cf\u6df1\u5ea6\u5b66\u4e60\u4e00\u6837\uff0c\u53ef\u4ee5\u501f\u52a9\u5927\u6a21\u578b\u8fdb\u884cprompt\u7684\u81ea\u6211\u5b8c\u5584\u4e0e\u8fed\u4ee3\uff1f</p> <pre><code>init_prompt = \"prompt\u968f\u4fbf\u5199\"\ndatasets = [{\"input\": \"\", \"y\": \"\"}] # \u4e0a\u4e0b\u6587\u4fe1\u606f\ndataloader = dataloader(datasets,batch_size=10)\n\nprompt = init_prompt\n\n#\u8fed\u4ee3\u8f6e\u6b21\nfor epoch in range(epoches): \n    datas = dataloader.load()\n    # \u81ea\u4e3b\u63a8\u5bfc\n    cot = train(datas['input'], prompt) \n    # \u63a8\u5bfc\u7b26\u5408\u9884\u671f\n    if cot['result'] == datas['y']: \n        # \u5e94\u7528\u601d\u7ef4\u94fe\u5230prompt\u91cc\n        prompt = apply_cot(prompt, cot)\n    else:\n        # \u53cd\u601d\u54ea\u91cc\u4e0d\u5bf9\n        cot = reflect(datas['input'], cot, datas['y'])\n        prompt = apply_cot(prompt, cot)\n</code></pre> <p>\u65b0\u7248\u672c\u601d\u8def</p> <pre><code>init_prompt = \"\u521d\u59cb\u7248\u63d0\u793a\u8bcd\"\ndatasets = [{\"input\": \"\u4e1a\u52a1\u8f93\u5165\", \"label\": \"\u573a\u666fA\"}]\ndataloader = dataloader(datasets, batch_size=10)\n\nprompt = init_prompt\n\nfor epoch in range(epoches):\n    datas = dataloader.load()\n    # \u6279\u91cf\u63a8\u7406\n    pred_datas = batch_llm(prompt, datas['input']) \n\n    # \u627e\u51fa\u63a8\u7406\u4e0d\u7b26\u5408\u9884\u671f\u7684\u6570\u636e\n    error_datas = pred_datas[scene] != datas['label']\n    # \u601d\u8003\u54ea\u91cc\u4e0d\u7b26\u5408\u9884\u671f\n    step_cot_datas = batch_llm(error_datas['input', 'scene', 'label'])\n    # \u4f18\u5316prompt\n    prompt = batch_llm(prompt, step_cot_datas)\n</code></pre>"},{"location":"cs-life/machine-learn/nlp/","title":"\u81ea\u7136\u8bed\u8a00\u5904\u7406\uff08Natural Language Processing\uff09","text":"<p>\u6f14\u8fdb\u53f2</p> <ul> <li>\u57fa\u4e8e\u89c4\u5219: \u901a\u8fc7\u57fa\u4e8e\u8bed\u6cd5\u548c\u8bed\u4e49\u89c4\u5219\u7684\u65b9\u6cd5\u6765\u89e3\u51b3NLP\u95ee\u9898</li> <li>\u57fa\u4e8e\u7edf\u8ba1: \u901a\u8fc7\u7edf\u8ba1\u5b66\u4e60\u65b9\u6cd5\u6765\u89e3\u51b3NLP\u95ee\u9898</li> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60: \u968f\u7740\u8ba1\u7b97\u673a\u7b97\u529b\u3001\u6df1\u5ea6\u5b66\u4e60\u6280\u672f\u7684\u53d1\u5c55\uff0c\u5927\u6570\u636e\u9a71\u52a8\u7684NLP\u6280\u672f\u6210\u4e3a\u4e3b\u6d41</li> </ul> <p>\u53d1\u5c55\u5386\u7a0b</p> \u6a21\u578b/\u6280\u672f \u8bed\u8a00\u7ed3\u6784\u5c42\u7ea7 \u6838\u5fc3\u80fd\u529b n-gram/BOW \u5355\u8bcd/\u77ed\u8bed \u8bcd\u9891\u7edf\u8ba1 Word2Vec \u8bcd\u6cd5/\u8bed\u4e49 \u8bcd\u6cd5\u5173\u8054 RNN \u77ed\u53e5 \u5e8f\u5217\u9012\u8fdb\u5efa\u6a21 Seq2Seq \u53e5\u5b50\u7ea7\u6620\u5c04 \u7aef\u5230\u7aef\u53e5\u5b50\u751f\u6210 Attention \u957f\u53e5/\u8de8\u53e5 \u52a8\u6001\u4e0a\u4e0b\u6587\u805a\u7126 Transformer \u6bb5\u843d/\u6587\u7ae0 \u5168\u5c40\u4f9d\u8d56\u5efa\u6a21\u4e0e\u5e76\u884c\u5316 GPT \u7bc7\u7ae0/\u6587\u7ae0 \u5168\u5c40\u4f9d\u8d56\u5efa\u6a21\u4e0e\u5e76\u884c\u5316"},{"location":"cs-life/machine-learn/nlp/#_1","title":"\u5355\u8bcd\u7406\u89e3/\u751f\u6210","text":""},{"location":"cs-life/machine-learn/nlp/#n-gram","title":"n-gram","text":"<p>n-gram: \u8ba1\u7b97\u8fde\u7eed\u7684n\u4e2a\u5355\u8bcd\u7684\u9891\u7387</p>"},{"location":"cs-life/machine-learn/nlp/#bag-of-words","title":"\u8bcd\u888b\u6a21\u578b\uff08Bag of Words\uff09","text":"<p>BOW: \u5c06\u8bed\u53e5\u5206\u8bcd\uff0c\u5f62\u6210one-hot\u5411\u91cf\uff0c\u8ba1\u7b97\u5411\u91cf\u76f8\u4f3c\u5ea6\u3002</p>"},{"location":"cs-life/machine-learn/nlp/#word2vec","title":"\u8bcd\u6cd5\u7406\u89e3/\u751f\u6210\uff08Word2Vec\uff09","text":""},{"location":"cs-life/machine-learn/nlp/#continuous-bag-of-words","title":"\u8fde\u7eed\u8bcd\u888b\u6a21\u578b\uff08continuous bag of words\uff09","text":"<p>cbow: \u7528\u4e0a\u4e0b\u6587\u8bcd\u63a8\u65ad\u5f53\u524d\u8bcd</p>"},{"location":"cs-life/machine-learn/nlp/#skip-gram","title":"skip-gram","text":"<p>skip-gram\uff1a\u7528\u4e2d\u5fc3\u8bcd\u9884\u6d4b\u5468\u56f4\u8bcd</p> <p></p>"},{"location":"cs-life/machine-learn/nlp/#_2","title":"\u77ed\u53e5\u7406\u89e3/\u751f\u6210","text":""},{"location":"cs-life/machine-learn/nlp/#neural-probabilistic-language-model","title":"\u795e\u7ecf\u6982\u7387\u8bed\u8a00\u6a21\u578b \uff08Neural Probabilistic Language Model\uff09","text":"<p>nplm: \u8f93\u5165\u7684\u5e8f\u5217\u7ecf\u8fc7\u795e\u7ecf\u7f51\u7edc\uff0c\u8f6c\u6362\u6210\u8f93\u51fa\u5355\u8bcd</p> <p></p>"},{"location":"cs-life/machine-learn/nlp/#recurrent-neural-network","title":"\u5faa\u73af\u795e\u7ecf\u7f51\u7edc (Recurrent Neural Network)","text":"<p>rnn: \u8f93\u5165\u7684\u5e8f\u5217\u5148\u8f6c\u6362\u4e3a\u9690\u85cf\u72b6\u6001\uff0c\u518d\u5c06\u9690\u85cf\u72b6\u6001\u8f6c\u6362\u4e3a\u8f93\u51fa\uff0c\u6bcf\u6b21\u9884\u6d4b\u4e00\u4e2a\u8bcd\uff0c\u5faa\u73af\u9884\u6d4b</p> <p></p>"},{"location":"cs-life/machine-learn/nlp/#_3","title":"\u53e5\u5b50\u7406\u89e3/\u751f\u6210","text":""},{"location":"cs-life/machine-learn/nlp/#sequence-to-sequence","title":"\u5e8f\u5217\u5230\u5e8f\u5217\u6a21\u578b\uff08Sequence to Sequence\uff09","text":"<p>seq2seq: \u62c6\u5206\u7f16\u7801\u5668\u548c\u89e3\u7801\u5668\uff0c\u7f16\u7801\u5668\u8d1f\u8d23\u5c06\u8f93\u5165\u5e8f\u5217\u8f6c\u6362\u4e3a\u9690\u85cf\u72b6\u6001\uff0c\u89e3\u7801\u5668\u8d1f\u8d23\u5c06\u9690\u85cf\u72b6\u6001\u8f6c\u6362\u4e3a\u8f93\u51fa\u5e8f\u5217\u3002</p> <p>\u76f8\u8f83\u4e8eRNN\uff0cseq2seq\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u957f\u5ea6\u7684\u8f93\u5165\u548c\u8f93\u51fa\uff08\u5982\u7ffb\u8bd1\u4efb\u52a1\uff09</p> <p></p>"},{"location":"cs-life/machine-learn/nlp/#_4","title":"\u4e0a\u4e0b\u6587\u7406\u89e3","text":""},{"location":"cs-life/machine-learn/nlp/#attention-mechanism","title":"\u6ce8\u610f\u529b\u673a\u5236\uff08Attention Mechanism\uff09","text":"<p>attention: \u6ce8\u610f\u529b\u673a\u5236\uff0c\u901a\u8fc7Q\u3001K\u8ba1\u7b97\u6ce8\u610f\u529b\u6743\u91cd\uff0c\u518d\u5c06\u6ce8\u610f\u529b\u6743\u91cd\u4e0eV\u76f8\u4e58\uff0c\u5f97\u5230\u52a0\u6743\u548c\u3002</p> <p></p> <p></p>"},{"location":"cs-life/machine-learn/nlp/#_5","title":"\u6bb5\u843d\u7406\u89e3/\u751f\u6210","text":""},{"location":"cs-life/machine-learn/nlp/#transformer","title":"Transformer","text":"<p>Transformer\uff1a</p> <ul> <li>\u591a\u5934\u6ce8\u610f\u529b\uff1a\u63d0\u5347\u5bf9\u8f93\u5165\u5e8f\u5217\u4e2d\u91cd\u8981\u4fe1\u606f\u7684\u63d0\u53d6</li> <li>\u7f16\u89e3\u7801\u591a\u5934\u6ce8\u610f\u529b\uff1a\u63d0\u5347\u8f93\u51fa\u5e8f\u5217\u5bf9\u8f93\u5165\u5e8f\u5217\u9690\u85cf\u72b6\u6001\u91cd\u8981\u4fe1\u606f\u7684\u63d0\u53d6</li> <li>\u4f4d\u7f6e\u7f16\u7801\uff1a\u8ba9\u6a21\u578b\u7406\u89e3\u5e8f\u5217\u4e2d\u5355\u8bcd\u7684\u4f4d\u7f6e\u4fe1\u606f</li> <li>\u586b\u5145\u7f16\u7801\uff1a\u56fa\u5b9a\u5e8f\u5217\u957f\u5ea6</li> <li>\u540e\u7eed\u63a9\u7801\uff1a\u8ba9\u6a21\u578b\u53ea\u5173\u6ce8\u5f53\u524d\u5355\u8bcd\u4e4b\u524d\u7684\u5355\u8bcd\uff0c\u907f\u514d\u672a\u6765\u4fe1\u606f\u6cc4\u9732</li> </ul> <p></p> <p></p>"},{"location":"cs-life/machine-learn/nlp/#_6","title":"\u6587\u7ae0\u7406\u89e3/\u751f\u6210","text":"<ul> <li>BERT\uff1a\u4ec5\u7528\u4e86Transformer\u7684\u7f16\u7801\u5668\u90e8\u5206\uff0c\u9002\u5408\u6587\u672c\u5206\u7c7b\u4efb\u52a1</li> <li>GPT\uff1a\u4ec5\u7528\u4e86Transformer\u7684\u89e3\u7801\u5668\u90e8\u5206\uff0c\u9002\u5408\u6587\u672c\u751f\u6210\u4efb\u52a1</li> </ul>"},{"location":"cs-life/machine-learn/nlp/#gptgenerative-pre-trained-transformer","title":"GPT\uff08Generative Pre-trained Transformer\uff09","text":"<ul> <li>wiki-gpt</li> <li>\u5fae\u8c03wiki-gpt\u6210chatgpt</li> </ul> <p>\u6587\u672c\u751f\u6210\u4e2d\u7684\u81ea\u56de\u5f52\u65b9\u6848</p> <ul> <li>\u8d2a\u5a6a\u641c\u7d22\uff1a\u6bcf\u4e2a\u65f6\u95f4\u6b65\u53ea\u9009\u62e9\u6982\u7387\u6700\u9ad8\u7684\u8f93\u51fa\u5355\u8bcd\u3002</li> <li>\u96c6\u675f\u641c\u7d22\uff1a\u6bcf\u4e2a\u65f6\u95f4\u6b65\u4fdd\u6301\u591a\u4e2a\u5019\u9009\u5e8f\u5217(TopK)\uff0c\u76ee\u7684\u662f\u5728\u5e8f\u5217\u751f\u6210\u4efb\u52a1\u4e2d\u627e\u5230\u6700\u4f18\u8f93\u51fa\u5e8f\u5217\u3002</li> </ul> <p></p>"},{"location":"cs-life/machine-learn/nlp/#sft","title":"SFT (\u57fa\u4e8e\u76d1\u7763\u5b66\u4e60\u7684\u5f3a\u5316\u5b66\u4e60)","text":"<p>\u63d0\u4f9b\u6807\u6ce8\u6570\u636e\uff0c\u5982\u63d0\u4f9bChatGPT\u5bf9\u5e94\u7684User Input/Ai Output\uff0c\u8ba9\u6a21\u578b\u5b66\u4e60\u5982\u4f55\u751f\u6210\u7b26\u5408\u9884\u671f\u7684\u6587\u672c\u3002</p>"},{"location":"cs-life/machine-learn/nlp/#rhlf","title":"RHLF (\u57fa\u4e8e\u4eba\u7c7b\u53cd\u9988\u7684\u5f3a\u5316\u5b66\u4e60)","text":"<p>\u4eba\u5de5\u6807\u6ce8\u4e86\u5bf9\u5e94\u7684\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u4e86\u7b54\u6848\u7684\u5206\u503c/\u53cd\u9988\uff0c\u8ba9\u6a21\u578b\u5b66\u4e60\u5982\u4f55\u751f\u6210\u7b26\u5408\u9884\u671f\u7684\u6587\u672c\u3002</p> <p></p>"},{"location":"cs-life/machine-learn/nlp/#_7","title":"\u9644\u5f55","text":"<ul> <li>\u300aGPT\u56fe\u89e3 \u5927\u6a21\u578b\u662f\u600e\u6837\u6784\u5efa\u7684\u300b</li> <li>\u63d2\u56fe\u89e3\u91caTransformer</li> <li>\u63d2\u56fe\u89e3\u91caGPT-2</li> </ul>"},{"location":"cs-life/machine-learn/nlp/attention/","title":"Attention is All You Need","text":""},{"location":"cs-life/machine-learn/nlp/attention/#_1","title":"\u4ecb\u7ecd","text":"<ul> <li>\u6ce8\u610f\u529b\u673a\u5236\u662f\u4e00\u79cd\u901a\u7528\u7684\u673a\u5236\uff0c\u5b83\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u573a\u666f\u4e2d\u4f7f\u7528\uff0c\u4f8b\u5982\u5728\u673a\u5668\u7ffb\u8bd1\u3001\u56fe\u50cf\u8bc6\u522b\u3001\u8bed\u97f3\u8bc6\u522b\u7b49\u4efb\u52a1\u4e2d\u3002</li> <li>\u6ce8\u610f\u529b\u673a\u5236\u7684\u6838\u5fc3\u601d\u60f3\u662f\uff0c\u5728\u5904\u7406\u4e00\u4e2a\u5e8f\u5217\u65f6\uff0c\u6a21\u578b\u53ef\u4ee5\u6839\u636e\u5f53\u524d\u7684\u8f93\u5165\u548c\u5386\u53f2\u7684\u8f93\u5165\u6765\u9009\u62e9\u54ea\u4e9b\u90e8\u5206\u662f\u6700\u91cd\u8981\u7684\u3002</li> <li>\u6838\u5fc3\u7ec4\u4ef6\u5305\u62ecQuery\u3001Key\u548cValue\uff0c\u901a\u8fc7\u8ba1\u7b97\u76f8\u4f3c\u5ea6\u5f97\u5206\u6765\u51b3\u5b9a\u5173\u6ce8\u54ea\u4e9b\u90e8\u5206\u3002</li> </ul>"},{"location":"cs-life/machine-learn/nlp/attention/#_2","title":"\u6ce8\u610f\u529b\u7c7b\u578b","text":""},{"location":"cs-life/machine-learn/nlp/attention/#_3","title":"\u70b9\u79ef\u6ce8\u610f\u529b","text":"<ul> <li>\u70b9\u79ef\u6ce8\u610f\u529b\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u6ce8\u610f\u529b\u673a\u5236\uff0c\u5b83\u901a\u8fc7\u8ba1\u7b97\u67e5\u8be2\u5411\u91cf\u548c\u952e\u5411\u91cf\u4e4b\u95f4\u7684\u70b9\u79ef\u6765\u8ba1\u7b97\u6ce8\u610f\u529b\u6743\u91cd\u3002</li> <li>\u70b9\u79ef\u6ce8\u610f\u529b\u7684\u8ba1\u7b97\u8fc7\u7a0b\u5982\u4e0b\uff1a<ul> <li>\u9996\u5148\uff0c\u5c06\u67e5\u8be2\u5411\u91cf\u548c\u952e\u5411\u91cf\u8fdb\u884c\u70b9\u79ef\u8fd0\u7b97\uff0c\u5f97\u5230\u4e00\u4e2a\u76f8\u4f3c\u5ea6\u5f97\u5206\u3002</li> <li>\u7136\u540e\uff0c\u4f7f\u7528 softmax \u51fd\u6570\u5bf9\u76f8\u4f3c\u5ea6\u5f97\u5206\u8fdb\u884c\u5f52\u4e00\u5316\uff0c\u5f97\u5230\u6ce8\u610f\u529b\u6743\u91cd\u3002</li> </ul> </li> </ul> <pre><code>import torch # \u5bfc\u5165 torch\nimport torch.nn.functional as F # \u5bfc\u5165 nn.functional\n# 1. \u521b\u5efa\u4e24\u4e2a\u5f20\u91cf x1 \u548c x2\uff0c\u6ce8\u610f\u4e24\u4e2a\u5f20\u91cf\u7684batch_size\u548cfeature_dim\u5fc5\u987b\u76f8\u540c\nx1 = torch.randn(2, 3, 4) # \u5f62\u72b6 (batch_size, seq_len1, feature_dim)\nx2 = torch.randn(2, 5, 4) # \u5f62\u72b6 (batch_size, seq_len2, feature_dim)\n# 2. \u8ba1\u7b97\u539f\u59cb\u6743\u91cd\uff0c\u5c06x2\u4ece(batch_size, seq_len2, feature_dim)\u8f6c\u7f6e\u4e3a(batch_size, feature_dim, seq_len2)\uff0c\u7136\u540e\u505a\u6279\u91cf\u77e9\u9635\u4e58\u6cd5\uff0c\u751f\u6210\u5f62\u72b6 (batch_size, seq_len1, seq_len2)\nraw_weights = torch.bmm(x1, x2.transpose(1, 2)) \n# 3. \u7528 softmax \u51fd\u6570\u5bf9\u539f\u59cb\u6743\u91cd\u8fdb\u884c\u5f52\u4e00\u5316\uff0c\u6cbfseq_len2\u7ef4\u5ea6\uff08dim=2\uff09\u505a\u5f52\u4e00\u5316\uff0c\u56fa\u5b9a\u7684\uff08batch_size, seq_len1\uff09\u7684\u6743\u91cd\u548c\u4e3a1\nattn_weights = F.softmax(raw_weights, dim=2)\n# 4. \u5c06\u6ce8\u610f\u529b\u6743\u91cd\u4e0e x2 \u76f8\u4e58\uff0c\u8ba1\u7b97\u52a0\u6743\u548c\uff0c\u751f\u6210\u5f62\u72b6\u4e3a(batch_size, seq_len1, feature_dim)\nattn_output = torch.bmm(attn_weights, x2)\n</code></pre>"},{"location":"cs-life/machine-learn/nlp/attention/#_4","title":"\u7f29\u653e\u70b9\u79ef\u6ce8\u610f\u529b","text":"<ul> <li>\u7f29\u653e\u70b9\u79ef\u6ce8\u610f\u529b\u662f\u4e00\u79cd\u6539\u8fdb\u7684\u6ce8\u610f\u529b\u673a\u5236\uff0c\u5b83\u901a\u8fc7\u7f29\u653e\u70b9\u79ef\u6765\u8ba1\u7b97\u6ce8\u610f\u529b\u6743\u91cd\u3002</li> <li>\u7f29\u653e\u70b9\u79ef\u6ce8\u610f\u529b\u7684\u8ba1\u7b97\u8fc7\u7a0b\u5982\u4e0b\uff1a<ul> <li>\u9996\u5148\uff0c\u5c06\u67e5\u8be2\u5411\u91cf\u548c\u952e\u5411\u91cf\u8fdb\u884c\u70b9\u79ef\u8fd0\u7b97\uff0c\u5f97\u5230\u4e00\u4e2a\u76f8\u4f3c\u5ea6\u5f97\u5206\u3002</li> <li>\u7136\u540e\uff0c\u5c06\u76f8\u4f3c\u5ea6\u5f97\u5206\u9664\u4ee5\u4e00\u4e2a\u7f29\u653e\u56e0\u5b50\uff0c\u901a\u5e38\u662f\u67e5\u8be2\u5411\u91cf\u7684\u7ef4\u5ea6\u7684\u5e73\u65b9\u6839\u3002</li> <li>\u6700\u540e\uff0c\u4f7f\u7528 softmax \u51fd\u6570\u5bf9\u7f29\u653e\u540e\u7684\u76f8\u4f3c\u5ea6\u5f97\u5206\u8fdb\u884c\u5f52\u4e00\u5316\uff0c\u5f97\u5230\u6ce8\u610f\u529b\u6743\u91cd\u3002</li> </ul> </li> </ul> <pre><code>import torch # \u5bfc\u5165 torch\nimport torch.nn.functional as F # \u5bfc\u5165 nn.functional\n# 1. \u521b\u5efa\u4e24\u4e2a\u5f20\u91cf x1 \u548c x2\uff0c\u6ce8\u610f\u4e24\u4e2a\u5f20\u91cf\u7684batch_size\u548cfeature_dim\u5fc5\u987b\u76f8\u540c\nx1 = torch.randn(2, 3, 4) # \u5f62\u72b6 (batch_size, seq_len1, feature_dim)\nx2 = torch.randn(2, 5, 4) # \u5f62\u72b6 (batch_size, seq_len2, feature_dim)\n# 2. \u8ba1\u7b97\u76f8\u4f3c\u5ea6\u5f97\u5206\uff0c(batch_size, seq_len1, seq_len2)\nraw_weights = torch.bmm(x1, x2.transpose(1, 2)) \n# 3. \u7f29\u653e\u6743\u91cd\uff0c\u5f62\u72b6 (batch_size, seq_len1, seq_len2)\nscaling_factor = x1.size(-1) ** 0.5  # sqrt(x1.shape[-1])2\nscaled_weights = raw_weights  / scaling_factor\n# 4. \u7528 softmax \u51fd\u6570\u5bf9\u539f\u59cb\u6743\u91cd\u8fdb\u884c\u5f52\u4e00\u5316\uff0c\u6cbfseq_len2\u7ef4\u5ea6\uff08dim=2\uff09\u505a\u5f52\u4e00\u5316\uff0c\u56fa\u5b9a\u7684\uff08batch_size, seq_len1\uff09\u7684\u6743\u91cd\u548c\u4e3a1\nattn_weights = F.softmax(scaled_weights, dim=2)\n# 5. \u5c06\u6ce8\u610f\u529b\u6743\u91cd\u4e0e x2 \u76f8\u4e58\uff0c\u8ba1\u7b97\u52a0\u6743\u548c\uff0c\u751f\u6210\u5f62\u72b6\u4e3a(batch_size, seq_len1, feature_dim)\nattn_output = torch.bmm(attn_weights, x2)\n</code></pre>"},{"location":"cs-life/machine-learn/nlp/attention/#-","title":"\u7f16\u7801\u5668-\u89e3\u7801\u5668\u6ce8\u610f\u529b","text":"<p>\u6ce8\u610f\u529b\u673a\u5236\u662f\u600e\u4e48\u5bf9Seq2Seq\u505a\u7684\u589e\u5f3a\uff1f\u89e3\u7801\u5668\u8981\u5bf9\u7f16\u7801\u5668\u8fdb\u884c\u6ce8\u610f\u3002(\u70b9\u79ef\u6ce8\u610f\u901a\u5e38\u7528\u4e8e\u5c06\u7f16\u7801\u5668\u9690\u85cf\u72b6\u6001\u4e0e\u89e3\u7801\u5668\u9690\u85cf\u72b6\u6001\u8054\u7cfb\u8d77\u6765)</p> <ul> <li>x1\uff1a\u89e3\u7801\u5668\u5728\u5404\u4e2a\u65f6\u95f4\u6b65\u7684\u9690\u85cf\u72b6\u6001\u3002</li> <li>x2\uff1a\u7f16\u7801\u5668\u5728\u5404\u4e2a\u65f6\u95f4\u6b65\u7684\u9690\u85cf\u72b6\u6001\u3002<ul> <li>\u89e3\u7801\u5668\u7684\u6bcf\u4e2a\u65f6\u95f4\u6b65\u90fd\u4f1a\u6839\u636e\u7f16\u7801\u5668\u7684\u9690\u85cf\u72b6\u6001\u8ba1\u7b97\u4e00\u4e2a\u6ce8\u610f\u529b\u6743\u91cd\uff0c\u7136\u540e\u5c06\u8fd9\u4e9b\u6743\u91cd\u7528\u4e8e\u7f16\u7801\u5668\u9690\u85cf\u72b6\u6001\uff0c\u4ee5\u751f\u6210\u4e00\u4e2a\u4e0a\u4e0b\u6587\u5411\u91cf\uff08\u7f16\u7801\u5668-\u89e3\u7801\u5668\u6ce8\u610f\u529b\u7684\u8f93\u51fa\uff09\u3002</li> <li>\u8fd9\u4e2a\u4e0a\u4e0b\u6587\u5411\u91cf\u5c06\u5305\u542b\u5173\u4e8e\u7f16\u7801\u5668\u8f93\u5165\u5e8f\u5217\u7684\u6709\u7528\u4fe1\u606f\uff0c\u89e3\u7801\u5668\u53ef\u4ee5\u5229\u7528\u8fd9\u4e2a\u4fe1\u606f\u751f\u6210\u66f4\u51c6\u786e\u7684\u8f93\u51fa\u5e8f\u5217\u3002</li> </ul> </li> </ul>"},{"location":"cs-life/machine-learn/nlp/attention/#qkv","title":"\u6ce8\u610f\u529b\u673a\u5236\u4e2d\u7684Q\u3001K\u3001V","text":"<p>Transformer\u4e2d\u7ecf\u5e38\u63d0\u5230Q\u3001K\u3001V\u4e09\u4e2a\u5411\u91cf\uff1a</p> <ul> <li>\u67e5\u8be2\uff08Query\uff09\uff1a\u6307\u5f53\u524d\u8981\u5904\u7406\u7684\u65b0\uff0c\u6a21\u578b\u6839\u636e\u67e5\u8be2\u5411\u91cf\u5728\u8f93\u5165\u5e8f\u5217\u4e2d\u67e5\u627e\u76f8\u5173\u4fe1\u606f\u3002</li> <li>\u952e\uff08Key\uff09\uff1a\u6307\u6765\u81ea\u8f93\u5165\u5e8f\u5217\u7684\u4e00\u7ec4\u8868\u793a\uff0c\u6839\u636e\u67e5\u8be2\u5411\u91cf\u8ba1\u7b97\u6ce8\u610f\u529b\u6743\u91cd\uff0c\u6ce8\u610f\u529b\u6743\u91cd\u53cd\u6620\u4e86\u4e0d\u540c\u4f4d\u7f6e\u7684\u8f93\u5165\u6570\u636e\u4e0e\u67e5\u8be2\u7684\u76f8\u5173\u6027\uff08\u91cd\u70b9\u5173\u6ce8\u5565\uff09\u3002</li> <li>\u503c\uff08Value\uff09\uff1a\u6307\u6765\u81ea\u8f93\u5165\u5e8f\u5217\u7684\u4e00\u7ec4\u8868\u793a\uff0c\u7528\u4e8e\u6839\u636e\u6ce8\u610f\u529b\u6743\u91cd\u8ba1\u7b97\u52a0\u6743\u548c\uff0c\u5f97\u5230\u6700\u7ec8\u7684\u6ce8\u610f\u529b\u8f93\u51fa\u5411\u91cf\uff0c\u5305\u542b\u4e86\u4e0e\u67e5\u8be2\u6700\u76f8\u5173\u7684\u8f93\u5165\u4fe1\u606f\u3002</li> </ul> <pre><code>#1. \u521b\u5efa Query\u3001Key \u548c Value \u5f20\u91cf\nq = torch.randn(2, 3, 4) # \u5f62\u72b6 (batch_size, seq_len1, feature_dim)\nk = torch.randn(2, 4, 4) # \u5f62\u72b6 (batch_size, seq_len2, feature_dim)\nv = torch.randn(2, 4, 4) # \u5f62\u72b6 (batch_size, seq_len2, feature_dim)\n# 2. \u8ba1\u7b97\u70b9\u79ef\uff0c\u5f97\u5230\u539f\u59cb\u6743\u91cd\uff0c\u5f62\u72b6\u4e3a (batch_size, seq_len1, seq_len2)\nraw_weights = torch.bmm(q, k.transpose(1, 2))\n# 3. \u5c06\u539f\u59cb\u6743\u91cd\u8fdb\u884c\u7f29\u653e\uff08\u53ef\u9009\uff09\uff0c\u5f62\u72b6\u4ecd\u4e3a (batch_size, seq_len1, seq_len2)\nscaling_factor = q.size(-1) ** 0.5\nscaled_weights = raw_weights / scaling_factor\n# 4. \u5e94\u7528 softmax \u51fd\u6570\uff0c\u4f7f\u7ed3\u679c\u7684\u503c\u5728 0 \u548c 1 \u4e4b\u95f4\uff0c\u4e14\u6bcf\u4e00\u884c\u7684\u548c\u4e3a 1\nattn_weights = F.softmax(scaled_weights, dim=-1) # \u5f62\u72b6\u4ecd\u4e3a (batch_size, seq_len1, seq_len2)\n# 5. \u4e0e Value \u76f8\u4e58\uff0c\u5f97\u5230\u6ce8\u610f\u529b\u5206\u5e03\u7684\u52a0\u6743\u548c , \u5f62\u72b6\u4e3a (batch_size, seq_len1, feature_dim)\nattn_output = torch.bmm(attn_weights, v)\n</code></pre>"},{"location":"cs-life/machine-learn/nlp/attention/#_5","title":"\u6848\u4f8b\u89e3\u91ca","text":"<p>\u5047\u8bbe\u4f60\u662f\u4e00\u4e2a\u5b66\u751f\uff0c\u6b63\u5728\u56fe\u4e66\u9986\u5199\u8bba\u6587\uff0c\u9700\u8981\u627e\u53c2\u8003\u4e66\uff0c \u627e\u4e66\u7684\u8fc7\u7a0b\u5c31\u662f Q\u3001K\u3001V \u7684\u4e92\u52a8\uff1a</p> <ul> <li>\u4f60\u7684\u95ee\u9898\uff08Q - Query\uff09\uff1a\u4f60\u60f3\u7814\u7a76\u201c\u6050\u9f99\u4e3a\u4ec0\u4e48\u4f1a\u706d\u7edd\uff1f\u201d</li> <li>\u4e66\u67b6\u4e0a\u7684\u4e66\u540d\uff08K - Key\uff09\uff1a\u6bcf\u672c\u4e66\u7684\u4e66\u540d\uff08\u6bd4\u5982\u300a\u5730\u7403\u5386\u53f2\u300b\u300a\u706b\u5c71\u7206\u53d1\u300b\u300a\u9668\u77f3\u649e\u51fb\u300b\uff09</li> <li>\u4e66\u91cc\u7684\u5177\u4f53\u5185\u5bb9\uff08V - Value\uff09\uff1a\u6bcf\u672c\u4e66\u91cc\u7684\u8be6\u7ec6\u77e5\u8bc6</li> </ul> <p>\u7b2c\u4e00\u6b65\uff1a\u5339\u914d\u95ee\u9898\u4e0e\u4e66\u540d\uff08Q \u548c K \u7684\u70b9\u79ef\uff09</p> <ul> <li> <p>\u4f60\u5bf9\u6bd4\u81ea\u5df1\u7684\u95ee\u9898\uff08Q\uff09\u548c\u6bcf\u672c\u4e66\u7684\u4e66\u540d\uff08K\uff09</p> <ul> <li>\u300a\u9668\u77f3\u649e\u51fb\u300b\u7684\u4e66\u540d\u548c\u4f60\u7684\u95ee\u9898\u6700\u76f8\u5173 \u2192 \u5339\u914d\u5ea6\u9ad8</li> <li>\u300a\u706b\u5c71\u7206\u53d1\u300b\u6b21\u4e4b</li> <li>\u300a\u5730\u7403\u5386\u53f2\u300b\u592a\u5bbd\u6cdb\uff0c\u5339\u914d\u5ea6\u4f4e</li> </ul> </li> </ul> <p>\u7b2c\u4e8c\u6b65\uff1a\u8ba1\u7b97\u6ce8\u610f\u529b\u6743\u91cd\uff08Softmax\uff09</p> <ul> <li>\u6839\u636e\u5339\u914d\u5ea6\uff0c\u7ed9\u6bcf\u672c\u4e66\u5206\u914d\u4e00\u4e2a\u201c\u6ce8\u610f\u529b\u5206\u6570\u201d<ul> <li>\u300a\u9668\u77f3\u649e\u51fb\u300b\u5f97\u5206\u6700\u9ad8\uff08\u6bd4\u5982 70%\uff09</li> <li>\u300a\u706b\u5c71\u7206\u53d1\u300b\u5f97\u5206\u4e2d\u7b49\uff08\u6bd4\u5982 25%\uff09</li> <li>\u300a\u5730\u7403\u5386\u53f2\u300b\u5f97\u5206\u6700\u4f4e\uff08\u6bd4\u5982 5%\uff09</li> </ul> </li> </ul> <p>\u7b2c\u4e09\u6b65\uff1a\u6574\u5408\u77e5\u8bc6\uff08V \u7684\u52a0\u6743\u548c\uff09</p> <ul> <li>\u4f60\u91cd\u70b9\u8bfb\u300a\u9668\u77f3\u649e\u51fb\u300b\uff0870%\u7684\u6ce8\u610f\u529b\uff09\uff0c\u7ed3\u5408\u300a\u706b\u5c71\u7206\u53d1\u300b\uff0825%\u7684\u6ce8\u610f\u529b\uff09\uff0c\u5ffd\u7565\u300a\u5730\u7403\u5386\u53f2\u300b</li> <li>\u6700\u7ec8\u7b54\u6848 = 70% \u00d7 \u9668\u77f3\u4e66\u5185\u5bb9 + 25% \u00d7 \u706b\u5c71\u4e66\u5185\u5bb9 + 5% \u00d7 \u5730\u7403\u4e66\u5185\u5bb9</li> </ul>"},{"location":"cs-life/machine-learn/nlp/attention/#_6","title":"\u81ea\u6ce8\u610f\u529b","text":"<p>\u81ea\u6ce8\u610f\u529b\u5c31\u662f\u81ea\u5df1\u5bf9\u81ea\u5df1\u6ce8\u610f\uff0c\u5141\u8bb8\u6a21\u578b\u5728\u540c\u4e00\u5e8f\u5217\u4e2d\u4e0d\u540c\u4f4d\u7f6e\u4e4b\u95f4\u5efa\u7acb\u4f9d\u8d56\u5173\u7cfb\u3002\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u81ea\u53d8\u91cfx\uff0c\u5c31\u5b9e\u73b0\u4e86\u81ea\u6ce8\u610f\u529b\u3002</p> <pre><code> # \u4e00\u4e2a\u5f62\u72b6\u4e3a (batch_size, seq_len, feature_dim) \u7684\u5f20\u91cf x\nx = torch.randn(2, 3, 4) # \u5f62\u72b6 (batch_size, seq_len, feature_dim)\n# \u5b9a\u4e49\u7ebf\u6027\u5c42\u7528\u4e8e\u5c06 x \u8f6c\u6362\u4e3a Q, K, V \u5411\u91cf\nlinear_q = torch.nn.Linear(4, 4)\nlinear_k = torch.nn.Linear(4, 4)\nlinear_v = torch.nn.Linear(4, 4)\n# \u901a\u8fc7\u7ebf\u6027\u5c42\u8ba1\u7b97 Q, K, V\nQ = linear_q(x) # \u5f62\u72b6 (batch_size, seq_len, feature_dim)\nK = linear_k(x) # \u5f62\u72b6 (batch_size, seq_len, feature_dim)\nV = linear_v(x) # \u5f62\u72b6 (batch_size, seq_len, feature_dim)\n# \u8ba1\u7b97 Q \u548c K \u7684\u70b9\u79ef\uff0c\u4f5c\u4e3a\u76f8\u4f3c\u5ea6\u5206\u6570 , \u4e5f\u5c31\u662f\u81ea\u6ce8\u610f\u529b\u539f\u59cb\u6743\u91cd\nraw_weights = torch.bmm(Q, K.transpose(1, 2)) # \u5f62\u72b6 (batch_size, seq_len, seq_len)\n# \u5c06\u81ea\u6ce8\u610f\u529b\u539f\u59cb\u6743\u91cd\u8fdb\u884c\u7f29\u653e\nscale_factor = K.size(-1) ** 0.5  # \u8fd9\u91cc\u662f 4 ** 0.5\nscaled_weights = raw_weights / scale_factor # \u5f62\u72b6 (batch_size, seq_len, seq_len)\n# \u5bf9\u7f29\u653e\u540e\u7684\u6743\u91cd\u8fdb\u884c softmax \u5f52\u4e00\u5316\uff0c\u5f97\u5230\u6ce8\u610f\u529b\u6743\u91cd\nattn_weights = F.softmax(scaled_weights, dim=2) # \u5f62\u72b6 (batch_size, seq_len, seq_len)\n# \u5c06\u6ce8\u610f\u529b\u6743\u91cd\u5e94\u7528\u4e8e V \u5411\u91cf\uff0c\u8ba1\u7b97\u52a0\u6743\u548c\uff0c\u5f97\u5230\u52a0\u6743\u4fe1\u606f\nattn_outputs = torch.bmm(attn_weights, V) # \u5f62\u72b6 (batch_size, seq_len, feature_dim)\nprint(\"attn_output\", attn_outputs.shape)\n</code></pre>"},{"location":"cs-life/machine-learn/nlp/attention/#_7","title":"\u548c\u666e\u901a\u6ce8\u610f\u529b\u7684\u533a\u522b","text":"<ul> <li>\u666e\u901a\u6ce8\u610f\u529b\u673a\u5236\uff1aQ\u3001K\u3001V\u53ef\u80fd\u6765\u81ea\u4e0d\u540c\u7684\u5e8f\u5217\uff08\u5982\u7f16\u7801\u5668-\u89e3\u7801\u5668\u6ce8\u610f\u529b\uff09</li> <li>\u81ea\u6ce8\u610f\u529b\u673a\u5236\uff1aQ\u3001K\u3001V\u90fd\u6765\u81ea\u540c\u4e00\u4e2a\u5e8f\u5217\u7684\u4e0d\u540c\u53d8\u6362</li> </ul>"},{"location":"cs-life/machine-learn/nlp/attention/#_8","title":"\u591a\u5934\u6ce8\u610f\u529b","text":"<p>\u591a\u5934\u6ce8\u610f\u529b\u662f\u4e00\u79cd\u6539\u8fdb\u7684\u6ce8\u610f\u529b\u673a\u5236\uff0c\u5b83\u901a\u8fc7\u4f7f\u7528\u591a\u4e2a\u6ce8\u610f\u529b\u5934\u6765\u6355\u6349\u4e0d\u540c\u7684\u7279\u5f81\u8868\u793a\u3002 - \u591a\u5934\u6ce8\u610f\u529b\u7684\u8ba1\u7b97\u8fc7\u7a0b\u5982\u4e0b\uff1a     - \u9996\u5148\uff0c\u5c06\u67e5\u8be2\u5411\u91cf\u548c\u952e\u5411\u91cf\u8fdb\u884c\u7ebf\u6027\u53d8\u6362\uff0c\u5f97\u5230\u591a\u4e2a\u5934\u7684\u67e5\u8be2\u548c\u952e\u3002     - \u7136\u540e\uff0c\u8ba1\u7b97\u6bcf\u4e2a\u5934\u7684\u70b9\u79ef\u6ce8\u610f\u529b\u6743\u91cd\u3002     - \u6700\u540e\uff0c\u5c06\u591a\u4e2a\u5934\u7684\u6ce8\u610f\u529b\u6743\u91cd\u8fdb\u884c\u62fc\u63a5\uff0c\u5f97\u5230\u6700\u7ec8\u7684\u6ce8\u610f\u529b\u8f93\u51fa\u5411\u91cf\u3002</p>"},{"location":"cs-life/middleware/cache/cluster/","title":"Redis \u96c6\u7fa4","text":""},{"location":"cs-life/middleware/cache/cluster/#_1","title":"\u96c6\u7fa4\u65b9\u6848","text":"<ol> <li>\u5ba2\u6237\u7aef\u8bb0\u5f55\u6240\u6709\u8282\u70b9\u4fe1\u606f\uff0c\u5229\u7528\u4e00\u81f4\u6027hash\uff0c\u5c06\u5bf9\u5e94\u7684key\u5b58\u5230\u5bf9\u5e94\u7684\u8282\u70b9\u4e0a\uff08\u8282\u70b9\u95f4\u6784\u5efa\u4e3b\u4ece\u6765\u4fdd\u8bc1\u9ad8\u53ef\u7528\uff09<ul> <li>\u6570\u636e\u8fc1\u79fb\u4f9d\u8d56\u5ba2\u6237\u7aef</li> </ul> </li> <li>Redis Cluster<ul> <li>\u8282\u70b9\u95f4\u901a\u8fc7 Gossip \u540c\u6b65\u72b6\u6001\uff0c\u5e76\u4e14\u5206slot\u5230\u5bf9\u5e94\u7684\u4e3b\u4ece\u8282\u70b9</li> </ul> </li> <li>Codis<ul> <li>\u5229\u7528zk\u6765\u7ef4\u62a4\u5bf9\u5e94\u7684slot\u548c\u8282\u70b9\u7684\u5173\u7cfb</li> </ul> </li> </ol>"},{"location":"cs-life/middleware/cache/cluster/#redis-cluster","title":"Redis Cluster","text":"<ul> <li>Cluster nodes are also able to auto-discover other nodes, detect non-working nodes, and promote slave nodes to master when needed in order to continue to operate when a failure occurs.</li> <li>The client is not required to hold the state of the cluster.</li> <li>Masters can not reply to clients (with the acknowledge of the write) and slaves (propagating the write) at about the same time.</li> <li>Merge operations are avoided</li> <li>hash use <code>crc16(key) % 16384</code></li> <li></li> </ul>"},{"location":"cs-life/middleware/cache/cluster/#reference","title":"Reference","text":"<ul> <li>Redis Cluter\u642d\u5efa</li> <li>Redis Cluster\u5b98\u65b9\u6587\u6863</li> <li>Codis</li> <li>\u7f8e\u56e2KV\u5b58\u50a8\u67b6\u6784</li> <li>\u5b57\u8282\u706b\u5c71 Redis \u96c6\u7fa4</li> </ul>"},{"location":"cs-life/middleware/cache/multi-thread/","title":"Redis \u591a\u7ebf\u7a0b","text":""},{"location":"cs-life/middleware/cache/multi-thread/#reference","title":"Reference","text":"<ul> <li>Redis\u591a\u7ebf\u7a0b</li> <li>Redis \u591a\u7ebf\u7a0b\u6027\u80fd\u8bc4\u6d4b</li> </ul>"},{"location":"cs-life/middleware/cache/practice/","title":"Cache \u8e29\u5751","text":""},{"location":"cs-life/middleware/cache/practice/#cache-db","title":"cache \u548c db \u4e0d\u4e00\u81f4","text":"<p>\u80cc\u666f\uff1a\u540c\u6b65\u54c1\u724c\u8d44\u8d28\u8868 t_brand \u6570\u636e\u5230 cache</p> <p>\u901a\u8def\u662f mysql -&gt; binlog -&gt; redis</p> key value relate_id qualification_id <p>\u6709\u4e00\u79cd\u573a\u666f\uff0c\uff08\u7528\u6237\u5e97\u94fa\u5347\u7ea7\uff0c\u5e76\u4e14\u4e0d\u590d\u7528\u8d44\u8d28\uff0c\u4ecd\u7136\u4e0a\u4f20\u76f8\u540c\u7684\u5546\u6807\u6ce8\u518c\u8bc1\uff09</p> <p>\u547d\u4e2d\u4e86\u540c\u4e00\u4e2arelate_id\uff0c\u751f\u6210\u4e86\u53e6\u5916\u4e00\u4e2a qualification_id</p> <p>binlog \u662f\u4e71\u5e8f\u7684\uff08\u540c\u4e00\u884c\u7684binlog\u53ef\u4ee5\u4fdd\u8bc1\u987a\u5e8f\uff0c\u4e0d\u540c\u884c\u7684\u4e0d\u80fd\u4fdd\u8bc1\u987a\u5e8f\u6027\uff09</p> <p>binlog \u5b58\u5728\u4e86 \u5148\u65b0\u589eid=2\uff0c\u540e\u5220\u9664id=1\u3002</p> <p>\u7f13\u5b58\u53d8\u66f4\u540e\u6309\u7167binlog\u987a\u5e8f\u5148\u63d2\u5165\u4e86  <code>666 -&gt; 2444</code>\uff0c\u540e\u8fdb\u884c\u4e86\u5220\u9664\u3002</p> <p>\u6b64\u65f6\uff1adb\u6570\u636e\u5982\u4e0b\uff1a\u7528\u6237\u6709\u4e00\u4e2a\u8d44\u8d28id=2444, relate_id=666 \u4f46\u662f\u7f13\u5b58\u91cc <code>666 -&gt; null</code></p> id qualification_id relate_id create_time update_time deleted_time 1 2333 666 \"2022-08-22T10:00:00\" \"2022-08-22T10:30:00\" \"2022-08-22T10:30:00\" 2 2444 666 \"2022-08-22T10:30:00\" \"2022-08-22T10:30:00\" null"},{"location":"cs-life/middleware/cache/redis/","title":"Redis","text":""},{"location":"cs-life/middleware/cache/redis/#_1","title":"\u57fa\u7840","text":"<ul> <li>aof\u548crdb\u4f18\u70b9\uff0c\u533a\u522b</li> <li>\u6162\u65e5\u5fd7\u67e5\u8be2</li> <li>\u7f13\u5b58\u4e00\u81f4\u6027\uff0c\u5982\u4f55\u907f\u514d\u810f\u6570\u636e</li> <li>\u7f13\u5b58\u96ea\u5d29\u3001\u7f13\u5b58\u7a7f\u900f</li> <li>\u6570\u636e\u6dd8\u6c70\u673a\u5236</li> <li>\u5e95\u5c42\u7f51\u7edc\u6a21\u578b\uff08Linux\uff0cWindows\uff0cMacOS\uff09</li> </ul>"},{"location":"cs-life/middleware/cache/redis/#_2","title":"\u5206\u5e03\u5f0f\u9501","text":"<p><code>ex</code>\u8868\u793a<code>expire</code>\uff0c<code>nx</code>\u8868\u793a<code>if not exist</code></p> <pre><code>set redis-key clientId ex 5 nx\n</code></pre>"},{"location":"cs-life/middleware/cache/redis/#_3","title":"\u9650\u6d41","text":"<p>\u4f7f\u7528zset+\u6ed1\u52a8\u7a97\u53e3</p> <p>\u6bd4\u5982\u6bcf1\u5206\u949f\u9650\u5236\u8bbf\u95ee1000\u6b21,\u90a3\u4e48<code>period=60</code>, <code>max_count=1000</code></p> <ol> <li><code>zadd rate_limit_key now_ts now_ts</code>(now_ts\u4e3a\u5f53\u524d\u7684\u65f6\u95f4\u6233)</li> <li><code>zremrangebyscore rate_limit_key, 0, now_ts - period * 1000</code> (\u79fb\u9664\u65f6\u95f4\u7a97\u53e3\u4e4b\u524d\u7684\u884c\u4e3a\u8bb0\u5f55,\u5269\u4e0b\u7684\u90fd\u662f\u65f6\u95f4\u7a97\u53e3\u5185\u7684)</li> <li><code>zcard rate_limit_key</code> \u83b7\u53d6\u7a97\u53e3\u5185\u7684\u884c\u4e3a\u6570\u91cf</li> <li><code>expire rate_limit_key period + 1</code></li> </ol> <p>\u5224\u65ad\u6b65\u9aa43\u4e2d\u7684\u83b7\u53d6\u7684\u6570\u91cf\u662f\u5426\u5c0f\u4e8e<code>max_count</code></p>"},{"location":"cs-life/middleware/cache/redis/#big-key","title":"big key","text":"<ol> <li>\u5927key\u4f1a\u5e26\u6765\u64cd\u4f5c\u65f6\u95f4\u7684\u4e0a\u5347 \u5373\u4f7f\u662f<code>O(logn)</code>\u7684\u64cd\u4f5c\uff0cn\u8d8a\u5927\uff0c\u6267\u884c\u65f6\u95f4\u8d8a\u957f\uff0cRedis\u5355\u7ebf\u7a0b\u5904\u7406\uff0c\u4f1ablock\u5176\u4ed6\u547d\u4ee4\u6267\u884c</li> <li>\u5927key\u8fc1\u79fb\u4f1a\u5f88\u9ebb\u70e6</li> <li>io\u7684\u5f00\u9500(\u5c06big key\u4f20\u8f93\u5230client, io\u4f1a\u5f88\u6162)</li> </ol>"},{"location":"cs-life/middleware/cache/redis/#_4","title":"\u63a8\u8350\u6587\u7ae0","text":"<ul> <li>Redis \u6027\u80fd\u4f18\u5316\u601d\u8def\uff0c\u5199\u7684\u975e\u5e38\u597d\uff01</li> <li>\u706b\u5c71\u5f15\u64ce Redis \u4e91\u539f\u751f\u5b9e\u8df5</li> </ul>"},{"location":"cs-life/middleware/cache/code-read/hashtable/","title":"hash table","text":""},{"location":"cs-life/middleware/cache/code-read/hashtable/#_1","title":"\u6570\u636e\u7ed3\u6784","text":"<pre><code>typedef struct dictEntry {\n    void *key;\n    union {\n        void *val;\n        uint64_t u64;\n        int64_t s64;\n        double d;\n    } v;\n    struct dictEntry *next;\n} dictEntry;\n\ntypedef struct dictht {\n    dictEntry **table;\n    unsigned long size;\n    unsigned long sizemask;\n    unsigned long used;\n} dictht;\n\ntypedef struct dict {\n    dictType *type; /* \u8bb0\u5f55 dictEntry\u7684key\u548cvalue\u7684\u4fe1\u606f */\n    void *privdata;\n    dictht ht[2];\n    long rehashidx; /* rehashing not in progress if rehashidx == -1 */\n    unsigned long iterators; /* number of iterators currently running */\n} dict;\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/hashtable/#_2","title":"\u63d2\u5165","text":"<ul> <li>\u91c7\u7528\u7684\u662f\u5934\u63d2\u6cd5\uff0c\u5728<code>_dictKeyIndex</code>\u4f1a\u53bb\u5bfb\u627eindex\uff08\u6ca1\u5728\u6269\u5bb9\uff0c\u53ea\u67e5<code>ht[0]</code>\uff0c\u5982\u679c\u6269\u5bb9\u8fd8\u67e5<code>ht[1]</code>\uff09</li> <li>\u6b63\u5728\u6269\u5bb9\uff0c\u4f1a\u76f4\u63a5\u628a\u65b0entry\u5199\u5165<code>ht[1]</code>\uff0c\u5426\u5219\u5199\u5165<code>ht[0]</code></li> </ul> <pre><code>/* Add an element to the target hash table */\nint dictAdd(dict *d, void *key, void *val)\n{\n    dictEntry *entry = dictAddRaw(d,key,NULL);\n\n    if (!entry) return DICT_ERR;\n    dictSetVal(d, entry, val);\n    return DICT_OK;\n}\n\ndictEntry *dictAddRaw(dict *d, void *key, dictEntry **existing)\n{\n    long index;\n    dictEntry *entry;\n    dictht *ht;\n\n    if (dictIsRehashing(d)) _dictRehashStep(d);\n\n    /* Get the index of the new element, or -1 if\n     * the element already exists. */\n    if ((index = _dictKeyIndex(d, key, dictHashKey(d,key), existing)) == -1)\n        return NULL;\n\n    /* Allocate the memory and store the new entry.\n     * Insert the element in top, with the assumption that in a database\n     * system it is more likely that recently added entries are accessed\n     * more frequently. */\n    ht = dictIsRehashing(d) ? &amp;d-&gt;ht[1] : &amp;d-&gt;ht[0];\n    entry = zmalloc(sizeof(*entry));\n    entry-&gt;next = ht-&gt;table[index];\n    ht-&gt;table[index] = entry;\n    ht-&gt;used++;\n\n    /* Set the hash entry fields. */\n    dictSetKey(d, entry, key);\n    return entry;\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/hashtable/#_3","title":"\u83b7\u53d6","text":"<p>\u548c\u63d2\u5165\u5dee\u4e0d\u591a - \u5f53\u524d\u5728rehash\uff0c\u9700\u8981\u626b\u63cf<code>ht[0]</code>\u548c<code>ht[1]</code>; \u5426\u5219\u53ea\u626b\u63cf<code>ht[0]</code></p> <pre><code>dictEntry *dictFind(dict *d, const void *key)\n{\n    dictEntry *he;\n    uint64_t h, idx, table;\n\n    if (d-&gt;ht[0].used + d-&gt;ht[1].used == 0) return NULL; /* dict is empty */\n    if (dictIsRehashing(d)) _dictRehashStep(d);\n    h = dictHashKey(d, key);\n    for (table = 0; table &lt;= 1; table++) {\n        idx = h &amp; d-&gt;ht[table].sizemask;\n        he = d-&gt;ht[table].table[idx];\n        while(he) {\n            if (key==he-&gt;key || dictCompareKeys(d, key, he-&gt;key))\n                return he;\n            he = he-&gt;next;\n        }\n        if (!dictIsRehashing(d)) return NULL;\n    }\n    return NULL;\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/hashtable/#_4","title":"\u6269\u5bb9","text":""},{"location":"cs-life/middleware/cache/code-read/hashtable/#_5","title":"\u65f6\u673a","text":"<ul> <li>add\uff0cfind\uff0cdelete\uff0creplace\u90fd\u4f1a\u89e6\u53d1\u5355\u4e2abucket\u7684\u6269\u5bb9</li> <li>\u5f53\u670d\u52a1\u7a7a\u95f2\u65f6\uff0c\u5982\u679c\u5f53\u524d\u5b57\u5178\u4e5f\u9700\u8981\u8fdb\u884crehsh\u64cd\u4f5c\uff0c\u5219\u4f1a\u8c03\u7528<code>incrementallyRehash</code>\u51fd\u6570\u8fdb\u884c\u6279\u91cfrehash\u64cd\u4f5c<ul> <li>\u6bcf\u6b21\u5bf9100\u4e2a\u8282\u70b9\u8fdb\u884crehash\u64cd\u4f5c\uff0c\u5171\u6267\u884c1\u6beb\u79d2</li> </ul> </li> </ul>"},{"location":"cs-life/middleware/cache/code-read/hashtable/#hashtable","title":"\u5224\u65ad\u6269\u5c55HashTable","text":"<pre><code>/* Expand the hash table if needed */\nstatic int _dictExpandIfNeeded(dict *d)\n{\n    /* Incremental rehashing already in progress. Return. */\n    if (dictIsRehashing(d)) return DICT_OK;\n\n    /* If the hash table is empty expand it to the initial size. */\n    if (d-&gt;ht[0].size == 0) return dictExpand(d, DICT_HT_INITIAL_SIZE);\n\n    /* If we reached the 1:1 ratio, and we are allowed to resize the hash\n     * table (global setting) or we should avoid it but the ratio between\n     * elements/buckets is over the \"safe\" threshold, we resize doubling\n     * the number of buckets. */\n    if (d-&gt;ht[0].used &gt;= d-&gt;ht[0].size &amp;&amp;\n        (dict_can_resize ||\n         d-&gt;ht[0].used/d-&gt;ht[0].size &gt; dict_force_resize_ratio))\n    {\n        return dictExpand(d, d-&gt;ht[0].used*2);\n    }\n    return DICT_OK;\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/hashtable/#hashtable_1","title":"\u5224\u65ad\u6536\u7f29HashTable","text":"<pre><code>int htNeedsResize(dict *dict) {\n    long long size, used;\n\n    size = dictSlots(dict);\n    used = dictSize(dict);\n    return (size &gt; DICT_HT_INITIAL_SIZE &amp;&amp;\n            (used*100/size &lt; HASHTABLE_MIN_FILL));\n}\n\n/* Resize the table to the minimal size that contains all the elements,\n * but with the invariant of a USED/BUCKETS ratio near to &lt;= 1 */\nint dictResize(dict *d)\n{\n    int minimal;\n\n    if (!dict_can_resize || dictIsRehashing(d)) return DICT_ERR;\n    minimal = d-&gt;ht[0].used;\n    if (minimal &lt; DICT_HT_INITIAL_SIZE)\n        minimal = DICT_HT_INITIAL_SIZE;\n    return dictExpand(d, minimal);\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/hashtable/#_6","title":"\u6269/\u7f29\u5bb9\u6e90\u7801\u5206\u6790","text":"<ul> <li>bucket\u6570\u7ec4\u521d\u59cb\u5bb9\u91cf\u4e3a4</li> <li><code>dictExpand</code> \u521b\u5efa\u4e86 <code>ht</code>,\u5927\u5c0f\u4e3a<code>&gt;= size\u7684\u6700\u8fd1\u76842\u6b21\u5e42\u6570</code>\uff0c\u7136\u540e\u521b\u5efa\u5bf9\u5e94<code>realsize</code>\u7684bucket\u6570\u7ec4</li> <li>\u8bbe\u7f6e<code>rehashidx = 0</code></li> <li>\u5206\u914d\u5185\u5b58\u4f7f\u7528<code>zcalloc</code>\u65b9\u6cd5</li> </ul> <pre><code>/* Expand or create the hash table */\nint dictExpand(dict *d, unsigned long size)\n{\n    /* the size is invalid if it is smaller than the number of\n     * elements already inside the hash table */\n    if (dictIsRehashing(d) || d-&gt;ht[0].used &gt; size)\n        return DICT_ERR;\n\n    dictht n; /* the new hash table */\n    unsigned long realsize = _dictNextPower(size);\n\n    /* Rehashing to the same table size is not useful. */\n    if (realsize == d-&gt;ht[0].size) return DICT_ERR;\n\n    /* Allocate the new hash table and initialize all pointers to NULL */\n    n.size = realsize;\n    n.sizemask = realsize-1;\n    n.table = zcalloc(realsize*sizeof(dictEntry*));\n    n.used = 0;\n\n    /* Is this the first initialization? If so it's not really a rehashing\n     * we just set the first hash table so that it can accept keys. */\n    if (d-&gt;ht[0].table == NULL) {\n        d-&gt;ht[0] = n;\n        return DICT_OK;\n    }\n\n    /* Prepare a second hash table for incremental rehashing */\n    d-&gt;ht[1] = n;\n    d-&gt;rehashidx = 0;\n    return DICT_OK;\n}\n</code></pre> <ul> <li><code>dictRehash</code>\u51fd\u6570\u662f\u627e\u4e00\u4e2a\u65b0\u7684bucket\uff0crehash\u5230<code>ht[1]</code>\u91cc\u9762\uff0c\u8fd8\u662f\u5934\u63d2\u6cd5</li> </ul> <pre><code>/* Performs N steps of incremental rehashing. Returns 1 if there are still\n * keys to move from the old to the new hash table, otherwise 0 is returned.\n *\n * Note that a rehashing step consists in moving a bucket (that may have more\n * than one key as we use chaining) from the old to the new hash table, however\n * since part of the hash table may be composed of empty spaces, it is not\n * guaranteed that this function will rehash even a single bucket, since it\n * will visit at max N*10 empty buckets in total, otherwise the amount of\n * work it does would be unbound and the function may block for a long time. */\nint dictRehash(dict *d, int n) {\n    int empty_visits = n*10; /* Max number of empty buckets to visit. */\n    if (!dictIsRehashing(d)) return 0;\n\n    while(n-- &amp;&amp; d-&gt;ht[0].used != 0) {\n        dictEntry *de, *nextde;\n\n        /* Note that rehashidx can't overflow as we are sure there are more\n         * elements because ht[0].used != 0 */\n        assert(d-&gt;ht[0].size &gt; (unsigned long)d-&gt;rehashidx);\n        while(d-&gt;ht[0].table[d-&gt;rehashidx] == NULL) {\n            d-&gt;rehashidx++;\n            if (--empty_visits == 0) return 1;\n        }\n        de = d-&gt;ht[0].table[d-&gt;rehashidx];\n        /* Move all the keys in this bucket from the old to the new hash HT */\n        while(de) {\n            uint64_t h;\n\n            nextde = de-&gt;next;\n            /* Get the index in the new hash table */\n            h = dictHashKey(d, de-&gt;key) &amp; d-&gt;ht[1].sizemask;\n            de-&gt;next = d-&gt;ht[1].table[h];\n            d-&gt;ht[1].table[h] = de;\n            d-&gt;ht[0].used--;\n            d-&gt;ht[1].used++;\n            de = nextde;\n        }\n        d-&gt;ht[0].table[d-&gt;rehashidx] = NULL;\n        d-&gt;rehashidx++;\n    }\n\n    /* Check if we already rehashed the whole table... */\n    if (d-&gt;ht[0].used == 0) {\n        zfree(d-&gt;ht[0].table);\n        d-&gt;ht[0] = d-&gt;ht[1];\n        _dictReset(&amp;d-&gt;ht[1]);\n        d-&gt;rehashidx = -1;\n        return 0;\n    }\n\n    /* More to rehash... */\n    return 1;\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/hashtable/#_7","title":"\u904d\u5386","text":""},{"location":"cs-life/middleware/cache/code-read/hashtable/#keys","title":"keys\u904d\u5386","text":"<p>keys\u904d\u5386\u4e3a\u5b89\u5168\u904d\u5386\uff0c\u904d\u5386\u65f6\u5019<code>d-&gt;iterators != 0</code>, \u56e0\u6b64\u4e0d\u80fd\u6267\u884crehash\u64cd\u4f5c</p> <pre><code>static void _dictRehashStep(dict *d) {\n    if (d-&gt;iterators == 0) dictRehash(d,1);\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/hashtable/#scan","title":"scan\u904d\u5386","text":"<p>\u9ad8\u4f4e\u4f4d\u904d\u5386</p>"},{"location":"cs-life/middleware/cache/code-read/hashtable/#reference","title":"Reference","text":"<ul> <li>Redis 5\u8bbe\u8ba1\u4e0e\u6e90\u7801\u5206\u6790</li> <li>Redis\u7684Dict</li> </ul>"},{"location":"cs-life/middleware/cache/code-read/persistent/","title":"\u6301\u4e45\u5316","text":"<p><code>rdb</code>\u548c<code>aof</code>\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u53ef\u4ee5<code>resize</code></p>"},{"location":"cs-life/middleware/cache/code-read/persistent/#rdb","title":"rdb","text":"<ul> <li>\u6574\u4f53\u6d41\u7a0b\u5148<code>rdbPopulateSaveInfo</code>, \u540e<code>rdbSaveBackground</code><ul> <li><code>rdbSaveInfo</code>\u8bb0\u5f55\u7684\u6709\u5f53\u524d\u9009\u62e9\u7684db<code>repl_stream_db</code></li> </ul> </li> <li>\u5982\u679c\u662f<code>master</code>\u53d1\u9001\u5230<code>slave</code>\u7684\u8bdd\uff0c\u6709\u591a\u4f59\u7684\u5904\u7406\uff0c\u8be6\u89c1<code>rdbSaveToSlavesSockets</code>\u51fd\u6570</li> </ul>"},{"location":"cs-life/middleware/cache/code-read/persistent/#bgsavecommand","title":"bgsaveCommand\u6267\u884c\u903b\u8f91","text":"<pre><code>/* BGSAVE [SCHEDULE] */\nvoid bgsaveCommand(client *c) {\n    int schedule = 0;\n\n    /* The SCHEDULE option changes the behavior of BGSAVE when an AOF rewrite\n     * is in progress. Instead of returning an error a BGSAVE gets scheduled. */\n    if (c-&gt;argc &gt; 1) {\n        if (c-&gt;argc == 2 &amp;&amp; !strcasecmp(c-&gt;argv[1]-&gt;ptr,\"schedule\")) {\n            schedule = 1;\n        } else {\n            addReply(c,shared.syntaxerr);\n            return;\n        }\n    }\n\n    rdbSaveInfo rsi, *rsiptr;\n    rsiptr = rdbPopulateSaveInfo(&amp;rsi);\n\n    if (server.rdb_child_pid != -1) {\n        addReplyError(c,\"Background save already in progress\");\n    } else if (server.aof_child_pid != -1) {\n        if (schedule) {\n            server.rdb_bgsave_scheduled = 1;\n            addReplyStatus(c,\"Background saving scheduled\");\n        } else {\n            addReplyError(c,\n                \"An AOF log rewriting in progress: can't BGSAVE right now. \"\n                \"Use BGSAVE SCHEDULE in order to schedule a BGSAVE whenever \"\n                \"possible.\");\n        }\n    } else if (rdbSaveBackground(server.rdb_filename,rsiptr) == C_OK) {\n        addReplyStatus(c,\"Background saving started\");\n    } else {\n        addReply(c,shared.err);\n    }\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/persistent/#rdbsavebackground","title":"rdbSaveBackground\u6267\u884c\u903b\u8f91","text":"<p>\u4e3b\u8fdb\u7a0b\u5f00\u7ba1\u9053\uff0cfork\u5b50\u8fdb\u7a0b\uff0c\u5173\u95ed\u5b50\u8fdb\u7a0b\u7684socket\uff0c\u6267\u884cdump\u903b\u8f91</p> <p>rdb\u8fc7\u7a0b\u4e2d\u4e0d\u53efresize, \u56e0\u4e3a\u662fCopyOnWrite, \u4f1a\u53ca\u5176\u5360\u7528\u5185\u5b58</p> <pre><code>int rdbSaveBackground(char *filename, rdbSaveInfo *rsi) {\n    pid_t childpid;\n    long long start;\n\n    if (server.aof_child_pid != -1 || server.rdb_child_pid != -1) return C_ERR;\n\n    server.dirty_before_bgsave = server.dirty;\n    server.lastbgsave_try = time(NULL);\n    openChildInfoPipe();\n\n    start = ustime();\n    if ((childpid = fork()) == 0) {\n        int retval;\n\n        /* Child */\n        closeListeningSockets(0);\n        redisSetProcTitle(\"redis-rdb-bgsave\");\n        /* important: rdb dump */\n        retval = rdbSave(filename,rsi);\n        if (retval == C_OK) {\n            size_t private_dirty = zmalloc_get_private_dirty(-1);\n\n            if (private_dirty) {\n                serverLog(LL_NOTICE,\n                    \"RDB: %zu MB of memory used by copy-on-write\",\n                    private_dirty/(1024*1024));\n            }\n\n            server.child_info_data.cow_size = private_dirty;\n            sendChildInfo(CHILD_INFO_TYPE_RDB);\n        }\n        exitFromChild((retval == C_OK) ? 0 : 1);\n    } else {\n        /* Parent */\n        server.stat_fork_time = ustime()-start;\n        server.stat_fork_rate = (double) zmalloc_used_memory() * 1000000 / server.stat_fork_time / (1024*1024*1024); /* GB per second. */\n        latencyAddSampleIfNeeded(\"fork\",server.stat_fork_time/1000);\n        if (childpid == -1) {\n            closeChildInfoPipe();\n            server.lastbgsave_status = C_ERR;\n            serverLog(LL_WARNING,\"Can't save in background: fork: %s\",\n                strerror(errno));\n            return C_ERR;\n        }\n        serverLog(LL_NOTICE,\"Background saving started by pid %d\",childpid);\n        server.rdb_save_time_start = time(NULL);\n        server.rdb_child_pid = childpid;\n        server.rdb_child_type = RDB_CHILD_TYPE_DISK;\n        updateDictResizePolicy();\n        return C_OK;\n    }\n    return C_OK; /* unreached */\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/persistent/#rdbsave","title":"rdbSave \u6267\u884c\u903b\u8f91","text":"<p>\u771f\u5b9e\u7684dump\u903b\u8f91</p> <pre><code>/* Save the DB on disk. Return C_ERR on error, C_OK on success. */\nint rdbSave(char *filename, rdbSaveInfo *rsi) {\n    char tmpfile[256];\n    char cwd[MAXPATHLEN]; /* Current working dir path for error messages. */\n    FILE *fp;\n    rio rdb;\n    int error = 0;\n\n    snprintf(tmpfile,256,\"temp-%d.rdb\", (int) getpid());\n    fp = fopen(tmpfile,\"w\");\n    if (!fp) {\n        char *cwdp = getcwd(cwd,MAXPATHLEN);\n        serverLog(LL_WARNING,\n            \"Failed opening the RDB file %s (in server root dir %s) \"\n            \"for saving: %s\",\n            filename,\n            cwdp ? cwdp : \"unknown\",\n            strerror(errno));\n        return C_ERR;\n    }\n\n    rioInitWithFile(&amp;rdb,fp);\n\n    if (server.rdb_save_incremental_fsync)\n        rioSetAutoSync(&amp;rdb,REDIS_AUTOSYNC_BYTES);\n\n    if (rdbSaveRio(&amp;rdb,&amp;error,RDB_SAVE_NONE,rsi) == C_ERR) {\n        errno = error;\n        goto werr;\n    }\n\n    /* Make sure data will not remain on the OS's output buffers */\n    if (fflush(fp) == EOF) goto werr;\n    if (fsync(fileno(fp)) == -1) goto werr;\n    if (fclose(fp) == EOF) goto werr;\n\n    /* Use RENAME to make sure the DB file is changed atomically only\n     * if the generate DB file is ok. */\n    if (rename(tmpfile,filename) == -1) {\n        char *cwdp = getcwd(cwd,MAXPATHLEN);\n        serverLog(LL_WARNING,\n            \"Error moving temp DB file %s on the final \"\n            \"destination %s (in server root dir %s): %s\",\n            tmpfile,\n            filename,\n            cwdp ? cwdp : \"unknown\",\n            strerror(errno));\n        unlink(tmpfile);\n        return C_ERR;\n    }\n\n    serverLog(LL_NOTICE,\"DB saved on disk\");\n    server.dirty = 0;\n    server.lastsave = time(NULL);\n    server.lastbgsave_status = C_OK;\n    return C_OK;\n\nwerr:\n    serverLog(LL_WARNING,\"Write error saving DB on disk: %s\", strerror(errno));\n    fclose(fp);\n    unlink(tmpfile);\n    return C_ERR;\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/persistent/#aof","title":"aof","text":"<p>TODO</p>"},{"location":"cs-life/middleware/cache/code-read/sds/","title":"sds","text":"<p>\u7b80\u5355\u52a8\u6001\u5b57\u7b26\u4e32</p>"},{"location":"cs-life/middleware/cache/code-read/sds/#_1","title":"\u6570\u636e\u7ed3\u6784","text":"<pre><code>struct __attribute__ ((__packed__)) sdshdr8 {\n    uint8_t len; /* used */\n    uint8_t alloc; /* excluding the header and null terminator */\n    unsigned char flags; /* 3 lsb of type, 5 unused bits */\n    char buf[];\n};\n</code></pre> <ul> <li><code>__attribute__ ((__packed__))</code>\u8fd9\u4e2a\u662f\u4e3a\u4e86\u5b57\u8282\u5bf9\u9f50\uff0c\u4e0d\u6309\u7167\u9ed8\u8ba4\u7684\u5143\u7d20\u7684\u6700\u5c0f\u516c\u500d\u6570\u5bf9\u9f50\uff0c\u800c\u662f\u6309\u7167<code>1</code>\u5b57\u8282\u8fdb\u884c\u5bf9\u9f50</li> <li>sds\u5bf9\u5916\u66b4\u9732\u7684\u662f<code>buf</code>\u6307\u9488\uff0cflags\u7684\u4f4e\u4e09\u4f4d\u53ef\u4ee5\u83b7\u53d6\u5f53\u524d<code>sds</code>\u7684\u7ed3\u6784\u4f53\u7c7b\u578b\uff0c\u4ece\u800c\u786e\u5b9a\u7ed3\u6784\u4f53\u7684\u6574\u4f53\u5927\u5c0f(hdr8, hdr16, hdr32...)</li> </ul>"},{"location":"cs-life/middleware/cache/code-read/sds/#_2","title":"\u6269\u5bb9\u64cd\u4f5c","text":"<p><code>SDS_MAX_PREALLOC = 1M</code></p> <pre><code>if (newlen &lt; SDS_MAX_PREALLOC)\n    newlen *= 2;\nelse\n    newlen += SDS_MAX_PREALLOC;\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/sds/#reference","title":"Reference","text":"<ul> <li>Redis 5\u8bbe\u8ba1\u4e0e\u6e90\u7801\u5206\u6790</li> <li>Redis\u7684Simple Dynamic String</li> </ul>"},{"location":"cs-life/middleware/cache/code-read/server-process/","title":"\u547d\u4ee4\u5904\u7406\u751f\u547d\u5468\u671f","text":""},{"location":"cs-life/middleware/cache/code-read/server-process/#_2","title":"\u6570\u636e\u7ed3\u6784","text":"<p>\u4ee5\u4e0b\u7ed3\u6784\u5747\u7ecf\u8fc7\u7cbe\u7b80\uff08\u4e0d\u7136\u53c2\u6570\u8fc7\u591a\uff09</p>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_3","title":"\u5bf9\u8c61","text":"<pre><code>#define LRU_BITS 24\n\ntypedef struct redisObject {\n    unsigned type:4;\n    unsigned encoding:4;\n    unsigned lru:LRU_BITS; /* LRU time (relative to global lru_clock) or\n                            * LFU data (least significant 8 bits frequency\n                            * and most significant 16 bits access time). */\n    int refcount;  // \u5f15\u7528\u8ba1\u6570\uff0crefcount=0,\u6267\u884c\u6790\u6784\n    void *ptr;     // \u6307\u5411\u5177\u4f53\u7684\u6570\u636e\u7ed3\u6784\n} robj;\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_4","title":"\u5ba2\u6237\u7aef","text":"<pre><code>/* With multiplexing we need to take per-client state.\n * Clients are taken in a linked list. */\ntypedef struct client {\n    uint64_t id;            /* Client incremental unique ID. */\n    int fd;                 /* Client socket. */\n    redisDb *db;            /* Pointer to currently SELECTed DB. */\n    robj *name;             /* As set by CLIENT SETNAME. */\n    sds querybuf;           /* Buffer we use to accumulate client queries. */\n\n    int argc;               /* Num of arguments of current command. */\n    robj **argv;            /* Arguments of current command. */\n\n    list *reply;            /* List of reply objects to send to the client. */\n    unsigned long long reply_bytes; /* Tot bytes of objects in reply list. */\n    size_t sentlen;         /* Amount of bytes already sent in the current\n                               buffer or object being sent. */\n    /* Response buffer */\n    int bufpos;\n    char buf[PROTO_REPLY_CHUNK_BYTES];\n} client;\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_5","title":"\u6570\u636e\u5e93","text":"<p>\u9ed8\u8ba4\u670916\u4e2a</p> <pre><code>/* Redis database representation. There are multiple databases identified\n * by integers from 0 (the default database) up to the max configured\n * database. The database number is the 'id' field in the structure. */\ntypedef struct redisDb {\n    int id;                     /* Database ID */\n    long long avg_ttl;          /* Average TTL, just for stats */\n\n    dict *dict;                 /* The keyspace for this DB */\n    dict *expires;              /* Timeout of keys with a timeout set */\n    dict *blocking_keys;        /* Keys with clients waiting for data (BLPOP)*/\n    dict *ready_keys;           /* Blocked keys that received a PUSH */\n    dict *watched_keys;         /* WATCHED keys for MULTI/EXEC CAS */\n    list *defrag_later;         /* List of key names to attempt to defrag one by one, gradually. */\n} redisDb;\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_6","title":"\u670d\u52a1\u7aef","text":"<pre><code>struct redisServer {\n    /* General */\n    pid_t pid;                  /* Main process pid. */\n    char *configfile;           /* Absolute config file path, or NULL */\n    int hz;                     /* serverCron() calls frequency in hertz */\n\n    redisDb *db;\n    dict *commands;             /* Command table */\n\n    aeEventLoop *el;            /* \u4e8b\u4ef6\u5faa\u73af */\n\n    /* Networking */\n    int port;                   /* TCP listening port */\n    char *bindaddr[CONFIG_BINDADDR_MAX]; /* Addresses we should bind to */\n    int bindaddr_count;         /* Number of addresses in server.bindaddr[] */\n    int ipfd[CONFIG_BINDADDR_MAX]; /* TCP socket file descriptors */\n    int ipfd_count;             /* Used slots in ipfd[] */\n    list *clients;              /* List of active clients */\n    int maxidletime;                /* Client timeout in seconds */\n    int tcpkeepalive;               /* Set SO_KEEPALIVE if non-zero. */\n};\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_7","title":"\u547d\u4ee4","text":"<pre><code>struct redisCommand {\n    char *name;\n    redisCommandProc *proc;\n    int arity;\n    char *sflags; /* Flags as string representation, one char per flag. */\n    int flags;    /* The actual flags, obtained from the 'sflags' field. */\n    /* Use a function to determine keys arguments in a command line.\n     * Used for Redis Cluster redirect. */\n    redisGetKeysProc *getkeys_proc;\n    /* What keys should be loaded in background when calling this command? */\n    int firstkey; /* The first argument that's a key (0 = no keys) */\n    int lastkey;  /* The last argument that's a key */\n    int keystep;  /* The step between first and last key */\n    long long microseconds, calls;\n};\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_8","title":"\u4e8b\u4ef6","text":""},{"location":"cs-life/middleware/cache/code-read/server-process/#_9","title":"\u6587\u4ef6\u4e8b\u4ef6","text":"<p>\u5305\u542b\u4e86\u8bfb\u56de\u8c03\u51fd\u6570\u548c\u5199\u56de\u8c03\u51fd\u6570</p> <pre><code>/* File event structure */\ntypedef struct aeFileEvent {\n    int mask; /* one of AE_(READABLE|WRITABLE|BARRIER) */\n    aeFileProc *rfileProc;\n    aeFileProc *wfileProc;\n    void *clientData;\n} aeFileEvent;\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_10","title":"\u65f6\u95f4\u4e8b\u4ef6","text":"<pre><code>/* Time event structure */\ntypedef struct aeTimeEvent {\n    long long id; /* time event identifier. */\n    long when_sec; /* seconds */\n    long when_ms; /* milliseconds */\n    aeTimeProc *timeProc;\n    aeEventFinalizerProc *finalizerProc;\n    void *clientData;\n    struct aeTimeEvent *prev;\n    struct aeTimeEvent *next;\n} aeTimeEvent;\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/server-process/#aeeventloop","title":"\u4e8b\u4ef6\u5faa\u73af aeEventLoop","text":"<p><code>events</code>\u8bb0\u5f55\u6587\u4ef6\u4e8b\u4ef6(socket), <code>timeEventHead</code>\u8bb0\u5f55\u65f6\u95f4\u65f6\u95f4(\u6309\u7167\u94fe\u8868\u65b9\u5f0f\u5b58)</p> <pre><code>/* State of an event based program */\ntypedef struct aeEventLoop {\n    int maxfd;   /* highest file descriptor currently registered */\n    int setsize; /* max number of file descriptors tracked */\n    long long timeEventNextId;\n    time_t lastTime;     /* Used to detect system clock skew */\n    aeFileEvent *events; /* Registered events */\n    aeFiredEvent *fired; /* Fired events, \u5373\u5c06\u8981\u89e6\u53d1\u7684\u4e8b\u4ef6 */\n    aeTimeEvent *timeEventHead;\n    int stop;\n    void *apidata; /* This is used for polling API specific data */\n    aeBeforeSleepProc *beforesleep;\n    aeBeforeSleepProc *aftersleep;\n} aeEventLoop;\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/server-process/#epoll","title":"epoll","text":"<ul> <li><code>epoll_create</code>\u51fd\u6570\u521b\u5efa\u4e00\u4e2aepoll\u4e13\u7528\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u7528\u4e8e\u540e\u7eedepoll\u76f8\u5173API\u8c03\u7528\uff1b</li> <li><code>epoll_ctl</code>\u51fd\u6570\u5411epoll\u6ce8\u518c\u3001\u4fee\u6539\u6216\u5220\u9664\u9700\u8981\u76d1\u63a7\u7684\u4e8b\u4ef6\uff1b</li> <li><code>epoll_wait</code>\u51fd\u6570\u4f1a\u963b\u585e\u8fdb\u7a0b\uff0c\u76f4\u5230\u76d1\u63a7\u7684\u82e5\u5e72\u7f51\u7edc\u8fde\u63a5\u6709\u4e8b\u4ef6\u53d1\u751f\u3002</li> </ul>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_11","title":"\u4e8b\u4ef6\u5206\u53d1","text":"<p>\u6b7b\u5faa\u73af\u5904\u7406\u4e8b\u4ef6</p> <pre><code>void aeMain(aeEventLoop *eventLoop) {\n    eventLoop-&gt;stop = 0;\n    while (!eventLoop-&gt;stop) {\n        if (eventLoop-&gt;beforesleep != NULL)\n            eventLoop-&gt;beforesleep(eventLoop);\n        aeProcessEvents(eventLoop, AE_ALL_EVENTS|AE_CALL_AFTER_SLEEP);\n    }\n}\n</code></pre> <p>\u7f51\u4e0a\u6240\u8c13\u7684\u6587\u4ef6\u4e8b\u4ef6\u5206\u914d\u5668\uff0c\u5373\u8bfb\u53d6<code>epoll</code>\u7684\u4e8b\u4ef6\u653e\u5230<code>aeEventLoop</code>\u7684<code>fired</code>\u6570\u7ec4\u91cc, \u7136\u540efor\u5faa\u73af\u53bb\u5904\u7406</p> <pre><code>static int aeApiPoll(aeEventLoop *eventLoop, struct timeval *tvp) {\n    aeApiState *state = eventLoop-&gt;apidata;\n    int retval, numevents = 0;\n    // \u8fd9\u91cc\u963b\u585e\u8bfb\u53d6\u8bfb\u5199\u4e8b\u4ef6\n    retval = epoll_wait(state-&gt;epfd,state-&gt;events,eventLoop-&gt;setsize,\n            tvp ? (tvp-&gt;tv_sec*1000 + tvp-&gt;tv_usec/1000) : -1);\n    // retval\u662favaliable\u7684\u8bfb\u5199\u4e8b\u4ef6\u6570\u91cf\n    if (retval &gt; 0) {\n        int j;\n\n        numevents = retval;\n        // \u653e\u5165fired\u6570\u7ec4\u4e2d\n        for (j = 0; j &lt; numevents; j++) {\n            int mask = 0;\n            struct epoll_event *e = state-&gt;events+j;\n\n            if (e-&gt;events &amp; EPOLLIN) mask |= AE_READABLE;\n            if (e-&gt;events &amp; EPOLLOUT) mask |= AE_WRITABLE;\n            if (e-&gt;events &amp; EPOLLERR) mask |= AE_WRITABLE;\n            if (e-&gt;events &amp; EPOLLHUP) mask |= AE_WRITABLE;\n            eventLoop-&gt;fired[j].fd = e-&gt;data.fd;\n            eventLoop-&gt;fired[j].mask = mask;\n        }\n    }\n    return numevents;\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_12","title":"\u6587\u4ef6\u4e8b\u4ef6\u5904\u7406","text":"<ol> <li>\u67e5\u627e\u6700\u65e9\u4f1a\u53d1\u751f\u7684\u65f6\u95f4\u4e8b\u4ef6\uff0c\u8ba1\u7b97\u8d85\u65f6\u65f6\u95f4</li> <li>\u591a\u8def\u590d\u7528\u51fd\u6570(\u5982epoll, select, kqueue\u7b49)\u963b\u585e\u7b49\u5f85\u6587\u4ef6\u4e8b\u4ef6\u7684\u4ea7\u751f</li> <li>\u5904\u7406\u6587\u4ef6\u4e8b\u4ef6</li> <li>\u5904\u7406\u65f6\u95f4\u4e8b\u4ef6</li> </ol> <pre><code>int aeProcessEvents(aeEventLoop *eventLoop, int flags)\n{\n    int processed = 0, numevents;\n\n    /* Nothing to do? return ASAP */\n    if (!(flags &amp; AE_TIME_EVENTS) &amp;&amp; !(flags &amp; AE_FILE_EVENTS)) return 0;\n\n    /* Note that we want call select() even if there are no\n     * file events to process as long as we want to process time\n     * events, in order to sleep until the next time event is ready\n     * to fire. */\n    if (eventLoop-&gt;maxfd != -1 ||\n        ((flags &amp; AE_TIME_EVENTS) &amp;&amp; !(flags &amp; AE_DONT_WAIT))) {\n        int j;\n        aeTimeEvent *shortest = NULL;\n        struct timeval tv, *tvp;\n\n        if (flags &amp; AE_TIME_EVENTS &amp;&amp; !(flags &amp; AE_DONT_WAIT))\n            shortest = aeSearchNearestTimer(eventLoop);\n        if (shortest) {\n            long now_sec, now_ms;\n\n            aeGetTime(&amp;now_sec, &amp;now_ms);\n            tvp = &amp;tv;\n\n            /* How many milliseconds we need to wait for the next\n             * time event to fire? */\n            long long ms =\n                (shortest-&gt;when_sec - now_sec)*1000 +\n                shortest-&gt;when_ms - now_ms;\n\n            if (ms &gt; 0) {\n                tvp-&gt;tv_sec = ms/1000;\n                tvp-&gt;tv_usec = (ms % 1000)*1000;\n            } else {\n                tvp-&gt;tv_sec = 0;\n                tvp-&gt;tv_usec = 0;\n            }\n        } else {\n            /* If we have to check for events but need to return\n             * ASAP because of AE_DONT_WAIT we need to set the timeout\n             * to zero */\n            if (flags &amp; AE_DONT_WAIT) {\n                tv.tv_sec = tv.tv_usec = 0;\n                tvp = &amp;tv;\n            } else {\n                /* Otherwise we can block */\n                tvp = NULL; /* wait forever */\n            }\n        }\n\n        /* Call the multiplexing API, will return only on timeout or when\n         * some event fires. */\n        numevents = aeApiPoll(eventLoop, tvp);\n\n        /* After sleep callback. */\n        if (eventLoop-&gt;aftersleep != NULL &amp;&amp; flags &amp; AE_CALL_AFTER_SLEEP)\n            eventLoop-&gt;aftersleep(eventLoop);\n\n        for (j = 0; j &lt; numevents; j++) {\n            aeFileEvent *fe = &amp;eventLoop-&gt;events[eventLoop-&gt;fired[j].fd];\n            int mask = eventLoop-&gt;fired[j].mask;\n            int fd = eventLoop-&gt;fired[j].fd;\n            int fired = 0; /* Number of events fired for current fd. */\n\n            /* Normally we execute the readable event first, and the writable\n             * event laster. This is useful as sometimes we may be able\n             * to serve the reply of a query immediately after processing the\n             * query.\n             *\n             * However if AE_BARRIER is set in the mask, our application is\n             * asking us to do the reverse: never fire the writable event\n             * after the readable. In such a case, we invert the calls.\n             * This is useful when, for instance, we want to do things\n             * in the beforeSleep() hook, like fsynching a file to disk,\n             * before replying to a client. */\n            int invert = fe-&gt;mask &amp; AE_BARRIER;\n\n            /* Note the \"fe-&gt;mask &amp; mask &amp; ...\" code: maybe an already\n             * processed event removed an element that fired and we still\n             * didn't processed, so we check if the event is still valid.\n             *\n             * Fire the readable event if the call sequence is not\n             * inverted. */\n            if (!invert &amp;&amp; fe-&gt;mask &amp; mask &amp; AE_READABLE) {\n                fe-&gt;rfileProc(eventLoop,fd,fe-&gt;clientData,mask);\n                fired++;\n            }\n\n            /* Fire the writable event. */\n            if (fe-&gt;mask &amp; mask &amp; AE_WRITABLE) {\n                if (!fired || fe-&gt;wfileProc != fe-&gt;rfileProc) {\n                    fe-&gt;wfileProc(eventLoop,fd,fe-&gt;clientData,mask);\n                    fired++;\n                }\n            }\n\n            /* If we have to invert the call, fire the readable event now\n             * after the writable one. */\n            if (invert &amp;&amp; fe-&gt;mask &amp; mask &amp; AE_READABLE) {\n                if (!fired || fe-&gt;wfileProc != fe-&gt;rfileProc) {\n                    fe-&gt;rfileProc(eventLoop,fd,fe-&gt;clientData,mask);\n                    fired++;\n                }\n            }\n\n            processed++;\n        }\n    }\n    /* Check time events */\n    if (flags &amp; AE_TIME_EVENTS)\n        processed += processTimeEvents(eventLoop);\n\n    return processed; /* return the number of processed file/time events */\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_13","title":"\u65f6\u95f4\u4e8b\u4ef6\u5904\u7406","text":"<p>\u4f9d\u6b21\u904d\u5386\u94fe\u8868\uff0c\u5982\u679c\u5f53\u524d\u8282\u70b9\u5df2\u7ecf\u5230\u8fbe\u6267\u884c\u65f6\u95f4\uff0c\u6267\u884c\u5bf9\u5e94\u56de\u8c03\u51fd\u6570</p> <pre><code>/* Process time events */\nstatic int processTimeEvents(aeEventLoop *eventLoop) {\n    int processed = 0;\n    aeTimeEvent *te;\n    long long maxId;\n    time_t now = time(NULL);\n\n    /* If the system clock is moved to the future, and then set back to the\n     * right value, time events may be delayed in a random way. Often this\n     * means that scheduled operations will not be performed soon enough.\n     *\n     * Here we try to detect system clock skews, and force all the time\n     * events to be processed ASAP when this happens: the idea is that\n     * processing events earlier is less dangerous than delaying them\n     * indefinitely, and practice suggests it is. */\n    if (now &lt; eventLoop-&gt;lastTime) {\n        te = eventLoop-&gt;timeEventHead;\n        while(te) {\n            te-&gt;when_sec = 0;\n            te = te-&gt;next;\n        }\n    }\n    eventLoop-&gt;lastTime = now;\n\n    te = eventLoop-&gt;timeEventHead;\n    maxId = eventLoop-&gt;timeEventNextId-1;\n    while(te) {\n        long now_sec, now_ms;\n        long long id;\n\n        /* Remove events scheduled for deletion. */\n        if (te-&gt;id == AE_DELETED_EVENT_ID) {\n            aeTimeEvent *next = te-&gt;next;\n            if (te-&gt;prev)\n                te-&gt;prev-&gt;next = te-&gt;next;\n            else\n                eventLoop-&gt;timeEventHead = te-&gt;next;\n            if (te-&gt;next)\n                te-&gt;next-&gt;prev = te-&gt;prev;\n            if (te-&gt;finalizerProc)\n                te-&gt;finalizerProc(eventLoop, te-&gt;clientData);\n            zfree(te);\n            te = next;\n            continue;\n        }\n\n        /* Make sure we don't process time events created by time events in\n         * this iteration. Note that this check is currently useless: we always\n         * add new timers on the head, however if we change the implementation\n         * detail, this check may be useful again: we keep it here for future\n         * defense. */\n        if (te-&gt;id &gt; maxId) {\n            te = te-&gt;next;\n            continue;\n        }\n        aeGetTime(&amp;now_sec, &amp;now_ms);\n        if (now_sec &gt; te-&gt;when_sec ||\n            (now_sec == te-&gt;when_sec &amp;&amp; now_ms &gt;= te-&gt;when_ms))\n        {\n            int retval;\n\n            id = te-&gt;id;\n            retval = te-&gt;timeProc(eventLoop, id, te-&gt;clientData);\n            processed++;\n            if (retval != AE_NOMORE) {\n                aeAddMillisecondsToNow(retval,&amp;te-&gt;when_sec,&amp;te-&gt;when_ms);\n            } else {\n                te-&gt;id = AE_DELETED_EVENT_ID;\n            }\n        }\n        te = te-&gt;next;\n    }\n    return processed;\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/server-process/#server","title":"server\u542f\u52a8\u6d41\u7a0b","text":"<ol> <li>\u521d\u59cb\u5316\u914d\u7f6e\uff0c\u5305\u62ec\u7528\u6237\u53ef\u914d\u7f6e\u7684\u53c2\u6570\uff0c\u4ee5\u53ca\u547d\u4ee4\u8868\u7684\u521d\u59cb\u5316</li> <li>\u52a0\u8f7d\u5e76\u89e3\u6790\u914d\u7f6e\u6587\u4ef6</li> <li>\u521d\u59cb\u5316\u670d\u52a1\u7aef\u5185\u90e8\u53d8\u91cf\uff0c\u5176\u4e2d\u5c31\u5305\u62ec\u6570\u636e\u5e93</li> <li>\u521b\u5efa\u4e8b\u4ef6\u5faa\u73afeventLoop</li> <li>\u521b\u5efasocket\u5e76\u542f\u52a8\u76d1\u542c</li> <li>\u521b\u5efa\u6587\u4ef6\u4e8b\u4ef6\u4e0e\u65f6\u95f4\u4e8b\u4ef6</li> <li>\u5f00\u542f\u4e8b\u4ef6\u5faa\u73af</li> </ol>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_14","title":"\u547d\u4ee4\u5904\u7406\u6d41\u7a0b","text":"<ol> <li>\u89e3\u6790\u547d\u4ee4\u8bf7\u6c42</li> <li>\u8c03\u7528\u547d\u4ee4\uff08\u67e5\u547d\u4ee4\u8868\uff0c\u6821\u9a8c\u547d\u4ee4\uff0c\u6267\u884c\u547d\u4ee4\uff0c\u8bb0\u5f55\u6162\u65e5\u5fd7\uff0cAOF\u7b49\uff09</li> <li>\u8fd4\u56de\u7ed3\u679c\u7ed9\u5ba2\u6237\u7aef<ul> <li>\u5148\u5199\u7f13\u51b2\u533a\uff0c\u5982\u679c\u5931\u8d25\u540e\uff0c\u5b58\u653e\u547d\u4ee4\u7ed3\u679c\u5230<code>reply</code>\u94fe\u8868\u4e2d</li> </ul> </li> </ol>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_15","title":"\u591a\u7ebf\u7a0b\u53ef\u4f18\u5316\u7684\u70b9","text":"<ul> <li>Redis\u4e4b\u524d\u662f\u5355\u7ebf\u7a0b\u7684, \u8f83\u591a\u7684\u65f6\u95f4\u82b1\u5728\u4e86\uff1a\u83b7\u53d6socket\u7684\u6570\u636e\uff0c\u5c06response\u5199\u5165\u5230socket<ul> <li>\u5982\u679csocket\u6570\u636e\u5f88\u5927\u7684\u60c5\u51b5\uff0c\u4e3b\u7ebf\u7a0b\u5f88\u957f\u4e00\u90e8\u5206\u65f6\u95f4\u90fd\u662f\u5728\u8bfb\u5199socket\uff0c(\u771f\u6b63\u5904\u7406\u547d\u4ee4\u7684\u65f6\u95f4\u5f88\u77ed)\uff0c\u5e76\u4e14\u8bfb\u5199socket\u90fd\u662f\u963b\u585e\u7684\u3002</li> <li>\u4f18\u5316\u76ee\u7684\u662f\u4f7f\uff0c\u90a3\u4e9b\u8bfb\u5199socket\u7684\u64cd\u4f5c\u53d8\u6210\u591a\u7ebf\u7a0b\u7684</li> <li>\u81f3\u4e8e\u547d\u4ee4\u6267\u884c\uff0c\u8fd8\u662f\u5355\u7ebf\u7a0b\u7684\uff0c\u56e0\u4e3aredis\u7684\u90a3\u4e9b\u6570\u636e\u7ed3\u6784\u90fd\u4e0d\u662f\u7ebf\u7a0b\u5b89\u5168\u7684</li> </ul> </li> </ul>"},{"location":"cs-life/middleware/cache/code-read/server-process/#_16","title":"\u5c0f\u7ed3","text":"<ul> <li>Redis\u670d\u52a1\u5668\u662f\u5178\u578b\u7684\u4e8b\u4ef6\u9a71\u52a8\u7a0b\u5e8f\uff0c\u5b83\u5c06\u4e8b\u4ef6\u5904\u7406\u5206\u4e3a\u4e24\u5927\u7c7b\uff1a\u6587\u4ef6\u4e8b\u4ef6\u4e0e\u65f6\u95f4\u4e8b\u4ef6\u3002</li> <li>\u6587\u4ef6\u4e8b\u4ef6\u5373socket\u7684\u53ef\u8bfb\u53ef\u5199\u4e8b\u4ef6\uff0c\u65f6\u95f4\u4e8b\u4ef6\u5373\u9700\u8981\u5468\u671f\u6027\u6267\u884c\u7684\u4e00\u4e9b\u5b9a\u65f6\u4efb\u52a1\u3002</li> <li>Redis\u91c7\u7528\u6bd4\u8f83\u6210\u719f\u7684I/O\u591a\u8def\u590d\u7528\u6a21\u578b\uff08select/epoll\u7b49\uff09\u5904\u7406\u6587\u4ef6\u4e8b\u4ef6\uff0c\u5e76\u5bf9\u8fd9\u4e9bI/O\u591a\u8def\u590d\u7528\u6a21\u578b\u8fdb\u884c\u7b80\u5355\u5c01\u88c5\u3002</li> <li>Redis\u670d\u52a1\u5668\u53ea\u7ef4\u62a4\u4e86\u4e00\u4e2a\u65f6\u95f4\u4e8b\u4ef6\uff0c\u8be5\u65f6\u95f4\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e3aserverCron\uff0c\u6267\u884c\u4e86\u6240\u6709\u9700\u8981\u5468\u671f\u6027\u6267\u884c\u7684\u4e00\u4e9b\u5b9a\u65f6\u4efb\u52a1</li> </ul>"},{"location":"cs-life/middleware/cache/code-read/transactions/","title":"\u4e8b\u52a1","text":"<ul> <li>\u547d\u4ee4\u6709<code>multi / exec / watch / discard</code></li> <li>\u53ea\u80fd\u4fdd\u8bc1<code>\u9694\u79bb\u6027</code>\uff08\u5c31\u662f\u4e00\u5806\u547d\u4ee4\uff0c\u4e32\u884c\u6267\u884c\uff09\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u539f\u5b50\u6027\uff08\u8981\u4e48\u90fd\u6267\u884c\uff0c\u8981\u4e48\u90fd\u4e0d\u6267\u884c\uff0c\u5177\u4f53\u770b\u4e0b\u9762\u7684\u5b9e\u73b0\uff09</li> </ul>"},{"location":"cs-life/middleware/cache/code-read/transactions/#_2","title":"\u5b9e\u9a8c","text":""},{"location":"cs-life/middleware/cache/code-read/transactions/#_3","title":"\u5b9e\u9a8c\u4e00: \u4e8b\u52a1\u6ca1\u6709\u539f\u5b50\u6027","text":"<p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b</p> <pre><code># redis-cli\n127.0.0.1:6379&gt; multi\nOK\n127.0.0.1:6379&gt; set a aa\nQUEUED\n127.0.0.1:6379&gt; incr a\nQUEUED\n127.0.0.1:6379&gt; set b bb\nQUEUED\n127.0.0.1:6379&gt; exec\n1) OK\n2) (error) ERR value is not an integer or out of range\n3) OK\n127.0.0.1:6379&gt; get a\n\"aa\"\n127.0.0.1:6379&gt; get b\n\"bb\"\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/transactions/#keykey","title":"\u5b9e\u9a8c\u4e8c: \u76d1\u542ckey\uff0c\u5982\u679ckey\u6539\u53d8\uff0c\u5219\u4e0d\u6267\u884c\u4e8b\u52a1","text":"<p>\u573a\u666f:</p> <ul> <li>\u4e24\u4e2aclient A\u548cB\uff0c\u7136\u540eA\u53bbwatch\u4e00\u4e2akey <code>a</code>\uff0cA<code>multi</code>\u5f00\u542f\u4e8b\u52a1\uff0cB\u4fee\u6539key<code>a</code>\u7684value\uff0c\u63a5\u7740A\u4e5f\u4fee\u6539key<code>a</code>\u7684value\uff0c\u7136\u540e\u83b7\u53d6key<code>a</code>\u7684value\uff0c\u7136\u540e<code>exec</code>\u6267\u884c<ul> <li>\u6700\u7ec8\u8fd4\u56de\u7ed3\u679c\u662f<code>nil</code></li> </ul> </li> </ul> <p>\u5ba2\u6237\u7aefA\u64cd\u4f5c</p> <pre><code>127.0.0.1:6379&gt; set a 111\nOK\n127.0.0.1:6379&gt; watch a\nOK\n127.0.0.1:6379&gt; multi\nOK\n</code></pre> <p>\u5ba2\u6237\u7aefB\u64cd\u4f5c <pre><code>127.0.0.1:6379&gt; set a 2333\nOK\n</code></pre></p> <p>\u5ba2\u6237\u7aefA\u63a5\u7740\u64cd\u4f5c <pre><code>127.0.0.1:6379&gt; set a 123\nQUEUED\n127.0.0.1:6379&gt; get a\nQUEUED\n127.0.0.1:6379&gt; exec\n(nil)\n</code></pre></p>"},{"location":"cs-life/middleware/cache/code-read/transactions/#_4","title":"\u6570\u636e\u7ed3\u6784\u548c\u65b9\u6cd5","text":"<ul> <li>flag\u8868\u793a\u5f53\u524dclient\u7684\u72b6\u6001\uff0c\u91cc\u9762\u542b\u6709\u72b6\u6001\uff0c\u5f53\u524d\u5ba2\u6237\u7aef\u662f\u5426\u5728\u6267\u884c\u4e8b\u52a1</li> <li>commands\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u6bcf\u6b21\u65b0\u6765\u4e00\u4e2a\u547d\u4ee4\uff0c\u5c31\u4f1a\u6269\u5bb9\u6570\u7ec4+1</li> </ul> <pre><code>typedef struct client {\n    ...\n    int flags;              /* Client flags: CLIENT_* macros. */\n    multiState mstate;      /* MULTI/EXEC state */\n    ...\n} client;\n\ntypedef struct multiState {\n    multiCmd *commands;     /* Array of MULTI commands */\n    int count;              /* Total number of MULTI commands */\n    int minreplicas;        /* MINREPLICAS for synchronous replication */\n    time_t minreplicas_timeout; /* MINREPLICAS timeout as unixtime. */\n} multiState;\n\n/* Client MULTI/EXEC state */\ntypedef struct multiCmd {\n    robj **argv;\n    int argc;\n    struct redisCommand *cmd;\n} multiCmd;\n\n/* MULTI/EXEC/WATCH... */\nvoid unwatchAllKeys(client *c);\nvoid initClientMultiState(client *c);\nvoid freeClientMultiState(client *c);\nvoid queueMultiCommand(client *c);\nvoid touchWatchedKey(redisDb *db, robj *key);\nvoid touchWatchedKeysOnFlush(int dbid);\nvoid discardTransaction(client *c);\nvoid flagTransaction(client *c);\nvoid execCommandPropagateMulti(client *c);\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/transactions/#_5","title":"\u5b9e\u73b0\u539f\u7406","text":"<ul> <li>redis\u4e8b\u52a1\u6267\u884c\u903b\u8f91<ul> <li>\u6765\u4e00\u4e2a\u547d\u4ee4\uff0c\u4f1a\u52a0\u5165\u5230\u5ba2\u6237\u7aef\u5bf9\u8c61\u7684\u547d\u4ee4\u961f\u5217\u91cc<ul> <li>\u6536\u5230<code>discard</code>\u547d\u4ee4\uff0c\u4f1a\u5c06\u547d\u4ee4\u961f\u5217\u6e05\u7a7a</li> <li>\u6536\u5230<code>exec</code>\u547d\u4ee4\uff0c\u4f1a\u5c06\u547d\u4ee4\u961f\u5217\u91cc\u9762\u7684\u547d\u4ee4\u6267\u884c\uff0c\u5e76\u5c06\u7ed3\u679c\u5b58\u653e\u5230client\u7684\u54cd\u5e94\u7f13\u51b2\u533a\uff0c\u518d\u6e05\u7a7a\u547d\u4ee4\u961f\u5217</li> </ul> </li> </ul> </li> <li><code>watch</code>\u662f\u5b9e\u73b0\u4e86 <code>key -&gt; clients</code> \u548c <code>client -&gt; watched_keys</code> \u7684\u53cc\u5411\u5f15\u7528 \uff08clients\u662f\u53cc\u5411\u94fe\u8868\uff09<ul> <li>\u5f53key\u53d1\u751f\u6539\u53d8\uff0c\u4f1a\u904d\u5386 <code>clients</code> \u8bbe\u7f6e client \u7684 <code>flag</code> \u72b6\u6001\u4e3a <code>CLIENT_DIRTY_CAS</code></li> <li>\u518d\u6267\u884c\u7684\u65f6\u5019\uff0c\u4f1a\u5224\u65ad\u662f\u5426flag\u662f\u5426\u542b\u6709<code>CLIENT_DIRTY_CAS</code>\uff0c \u4e0d\u4e3a\u624d\u80fd\u6267\u884c\u547d\u4ee4</li> </ul> </li> </ul> <pre><code>/* Watch for the specified key */\nvoid watchForKey(client *c, robj *key) {\n    list *clients = NULL;\n    listIter li;\n    listNode *ln;\n    watchedKey *wk;\n\n    /* Check if we are already watching for this key */\n    listRewind(c-&gt;watched_keys,&amp;li);\n    while((ln = listNext(&amp;li))) {\n        wk = listNodeValue(ln);\n        if (wk-&gt;db == c-&gt;db &amp;&amp; equalStringObjects(key,wk-&gt;key))\n            return; /* Key already watched */\n    }\n    /* This key is not already watched in this DB. Let's add it */\n    clients = dictFetchValue(c-&gt;db-&gt;watched_keys,key);\n    if (!clients) {\n        clients = listCreate();\n        dictAdd(c-&gt;db-&gt;watched_keys,key,clients);\n        incrRefCount(key);\n    }\n    // \u5c06\u5f53\u524dclient\u52a0\u5165\u5230key\u7684\u76d1\u542cclients\n    listAddNodeTail(clients,c);\n\n    /* Add the new key to the list of keys watched by this client */\n    wk = zmalloc(sizeof(*wk));\n    wk-&gt;key = key;\n    wk-&gt;db = c-&gt;db;\n    incrRefCount(key);\n\n    // \u5c06\u5f53\u524dkey\u52a0\u5165\u5230client\u7684watched_keys\u91cc\u9762\n    listAddNodeTail(c-&gt;watched_keys,wk);\n}\n\n/* \"Touch\" a key, so that if this key is being WATCHed by some client the\n * next EXEC will fail. */\nvoid touchWatchedKey(redisDb *db, robj *key) {\n    list *clients;\n    listIter li;\n    listNode *ln;\n\n    if (dictSize(db-&gt;watched_keys) == 0) return;\n    clients = dictFetchValue(db-&gt;watched_keys, key);\n    if (!clients) return;\n\n    /* Mark all the clients watching this key as CLIENT_DIRTY_CAS */\n    /* Check if we are already watching for this key */\n    listRewind(clients,&amp;li);\n    while((ln = listNext(&amp;li))) {\n        client *c = listNodeValue(ln);\n\n        c-&gt;flags |= CLIENT_DIRTY_CAS;\n    }\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/zskiplist/","title":"zskiplist","text":""},{"location":"cs-life/middleware/cache/code-read/zskiplist/#_1","title":"\u6570\u636e\u7ed3\u6784","text":"<p>forward\u6307\u5411 \u53f3\u8fb9\u5143\u7d20\u7684\u5730\u5740\uff08\u6bd4\u5f53\u524d\u5927\uff09, backward\u6307\u5411 \u5de6\u8fb9\u5143\u7d20\u7684\u5730\u5740\uff08\u6bd4\u5f53\u524d\u5c0f\uff09</p> <pre><code>/* Should be enough for 2^64 elements */\n#define ZSKIPLIST_MAXLEVEL 64 \n/* Skiplist P = 1/4 */\n#define ZSKIPLIST_P 0.25      \n\ntypedef struct zskiplistNode {\n    // \u7528\u4e8e\u5b58\u50a8\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u6570\u636e\n    sds ele;\n    // \u7528\u4e8e\u5b58\u50a8\u6392\u5e8f\u7684\u5206\u503c\n    double score;\n    // \u540e\u9000\u6307\u9488\uff0c\u53ea\u80fd\u6307\u5411\u5f53\u524d\u8282\u70b9\u6700\u5e95\u5c42\u7684\u524d\u4e00\u4e2a\u8282\u70b9\uff0c\u4ece\u540e\u5411\u524d\u904d\u5386\u8df3\u8dc3\u8868\u65f6\u4f7f\u7528\n    struct zskiplistNode *backward;\n    // \u4e3a\u67d4\u6027\u6570\u7ec4\u3002\u6bcf\u4e2a\u8282\u70b9\u7684\u6570\u7ec4\u957f\u5ea6\u4e0d\u4e00\u6837\uff0c\u5728\u751f\u6210\u8df3\u8dc3\u8868\u8282\u70b9\u65f6\uff0c\u968f\u673a\u751f\u6210\u4e00\u4e2a1\uff5e64\u7684\u503c\uff0c\u503c\u8d8a\u5927\u51fa\u73b0\u7684\u6982\u7387\u8d8a\u4f4e\n    struct zskiplistLevel {\n        // \u6307\u5411\u672c\u5c42\u4e0b\u4e00\u4e2a\u8282\u70b9\n        struct zskiplistNode *forward;\n        // \u6307\u5411\u7684\u8282\u70b9\u4e0e\u672c\u8282\u70b9\u4e4b\u95f4\u7684\u5143\u7d20\u4e2a\u6570\n        unsigned long span;\n    } level[];\n} zskiplistNode;\n\ntypedef struct zskiplist {\n    // \u6307\u5411\u8df3\u8dc3\u8868\u5934\u8282\u70b9\u3002\u5934\u8282\u70b9\u662f\u8df3\u8dc3\u8868\u7684\u4e00\u4e2a\u7279\u6b8a\u8282\u70b9\uff0c\u5b83\u7684level\u6570\u7ec4\u5143\u7d20\u4e2a\u6570\u4e3a64\u3002\u5934\u8282\u70b9\u5728\u6709\u5e8f\u96c6\u5408\u4e2d\u4e0d\u5b58\u50a8\u4efb\u4f55member\u548cscore\u503c\uff0cele\u503c\u4e3aNULL, score\u503c\u4e3a0\uff1b\u4e5f\u4e0d\u8ba1\u5165\u8df3\u8dc3\u8868\u7684\u603b\u957f\u5ea6\u3002\u5934\u8282\u70b9\u5728\u521d\u59cb\u5316\u65f6\uff0c64\u4e2a\u5143\u7d20\u7684forward\u90fd\u6307\u5411NULL, span\u503c\u90fd\u4e3a0\n    struct zskiplistNode *header, *tail;\n    // \u957f\u5ea6\n    unsigned long length;\n    // \u9ad8\u5ea6\n    int level;\n} zskiplist;\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/zskiplist/#_2","title":"\u65b9\u6cd5\u91ca\u4e49","text":"<ul> <li><code>zslCreate</code> \u521b\u5efa\u8df3\u8868\uff0c\u521b\u5efa64\u5c42\u7684\u94fe\u8868</li> </ul>"},{"location":"cs-life/middleware/cache/code-read/zskiplist/#_3","title":"\u63d2\u5165\u5143\u7d20","text":"<ol> <li>\u4ece\u9ad8\u5c42\u5230\u4f4e\u5c42\uff0c\u4f9d\u6b21\u6709\u5e8f\u904d\u5386 <code>&lt; curNode.score</code>\u7684\u6307\u9488\uff0c\u5e76\u4e14\u8bb0\u5f55\u6bcf\u5c42\u7684\u6700\u540e\u4e00\u4e2a <code>&lt; curNode.score</code>\u7684\u6307\u9488<code>update[i]</code></li> <li>\u968f\u673a<code>curNode</code>\u7684\u5c42\u9ad8\uff0c\u5e76\u66f4\u65b0\u8df3\u8868\u7684<code>maxLevel</code>\u4fe1\u606f</li> <li>\u6bcf\u5c42\u5f80<code>update[i]</code>\u540e\u9762\u63d2\u5165<code>curNode</code></li> <li>\u66f4\u65b0<code>backward</code>\u6307\u9488</li> </ol> <pre><code>/* Returns a random level for the new skiplist node we are going to create.\n * The return value of this function is between 1 and ZSKIPLIST_MAXLEVEL\n * (both inclusive), with a powerlaw-alike distribution where higher\n * levels are less likely to be returned. */\nint zslRandomLevel(void) {\n    int level = 1;\n    while ((random()&amp;0xFFFF) &lt; (ZSKIPLIST_P * 0xFFFF))\n        level += 1;\n    return (level&lt;ZSKIPLIST_MAXLEVEL) ? level : ZSKIPLIST_MAXLEVEL;\n}\n\n/* Insert a new node in the skiplist. Assumes the element does not already\n * exist (up to the caller to enforce that). The skiplist takes ownership\n * of the passed SDS string 'ele'. */\n\nzskiplistNode *zslInsert(zskiplist *zsl, double score, sds ele) {\n    // update\u8bb0\u5f55\u6bcf\u5c42 &lt; curNode\u7684node\n    zskiplistNode *update[ZSKIPLIST_MAXLEVEL], *x;\n    // rank \u8bb0\u5f55\u6bcf\u5c42 &lt; curNode\u7684\u6570\u91cf\n    unsigned int rank[ZSKIPLIST_MAXLEVEL];\n    int i, level;\n\n    serverAssert(!isnan(score));\n    x = zsl-&gt;header;\n    for (i = zsl-&gt;level-1; i &gt;= 0; i--) {\n        /* store rank that is crossed to reach the insert position */\n        rank[i] = i == (zsl-&gt;level-1) ? 0 : rank[i+1];\n        while (x-&gt;level[i].forward &amp;&amp;\n                (x-&gt;level[i].forward-&gt;score &lt; score ||\n                    (x-&gt;level[i].forward-&gt;score == score &amp;&amp;\n                    sdscmp(x-&gt;level[i].forward-&gt;ele,ele) &lt; 0)))\n        {\n            rank[i] += x-&gt;level[i].span;\n            x = x-&gt;level[i].forward;\n        }\n        update[i] = x;\n    }\n    /* we assume the element is not already inside, since we allow duplicated\n     * scores, reinserting the same element should never happen since the\n     * caller of zslInsert() should test in the hash table if the element is\n     * already inside or not. */\n    level = zslRandomLevel();\n    if (level &gt; zsl-&gt;level) {\n        for (i = zsl-&gt;level; i &lt; level; i++) {\n            rank[i] = 0;\n            update[i] = zsl-&gt;header;\n            update[i]-&gt;level[i].span = zsl-&gt;length;\n        }\n        zsl-&gt;level = level;\n    }\n    x = zslCreateNode(level,score,ele);\n    for (i = 0; i &lt; level; i++) {\n        x-&gt;level[i].forward = update[i]-&gt;level[i].forward;\n        update[i]-&gt;level[i].forward = x;\n\n        /* update span covered by update[i] as x is inserted here */\n        x-&gt;level[i].span = update[i]-&gt;level[i].span - (rank[0] - rank[i]);\n        update[i]-&gt;level[i].span = (rank[0] - rank[i]) + 1;\n    }\n\n    /* increment span for untouched levels */\n    for (i = level; i &lt; zsl-&gt;level; i++) {\n        update[i]-&gt;level[i].span++;\n    }\n\n    x-&gt;backward = (update[0] == zsl-&gt;header) ? NULL : update[0];\n    if (x-&gt;level[0].forward)\n        x-&gt;level[0].forward-&gt;backward = x;\n    else\n        zsl-&gt;tail = x;\n    zsl-&gt;length++;\n    return x;\n}\n</code></pre>"},{"location":"cs-life/middleware/cache/code-read/zskiplist/#zsetdictzskiplist","title":"\u4e3a\u4ec0\u4e48zset\u4f7f\u7528dict\u548czskiplist","text":"<ul> <li>dict\u53ef\u4ee5O(1)\u68c0\u7d22\u5355\u4e2a\u5143\u7d20</li> <li>zskiplist\u53ef\u4ee5O(logn)\u68c0\u7d22\u8303\u56f4<ul> <li>\u53ef\u4ee5\u770b\u4ee3\u7801zskiplist\u6ca1\u6709\u505a\u63d2\u5165\u7684\u53bb\u91cd\uff08\u4f1a\u5b58\u5728\u540c\u4e00\u4e2akey\uff0c\u63d2\u5165\u4e24\u6b21\uff09</li> </ul> </li> </ul>"},{"location":"cs-life/middleware/config/tcc/","title":"Tcc","text":"<p>\u662f\u516c\u53f8\u5185\u7684\u4e00\u4e2a\u914d\u7f6e\u4e2d\u5fc3\uff08\u4e1a\u52a1\u4ee3\u7801\u91cc\u9762\u5404\u79cdtcc.Get()\uff0c\u56e0\u4e3a\u6709\u7684\u9700\u6c42\u4f1a\u505a\u7070\u5ea6\u8bbe\u8ba1\uff09</p> <ul> <li>\u9002\u5408\u8bfb\u591a\u5199\u5c11</li> </ul>"},{"location":"cs-life/middleware/config/tcc/#_1","title":"\u8bbe\u8ba1","text":"<p>tcc\u90a3\u8fb9\u513f\u6bcf\u4e2a\u914d\u7f6e\u90fd\u7ef4\u62a4\u4e86\u4e24\u4e2akey\uff0c\u4e00\u4e2a\u662fmeta\u7684key\uff0c\u4e00\u4e2a\u662fdata\u7684key</p> <p>meta\u91cc\u9762\u5b58\u4e86version\u5b57\u6bb5</p> <p>tccClient \u4f1a\u5728\u4e1a\u52a1\u5b9e\u4f8b\u672c\u5730\u7f13\u5b58 \u914d\u7f6e\u7684\u6570\u636e+\u7248\u672c</p> <p>\u6bcf\u6b21\u8bbf\u95ee\u8c03\u7528tcc\u7684\u65f6\u5019\uff0c\u5224\u65adtcc\u7684server version\u548c\u672c\u5730\u7f13\u5b58version\u662f\u5426\u4e00\u81f4\uff0c\u5982\u679c\u4e00\u81f4\u76f4\u63a5\u8d70\u7f13\u5b58</p> <p>\u4e0d\u4e00\u81f4\u7684\u8bdd\uff0c\u62c9\u53d6server\u7684data\uff0c\u7136\u540e\u518d\u53cd\u5e8f\u5217\u5316\u4e4b\u7c7b</p> <p>\u6d41\u7a0b\u56fe\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"cs-life/middleware/database/bitcask/","title":"Bitcask\u4ee3\u7801\u9605\u8bfb","text":""},{"location":"cs-life/middleware/database/bitcask/#_1","title":"\u80cc\u666f","text":"<p>\u770b\u8fc7 go\u591c\u8bfb \u7684\u5206\u4eab\uff0c\u4e5f\u8bfb\u4e86 bitcask \u7684paper</p> <p></p>"},{"location":"cs-life/middleware/database/bitcask/#_2","title":"\u4ee3\u7801\u5b9e\u73b0","text":""},{"location":"cs-life/middleware/database/bitcask/#db","title":"db\u5bf9\u8c61","text":"<p>\u6709\u8bfb\u5199\u9501\uff0c\u914d\u7f6e\u6587\u4ef6\uff0c\u6587\u4ef6\u9501\uff08\u4fdd\u8bc1\u53ea\u6709\u4e00\u4e2a\u8fdb\u7a0b\u5728\u64cd\u4f5cdb\uff09</p> <pre><code>type Bitcask struct {\n    mu         sync.RWMutex\n    flock      *flock.Flock\n    config     *config.Config\n    options    []Option\n    path       string                // \u6307\u4ee3db\u8def\u5f84\n    curr       data.Datafile         // \u5f53\u524d\u6570\u636e\u9875\n    datafiles  map[int]data.Datafile // \u6570\u636e\u9875\u7684\u7d22\u5f15 id -&gt; dataFile\n    trie       art.Tree              // \u5b58\u7684\u6240\u6709\u7684key -&gt; &lt;fileId, offset, size&gt;\uff0c \u4ee5radix tree\u7684\u65b9\u5f0f\u6765\u5b58\n    ttlIndex   art.Tree              // key -&gt; expireTime\n    indexer    index.Indexer         // \u8bfb\u5199index\u6587\u4ef6\uff0ctrie\u7684\u6301\u4e45\u5316\u64cd\u4f5c\n    ttlIndexer index.Indexer         // \u8bfb\u5199ttlindex\u6587\u4ef6\uff0cttlIndex\u7684\u6301\u4e45\u5316\u64cd\u4f5c\n\n    metadata  *metadata.MetaData // \u5143\u6570\u636e\u4fe1\u606f\n    isMerging bool               // \u662f\u5426\u5728merge\n}\n</code></pre>"},{"location":"cs-life/middleware/database/bitcask/#put","title":"Put\u64cd\u4f5c","text":"<pre><code>// Put stores the key and value in the database.\nfunc (b *Bitcask) Put(key, value []byte) error {\n    // 1. \u6821\u9a8c\n    if len(key) == 0 {\n        return ErrEmptyKey\n    }\n    if b.config.MaxKeySize &gt; 0 &amp;&amp; uint32(len(key)) &gt; b.config.MaxKeySize {\n        return ErrKeyTooLarge\n    }\n    if b.config.MaxValueSize &gt; 0 &amp;&amp; uint64(len(value)) &gt; b.config.MaxValueSize {\n        return ErrValueTooLarge\n    }\n\n    // 2. \u4e0a\u9501\n    b.mu.Lock()\n    defer b.mu.Unlock()\n\n    // 3. \u5199\u5165datafile\n    offset, n, err := b.put(key, value)\n    if err != nil {\n        return err\n    }\n\n    // 4. \u843d\u76d8\n    if b.config.Sync {\n        if err := b.curr.Sync(); err != nil {\n            return err\n        }\n    }\n\n    // in case of successful `put`, IndexUpToDate will be always be false\n    b.metadata.IndexUpToDate = false\n\n    // 5. \u66f4\u65b0meta\u4fe1\u606f\n    if oldItem, found := b.trie.Search(key); found {\n        b.metadata.ReclaimableSpace += oldItem.(internal.Item).Size\n    }\n\n    // 6. \u66f4\u65b0 key -&gt; {fileId, offset, size} \u7d22\u5f15\u4fe1\u606f\n    item := internal.Item{FileID: b.curr.FileID(), Offset: offset, Size: n}\n    b.trie.Insert(key, item)\n\n    return nil\n}\n</code></pre>"},{"location":"cs-life/middleware/database/bitcask/#get","title":"Get\u64cd\u4f5c","text":"<pre><code>// Get fetches value for a key\nfunc (b *Bitcask) Get(key []byte) ([]byte, error) {\n    b.mu.RLock()\n    defer b.mu.RUnlock()\n    e, err := b.get(key)\n    if err != nil {\n        return nil, err\n    }\n    return e.Value, nil\n}\n\n\n// get retrieves the value of the given key\nfunc (b *Bitcask) get(key []byte) (internal.Entry, error) {\n    var df data.Datafile\n\n    // 1. \u5bfb\u627ekey\u5bf9\u5e94\u7684index\u4fe1\u606f\n    value, found := b.trie.Search(key)\n    if !found {\n        return internal.Entry{}, ErrKeyNotFound\n    }\n    // 2. \u5224\u65ad\u8fc7\u671f\n    if b.isExpired(key) {\n        return internal.Entry{}, ErrKeyExpired\n    }\n\n    // 3. \u627e\u5230\u5bf9\u5e94\u7684\u6587\u4ef6\u9875\n    item := value.(internal.Item)\n    if item.FileID == b.curr.FileID() {\n        df = b.curr\n    } else {\n        df = b.datafiles[item.FileID]\n    }\n\n    // 4. \u6839\u636eoffset\u548csize\u8bfb\u53d6\u5bf9\u8c61\n    e, err := df.ReadAt(item.Offset, item.Size)\n    if err != nil {\n        return internal.Entry{}, err\n    }\n\n    // 5. \u6821\u9a8c\u7f16\u7801\u662f\u5426\u53d1\u751f\u95ee\u9898\n    checksum := crc32.ChecksumIEEE(e.Value)\n    if checksum != e.Checksum {\n        return internal.Entry{}, ErrChecksumFailed\n    }\n\n    return e, nil\n}\n</code></pre>"},{"location":"cs-life/middleware/database/bitcask/#merge","title":"Merge\u64cd\u4f5c","text":"<pre><code>// \u6839\u636e\u5185\u5b58\u4e2d\u7684indexr\u7684\u6240\u6709key\uff0c\u91cd\u65b0\u5f00\u4e00\u4e2a\u65b0\u7684db\uff0c\u7136\u540e\u5199\u8fdb\u53bb\n// Merge merges all datafiles in the database. Old keys are squashed\n// and deleted keys removes. Duplicate key/value pairs are also removed.\n// Call this function periodically to reclaim disk space.\nfunc (b *Bitcask) Merge() error {\n    // 1. \u5224\u65ad\u662f\u5426\u5728 IsMerging\u9636\u6bb5\uff08\u611f\u89c9\u7528atomic\u66f4\u597d\u4e9b\uff09\n    b.mu.Lock()\n    if b.isMerging {\n        b.mu.Unlock()\n        return ErrMergeInProgress\n    }\n    b.isMerging = true\n    b.mu.Unlock()\n    defer func() {\n        b.isMerging = false\n    }()\n    b.mu.RLock()\n    err := b.closeCurrentFile()\n    if err != nil {\n        b.mu.RUnlock()\n        return err\n    }\n    // 2. \u8bfb\u53d6\u6240\u6709\u7684dataFileIds\uff0c\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\n    filesToMerge := make([]int, 0, len(b.datafiles))\n    for k := range b.datafiles {\n        filesToMerge = append(filesToMerge, k)\n    }\n    err = b.openNewWritableFile()\n    if err != nil {\n        b.mu.RUnlock()\n        return err\n    }\n    b.mu.RUnlock()\n    sort.Ints(filesToMerge)\n\n    // 3. \u5f00\u4e34\u65f6\u76ee\u5f55 merge\uff0c\u6267\u884c\u5b8c\u4f1a\u5220\u9664\u8be5\u76ee\u5f55\n    // Temporary merged database path\n    temp, err := ioutil.TempDir(b.path, \"merge\")\n    if err != nil {\n        return err\n    }\n    defer os.RemoveAll(temp)\n\n    // 4. \u65b0\u5f00\u4e00\u4e2adb\n    // Create a merged database\n    mdb, err := Open(temp, withConfig(b.config))\n    if err != nil {\n        return err\n    }\n\n    // 5. \u6839\u636e\u5185\u5b58\u4e2d\u7684 trie(\u4e5f\u5c31\u662f\u7d22\u5f15)\uff0c\u91cd\u65b0\u5c06\u6570\u636e\u4ece\u8001db\u8bfb\u53d6\uff0c\u5e76\u5199\u5165\u5230\u65b0db\u4e2d\n    // Rewrite all key/value pairs into merged database\n    // Doing this automatically strips deleted keys and\n    // old key/value pairs\n    err = b.Fold(func(key []byte) error {\n        item, _ := b.trie.Search(key)\n        // if key was updated after start of merge operation, nothing to do\n        if item.(internal.Item).FileID &gt; filesToMerge[len(filesToMerge)-1] {\n            return nil\n        }\n        e, err := b.get(key)\n        if err != nil {\n            return err\n        }\n\n        if e.Expiry != nil {\n            if err := mdb.PutWithTTL(key, e.Value, time.Until(*e.Expiry)); err != nil {\n                return err\n            }\n        } else {\n            if err := mdb.Put(key, e.Value); err != nil {\n                return err\n            }\n        }\n\n        return nil\n    })\n    if err != nil {\n        return err\n    }\n    if err = mdb.Close(); err != nil {\n        return err\n    }\n    // no reads and writes till we reopen\n    b.mu.Lock()\n    defer b.mu.Unlock()\n    if err = b.close(); err != nil {\n        return err\n    }\n\n    // 6. \u5220\u9664\u73b0\u6709\u7684\u6587\u4ef6\n    // Remove data files\n    files, err := ioutil.ReadDir(b.path)\n    if err != nil {\n        return err\n    }\n    for _, file := range files {\n        if file.IsDir() || file.Name() == lockfile {\n            continue\n        }\n        ids, err := internal.ParseIds([]string{file.Name()})\n        if err != nil {\n            return err\n        }\n        // if datafile was created after start of merge, skip\n        if len(ids) &gt; 0 &amp;&amp; ids[0] &gt; filesToMerge[len(filesToMerge)-1] {\n            continue\n        }\n        err = os.RemoveAll(path.Join(b.path, file.Name()))\n        if err != nil {\n            return err\n        }\n    }\n\n    // 7. \u5c06\u65b0\u6587\u4ef6\u66f4\u540d\n    // Rename all merged data files\n    files, err = ioutil.ReadDir(mdb.path)\n    if err != nil {\n        return err\n    }\n    for _, file := range files {\n        // see #225\n        if file.Name() == lockfile {\n            continue\n        }\n        err := os.Rename(\n            path.Join([]string{mdb.path, file.Name()}...),\n            path.Join([]string{b.path, file.Name()}...),\n        )\n        if err != nil {\n            return err\n        }\n    }\n    b.metadata.ReclaimableSpace = 0\n\n    // 8. \u6839\u636e\u6587\u4ef6\u5185\u5bb9\uff0c\u91cd\u65b0load\u5230\u5185\u5b58\u6570\u636e\n    // And finally reopen the database\n    return b.reopen()\n}\n</code></pre>"},{"location":"cs-life/middleware/database/bitcask/#_3","title":"\u53c2\u8003","text":"<ul> <li>Bitcask\u6e90\u7801git\u5730\u5740</li> <li>A Log-Structured Hash Table for Fast Key/Value Data</li> </ul>"},{"location":"cs-life/middleware/database/boltdb/","title":"Boltdb \u6e90\u7801\u9605\u8bfb","text":""},{"location":"cs-life/middleware/database/boltdb/#_1","title":"\u80cc\u666f","text":"<ul> <li>\u4e4b\u524d\u5bf9db\u7684\u4e86\u89e3\u66f4\u591a\u7684\u662f\u9ed1\u76d2\uff0c\u5305\u62ec\u7d22\u5f15\u90a3\u4e9b\u5982\u4f55\u5efa\u7acb\uff0c\u66f4\u591a\u7684\u662f\u516b\u80a1\u6587\u7684\u8bb0\u5fc6</li> <li>\u867d\u8bf4\u662fgo\u7684\u4ee3\u7801\uff0c\u4f46\u8bfb boltDB \u6574\u4f53\u66f4\u50cf\u8bfbc\u7684\u4ee3\u7801\uff0c\u5e95\u5c42\u6d89\u53ca\u5230\u7684\u66f4\u591a\u662f\u78c1\u76d8/\u5185\u5b58 \u5bfb\u5740</li> </ul>"},{"location":"cs-life/middleware/database/boltdb/#_2","title":"\u4ecb\u7ecd","text":"<ul> <li>boltdb\u548cmysql\u4e00\u6837\u91c7\u7528\u4e86b+ tree\u7684\u6570\u636e\u7ed3\u6784\uff0c\u9002\u5408\u8bfb\u591a\u5199\u5c11\u7684\u573a\u666f\u3002</li> <li>b+ tree\u7684\u5e73\u8861\u76f8\u5173\u7684\u4ee3\u7801\u5728 spill\uff08\u9875\u5206\u88c2\uff09\u548c rebanlance\uff08\u9875\u5408\u5e76\uff09\u65b9\u6cd5\u5185\uff0c\u5e76\u4e0d\u96be\u7406\u89e3\u3002</li> <li>\u5206\u652f\u8282\u70b9\u53ea\u5b58key\uff0c\u53f6\u5b50\u8282\u70b9\u5b58key\u548cvalue</li> </ul> <p>- \u5f53\u53f6\u5b50\u8282\u70b9\u5185\u5bb9\u8f83\u5c11\u65f6\uff0c\u53ef\u4ee5\u628akey\u548cvalue\u76f4\u63a5\u585e\u5165\u7236\u8282\u70b9\u7684item\u4e2d\uff0c\u662f\u4e00\u79cdio\u4f18\u5316\uff0c\u65b9\u4fbf\u8bfb\u53d6</p>"},{"location":"cs-life/middleware/database/boltdb/#_3","title":"\u4e8b\u52a1\u76f8\u5173","text":"<ul> <li>\u8bfb\u4e8b\u52a1\uff0c\u8bfb\u7684\u662fpage\u5728\u5185\u5b58\u4e2d\u7684\u6620\u5c04node\u3002</li> <li>\u5199\u4e8b\u52a1\uff0c\u91cd\u65b0\u628apage\u62c9\u53d6\u5230\u5185\u5b58\uff08COW\u673a\u5236\uff09\uff0c\u53ea\u6709\u5728commit\u7684\u65f6\u5019\u624d\u4f1a\u843d\u76d8\uff0c\u5e76\u4e14\u66f4\u65b0meta\u3002</li> </ul>"},{"location":"cs-life/middleware/database/boltdb/#_4","title":"\u78c1\u76d8\u9875\u5b58\u50a8","text":"<ul> <li>Page\uff0c\u5c31\u662fheader\uff0c\u7528\u4e8e\u6807\u8bc6\u5f53\u524dpage\u662f\u4ec0\u4e48\u7c7b\u578b</li> <li>pageElement\uff0c\u5bf9item\u7684meta\u4fe1\u606f\u8bb0\u5f55</li> <li>item\uff0c\u5177\u4f53\u7684\u4e8c\u8fdb\u5236\u843d\u76d8\u6570\u636e</li> </ul>"},{"location":"cs-life/middleware/database/boltdb/#_5","title":"\u78c1\u76d8\u5185\u5b58\u6620\u5c04","text":""},{"location":"cs-life/middleware/database/boltdb/#_6","title":"\u6570\u636e\u8bfb\u53d6","text":"<pre><code>// search recursively performs a binary search against a given page/node until it finds a given key.\n// \u68c0\u7d22key\uff0c\u6709node\u5c31\u8d70node\u68c0\u7d22\uff0c\u6709page\u5c31\u8d70page\u68c0\u7d22\nfunc (c *Cursor) search(key []byte, pgid pgid) {\n   p, n := c.bucket.pageNode(pgid)\n   if p != nil &amp;&amp; (p.flags&amp;(branchPageFlag|leafPageFlag)) == 0 {\n      panic(fmt.Sprintf(\"invalid page type: %d: %x\", p.id, p.flags))\n   }\n   e := elemRef{page: p, node: n}\n   // \u8bb0\u5f55\u8d70\u8fc7\u7684\u8282\u70b9\uff08page,node,index\uff09\u6808\uff0c\u65b9\u4fbf\u65b9\u6cd5\u4e4b\u95f4\u8c03\u7528\uff08\u51cf\u5c11\u53c2\u6570\uff09\n   c.stack = append(c.stack, e)\n\n   // If we're on a leaf page/node then find the specific node.\n   if e.isLeaf() {\n      c.nsearch(key)\n      return\n   }\n   // \u6709\u5185\u5b58node\uff0c\u8d70node\u68c0\u7d22\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u8282\u70b9\u540e\uff0c\u9012\u5f52\u8fdb\u884csearch\n   if n != nil {\n      c.searchNode(key, n)\n      return\n   }\n   // \u53ea\u6709\u78c1\u76d8page\uff0c\u8d70\u78c1\u76d8page\u68c0\u7d22\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u8282\u70b9\u540e\uff0c\u9012\u5f52\u8fdb\u884csearch\n   c.searchPage(key, p)\n}\n</code></pre>"},{"location":"cs-life/middleware/database/boltdb/#_7","title":"\u6570\u636e\u5199\u5165","text":"<pre><code>// put inserts a key/value.\nfunc (n *node) put(oldKey, newKey, value []byte, pgid pgid, flags uint32) {\n   if pgid &gt;= n.bucket.tx.meta.pgid {\n      panic(fmt.Sprintf(\"pgid (%d) above high water mark (%d)\", pgid, n.bucket.tx.meta.pgid))\n   } else if len(oldKey) &lt;= 0 {\n      panic(\"put: zero-length old key\")\n   } else if len(newKey) &lt;= 0 {\n      panic(\"put: zero-length new key\")\n   }\n\n   // Find insertion index.\n   index := sort.Search(len(n.inodes), func(i int) bool { return bytes.Compare(n.inodes[i].key, oldKey) != -1 })\n\n   // \u4e8c\u5206\u63d2\u5165\u6392\u5e8f\uff0c\u4fdd\u8bc1\u6574\u4e2anodes\u662f\u6709\u5e8f\u7684\n   // Add capacity and shift nodes if we don't have an exact match and need to insert.\n   exact := (len(n.inodes) &gt; 0 &amp;&amp; index &lt; len(n.inodes) &amp;&amp; bytes.Equal(n.inodes[index].key, oldKey))\n   if !exact {\n      n.inodes = append(n.inodes, inode{})\n      copy(n.inodes[index+1:], n.inodes[index:])\n   }\n\n   inode := &amp;n.inodes[index]\n   inode.flags = flags\n   inode.key = newKey\n   inode.value = value\n   inode.pgid = pgid\n   _assert(len(inode.key) &gt; 0, \"put: zero-length inode key\")\n}\n</code></pre>"},{"location":"cs-life/middleware/database/boltdb/#b-tree","title":"B+ Tree\u7d22\u5f15\u793a\u4f8b","text":""},{"location":"cs-life/middleware/database/boltdb/#_8","title":"\u4e3b\u952e\u7d22\u5f15","text":""},{"location":"cs-life/middleware/database/boltdb/#_9","title":"\u666e\u901a\u7d22\u5f15","text":""},{"location":"cs-life/middleware/database/boltdb/#_10","title":"\u53c2\u8003","text":"<ul> <li>boltdb gitbook</li> <li>Boltdb \u6e90\u7801\u5bfc\u8bfb\uff08\u4e00\uff09\uff1aBoltdb \u6570\u636e\u7ec4\u7ec7</li> <li>Boltdb \u6e90\u7801\u5bfc\u8bfb\uff08\u4e8c\uff09\uff1aBoltdb \u7d22\u5f15\u8bbe\u8ba1</li> <li>Boltdb \u6e90\u7801\u5bfc\u8bfb\uff08\u4e09\uff09\uff1aBoltdb \u4e8b\u52a1\u5b9e\u73b0</li> </ul>"},{"location":"cs-life/middleware/database/backup/db/","title":"\u6570\u636e\u5e93","text":""},{"location":"cs-life/middleware/database/backup/db/#_2","title":"\u4e8b\u52a1\u7279\u6027","text":"<p>\u6570\u636e\u5e93\u56db\u4e2a\u7279\u6027<code>ACID</code>, \u5206\u522b\u662f\u539f\u5b50\u6027\uff0c\u4e00\u81f4\u6027\uff0c\u9694\u79bb\u6027\uff0c\u6301\u4e45\u6027\u3002</p>"},{"location":"cs-life/middleware/database/backup/db/#_3","title":"\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b","text":"<ul> <li>uncommitted \u8bfb\u672a\u63d0\u4ea4\uff0c\u4f1a\u5bfc\u81f4\u810f\u8bfb\uff0c\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u5e7b\u8bfb</li> <li>read commited \u8bfb\u5df2\u63d0\u4ea4\uff0c\u4f1a\u5bfc\u81f4\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u5e7b\u8bfb</li> <li>repeat read \u53ef\u91cd\u590d\u8bfb\uff0c\u4f1a\u5bfc\u81f4\u5e7b\u8bfb</li> <li>serialization \u4e32\u884c\u8bfb</li> </ul> <p>MySQL\u7684<code>InnoDB</code>\u5f15\u64ce\u5b9e\u73b0\u7684<code>repeat read</code>\uff0c\u662f\u7531<code>MVCC</code>+<code>nextKey lock</code>\u7ec4\u6210\u7684\u4e0d\u4f1a\u51fa\u73b0\u5e7b\u8bfb\u7684\u60c5\u51b5(<code>gap lock</code>\u95f4\u9699\u9501\uff0c\u5728\u884c\u8bb0\u5f55\u7684\u7d22\u5f15\u4e4b\u524d\u548c\u4e4b\u540e\u4e5f\u52a0\u4e86\u9501\uff0c\u4e0d\u80fd\u63d2\u5165)</p> <ul> <li>MVCC\u89e3\u51b3\u4e8b\u52a1\u5e76\u53d1\u4fee\u6539\u548c\u5220\u9664</li> <li>gap lock\u89e3\u51b3\u4e8b\u52a1\u5e76\u53d1\u7684\u65b0\u589e</li> </ul>"},{"location":"cs-life/middleware/database/backup/db/#_4","title":"\u4e24\u6bb5\u9501\u534f\u8bae","text":"<p>X\u4e3a\u72ec\u5360\u9501\uff0cS\u4e3a\u5171\u4eab\u9501</p> <ul> <li>\u4e8b\u52a1 T \u8981\u4fee\u6539\u6570\u636e A \u65f6\u5fc5\u987b\u52a0 X \u9501\uff0c\u76f4\u5230 T \u7ed3\u675f\u624d\u91ca\u653e\u9501\u3002</li> <li>\u5728\u4e00\u7ea7\u7684\u57fa\u7840\u4e0a\uff0c\u8981\u6c42\u8bfb\u53d6\u6570\u636e A \u65f6\u5fc5\u987b\u52a0 S \u9501\uff0c\u8bfb\u53d6\u5b8c\u9a6c\u4e0a\u91ca\u653e S \u9501\u3002</li> </ul>"},{"location":"cs-life/middleware/database/backup/db/#_5","title":"\u4e09\u8303\u5f0f","text":"<ul> <li>1NF: \u5c5e\u6027\u4e0d\u53ef\u5206\u3002</li> <li>2NF: \u6bcf\u4e2a\u975e\u4e3b\u5c5e\u6027\u5b8c\u5168\u51fd\u6570\u4f9d\u8d56\u4e8e\u952e\u7801\u3002</li> <li>3NF: \u975e\u4e3b\u5c5e\u6027\u4e0d\u4f20\u9012\u51fd\u6570\uff0c\u5168\u90e8\u4f9d\u8d56\u4e8e\u952e\u7801\u3002</li> </ul>"},{"location":"cs-life/middleware/database/backup/db/#_6","title":"\u5206\u5e93\u5206\u8868","text":"<ul> <li>\u7f51\u7edc\u5e26\u5bbd\u4e0d\u8db3 -&gt; \u5206\u5e93</li> <li>IO\u538b\u529b\u5927 -&gt; \u5206\u5e93\u5206\u8868</li> </ul>"},{"location":"cs-life/middleware/database/backup/db/#_7","title":"\u8fde\u63a5\u548c\u5b50\u67e5\u8be2","text":"<ul> <li>\u5b50\u67e5\u8be2\u9700\u8981\u5efa\u4e34\u65f6\u8868(\u591a\u4e86\u521b\u5efa\uff0c\u5220\u9664\u8fc7\u7a0b)</li> <li>\u8fde\u63a5\u662f\u7b1b\u5361\u5c14\u79ef\uff0c\u53ef\u4ee5\u901a\u8fc7\u7d22\u5f15\u5173\u8054\u53bb\u4f18\u5316\uff0c\u5982\u679c\u6ca1\u7d22\u5f15\uff0c\u6548\u7387\u5176\u5b9e\u4e5f\u4e0d\u9ad8</li> </ul>"},{"location":"cs-life/middleware/database/backup/mysql-notes/","title":"\u6781\u5ba2\u65f6\u95f4-MYSQL45\u8bb2-\u7b14\u8bb0","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#01-sql","title":"01 | \u57fa\u7840\u67b6\u6784\uff1a\u4e00\u6761 SQL \u67e5\u8be2\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#_1","title":"\u8fde\u63a5\u5668","text":"<p>\u5c3d\u91cf\u4f7f\u7528\u957f\u8fde\u63a5\u3002</p> <p>\u4f46\u6709\u4e9b\u65f6\u5019\u957f\u8fde\u63a5\u7d2f\u79ef\u4e0b\u6765\uff0c\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u5360\u7528\u592a\u5927\uff0c\u88ab\u7cfb\u7edf\u5f3a\u884c\u6740\u6389\uff08OOM\uff09\uff0c\u4ece\u73b0\u8c61\u770b\u5c31\u662f MySQL \u5f02\u5e38\u91cd\u542f\u4e86\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_2","title":"\u67e5\u8be2\u7f13\u5b58","text":"<p>\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u6211\u4f1a\u5efa\u8bae\u4f60\u4e0d\u8981\u4f7f\u7528\u67e5\u8be2\u7f13\u5b58\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u67e5\u8be2\u7f13\u5b58\u5f80\u5f80\u5f0a\u5927\u4e8e\u5229\u3002</p> <p>\u9664\u975e\u4e1a\u52a1\u5c31\u662f\u6709\u4e00\u5f20\u9759\u6001\u8868\uff0c\u5f88\u957f\u65f6\u95f4\u624d\u4f1a\u66f4\u65b0\u4e00\u6b21\u3002 \u6bd4\u5982\uff0c\u4e00\u4e2a\u7cfb\u7edf\u914d\u7f6e\u8868\uff0c\u90a3\u8fd9\u5f20\u8868\u4e0a\u7684\u67e5\u8be2\u624d\u9002\u5408\u4f7f\u7528\u67e5\u8be2\u7f13\u5b58\u3002</p> <p>MySQL 8.0 \u7248\u672c\u76f4\u63a5\u5c06\u67e5\u8be2\u7f13\u5b58\u7684\u6574\u5757\u529f\u80fd\u5220\u6389\u4e86\uff0c\u4e5f\u5c31\u662f\u8bf4 8.0 \u5f00\u59cb\u5f7b\u5e95\u6ca1 \u6709\u8fd9\u4e2a\u529f\u80fd\u4e86\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_3","title":"\u5206\u6790\u5668","text":"<p>\u5206\u6790\u5668\u4f1a\u505a\u201c\u8bcd\u6cd5\u5206\u6790\u201d \u548c \u201c\u8bed\u6cd5\u5206\u6790\u201d\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_4","title":"\u4f18\u5316\u5668","text":"<p>\u4f18\u5316\u5668\u662f\u5728\u8868\u91cc\u9762\u6709\u591a\u4e2a\u7d22\u5f15\u7684\u65f6\u5019\uff0c\u51b3\u5b9a\u4f7f\u7528\u54ea\u4e2a\u7d22\u5f15\u3002</p> <p>\u6216\u8005\u5728\u4e00\u4e2a\u8bed\u53e5\u6709\u591a\u8868\u5173\u8054\uff08join\uff09 \u7684\u65f6\u5019\uff0c\u51b3\u5b9a\u5404\u4e2a\u8868\u7684\u8fde\u63a5\u987a\u5e8f\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_5","title":"\u6267\u884c\u5668","text":"<p>\u5148\u5224\u65ad\u4e00\u4e0b\u4f60\u5bf9\u8fd9\u4e2a\u8868 T \u6709\u6ca1\u6709\u6267\u884c\u67e5\u8be2\u7684\u6743\u9650</p> <p>\u5982\u679c\u6709\u6743\u9650\uff0c\u5c31\u6253\u5f00\u8868\u7ee7\u7eed\u6267\u884c\u3002\u6253\u5f00\u8868\u7684\u65f6\u5019\uff0c\u4f18\u5316\u5668\u5c31\u4f1a\u6839\u636e\u8868\u7684\u5f15\u64ce\u5b9a\u4e49\uff0c\u53bb\u4f7f\u7528\u8fd9\u4e2a\u5f15\u64ce\u63d0\u4f9b\u7684\u63a5\u53e3\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#02-sql","title":"02 | \u65e5\u5fd7\u7cfb\u7edf\uff1a\u4e00\u6761 SQL \u66f4\u65b0\u8bed\u53e5\u662f\u5982\u4f55\u6267\u884c\u7684\uff1f","text":"<p>redo log\uff08\u91cd\u505a\u65e5\u5fd7\uff09\u548c binlog\uff08\u5f52\u6863\u65e5\u5fd7\uff09</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#redo-log","title":"\u91cd\u8981\u7684\u65e5\u5fd7\u6a21\u5757\uff1aredo log","text":"<p>\u5982\u679c\u6709\u4eba\u8981\u8d4a\u8d26\u6216\u8005\u8fd8\u8d26\u7684\u8bdd\uff0c\u638c\u67dc\u4e00\u822c\u6709\u4e24\u79cd\u505a\u6cd5\uff1a \u4e00\u79cd\u505a\u6cd5\u662f\u76f4\u63a5\u628a\u8d26\u672c\u7ffb\u51fa\u6765\uff0c\u628a\u8fd9\u6b21\u8d4a\u7684\u8d26\u52a0\u4e0a\u53bb\u6216\u8005\u6263\u9664\u6389\uff1b \u53e6\u4e00\u79cd\u505a\u6cd5\u662f\u5148\u5728\u7c89\u677f\u4e0a\u8bb0\u4e0b\u8fd9\u6b21\u7684\u8d26\uff0c\u7b49\u6253\u70ca\u4ee5\u540e\u518d\u628a\u8d26\u672c\u7ffb\u51fa\u6765\u6838\u7b97\u3002 \u5728\u751f\u610f\u7ea2\u706b\u67dc\u53f0\u5f88\u5fd9\u65f6\uff0c\u638c\u67dc\u4e00\u5b9a\u4f1a\u9009\u62e9\u540e\u8005\uff0c\u56e0\u4e3a\u524d\u8005\u64cd\u4f5c\u5b9e\u5728\u662f\u592a\u9ebb\u70e6\u4e86\u3002</p> <p>\u540c\u6837\uff0c\u5728 MySQL \u91cc\u4e5f\u6709\u8fd9\u4e2a\u95ee\u9898\uff0c\u5982\u679c\u6bcf\u4e00\u6b21\u7684\u66f4\u65b0\u64cd\u4f5c\u90fd\u9700\u8981\u5199\u8fdb\u78c1\u76d8\uff0c\u7136\u540e\u78c1\u76d8\u4e5f\u8981\u627e\u5230 \u5bf9\u5e94\u7684\u90a3\u6761\u8bb0\u5f55\uff0c\u7136\u540e\u518d\u66f4\u65b0\uff0c\u6574\u4e2a\u8fc7\u7a0b IO \u6210\u672c\u3001\u67e5\u627e\u6210\u672c\u90fd\u5f88\u9ad8</p> <p>WAL \u5168\u79f0 Write-Ahead Logging</p> <p>\u7c89\u677f\u548c\u8d26\u672c\u914d\u5408\u7684\u6574\u4e2a\u8fc7\u7a0b\uff0c\u5176\u5b9e\u5c31\u662f MySQL \u91cc\u7ecf\u5e38\u8bf4\u5230\u7684 WAL</p> <p>\u5b83\u7684\u5173\u952e\u70b9\u5c31\u662f\u5148\u5199\u65e5\u5fd7\uff0c\u518d\u5199\u78c1\u76d8\uff0c\u4e5f\u5c31\u662f\u5148\u5199\u7c89\u677f\uff0c\u7b49\u4e0d\u5fd9\u7684\u65f6\u5019\u518d\u5199\u8d26\u672c\u3002</p> <p>InnoDB \u7684 redo log \u662f\u56fa\u5b9a\u5927\u5c0f\u7684\uff0c\u6bd4\u5982\u53ef\u4ee5\u914d\u7f6e\u4e3a\u4e00\u7ec4 4 \u4e2a\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u7684\u5927 \u5c0f\u662f 1GB\uff0c\u90a3\u4e48\u8fd9\u5757\u201c\u7c89\u677f\u201d\u603b\u5171\u5c31\u53ef\u4ee5\u8bb0\u5f55 4GB \u7684\u64cd\u4f5c\u3002\u4ece\u5934\u5f00\u59cb\u5199\uff0c\u5199\u5230\u672b\u5c3e\u5c31\u53c8\u56de\u5230\u5f00 \u5934\u5faa\u73af\u5199</p> <p>wirte pos \u662f\u5f53\u524d\u8bb0\u5f55\u7684\u4f4d\u7f6e\uff0c\u4e00\u8fb9\u5199\u4e00\u8fb9\u540e\u79fb\uff0c\u5199\u5230\u7b2c 3 \u53f7\u6587\u4ef6\u672b\u5c3e\u540e\u5c31\u56de\u5230 0 \u53f7\u6587\u4ef6\u5f00\u5934\u3002</p> <p>checkpoint \u662f\u5f53\u524d\u8981\u64e6\u9664\u7684\u4f4d\u7f6e\uff0c\u4e5f\u662f\u5f80\u540e\u63a8\u79fb\u5e76\u4e14\u5faa\u73af\u7684\uff0c\u64e6\u9664\u8bb0\u5f55\u524d\u8981\u628a\u8bb0\u5f55\u66f4\u65b0\u5230\u6570\u636e\u6587\u4ef6\u3002</p> <p>\u5982\u679c write pos \u8ffd\u4e0a checkpoint\uff0c\u8868\u793a\u201c\u7c89\u677f\u201d\u6ee1\u4e86\uff0c\u8fd9\u65f6\u5019\u4e0d\u80fd\u518d\u6267\u884c\u65b0\u7684\u66f4\u65b0\uff0c\u5f97\u505c\u4e0b\u6765\u5148\u64e6\u6389\u4e00\u4e9b\u8bb0\u5f55\uff0c\u628a checkpoint \u63a8\u8fdb\u4e00\u4e0b\u3002</p> <p>\u6709\u4e86 redo log\uff0cInnoDB \u5c31\u53ef\u4ee5\u4fdd\u8bc1\u5373\u4f7f\u6570\u636e\u5e93\u53d1\u751f\u5f02\u5e38\u91cd\u542f\uff0c\u4e4b\u524d\u63d0\u4ea4\u7684\u8bb0\u5f55\u90fd\u4e0d\u4f1a\u4e22\u5931\uff0c \u8fd9\u4e2a\u80fd\u529b\u79f0\u4e3acrash-safe\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#binlog","title":"\u91cd\u8981\u7684\u65e5\u5fd7\u6a21\u5757\uff1abinlog","text":"<p>redo log \u662f InnoDB \u5f15\u64ce\u7279\u6709\u7684\u65e5\u5fd7\uff0c\u800c Server \u5c42\u4e5f\u6709\u81ea\u5df1\u7684\u65e5\u5fd7\uff0c\u79f0\u4e3a binlog\uff08\u5f52\u6863\u65e5\u5fd7\uff09\u3002</p> <p>\u4e3a\u4ec0\u4e48\u4f1a\u6709\u4e24\u4efd\u65e5\u5fd7\u5462</p> <p>\u56e0\u4e3a\u6700\u5f00\u59cb MySQL \u91cc\u5e76\u6ca1\u6709 InnoDB \u5f15\u64ce\u3002MySQL \u81ea\u5e26\u7684\u5f15\u64ce\u662f MyISAM\uff0c\u4f46\u662f MyISAM \u6ca1\u6709 crash-safe \u7684\u80fd\u529b\uff0cbinlog \u65e5\u5fd7\u53ea\u80fd\u7528\u4e8e\u5f52\u6863\u3002\u800c InnoDB \u662f\u53e6\u4e00\u4e2a\u516c\u53f8\u4ee5\u63d2\u4ef6\u5f62\u5f0f\u5f15\u5165 MySQL \u7684\uff0c\u65e2\u7136\u53ea\u4f9d\u9760 binlog \u662f\u6ca1\u6709 crash-safe \u80fd\u529b\u7684\uff0c\u6240\u4ee5 InnoDB \u4f7f\u7528\u53e6\u5916\u4e00\u5957\u65e5\u5fd7\u7cfb \u7edf\u2014\u2014\u4e5f\u5c31\u662f redo log \u6765\u5b9e\u73b0 crash-safe \u80fd\u529b\u3002</p> <p>\u8fd9\u4e24\u79cd\u65e5\u5fd7\u6709\u4ee5\u4e0b\u4e09\u70b9\u4e0d\u540c\u3002</p> <ol> <li> <p>redo log \u662f InnoDB \u5f15\u64ce\u7279\u6709\u7684\uff1bbinlog \u662f MySQL \u7684 Server \u5c42\u5b9e\u73b0\u7684\uff0c\u6240\u6709\u5f15\u64ce\u90fd\u53ef\u4ee5\u4f7f\u7528\u3002</p> </li> <li> <p>redo log \u662f\u7269\u7406\u65e5\u5fd7\uff0c\u8bb0\u5f55\u7684\u662f\u201c\u5728\u67d0\u4e2a\u6570\u636e\u9875\u4e0a\u505a\u4e86\u4ec0\u4e48\u4fee\u6539\u201d\uff1bbinlog \u662f\u903b\u8f91\u65e5\u5fd7\uff0c \u8bb0\u5f55\u7684\u662f\u8fd9\u4e2a\u8bed\u53e5\u7684\u539f\u59cb\u903b\u8f91\uff0c\u6bd4\u5982\u201c\u7ed9 ID=2 \u8fd9\u4e00\u884c\u7684 c \u5b57\u6bb5\u52a0 1 \u201d\u3002</p> </li> <li> <p>redo log \u662f\u5faa\u73af\u5199\u7684\uff0c\u7a7a\u95f4\u56fa\u5b9a\u4f1a\u7528\u5b8c\uff1bbinlog \u662f\u53ef\u4ee5\u8ffd\u52a0\u5199\u5165\u7684\u3002\u201c\u8ffd\u52a0\u5199\u201d\u662f\u6307 binlog \u6587\u4ef6\u5199\u5230\u4e00\u5b9a\u5927\u5c0f\u540e\u4f1a\u5207\u6362\u5230\u4e0b\u4e00\u4e2a\uff0c\u5e76\u4e0d\u4f1a\u8986\u76d6\u4ee5\u524d\u7684\u65e5\u5fd7\u3002</p> </li> </ol> <p>update \u8bed\u53e5\u7684\u6267\u884c\u6d41\u7a0b\u56fe\uff0c\u56fe\u4e2d\u6d45\u8272\u6846\u8868\u793a\u662f\u5728 InnoDB \u5185\u90e8\u6267\u884c\u7684\uff0c\u6df1\u8272 \u6846\u8868\u793a\u662f\u5728\u6267\u884c\u5668\u4e2d\u6267\u884c\u7684</p> <p></p> <p>\u5c06 redo log \u7684\u5199\u5165\u62c6\u6210\u4e86\u4e24\u4e2a\u6b65\u9aa4\uff1aprepare \u548c commit\uff0c\u8fd9\u5c31\u662f\u201d\u4e24\u9636\u6bb5\u63d0\u4ea4\u201c\u3002</p> <p>\u5982\u679c\u4e0d\u4f7f\u7528\u201c\u4e24\u9636\u6bb5\u63d0\u4ea4\u201d\uff0c\u90a3\u4e48\u6570\u636e\u5e93\u7684\u72b6\u6001\u5c31\u6709\u53ef\u80fd\u548c\u7528\u5b83\u7684\u65e5\u5fd7\u6062\u590d\u51fa\u6765\u7684\u5e93 \u7684\u72b6\u6001\u4e0d\u4e00\u81f4\u3002</p> <p>\u7b80\u5355\u8bf4\uff0credo log \u548c binlog \u90fd\u53ef\u4ee5\u7528\u4e8e\u8868\u793a\u4e8b\u52a1\u7684\u63d0\u4ea4\u72b6\u6001\uff0c\u800c\u4e24\u9636\u6bb5\u63d0\u4ea4\u5c31\u662f\u8ba9\u8fd9\u4e24\u4e2a\u72b6\u6001\u4fdd\u6301\u903b\u8f91\u4e0a\u7684\u4e00\u81f4\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_6","title":"\u5c0f\u7ed3","text":"<p>redo log \u7528\u4e8e\u4fdd\u8bc1 crash-safe \u80fd\u529b\u3002</p> <p>innodb_flush_log_at_trx_commit \u8fd9\u4e2a\u53c2\u6570\u8bbe\u7f6e\u6210 1 \u7684 \u65f6\u5019\uff0c\u8868\u793a\u6bcf\u6b21\u4e8b\u52a1\u7684 redo log \u90fd\u76f4\u63a5\u6301\u4e45\u5316\u5230\u78c1\u76d8\u3002\u8fd9\u4e2a\u53c2\u6570\u5efa\u8bae\u8bbe\u7f6e\u6210 1\u3002</p> <p>sync_binlog \u8fd9\u4e2a\u53c2\u6570\u8bbe\u7f6e\u6210 1 \u7684\u65f6\u5019\uff0c\u8868\u793a\u6bcf\u6b21\u4e8b\u52a1\u7684 binlog \u90fd\u6301\u4e45\u5316\u5230\u78c1\u76d8\u3002\u4e5f\u5efa\u8bae\u8bbe\u7f6e\u62101\u3002</p> <p>\u4e24\u9636\u6bb5\u63d0\u4ea4\u662f\u8de8\u7cfb\u7edf\u7ef4\u6301\u6570\u636e\u903b\u8f91\u4e00\u81f4\u6027\u65f6\u5e38\u7528\u7684\u4e00\u4e2a\u65b9\u6848\uff0c\u5373\u4f7f\u4f60\u4e0d\u505a\u6570\u636e\u5e93\u5185\u6838\u5f00\u53d1\uff0c\u65e5\u5e38\u5f00\u53d1\u4e2d\u4e5f\u6709\u53ef\u80fd\u4f1a\u7528\u5230\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#03","title":"03 | \u4e8b\u52a1\u9694\u79bb\uff1a\u4e3a\u4ec0\u4e48\u4f60\u6539\u4e86\u6211\u8fd8\u770b\u4e0d\u89c1\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#_7","title":"\u9694\u79bb\u6027\u4e0e\u9694\u79bb\u7ea7\u522b","text":"<p>ACID\uff08Atomicity\u3001Consistency\u3001Isolation\u3001Durability\uff0c\u5373\u539f\u5b50\u6027\u3001\u4e00\u81f4\u6027\u3001\u9694\u79bb\u6027\u3001\u6301\u4e45\u6027\uff09</p> <p>\u5f53\u6570\u636e\u5e93\u4e0a\u6709\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u6267\u884c\u7684\u65f6\u5019\uff0c\u5c31\u53ef\u80fd\u51fa\u73b0\u810f\u8bfb\uff08dirty read\uff09\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\uff08non reapeatable read\uff09\u3001\u5e7b\u8bfb\uff08phantom read\uff09\u7684\u95ee\u9898\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u5c31\u6709\u4e86\u201c\u9694\u79bb\u7ea7\u522b\u201d\u7684\u6982\u5ff5\u3002</p> <p>\u9694\u79bb\u5f97\u8d8a\u4e25\u5b9e\uff0c\u6548\u7387\u5c31\u4f1a\u8d8a\u4f4e\u3002\u56e0\u6b64\u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u90fd\u8981 \u5728\u4e8c\u8005\u4e4b\u95f4\u5bfb\u627e\u4e00\u4e2a\u5e73\u8861\u70b9</p> <p>SQL \u6807\u51c6\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u5305\u62ec\uff1a\u8bfb\u672a\u63d0\u4ea4\uff08read uncommitted\uff09\u3001\u8bfb\u63d0\u4ea4\uff08read committed\uff09\u3001\u53ef\u91cd\u590d\u8bfb\uff08repeatable read\uff09\u548c\u4e32\u884c\u5316 \uff08serializable \uff09\u3002</p> <ul> <li>\u8bfb\u672a\u63d0\u4ea4\u662f\u6307\uff0c\u4e00\u4e2a\u4e8b\u52a1\u8fd8\u6ca1\u63d0\u4ea4\u65f6\uff0c\u5b83\u505a\u7684\u53d8\u66f4\u5c31\u80fd\u88ab\u522b\u7684\u4e8b\u52a1\u770b\u5230\u3002</li> <li>\u8bfb\u63d0\u4ea4\u662f\u6307\uff0c\u4e00\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u540e\uff0c\u5b83\u505a\u7684\u53d8\u66f4\u624d\u4f1a\u88ab\u5176\u4ed6\u4e8b\u52a1\u770b\u5230\u3002</li> <li>\u53ef\u91cd\u590d\u8bfb\u662f\u6307\uff0c\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u770b\u5230\u7684\u6570\u636e\uff0c\u603b\u662f\u8ddf\u8fd9\u4e2a\u4e8b\u52a1\u5728\u542f\u52a8\u65f6\u770b\u5230\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\u3002\u5f53\u7136\u5728\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u672a\u63d0\u4ea4\u53d8\u66f4\u5bf9\u5176\u4ed6\u4e8b\u52a1\u4e5f\u662f\u4e0d\u53ef\u89c1\u7684\u3002</li> <li>\u4e32\u884c\u5316\uff0c\u987e\u540d\u601d\u4e49\u662f\u5bf9\u4e8e\u540c\u4e00\u884c\u8bb0\u5f55\uff0c\u201c\u5199\u201d\u4f1a\u52a0\u201c\u5199\u9501\u201d\uff0c\u201c\u8bfb\u201d\u4f1a\u52a0\u201c\u8bfb\u9501\u201d\u3002\u5f53\u51fa\u73b0 \u8bfb\u5199\u9501\u51b2\u7a81\u7684\u65f6\u5019\uff0c\u540e\u8bbf\u95ee\u7684\u4e8b\u52a1\u5fc5\u987b\u7b49\u524d\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u5b8c\u6210\uff0c\u624d\u80fd\u7ee7\u7eed\u6267\u884c\u3002</li> </ul> <p>\u6211\u4eec\u6765\u770b\u770b\u5728\u4e0d\u540c\u7684\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u4e8b\u52a1 A \u4f1a\u6709\u54ea\u4e9b\u4e0d\u540c\u7684\u8fd4\u56de\u7ed3\u679c\uff0c\u4e5f\u5c31\u662f\u56fe\u91cc\u9762 V1\u3001V2\u3001 V3 \u7684\u8fd4\u56de\u503c\u5206\u522b\u662f\u4ec0\u4e48\u3002</p> <p></p> <ul> <li>\u82e5\u9694\u79bb\u7ea7\u522b\u662f\u201c\u8bfb\u672a\u63d0\u4ea4\u201d\uff0c \u5219 V1 \u7684\u503c\u5c31\u662f 2\u3002\u8fd9\u65f6\u5019\u4e8b\u52a1 B \u867d\u7136\u8fd8\u6ca1\u6709\u63d0\u4ea4\uff0c\u4f46\u662f\u7ed3\u679c \u5df2\u7ecf\u88ab A \u770b\u5230\u4e86\u3002\u56e0\u6b64\uff0cV2\u3001V3 \u4e5f\u90fd\u662f 2\u3002</li> <li>\u82e5\u9694\u79bb\u7ea7\u522b\u662f\u201c\u8bfb\u63d0\u4ea4\u201d\uff0c\u5219 V1 \u662f 1\uff0cV2 \u7684\u503c\u662f 2\u3002\u4e8b\u52a1 B \u7684\u66f4\u65b0\u5728\u63d0\u4ea4\u540e\u624d\u80fd\u88ab A \u770b \u5230\u3002\u6240\u4ee5\uff0c V3 \u7684\u503c\u4e5f\u662f 2\u3002</li> <li>\u82e5\u9694\u79bb\u7ea7\u522b\u662f\u201c\u53ef\u91cd\u590d\u8bfb\u201d\uff0c\u5219 V1\u3001V2 \u662f 1\uff0cV3 \u662f 2\u3002\u4e4b\u6240\u4ee5 V2 \u8fd8\u662f 1\uff0c\u9075\u5faa\u7684\u5c31\u662f\u8fd9 \u4e2a\u8981\u6c42\uff1a\u4e8b\u52a1\u5728\u6267\u884c\u671f\u95f4\u770b\u5230\u7684\u6570\u636e\u524d\u540e\u5fc5\u987b\u662f\u4e00\u81f4\u7684\u3002</li> <li>\u82e5\u9694\u79bb\u7ea7\u522b\u662f\u201c\u4e32\u884c\u5316\u201d\uff0c\u5219\u5728\u4e8b\u52a1 B \u6267\u884c\u201c\u5c06 1 \u6539\u6210 2\u201d\u7684\u65f6\u5019\uff0c\u4f1a\u88ab\u9501\u4f4f\u3002\u76f4\u5230\u4e8b\u52a1 A \u63d0\u4ea4\u540e\uff0c\u4e8b\u52a1 B \u624d\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u3002\u6240\u4ee5\u4ece A \u7684\u89d2\u5ea6\u770b\uff0c V1\u3001V2 \u503c\u662f 1\uff0cV3 \u7684\u503c\u662f 2\u3002</li> </ul> <p>\u5728\u5b9e\u73b0\u4e0a\uff0c\u6570\u636e\u5e93\u91cc\u9762\u4f1a\u521b\u5efa\u4e00\u4e2a\u89c6\u56fe\uff0c\u8bbf\u95ee\u7684\u65f6\u5019\u4ee5\u89c6\u56fe\u7684\u903b\u8f91\u7ed3\u679c\u4e3a\u51c6\u3002</p> <ul> <li>\u5728\u201c\u53ef\u91cd\u590d\u8bfb\u201d\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u8fd9\u4e2a\u89c6\u56fe\u662f\u5728\u4e8b\u52a1\u542f\u52a8\u65f6\u521b\u5efa\u7684\uff0c\u6574\u4e2a\u4e8b\u52a1\u5b58\u5728\u671f\u95f4\u90fd\u7528\u8fd9\u4e2a\u89c6\u56fe\u3002</li> <li>\u5728\u201c\u8bfb\u63d0\u4ea4\u201d\u9694 \u79bb\u7ea7\u522b\u4e0b\uff0c\u8fd9\u4e2a\u89c6\u56fe\u662f\u5728\u6bcf\u4e2a SQL \u8bed\u53e5\u5f00\u59cb\u6267\u884c\u7684\u65f6\u5019\u521b\u5efa\u7684\u3002</li> <li>\u5728\u201c\u8bfb\u672a\u63d0\u4ea4\u201d\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u76f4\u63a5\u8fd4\u56de\u8bb0\u5f55\u4e0a\u7684\u6700\u65b0\u503c\uff0c\u6ca1\u6709\u89c6\u56fe\u6982\u5ff5\u3002</li> <li>\u5728\u201c\u4e32\u884c\u5316\u201d\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u76f4\u63a5\u7528\u52a0\u9501 \u7684\u65b9\u5f0f\u6765\u907f\u514d\u5e76\u884c\u8bbf\u95ee\u3002</li> </ul> <p>\u90a3\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u201c\u53ef\u91cd\u590d\u8bfb\u201d\u7684\u573a\u666f\u5462</p> <p>\u5047\u8bbe\u4f60\u5728\u7ba1\u7406\u4e00\u4e2a\u4e2a\u4eba\u94f6\u884c\u8d26\u6237\u8868\u3002\u4e00\u4e2a\u8868\u5b58\u4e86\u6bcf\u4e2a\u6708\u6708\u5e95\u7684\u4f59\u989d\uff0c\u4e00\u4e2a\u8868\u5b58\u4e86\u8d26\u5355\u660e\u7ec6\u3002\u8fd9\u65f6\u5019\u4f60\u8981\u505a\u6570\u636e\u6821\u5bf9\uff0c\u4e5f\u5c31\u662f\u5224\u65ad\u4e0a\u4e2a\u6708\u7684\u4f59\u989d\u548c\u5f53\u524d\u4f59\u989d\u7684\u5dee\u989d\uff0c\u662f\u5426\u4e0e\u672c\u6708\u7684\u8d26\u5355\u660e\u7ec6\u4e00\u81f4\u3002 \u4f60\u4e00\u5b9a\u5e0c\u671b\u5728\u6821\u5bf9\u8fc7\u7a0b\u4e2d\uff0c\u5373\u4f7f\u6709\u7528\u6237\u53d1\u751f\u4e86\u4e00\u7b14\u65b0\u7684\u4ea4\u6613\uff0c\u4e5f\u4e0d\u5f71\u54cd\u4f60\u7684\u6821\u5bf9\u7ed3\u679c\u3002</p> <p>\u8fd9\u65f6\u5019\u4f7f\u7528\u201c\u53ef\u91cd\u590d\u8bfb\u201d\u9694\u79bb\u7ea7\u522b\u5c31\u5f88\u65b9\u4fbf\u3002\u4e8b\u52a1\u542f\u52a8\u65f6\u7684\u89c6\u56fe\u53ef\u4ee5\u8ba4\u4e3a\u662f\u9759\u6001\u7684\uff0c\u4e0d\u53d7\u5176\u4ed6\u4e8b\u52a1\u66f4\u65b0\u7684\u5f71\u54cd\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_8","title":"\u4e8b\u52a1\u9694\u79bb\u7684\u5b9e\u73b0","text":"<p>\u8fd9\u91cc\u6211\u4eec\u5c55\u5f00\u8bf4\u660e\u201c\u53ef\u91cd\u590d \u8bfb\u201d\u3002</p> <p>undo log:  \u56de\u6eda\u65e5\u5fd7</p> <p>\u8bb0\u5f55\u4e0a\u7684\u6700\u65b0\u503c\uff0c\u901a\u8fc7\u56de\u6eda\u64cd\u4f5c\uff0c\u90fd\u53ef\u4ee5\u5f97\u5230\u524d\u4e00\u4e2a\u72b6\u6001\u7684\u503c\u3002</p> <p>MySQL \u4e2d\uff0c\u5b9e\u9645\u4e0a\u6bcf\u6761\u8bb0\u5f55\u5728\u66f4\u65b0\u7684\u65f6\u5019\u90fd\u4f1a\u540c\u65f6\u8bb0\u5f55\u4e00\u6761\u56de\u6eda\u64cd\u4f5c</p> <p></p> <p>\u5f53\u524d\u503c\u662f 4\uff0c\u4f46\u662f\u5728\u67e5\u8be2\u8fd9\u6761\u8bb0\u5f55\u7684\u65f6\u5019\uff0c\u4e0d\u540c\u65f6\u523b\u542f\u52a8\u7684\u4e8b\u52a1\u4f1a\u6709\u4e0d\u540c\u7684 read-view\u3002\u5982\u56fe\u4e2d \u770b\u5230\u7684\uff0c\u5728\u89c6\u56fe A\u3001B\u3001C \u91cc\u9762\uff0c\u8fd9\u4e00\u4e2a\u8bb0\u5f55\u7684\u503c\u5206\u522b\u662f 1\u30012\u30014\uff0c\u540c\u4e00\u6761\u8bb0\u5f55\u5728\u7cfb\u7edf\u4e2d\u53ef\u4ee5\u5b58 \u5728\u591a\u4e2a\u7248\u672c\uff0c\u5c31\u662f\u6570\u636e\u5e93\u7684\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff08MVCC\uff09\u3002\u5bf9\u4e8e read-view A\uff0c\u8981\u5f97\u5230 1\uff0c\u5c31\u5fc5\u987b \u5c06\u5f53\u524d\u503c\u4f9d\u6b21\u6267\u884c\u56fe\u4e2d\u6240\u6709\u7684\u56de\u6eda\u64cd\u4f5c\u5f97\u5230\u3002</p> <p>\u5f53\u6ca1\u6709\u4e8b\u52a1\u518d\u9700\u8981\u7528\u5230\u8fd9\u4e9b\u56de\u6eda\u65e5\u5fd7\u65f6\uff0c\u56de\u6eda\u65e5\u5fd7\u4f1a\u88ab\u5220\u9664\u3002</p> <p>\u8ba8\u8bba\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u5efa\u8bae\u4f60\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528\u957f\u4e8b\u52a1</p> <p>\u957f\u4e8b\u52a1\u610f\u5473\u7740\u7cfb\u7edf\u91cc\u9762\u4f1a\u5b58\u5728\u5f88\u8001\u7684\u4e8b\u52a1\u89c6\u56fe</p> <p>\u663e\u5f0f\u542f\u52a8\u4e8b\u52a1\u8bed\u53e5\uff0c begin \u6216 start transaction\u3002\u914d\u5957\u7684\u63d0\u4ea4\u8bed\u53e5\u662f commit\uff0c\u56de\u6eda\u8bed\u53e5\u662f rollback\u3002</p> <p>set autocommit=0 \u4f1a\u5c06\u8fd9\u4e2a\u7ebf\u7a0b\u7684\u81ea\u52a8\u63d0\u4ea4\u5173\u6389 \u8fd9\u4e2a\u4e8b\u52a1\u6301\u7eed\u5b58\u5728\u76f4\u5230\u4f60\u4e3b\u52a8\u6267\u884c commit \u6216 rollback \u8bed\u53e5\uff0c\u6216\u8005\u65ad\u5f00\u8fde\u63a5\u3002 \u6709\u4e9b\u5ba2\u6237\u7aef\u8fde\u63a5\u6846\u67b6\u4f1a\u9ed8\u8ba4\u8fde\u63a5\u6210\u529f\u540e\u5148\u6267\u884c\u4e00\u4e2a set autocommit=0 \u7684\u547d\u4ee4\u3002\u8fd9\u5c31\u5bfc\u81f4\u63a5\u4e0b \u6765\u7684\u67e5\u8be2\u90fd\u5728\u4e8b\u52a1\u4e2d\uff0c\u5982\u679c\u662f\u957f\u8fde\u63a5\uff0c\u5c31\u5bfc\u81f4\u4e86\u610f\u5916\u7684\u957f\u4e8b\u52a1\u3002</p> <p>\u5efa\u8bae\u4f60\u603b\u662f\u4f7f\u7528 set autocommit=1 \u901a\u8fc7\u663e\u5f0f\u8bed\u53e5\u7684\u65b9\u5f0f\u6765\u542f\u52a8\u4e8b\u52a1\u3002</p> <p>\u5982\u679c\u6267\u884c commit work and chain\uff0c\u5219\u662f\u63d0\u4ea4\u4e8b\u52a1\u5e76\u81ea\u52a8\u542f\u52a8\u4e0b\u4e00\u4e2a\u4e8b\u52a1\uff0c\u8fd9\u6837\u4e5f\u7701\u53bb\u4e86\u518d\u6b21 \u6267\u884c begin \u8bed\u53e5\u7684\u5f00\u9500\u3002</p> <p>\u53ef\u4ee5\u5728 information_schema \u5e93\u7684 innodb_trx \u8fd9\u4e2a\u8868\u4e2d\u67e5\u8be2\u957f\u4e8b\u52a1</p> <pre><code>select * from information_schema.innodb_trx where TIME_TO_SEC(timediff(now(),trx_started))&lt;60\n</code></pre>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_9","title":"\u5c0f\u7ed3","text":"<p>MySQL \u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u7684\u73b0\u8c61\u548c\u5b9e\u73b0\uff0c\u6839\u636e\u5b9e\u73b0\u539f\u7406\u5206\u6790\u4e86\u957f\u4e8b\u52a1\u5b58\u5728\u7684\u98ce\u9669\uff0c\u4ee5\u53ca\u5982\u4f55\u7528\u6b63\u786e\u7684\u65b9\u5f0f\u907f\u514d\u957f\u4e8b\u52a1\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#04","title":"04 | \u6df1\u5165\u6d45\u51fa\u7d22\u5f15\uff08\u4e0a\uff09","text":"<p>\u7d22\u5f15\u4e3a\u4e86\u63d0\u9ad8\u6570\u636e\u67e5\u8be2\u7684\u6548\u7387\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_10","title":"\u7d22\u5f15\u7684\u5e38\u89c1\u6a21\u578b","text":"<p>\u4ecb\u7ecd\u4e09\u79cd\u5e38\u89c1\u3001\u4e5f\u6bd4\u8f83\u7b80\u5355\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u4eec\u5206\u522b\u662f\u54c8\u5e0c\u8868\u3001\u6709\u5e8f\u6570\u7ec4\u548c\u641c\u7d22\u6811\u3002</p> <ul> <li>\u54c8\u5e0c\u8868\u8fd9\u79cd\u7ed3\u6784\u9002\u7528\u4e8e\u7b49\u503c\u67e5\u8be2\u7684\u573a\u666f</li> <li>\u6709\u5e8f\u6570\u7ec4\u7d22\u5f15\u9002\u7528\u4e8e\u9759\u6001\u5b58\u50a8\u5f15\u64ce</li> <li>\u4e8c\u53c9\u641c\u7d22\u6811 \u66f4\u65b0\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e5f\u662f O(log(N)) \uff0c\u5b9e\u9645\u4e0a\u5927\u591a\u6570\u7684\u6570\u636e\u5e93\u5b58\u50a8\u5374\u5e76\u4e0d\u4f7f\u7528\u4e8c\u53c9\u6811\u3002\u5176\u539f\u56e0\u662f\uff0c\u7d22\u5f15\u4e0d\u6b62\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u8fd8\u8981\u5199\u5230\u78c1\u76d8\u4e0a\u3002 \u4e3a\u4e86\u8ba9\u4e00\u4e2a\u67e5\u8be2\u5c3d\u91cf\u5c11\u5730\u8bfb\u78c1\u76d8\uff0c\u5c31\u5fc5\u987b\u8ba9\u67e5\u8be2\u8fc7\u7a0b\u8bbf\u95ee\u5c3d\u91cf\u5c11\u7684\u6570\u636e\u5757\u3002\u90a3\u4e48\uff0c\u6211\u4eec\u5c31\u4e0d\u5e94\u8be5\u4f7f\u7528\u4e8c\u53c9\u6811\uff0c\u800c\u662f\u8981\u4f7f\u7528\u201cN \u53c9\u201d\u6811\u3002N\u53c9\u6811\u7531\u4e8e\u5728\u8bfb\u5199\u4e0a\u7684\u6027\u80fd\u4f18\u70b9\uff0c\u4ee5\u53ca\u9002\u914d\u78c1\u76d8\u7684\u8bbf\u95ee\u6a21\u5f0f\uff0c\u5df2\u7ecf\u88ab\u5e7f\u6cdb\u5e94\u7528\u5728\u6570\u636e\u5e93\u5f15\u64ce\u4e2d \u4e86\u3002</li> </ul>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#innodb","title":"InnoDB \u7684\u7d22\u5f15\u6a21\u578b","text":"<p>\u4ece\u56fe\u4e2d\u4e0d\u96be\u770b\u51fa\uff0c\u6839\u636e\u53f6\u5b50\u8282\u70b9\u7684\u5185\u5bb9\uff0c\u7d22\u5f15\u7c7b\u578b\u5206\u4e3a\u4e3b\u952e\u7d22\u5f15\u548c\u975e\u4e3b\u952e\u7d22\u5f15\u3002</p> <p>\u4e3b\u952e\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5b58\u7684\u662f\u6574\u884c\u6570\u636e\u3002\u5728 InnoDB \u91cc\uff0c\u4e3b\u952e\u7d22\u5f15\u4e5f\u88ab\u79f0\u4e3a\u805a\u7c07\u7d22\u5f15\uff08clustered index\uff09\u3002</p> <p>\u5728 InnoDB \u91cc\uff0c\u975e\u4e3b\u952e\u7d22\u5f15\u4e5f\u88ab\u79f0\u4e3a\u4e8c\u7ea7\u7d22\u5f15 \uff08secondary index\uff09\u3002</p> <p>\u975e\u4e3b\u952e\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5185\u5bb9\u662f\u4e3b\u952e\u7684\u503c</p> <p>\u57fa\u4e8e\u4e3b\u952e\u7d22\u5f15\u548c\u666e\u901a\u7d22\u5f15\u7684\u67e5\u8be2\u6709\u4ec0\u4e48\u533a\u522b\uff1f</p> <p>\u4e3b\u952e\u67e5\u8be2\u65b9\u5f0f\uff0c\u5219\u53ea\u9700\u8981\u641c\u7d22 ID \u8fd9\u68f5 B+ \u6811\uff1b</p> <p>\u666e\u901a\u7d22\u5f15\u67e5\u8be2\u65b9\u5f0f\uff0c\u5219\u9700\u8981\u5148\u641c\u7d22 k \u7d22\u5f15\u6811\uff0c \u5f97\u5230 ID \u7684\u503c\u4e3a 500\uff0c\u518d\u5230 ID \u7d22\u5f15\u6811\u641c\u7d22\u4e00\u6b21</p> <p>\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3a\u56de\u8868\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u57fa\u4e8e\u975e\u4e3b\u952e\u7d22\u5f15\u7684\u67e5\u8be2\u9700\u8981\u591a\u626b\u63cf\u4e00\u68f5\u7d22\u5f15\u6811\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5728\u5e94\u7528\u4e2d\u5e94\u8be5\u5c3d\u91cf\u4f7f\u7528\u4e3b\u952e\u67e5\u8be2\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_11","title":"\u7d22\u5f15\u7ef4\u62a4","text":"<p>\u5982\u679c\u65b0\u63d2\u5165\u7684 ID \u503c\u4e3a 400\uff0c\u5c31\u76f8\u5bf9\u9ebb\u70e6\u4e86\uff0c\u9700\u8981\u903b\u8f91\u4e0a\u632a\u52a8\u540e\u9762\u7684\u6570\u636e\uff0c\u7a7a\u51fa\u4f4d\u7f6e\u3002\u800c\u66f4\u7cdf\u7684\u60c5\u51b5\u662f\uff0c\u5982\u679c R5 \u6240\u5728\u7684\u6570\u636e\u9875\u5df2\u7ecf\u6ee1\u4e86\uff0c\u6839\u636e B+ \u6811\u7684\u7b97\u6cd5\uff0c\u8fd9\u65f6\u5019\u9700\u8981\u7533\u8bf7\u4e00\u4e2a\u65b0 \u7684\u6570\u636e\u9875\uff0c\u7136\u540e\u632a\u52a8\u90e8\u5206\u6570\u636e\u8fc7\u53bb.\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3a\u9875\u5206\u88c2</p> <p>\u5f53\u76f8\u90bb\u4e24\u4e2a\u9875\u7531\u4e8e\u5220\u9664\u4e86\u6570\u636e\uff0c\u5229\u7528\u7387\u5f88\u4f4e\u4e4b\u540e\uff0c\u4f1a\u5c06\u6570\u636e\u9875\u505a\u5408\u5e76</p> <p>\u81ea\u589e\u4e3b\u952e\u7684\u63d2\u5165\u6570\u636e\u6a21\u5f0f\uff0c\u6b63\u7b26\u5408\u4e86\u6211\u4eec\u524d\u9762\u63d0\u5230\u7684\u9012\u589e\u63d2\u5165\u7684\u573a\u666f\u3002\u6bcf\u6b21\u63d2\u5165\u4e00\u6761 \u65b0\u8bb0\u5f55\uff0c\u90fd\u662f\u8ffd\u52a0\u64cd\u4f5c\uff0c\u90fd\u4e0d\u6d89\u53ca\u5230\u632a\u52a8\u5176\u4ed6\u8bb0\u5f55\uff0c\u4e5f\u4e0d\u4f1a\u89e6\u53d1\u53f6\u5b50\u8282\u70b9\u7684\u5206\u88c2</p> <p>\u6709\u4e1a\u52a1\u903b\u8f91\u7684\u5b57\u6bb5\u505a\u4e3b\u952e\uff0c\u5219\u5f80\u5f80\u4e0d\u5bb9\u6613\u4fdd\u8bc1\u6709\u5e8f\u63d2\u5165</p> <p>\u4e3b\u952e\u957f\u5ea6\u8d8a\u5c0f\uff0c\u666e\u901a\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u5c31\u8d8a\u5c0f\uff0c\u666e\u901a\u7d22\u5f15\u5360\u7528\u7684\u7a7a\u95f4\u4e5f\u5c31\u8d8a\u5c0f</p> <p>\u4ece\u6027\u80fd\u548c\u5b58\u50a8\u7a7a\u95f4\u65b9\u9762\u8003\u91cf\uff0c\u81ea\u589e\u4e3b\u952e\u5f80\u5f80\u662f\u66f4\u5408\u7406\u7684\u9009\u62e9</p> <p>\u6709\u6ca1\u6709\u4ec0\u4e48\u573a\u666f\u9002\u5408\u7528\u4e1a\u52a1\u5b57\u6bb5\u76f4\u63a5\u505a\u4e3b\u952e\u7684\u5462\uff1f\u8fd8\u662f\u6709\u7684\u3002\u6bd4\u5982\uff0c\u6709\u4e9b\u4e1a\u52a1\u7684\u573a\u666f\u9700\u6c42\u662f\u8fd9\u6837 \u7684\uff1a </p> <ol> <li>\u53ea\u6709\u4e00\u4e2a\u7d22\u5f15\uff1b </li> <li>\u8be5\u7d22\u5f15\u5fc5\u987b\u662f\u552f\u4e00\u7d22\u5f15\u3002</li> </ol> <p>\u8fd9\u5c31\u662f\u5178\u578b\u7684 KV \u573a\u666f\u3002</p> <p>\u8fd9\u65f6\u5019\u6211\u4eec\u5c31\u8981\u4f18\u5148\u8003\u8651\u4e0a\u4e00\u6bb5\u63d0\u5230\u7684\u201c\u5c3d\u91cf\u4f7f\u7528\u4e3b\u952e\u67e5\u8be2\u201d\u539f\u5219\uff0c\u76f4\u63a5\u5c06\u8fd9\u4e2a\u7d22\u5f15\u8bbe\u7f6e\u4e3a\u4e3b\u952e\uff0c\u53ef\u4ee5\u907f\u514d\u6bcf\u6b21\u67e5\u8be2\u9700\u8981\u641c\u7d22\u4e24\u68f5\u6811\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_12","title":"\u5c0f\u7ed3","text":"<p>\u4ecb\u7ecd\u4e86 InnoDB \u91c7\u7528\u7684 B+ \u6811\u7ed3\u6784\uff0c\u4ee5\u53ca\u4e3a\u4ec0\u4e48 InnoDB \u8981\u8fd9\u4e48\u9009\u62e9\u3002B+ \u6811\u80fd\u591f\u5f88\u597d\u5730\u914d\u5408\u78c1\u76d8\u7684\u8bfb\u5199\u7279\u6027\uff0c\u51cf\u5c11\u5355\u6b21\u67e5\u8be2\u7684\u78c1\u76d8\u8bbf\u95ee\u6b21\u6570\u3002 </p> <p>\u7531\u4e8e InnoDB \u662f\u7d22\u5f15\u7ec4\u7ec7\u8868\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u5efa\u8bae\u521b\u5efa\u4e00\u4e2a\u81ea\u589e\u4e3b\u952e\uff0c\u8fd9\u6837\u975e\u4e3b\u952e\u7d22\u5f15\u5360\u7528\u7684\u7a7a\u95f4\u6700\u5c0f\u3002\u4f46\u4e8b\u65e0\u7edd\u5bf9\uff0c\u4e5f\u5206\u6790\u4e86\u4f7f\u7528\u4e1a\u52a1\u903b\u8f91\u5b57\u6bb5\u505a\u4e3b\u952e\u7684\u5e94\u7528\u573a\u666f\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#05","title":"05 | \u6df1\u5165\u6d45\u51fa\u7d22\u5f15\uff08\u4e0b\uff09","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#_13","title":"\u8986\u76d6\u7d22\u5f15","text":"<p>\u5982\u679c\u6267\u884c\u7684\u8bed\u53e5\u662f select ID from T where k between 3 and 5\uff0c\u8fd9\u65f6\u53ea\u9700\u8981\u67e5 ID \u7684\u503c\uff0c\u800c ID \u7684\u503c\u5df2\u7ecf\u5728 k \u7d22\u5f15\u6811\u4e0a\u4e86\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u63d0\u4f9b\u67e5\u8be2\u7ed3\u679c\uff0c\u4e0d\u9700\u8981\u56de\u8868\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u8fd9\u4e2a\u67e5\u8be2\u91cc\u9762\uff0c\u7d22\u5f15 k \u5df2\u7ecf\u201c\u8986\u76d6\u4e86\u201d\u6211\u4eec\u7684\u67e5\u8be2\u9700\u6c42\uff0c\u6211\u4eec\u79f0\u4e3a\u8986\u76d6\u7d22\u5f15\u3002</p> <p>\u7531\u4e8e\u8986\u76d6\u7d22\u5f15\u53ef\u4ee5\u51cf\u5c11\u6811\u7684\u641c\u7d22\u6b21\u6570\uff0c\u663e\u8457\u63d0\u5347\u67e5\u8be2\u6027\u80fd\uff0c\u6240\u4ee5\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\u662f\u4e00\u4e2a\u5e38\u7528\u7684\u6027\u80fd \u4f18\u5316\u624b\u6bb5\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_14","title":"\u6700\u5de6\u524d\u7f00\u539f\u5219","text":"<p>B+ \u6811\u8fd9\u79cd\u7d22\u5f15\u7ed3\u6784\uff0c\u53ef\u4ee5\u5229\u7528\u7d22\u5f15\u7684\u201c\u6700\u5de6\u524d\u7f00\u201d\uff0c\u6765\u5b9a\u4f4d\u8bb0\u5f55\u3002</p> <p>\u7528\uff08name\uff0cage\uff09\u8fd9\u4e2a\u8054\u5408\u7d22\u5f15\u6765\u5206\u6790</p> <p>\u5982\u679c\u4f60\u8981\u67e5\u7684\u662f\u6240\u6709\u540d\u5b57\u7b2c\u4e00\u4e2a\u5b57\u662f\u201c\u5f20\u201d\u7684\u4eba\uff0c\u4f60\u4e5f\u80fd\u591f\u7528\u4e0a\u8fd9\u4e2a\u7d22\u5f15</p> <p>\u4e0d\u53ea\u662f\u7d22\u5f15\u7684\u5168\u90e8\u5b9a\u4e49\uff0c\u53ea\u8981\u6ee1\u8db3\u6700\u5de6\u524d\u7f00\uff0c\u5c31\u53ef\u4ee5\u5229\u7528\u7d22\u5f15\u6765\u52a0\u901f\u68c0\u7d22</p> <p>\u6700\u5de6\u524d\u7f00\u53ef\u4ee5\u662f\u8054\u5408\u7d22\u5f15\u7684\u6700\u5de6 N \u4e2a\u5b57\u6bb5\uff0c\u4e5f\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u7d22\u5f15\u7684\u6700\u5de6 M \u4e2a\u5b57\u7b26\u3002</p> <p>\u5728\u5efa\u7acb\u8054\u5408\u7d22\u5f15\u7684\u65f6\u5019\uff0c\u5982\u4f55\u5b89\u6392\u7d22\u5f15\u5185\u7684\u5b57\u6bb5\u987a\u5e8f\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u7684\u8bc4\u4f30\u6807\u51c6\u662f\uff0c\u7d22\u5f15\u7684\u590d\u7528\u80fd\u529b\u3002\u7b2c\u4e00\u539f\u5219\u662f\uff0c\u5982\u679c\u901a\u8fc7\u8c03\u6574\u987a\u5e8f\uff0c \u53ef\u4ee5\u5c11\u7ef4\u62a4\u4e00\u4e2a\u7d22\u5f15\uff0c\u90a3\u4e48\u8fd9\u4e2a\u987a\u5e8f\u5f80\u5f80\u5c31\u662f\u9700\u8981\u4f18\u5148\u8003\u8651\u91c7\u7528\u7684\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_15","title":"\u7d22\u5f15\u4e0b\u63a8","text":"<pre><code>select * from tuser where name like \"\u5f20 %\" and age=10 and ismale=1;\n</code></pre> <p>MySQL 5.6 \u5f15\u5165\u7684\u7d22\u5f15\u4e0b\u63a8\u4f18\u5316\uff08index condition pushdown)\uff0c \u53ef\u4ee5\u5728\u7d22\u5f15\u904d\u5386\u8fc7\u7a0b \u4e2d\uff0c\u5bf9\u7d22\u5f15\u4e2d\u5305\u542b\u7684\u5b57\u6bb5\u5148\u505a\u5224\u65ad\uff0c\u76f4\u63a5\u8fc7\u6ee4\u6389\u4e0d\u6ee1\u8db3\u6761\u4ef6\u7684\u8bb0\u5f55\uff0c\u51cf\u5c11\u56de\u8868\u6b21\u6570\u3002</p> <p></p> <p></p> <p>\u5728\u56fe 3 \u548c 4 \u8fd9\u4e24\u4e2a\u56fe\u91cc\u9762\uff0c\u6bcf\u4e00\u4e2a\u865a\u7ebf\u7bad\u5934\u8868\u793a\u56de\u8868\u4e00\u6b21\u3002</p> <p>\u56fe 3 \u4e2d\uff0c\u5728 (name,age) \u7d22\u5f15\u91cc\u9762\u6211\u7279\u610f\u53bb\u6389\u4e86 age \u7684\u503c\uff0c\u8fd9\u4e2a\u8fc7\u7a0b InnoDB \u5e76\u4e0d\u4f1a\u53bb\u770b age \u7684\u503c\uff0c\u53ea\u662f\u6309\u987a\u5e8f\u628a\u201cname \u7b2c\u4e00\u4e2a\u5b57\u662f\u2019\u5f20\u2019\u201d\u7684\u8bb0\u5f55\u4e00\u6761\u6761\u53d6\u51fa\u6765\u56de\u8868\u3002\u56e0\u6b64\uff0c\u9700\u8981\u56de\u8868 4 \u6b21\u3002</p> <p>\u56fe 4 \u8ddf\u56fe 3 \u7684\u533a\u522b\u662f\uff0cInnoDB \u5728 (name,age) \u7d22\u5f15\u5185\u90e8\u5c31\u5224\u65ad\u4e86 age \u662f\u5426\u7b49\u4e8e 10\uff0c\u5bf9\u4e8e\u4e0d\u7b49 \u4e8e 10 \u7684\u8bb0\u5f55\uff0c\u76f4\u63a5\u5224\u65ad\u5e76\u8df3\u8fc7\u3002\u5728\u6211\u4eec\u7684\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u53ea\u9700\u8981\u5bf9 ID4\u3001ID5 \u8fd9\u4e24\u6761\u8bb0\u5f55\u56de\u8868\u53d6 \u6570\u636e\u5224\u65ad\uff0c\u5c31\u53ea\u9700\u8981\u56de\u8868 2 \u6b21\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_16","title":"\u5c0f\u7ed3","text":"<p>\u8bb2\u89e3\u4e86\u6570\u636e\u5e93\u7d22\u5f15\u7684\u6982\u5ff5\uff0c\u5305\u62ec\u4e86\u8986\u76d6\u7d22\u5f15\u3001\u524d\u7f00\u7d22\u5f15\u3001\u7d22\u5f15\u4e0b\u63a8\u3002 </p> <p>\u5728\u6ee1\u8db3\u8bed\u53e5\u9700\u6c42\u7684\u60c5\u51b5\u4e0b\uff0c \u5c3d\u91cf\u5c11\u5730\u8bbf\u95ee\u8d44\u6e90\u662f\u6570\u636e\u5e93\u8bbe\u8ba1\u7684\u91cd\u8981\u539f\u5219\u4e4b\u4e00\u3002</p> <p>\u5728\u4f7f\u7528\u6570\u636e\u5e93\u7684\u65f6\u5019\uff0c\u5c24\u5176\u662f\u5728\u8bbe\u8ba1\u8868\u7ed3\u6784\u65f6\uff0c\u4e5f\u8981\u4ee5\u51cf\u5c11\u8d44\u6e90\u6d88\u8017\u4f5c\u4e3a\u76ee\u6807\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#06","title":"06 | \u5168\u5c40\u9501\u548c\u8868\u9501 \uff1a\u7ed9\u8868\u52a0\u4e2a\u5b57\u6bb5\u600e\u4e48\u6709\u8fd9\u4e48\u591a\u963b\u788d\uff1f","text":"<p>\u6839\u636e\u52a0\u9501\u7684\u8303\u56f4\uff0cMySQL \u91cc\u9762\u7684\u9501\u5927\u81f4\u53ef\u4ee5\u5206\u6210\u5168\u5c40\u9501\u3001\u8868\u7ea7\u9501\u548c\u884c\u9501\u4e09\u7c7b\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_17","title":"\u5168\u5c40\u9501","text":"<p>\u5168\u5c40\u9501\u5c31\u662f\u5bf9\u6574\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\u52a0\u9501</p> <p>MySQL \u63d0\u4f9b\u4e86\u4e00\u4e2a\u52a0\u5168\u5c40\u8bfb\u9501\u7684\u65b9\u6cd5\uff0c\u547d\u4ee4\u662f Flush tables with read lock (FTWRL)</p> <p>\u4e4b\u540e\u5176\u4ed6\u7ebf\u7a0b\u7684\u4ee5\u4e0b\u8bed\u53e5\u4f1a\u88ab\u963b\u585e\uff1a\u6570\u636e\u66f4\u65b0\u8bed\u53e5\uff08\u6570\u636e\u7684\u589e\u5220\u6539\uff09\u3001\u6570\u636e\u5b9a\u4e49\u8bed\u53e5\uff08\u5305 \u62ec\u5efa\u8868\u3001\u4fee\u6539\u8868\u7ed3\u6784\u7b49\uff09\u548c\u66f4\u65b0\u7c7b\u4e8b\u52a1\u7684\u63d0\u4ea4\u8bed\u53e5\u3002</p> <p>\u5168\u5c40\u9501\u7684\u5178\u578b\u4f7f\u7528\u573a\u666f\u662f\uff0c\u505a\u5168\u5e93\u903b\u8f91\u5907\u4efd\u3002</p> <p>\u8ba9\u6574\u5e93\u90fd\u53ea\u8bfb\uff0c\u542c\u4e0a\u53bb\u5c31\u5f88\u5371\u9669\uff1a \u5982\u679c\u4f60\u5728\u4e3b\u5e93\u4e0a\u5907\u4efd\uff0c\u90a3\u4e48\u5728\u5907\u4efd\u671f\u95f4\u90fd\u4e0d\u80fd\u6267\u884c\u66f4\u65b0\uff0c\u4e1a\u52a1\u57fa\u672c\u4e0a\u5c31\u5f97\u505c\u6446\uff1b \u5982\u679c\u4f60\u5728\u4ece\u5e93\u4e0a\u5907\u4efd\uff0c\u90a3\u4e48\u5907\u4efd\u671f\u95f4\u4ece\u5e93\u4e0d\u80fd\u6267\u884c\u4e3b\u5e93\u540c\u6b65\u8fc7\u6765\u7684 binlog\uff0c\u4f1a\u5bfc\u81f4\u4e3b\u4ece\u5ef6\u8fdf\u3002</p> <p>\u4e0d\u52a0\u9501\u7684\u8bdd\uff0c\u5907\u4efd\u7cfb\u7edf\u5907\u4efd\u7684\u5f97\u5230\u7684\u5e93\u4e0d\u662f\u4e00\u4e2a\u903b\u8f91\u65f6\u95f4\u70b9\uff0c\u8fd9\u4e2a\u89c6\u56fe\u662f\u903b\u8f91\u4e0d\u4e00\u81f4 \u7684\u3002</p> <p>\u5b98\u65b9\u81ea\u5e26\u7684\u903b\u8f91\u5907\u4efd\u5de5\u5177\u662f mysqldump\u3002\u5f53 mysqldump \u4f7f\u7528\u53c2\u6570\u2013single-transaction \u7684\u65f6 \u5019\uff0c\u5bfc\u6570\u636e\u4e4b\u524d\u5c31\u4f1a\u542f\u52a8\u4e00\u4e2a\u4e8b\u52a1\uff0c\u6765\u786e\u4fdd\u62ff\u5230\u4e00\u81f4\u6027\u89c6\u56fe\u3002\u800c\u7531\u4e8e MVCC \u7684\u652f\u6301\uff0c\u8fd9\u4e2a\u8fc7\u7a0b \u4e2d\u6570\u636e\u662f\u53ef\u4ee5\u6b63\u5e38\u66f4\u65b0\u7684\u3002</p> <p>\u5bf9\u4e8e MyISAM \u8fd9\u79cd\u4e0d\u652f\u6301\u4e8b\u52a1\u7684\u5f15\u64ce \u5c31\u9700\u8981\u4f7f\u7528 FTWRL \u547d\u4ee4</p> <p>single-transaction \u65b9\u6cd5\u53ea\u9002\u7528\u4e8e\u6240\u6709\u7684\u8868\u4f7f\u7528\u4e8b\u52a1\u5f15\u64ce\u7684\u5e93\u3002\u5982\u679c\u6709\u7684\u8868\u4f7f\u7528\u4e86\u4e0d\u652f \u6301\u4e8b\u52a1\u7684\u5f15\u64ce\uff0c\u90a3\u4e48\u5907\u4efd\u5c31\u53ea\u80fd\u901a\u8fc7 FTWRL \u65b9\u6cd5\u3002\u8fd9\u5f80\u5f80\u662f DBA \u8981\u6c42\u4e1a\u52a1\u5f00\u53d1\u4eba\u5458\u4f7f\u7528 InnoDB \u66ff\u4ee3 MyISAM \u7684\u539f\u56e0\u4e4b\u4e00\u3002</p> <p>\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528 set global readonly=true \u7684\u65b9\u5f0f\u5462</p> <p>\u4e00\u662f\uff0c\u5728\u6709\u4e9b\u7cfb\u7edf\u4e2d\uff0creadonly \u7684\u503c\u4f1a\u88ab\u7528\u6765\u505a\u5176\u4ed6\u903b\u8f91\uff0c\u6bd4\u5982\u7528\u6765\u5224\u65ad\u4e00\u4e2a\u5e93\u662f\u4e3b\u5e93\u8fd8\u662f\u5907\u5e93\u3002</p> <p>\u4e8c\u662f\uff0c\u5728\u5f02\u5e38\u5904\u7406\u673a\u5236\u4e0a\u6709\u5dee\u5f02\u3002\u5982\u679c\u6267\u884c FTWRL \u547d\u4ee4\u4e4b\u540e\u7531\u4e8e\u5ba2\u6237\u7aef\u53d1\u751f\u5f02\u5e38\u65ad\u5f00\uff0c\u90a3 \u90a3\u4e48 MySQL \u4f1a\u81ea\u52a8\u91ca\u653e\u8fd9\u4e2a\u5168\u5c40\u9501\uff0c\u6574\u4e2a\u5e93\u56de\u5230\u53ef\u4ee5\u6b63\u5e38\u66f4\u65b0\u7684\u72b6\u6001\u3002\u800c\u5c06\u6574\u4e2a\u5e93\u8bbe\u7f6e\u4e3a readonly \u4e4b\u540e\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u53d1\u751f\u5f02\u5e38\uff0c\u5219\u6570\u636e\u5e93\u5c31\u4f1a\u4e00\u76f4\u4fdd\u6301 readonly \u72b6\u6001\uff0c\u98ce\u9669\u8f83\u9ad8\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_18","title":"\u8868\u7ea7\u9501","text":"<p>MySQL \u91cc\u9762\u8868\u7ea7\u522b\u7684\u9501\u6709\u4e24\u79cd\uff1a\u4e00\u79cd\u662f\u8868\u9501\uff0c\u4e00\u79cd\u662f\u5143\u6570\u636e\u9501\uff08meta data lock\uff0cMDL)\u3002</p> <p>\u8868\u9501\u7684\u8bed\u6cd5\u662f lock tables \u2026 read/write</p> <p>\u4e0e FTWRL \u7c7b\u4f3c\uff0c\u53ef\u4ee5\u7528 unlock tables \u4e3b\u52a8\u91ca\u653e \u9501\uff0c\u4e5f\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u65ad\u5f00\u7684\u65f6\u5019\u81ea\u52a8\u91ca\u653e\u3002</p> <p>\u9700\u8981\u6ce8\u610f\uff0clock tables \u8bed\u6cd5\u9664\u4e86\u4f1a\u9650\u5236\u522b\u7684\u7ebf\u7a0b\u7684 \u8bfb\u5199\u5916\uff0c\u4e5f\u9650\u5b9a\u4e86\u672c\u7ebf\u7a0b\u63a5\u4e0b\u6765\u7684\u64cd\u4f5c\u5bf9\u8c61\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50, \u5982\u679c\u5728\u67d0\u4e2a\u7ebf\u7a0b A \u4e2d\u6267\u884c lock tables t1 read, t2 write; \u8fd9\u4e2a\u8bed\u53e5\uff0c\u5219\u5176\u4ed6\u7ebf\u7a0b\u5199 t1\u3001\u8bfb\u5199 t2 \u7684\u8bed\u53e5\u90fd\u4f1a\u88ab\u963b\u585e\u3002\u540c\u65f6\uff0c\u7ebf\u7a0b A \u5728\u6267\u884c unlock tables \u4e4b\u524d\uff0c\u4e5f\u53ea\u80fd\u6267\u884c\u8bfb t1\u3001 \u5199 t2 \u7684\u64cd\u4f5c\u3002\u8fde\u8bfb t2 \u90fd\u4e0d\u5141\u8bb8\uff0c\u81ea\u7136\u4e5f\u4e0d\u80fd\u8bbf\u95ee\u5176\u4ed6\u8868\u3002</p> <p>\u5bf9\u4e8e InnoDB \u8fd9\u79cd\u652f\u6301\u884c\u9501\u7684\u5f15\u64ce\uff0c\u4e00\u822c\u4e0d\u4f7f\u7528 lock tables \u547d\u4ee4\u6765\u63a7\u5236\u5e76\u53d1\uff0c\u6bd5\u7adf\u9501\u4f4f\u6574\u4e2a\u8868\u7684\u5f71\u54cd\u9762\u8fd8\u662f\u592a\u5927\u3002</p> <p>\u53e6\u4e00\u7c7b\u8868\u7ea7\u7684\u9501\u662f MDL\uff08metadata lock)</p> <p>MDL \u4e0d\u9700\u8981\u663e\u5f0f\u4f7f\u7528\uff0c\u5728\u8bbf\u95ee\u4e00\u4e2a\u8868\u7684\u65f6\u5019\u4f1a\u88ab\u81ea\u52a8\u52a0\u4e0a\u3002MDL \u7684\u4f5c\u7528\u662f\uff0c\u4fdd\u8bc1\u8bfb\u5199\u7684\u6b63\u786e\u6027\u3002\u4f60\u53ef\u4ee5\u60f3\u8c61\u4e00\u4e0b\uff0c\u5982\u679c\u4e00\u4e2a\u67e5\u8be2\u6b63\u5728\u904d\u5386\u4e00\u4e2a \u8868\u4e2d\u7684\u6570\u636e\uff0c\u800c\u6267\u884c\u671f\u95f4\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u5bf9\u8fd9\u4e2a\u8868\u7ed3\u6784\u505a\u53d8\u66f4\uff0c\u5220\u4e86\u4e00\u5217\uff0c\u90a3\u4e48\u67e5\u8be2\u7ebf\u7a0b\u62ff\u5230\u7684\u7ed3\u679c \u8ddf\u8868\u7ed3\u6784\u5bf9\u4e0d\u4e0a\uff0c\u80af\u5b9a\u662f\u4e0d\u884c\u7684\u3002</p> <p>\u5f53\u5bf9\u4e00\u4e2a\u8868\u505a\u589e\u5220\u6539\u67e5\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u52a0 MDL \u8bfb\u9501\uff1b\u5f53\u8981\u5bf9\u8868\u505a\u7ed3\u6784\u53d8\u66f4\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u52a0 MDL \u5199\u9501\u3002</p> <p>\u8bfb\u9501\u4e4b\u95f4\u4e0d\u4e92\u65a5\uff0c\u56e0\u6b64\u4f60\u53ef\u4ee5\u6709\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u5bf9\u4e00\u5f20\u8868\u589e\u5220\u6539\u67e5\u3002</p> <p>\u8bfb\u5199\u9501\u4e4b\u95f4\uff0c\u5199\u9501\u4e4b\u95f4\u662f\u4e92\u65a5\u7684\uff0c\u7528\u6765\u4fdd\u8bc1\u53d8\u66f4\u8868\u7ed3\u6784\u64cd\u4f5c\u7684\u5b89\u5168\u6027\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6709\u4e24\u4e2a\u7ebf\u7a0b\u8981\u540c\u65f6\u7ed9\u4e00\u4e2a\u8868\u52a0\u5b57\u6bb5\uff0c\u5176\u4e2d\u4e00\u4e2a\u8981\u7b49\u53e6\u4e00\u4e2a\u6267\u884c\u5b8c\u624d\u80fd\u5f00\u59cb\u6267\u884c\u3002</p> <p>\u4e8b\u52a1\u4e2d\u7684 MDL \u9501\uff0c\u5728\u8bed\u53e5\u6267\u884c\u5f00\u59cb\u65f6\u7533\u8bf7\uff0c\u4f46\u662f\u8bed\u53e5\u7ed3\u675f\u540e\u5e76\u4e0d\u4f1a\u9a6c\u4e0a\u91ca\u653e\uff0c\u800c\u4f1a\u7b49\u5230\u6574\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u540e\u518d\u91ca\u653e\u3002</p> <p>\u5982\u4f55\u5b89\u5168\u5730\u7ed9\u5c0f\u8868\u52a0\u5b57\u6bb5</p> <p>\u9996\u5148\u6211\u4eec\u8981\u89e3\u51b3\u957f\u4e8b\u52a1\uff0c\u4e8b\u52a1\u4e0d\u63d0\u4ea4\uff0c\u5c31\u4f1a\u4e00\u76f4\u5360\u7740 MDL \u9501</p> <p>\u5982\u679c\u4f60\u8981\u505a DDL \u53d8\u66f4\u7684\u8868\u521a\u597d\u6709\u957f\u4e8b\u52a1\u5728\u6267\u884c\uff0c\u8981\u8003\u8651\u5148\u6682\u505c DDL\uff0c\u6216\u8005 kill \u6389\u8fd9\u4e2a\u957f\u4e8b\u52a1\u3002</p> <p>\u6bd4\u8f83\u7406\u60f3\u7684\u673a\u5236\u662f\uff0c\u5728 alter table \u8bed\u53e5 \u91cc\u9762\u8bbe\u5b9a\u7b49\u5f85\u65f6\u95f4</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_19","title":"\u5c0f\u7ed3","text":"<p>\u4ecb\u7ecd\u4e86 MySQL \u7684\u5168\u5c40\u9501\u548c\u8868\u7ea7\u9501\u3002 \u5168\u5c40\u9501\u4e3b\u8981\u7528\u5728\u903b\u8f91\u5907\u4efd\u8fc7\u7a0b\u4e2d\u3002</p> <p>\u5bf9\u4e8e\u5168\u90e8\u662f InnoDB \u5f15\u64ce\u7684\u5e93\uff0c\u5efa\u8bae\u9009\u62e9\u4f7f\u7528\u2013singletransaction \u53c2\u6570\uff0c\u5bf9\u5e94\u7528\u4f1a\u66f4\u53cb\u597d\u3002 </p> <p>\u8868\u9501\u4e00\u822c\u662f\u5728\u6570\u636e\u5e93\u5f15\u64ce\u4e0d\u652f\u6301\u884c\u9501\u7684\u65f6\u5019\u624d\u4f1a\u88ab\u7528\u5230\u7684\u3002\u5982\u679c\u4f60\u53d1\u73b0\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u91cc\u6709 lock tables \u8fd9\u6837\u7684\u8bed\u53e5\uff0c\u4f60\u9700\u8981\u8ffd\u67e5\u4e00\u4e0b\uff0c\u6bd4\u8f83\u53ef\u80fd\u7684\u60c5\u51b5\u662f\uff1a</p> <p>\u8981\u4e48\u662f\u4f60\u7684\u7cfb\u7edf\u73b0\u5728\u8fd8\u5728\u7528 MyISAM \u8fd9\u7c7b\u4e0d\u652f\u6301\u4e8b\u52a1\u7684\u5f15\u64ce\uff0c\u90a3\u8981\u5b89\u6392\u5347\u7ea7\u6362\u5f15\u64ce\uff1b</p> <p>\u8981\u4e48\u662f\u4f60\u7684\u5f15\u64ce\u5347\u7ea7\u4e86\uff0c\u4f46\u662f\u4ee3\u7801\u8fd8\u6ca1\u5347\u7ea7\u3002\u6211\u89c1\u8fc7\u8fd9\u6837\u7684\u60c5\u51b5\uff0c\u6700\u540e\u4e1a\u52a1\u5f00\u53d1\u5c31\u662f\u628a lock tables \u548c unlock tables \u6539\u6210 begin \u548c commit\uff0c\u95ee\u9898\u5c31\u89e3\u51b3\u4e86\u3002 </p> <p>MDL \u4f1a\u76f4\u5230\u4e8b\u52a1\u63d0\u4ea4\u624d\u91ca\u653e\uff0c\u5728\u505a\u8868\u7ed3\u6784\u53d8\u66f4\u7684\u65f6\u5019\uff0c\u4f60\u4e00\u5b9a\u8981\u5c0f\u5fc3\u4e0d\u8981\u5bfc\u81f4\u9501\u4f4f\u7ebf\u4e0a\u67e5\u8be2\u548c \u66f4\u65b0\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#07","title":"07 | \u884c\u9501\u529f\u8fc7\uff1a\u600e\u4e48\u51cf\u5c11\u884c\u9501\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#_20","title":"\u4e24\u9636\u6bb5\u9501","text":"<p>\u5728 InnoDB \u4e8b\u52a1\u4e2d\uff0c\u884c\u9501\u662f\u5728\u9700\u8981\u7684\u65f6\u5019\u624d\u52a0\u4e0a\u7684\uff0c\u4f46\u5e76\u4e0d\u662f\u4e0d\u9700\u8981\u4e86\u5c31\u7acb\u523b\u91ca \u653e\uff0c\u800c\u662f\u8981\u7b49\u5230\u4e8b\u52a1\u7ed3\u675f\u65f6\u624d\u91ca\u653e\u3002\u8fd9\u4e2a\u5c31\u662f\u4e24\u9636\u6bb5\u9501\u534f\u8bae\u3002</p> <p></p> <p>\u5982\u679c\u4f60\u7684\u4e8b\u52a1\u4e2d\u9700\u8981\u9501\u591a\u4e2a\u884c\uff0c\u8981\u628a \u6700\u53ef\u80fd\u9020\u6210\u9501\u51b2\u7a81\u3001\u6700\u53ef\u80fd\u5f71\u54cd\u5e76\u53d1\u5ea6\u7684\u9501\u5c3d\u91cf\u5f80\u540e\u653e\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_21","title":"\u6b7b\u9501\u548c\u6b7b\u9501\u68c0\u6d4b","text":"<p>\u8fd9\u65f6\u5019\uff0c\u4e8b\u52a1 A \u5728\u7b49\u5f85\u4e8b\u52a1 B \u91ca\u653e id=2 \u7684\u884c\u9501\uff0c\u800c\u4e8b\u52a1 B \u5728\u7b49\u5f85\u4e8b\u52a1 A \u91ca\u653e id=1 \u7684\u884c\u9501\u3002 \u4e8b\u52a1 A \u548c\u4e8b\u52a1 B \u5728\u4e92\u76f8\u7b49\u5f85\u5bf9\u65b9\u7684\u8d44\u6e90\u91ca\u653e\uff0c\u5c31\u662f\u8fdb\u5165\u4e86\u6b7b\u9501\u72b6\u6001</p> <p>\u5f53\u51fa\u73b0\u6b7b\u9501\u4ee5\u540e\uff0c\u6709\u4e24\u79cd\u7b56\u7565\uff1a</p> <ul> <li>\u4e00\u79cd\u7b56\u7565\u662f\uff0c\u76f4\u63a5\u8fdb\u5165\u7b49\u5f85\uff0c\u76f4\u5230\u8d85\u65f6\u3002\u8fd9\u4e2a\u8d85\u65f6\u65f6\u95f4\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570 innodb_lock_wait_timeout \u6765\u8bbe\u7f6e\u3002</li> <li>\u53e6\u4e00\u79cd\u7b56\u7565\u662f\uff0c\u53d1\u8d77\u6b7b\u9501\u68c0\u6d4b\uff0c\u53d1\u73b0\u6b7b\u9501\u540e\uff0c\u4e3b\u52a8\u56de\u6eda\u6b7b\u9501\u94fe\u6761\u4e2d\u7684\u67d0\u4e00\u4e2a\u4e8b\u52a1\uff0c\u8ba9\u5176\u4ed6\u4e8b \u52a1\u5f97\u4ee5\u7ee7\u7eed\u6267\u884c\u3002\u5c06\u53c2\u6570 innodb_deadlock_detect \u8bbe\u7f6e\u4e3a on\uff0c\u8868\u793a\u5f00\u542f\u8fd9\u4e2a\u903b\u8f91\u3002</li> </ul> <p>\u5728 InnoDB \u4e2d\uff0cinnodb_lock_wait_timeout \u7684\u9ed8\u8ba4\u503c\u662f 50s\u3002 \u5bf9\u4e8e\u5728\u7ebf\u670d\u52a1\u6765\u8bf4\uff0c\u8fd9\u4e2a\u7b49\u5f85\u65f6\u95f4\u5f80\u5f80\u662f\u65e0\u6cd5\u63a5\u53d7\u7684\u3002\u4f46\u662f\uff0c\u6211\u4eec\u53c8\u4e0d\u53ef\u80fd\u76f4\u63a5\u628a\u8fd9\u4e2a\u65f6\u95f4\u8bbe\u7f6e\u6210\u4e00\u4e2a\u5f88\u5c0f\u7684\u503c\uff0c\u6bd4\u5982 1s\u3002\u8fd9\u6837\u5f53\u51fa\u73b0\u6b7b\u9501\u7684\u65f6\u5019\uff0c \u786e\u5b9e\u5f88\u5feb\u5c31\u53ef\u4ee5\u89e3\u5f00\uff0c\u4f46\u5982\u679c\u4e0d\u662f\u6b7b\u9501\uff0c\u800c\u662f\u7b80\u5355\u7684\u9501\u7b49\u5f85\u5462\uff1f\u6240\u4ee5\uff0c\u8d85\u65f6\u65f6\u95f4\u8bbe\u7f6e\u592a\u77ed\u7684\u8bdd\uff0c \u4f1a\u51fa\u73b0\u5f88\u591a\u8bef\u4f24\u3002</p> <p>\u6240\u4ee5\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\u6211\u4eec\u8fd8\u662f\u8981\u91c7\u7528\u7b2c\u4e8c\u79cd\u7b56\u7565\uff0c\u5373\uff1a\u4e3b\u52a8\u6b7b\u9501\u68c0\u6d4b</p> <p>\u4e3b\u52a8\u6b7b\u9501\u68c0\u6d4b\u5728\u53d1\u751f\u6b7b\u9501\u7684\u65f6\u5019\uff0c\u662f\u80fd\u591f\u5feb \u901f\u53d1\u73b0\u5e76\u8fdb\u884c\u5904\u7406\u7684\uff0c\u4f46\u662f\u5b83\u4e5f\u662f\u6709\u989d\u5916\u8d1f\u62c5\u7684\u3002</p> <p>innodb_deadlock_detect \u7684\u9ed8\u8ba4\u503c\u672c\u8eab\u5c31\u662f on</p> <p>\u6bcf\u4e2a\u65b0\u6765\u7684\u88ab\u5835\u4f4f\u7684\u7ebf\u7a0b\uff0c\u90fd\u8981\u5224\u65ad\u4f1a\u4e0d\u4f1a\u7531\u4e8e\u81ea\u5df1\u7684\u52a0\u5165\u5bfc\u81f4\u4e86\u6b7b\u9501\uff0c\u8fd9\u662f\u4e00\u4e2a\u65f6\u95f4\u590d\u6742\u5ea6\u662f O(n) \u7684\u64cd\u4f5c\u3002\u5047\u8bbe\u6709 1000 \u4e2a\u5e76\u53d1\u7ebf\u7a0b\u8981\u540c\u65f6\u66f4\u65b0\u540c\u4e00\u884c\uff0c\u90a3\u4e48\u6b7b\u9501\u68c0\u6d4b\u64cd\u4f5c\u5c31\u662f 100 \u4e07\u8fd9\u4e2a \u91cf\u7ea7\u7684\u3002</p> <p>\u867d\u7136\u6700\u7ec8\u68c0\u6d4b\u7684\u7ed3\u679c\u662f\u6ca1\u6709\u6b7b\u9501\uff0c\u4f46\u662f\u8fd9\u671f\u95f4\u8981\u6d88\u8017\u5927\u91cf\u7684 CPU \u8d44\u6e90\u3002\u56e0\u6b64\uff0c\u4f60\u5c31\u4f1a\u770b\u5230 CPU \u5229\u7528\u7387\u5f88\u9ad8\uff0c\u4f46\u662f\u6bcf\u79d2\u5374\u6267\u884c\u4e0d\u4e86\u51e0\u4e2a\u4e8b\u52a1</p> <p>\u600e\u4e48\u89e3\u51b3\u7531\u8fd9\u79cd\u70ed\u70b9\u884c\u66f4\u65b0\u5bfc\u81f4\u7684\u6027\u80fd\u95ee\u9898\u5462</p> <ul> <li>\u4e00\u79cd\u5934\u75db\u533b\u5934\u7684\u65b9\u6cd5\uff0c\u5c31\u662f\u5982\u679c\u4f60\u80fd\u786e\u4fdd\u8fd9\u4e2a\u4e1a\u52a1\u4e00\u5b9a\u4e0d\u4f1a\u51fa\u73b0\u6b7b\u9501\uff0c\u53ef\u4ee5\u4e34\u65f6\u628a\u6b7b\u9501\u68c0\u6d4b\u5173 \u6389\u3002</li> <li>\u53e6\u4e00\u4e2a\u601d\u8def\u662f\u63a7\u5236\u5e76\u53d1\u5ea6</li> </ul> <p>\u4e00\u4e2a\u76f4\u63a5\u7684\u60f3\u6cd5\u5c31\u662f\uff0c\u5728\u5ba2\u6237\u7aef\u505a\u5e76\u53d1\u63a7\u5236\u3002\u4f46\u662f\uff0c\u4f60\u4f1a\u5f88\u5feb\u53d1\u73b0\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u592a\u53ef\u884c\uff0c\u56e0\u4e3a\u5ba2\u6237\u7aef\u5f88\u591a</p> <p>\u56e0\u6b64\uff0c\u8fd9\u4e2a\u5e76\u53d1\u63a7\u5236\u8981\u505a\u5728\u6570\u636e\u5e93\u670d\u52a1\u7aef\u3002\u5982\u679c\u4f60\u6709\u4e2d\u95f4\u4ef6\uff0c\u53ef\u4ee5\u8003\u8651\u5728\u4e2d\u95f4\u4ef6\u5b9e\u73b0\uff1b\u5982\u679c\u4f60\u7684\u56e2\u961f\u6709\u80fd\u4fee\u6539 MySQL \u6e90\u7801\u7684\u4eba\uff0c\u4e5f\u53ef\u4ee5\u505a\u5728 MySQL \u91cc\u9762\u3002\u57fa\u672c\u601d\u8def\u5c31\u662f\uff0c\u5bf9\u4e8e\u76f8\u540c\u884c\u7684\u66f4\u65b0\uff0c\u5728\u8fdb\u5165\u5f15\u64ce\u4e4b\u524d\u6392\u961f\u3002\u8fd9\u6837\u5728 InnoDB \u5185\u90e8\u5c31\u4e0d\u4f1a\u6709\u5927\u91cf\u7684\u6b7b\u9501\u68c0\u6d4b\u5de5\u4f5c\u4e86\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_22","title":"\u5c0f\u7ed3","text":"<p>\u4ecb\u7ecd\u4e86 MySQL \u7684\u884c\u9501\uff0c\u6d89\u53ca\u4e86\u4e24\u9636\u6bb5\u9501\u534f\u8bae\u3001\u6b7b\u9501\u548c\u6b7b\u9501\u68c0\u6d4b\u8fd9\u4e24\u5927\u90e8\u5206\u5185\u5bb9\u3002</p> <p>\u5176\u4e2d\uff0c\u4ee5\u4e24\u9636\u6bb5\u534f\u8bae\u4e3a\u8d77\u70b9\uff0c\u8ba8\u8bba\u4e86\u5728\u5f00\u53d1\u7684\u65f6\u5019\u5982\u4f55\u5b89\u6392\u6b63\u786e\u7684\u4e8b\u52a1\u8bed\u53e5\u3002</p> <p>\u8fd9\u91cc\u7684 \u539f\u5219 / \u5efa\u8bae\u662f\uff1a\u5982\u679c\u4f60\u7684\u4e8b\u52a1\u4e2d\u9700\u8981\u9501\u591a\u4e2a\u884c\uff0c\u8981\u628a\u6700\u53ef\u80fd\u9020\u6210\u9501\u51b2\u7a81\u3001\u6700\u53ef\u80fd\u5f71\u54cd\u5e76\u53d1\u5ea6\u7684\u9501\u7684\u7533\u8bf7\u65f6\u673a\u5c3d\u91cf\u5f80\u540e\u653e\u3002</p> <p>\u4f46\u662f\uff0c\u8c03\u6574\u8bed\u53e5\u987a\u5e8f\u5e76\u4e0d\u80fd\u5b8c\u5168\u907f\u514d\u6b7b\u9501\u3002\u6240\u4ee5\u6211\u4eec\u5f15\u5165\u4e86\u6b7b\u9501\u548c\u6b7b\u9501\u68c0\u6d4b\u7684\u6982\u5ff5\uff0c\u4ee5\u53ca\u63d0\u4f9b\u4e86\u4e09\u4e2a\u65b9\u6848\uff0c\u6765\u51cf\u5c11\u6b7b\u9501\u5bf9\u6570\u636e\u5e93\u7684\u5f71\u54cd\u3002</p> <p>\u51cf\u5c11\u6b7b\u9501\u7684\u4e3b\u8981\u65b9\u5411\uff0c\u5c31\u662f\u63a7\u5236\u8bbf\u95ee\u76f8\u540c\u8d44\u6e90\u7684\u5e76\u53d1\u4e8b\u52a1\u91cf\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#08","title":"08 | \u4e8b\u52a1\u5230\u5e95\u662f\u9694\u79bb\u7684\u8fd8\u662f\u4e0d\u9694\u79bb\u7684\uff1f","text":"<p>\u8003\u8651\u8fd9\u9053\u9898\uff1a</p> <p>insert into t(id, k) values(1,1),(2,2);</p> <p></p> <p>\u8bed\u53e5 Q1 \u8fd4\u56de\u7684 k \u7684\u503c\u662f 3\uff0c\u800c\u8bed\u53e5 Q2 \u8fd4\u56de\u7684 k \u7684\u503c\u662f 1</p> <p>\u5728 MySQL \u91cc\uff0c\u6709\u4e24\u4e2a\u201c\u89c6\u56fe\u201d\u7684\u6982\u5ff5\uff1a</p> <ul> <li>\u4e00\u4e2a\u662f view\u3002\u5b83\u662f\u4e00\u4e2a\u7528\u67e5\u8be2\u8bed\u53e5\u5b9a\u4e49\u7684\u865a\u62df\u8868</li> <li>\u53e6\u4e00\u4e2a\u662f InnoDB \u5728\u5b9e\u73b0 MVCC \u65f6\u7528\u5230\u7684\u4e00\u81f4\u6027\u8bfb\u89c6\u56fe\uff0c\u5373 consistent read view\uff0c\u7528\u4e8e \u652f\u6301 RC\uff08Read Committed\uff0c\u8bfb\u63d0\u4ea4\uff09\u548c RR\uff08Repeatable Read\uff0c\u53ef\u91cd\u590d\u8bfb\uff09\u9694\u79bb\u7ea7\u522b\u7684 \u5b9e\u73b0\u3002</li> </ul> <p>InnoDB \u91cc\u9762\u6bcf\u4e2a\u4e8b\u52a1\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u4e8b\u52a1 ID\uff0c\u53eb\u4f5c transaction id\u3002</p> <p>\u628a transaction id \u8d4b\u503c\u7ed9\u8fd9\u4e2a\u6570\u636e\u7248\u672c\u7684\u4e8b\u52a1 ID \uff1arow trx_id</p> <p>\u8bed\u53e5\u66f4\u65b0\u4f1a\u751f\u6210 undo log\uff08\u56de\u6eda\u65e5\u5fd7\uff09</p> <p></p> <p>V1\u3001V2\u3001V3 \u5e76\u4e0d\u662f\u7269\u7406\u4e0a\u771f\u5b9e\u5b58\u5728 \u7684\uff0c\u800c\u662f\u6bcf\u6b21\u9700\u8981\u7684\u65f6\u5019\u6839\u636e\u5f53\u524d\u7248\u672c\u548c undo log \u8ba1\u7b97\u51fa\u6765\u7684</p> <p>\u4e09\u4e2a\u865a\u7ebf\u7bad\u5934\uff0c\u5c31\u662f undo log</p> <p>InnoDB \u4ee3\u7801\u5b9e\u73b0\u4e0a\uff0c\u4e00\u4e2a\u4e8b\u52a1\u53ea\u9700\u8981\u5728\u542f\u52a8\u7684\u65f6\u5019\uff0c\u627e\u5230\u6240\u6709\u5df2\u7ecf\u63d0\u4ea4\u7684\u4e8b\u52a1 ID \u7684\u6700 \u5927\u503c\uff0c\u8bb0\u4e3a up_limit_id\u3002\u7136\u540e\u58f0\u660e\u8bf4\uff0c\u201c\u5982\u679c\u4e00\u4e2a\u6570\u636e\u7248\u672c\u7684 row trx_id \u5927\u4e8e up_limit_id\uff0c\u6211\u5c31\u4e0d\u8ba4\uff0c\u6211\u5fc5\u987b\u8981\u627e\u5230\u5b83\u7684\u4e0a\u4e00\u4e2a\u7248\u672c\u201d</p> <p>\u8fd9\u91cc\uff0c\u6211\u4eec\u4e0d\u59a8\u505a\u5982\u4e0b\u5047\u8bbe\uff1a 1. \u4e8b\u52a1 A \u5f00\u59cb\u524d\uff0c\u7cfb\u7edf\u91cc\u9762\u5df2\u7ecf\u63d0\u4ea4\u7684\u4e8b\u52a1\u6700\u5927 ID \u662f 99\uff1b 2. \u4e8b\u52a1 A\u3001B\u3001C \u7684\u7248\u672c\u53f7\u5206\u522b\u662f 100\u3001101\u3001102\uff0c\u4e14\u5f53\u524d\u7cfb\u7edf\u91cc\u6ca1\u6709\u522b\u7684\u4e8b\u52a1\uff1b 3. \u4e09\u4e2a\u4e8b\u52a1\u5f00\u59cb\u524d\uff0c(1,1\uff09\u8fd9\u4e00\u884c\u6570\u636e\u7684 row trx_id \u662f 90\u3002 \u8fd9\u6837\uff0c\u4e8b\u52a1 A\u3001B\u3001C \u7684 up_limit_id \u7684\u503c\u5c31\u90fd\u662f 99\u3002</p> <p>(1,1) \u8fd9\u4e2a\u5386\u53f2\u7248\u672c\uff0c\u4ec0\u4e48\u65f6\u5019\u53ef\u4ee5\u88ab\u5220\u9664\u6389\u5462\uff1f\u5728\u4e8b\u52a1 A \u63d0\u4ea4\u540e,\uff081,1) \u8fd9\u4e2a\u7248\u672c\u5c31\u53ef\u4ee5\u88ab\u5220\u6389\u4e86</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_23","title":"\u66f4\u65b0\u903b\u8f91","text":"<p>\u4e8b\u52a1 B \u524d\u9762\u7684\u67e5\u8be2\u8bed\u53e5\uff0c\u62ff\u5230\u7684 k \u4e5f\u662f 1\u3002\u4f46\u662f\uff0c\u5f53\u5b83\u8981\u53bb\u66f4\u65b0\u6570\u636e\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u518d\u5728\u5386\u53f2\u7248 \u672c\u4e0a\u66f4\u65b0\u4e86\uff0c\u5426\u5219\u4e8b\u52a1 C \u7684\u66f4\u65b0\u5c31\u4e22\u5931\u4e86\u3002</p> <p>\u66f4\u65b0\u6570\u636e\u90fd\u662f\u5148\u8bfb\u540e\u5199\u7684\uff0c\u800c\u8fd9\u4e2a\u8bfb\uff0c\u53ea\u80fd\u8bfb\u5f53\u524d\u7684\u503c\uff0c\u79f0\u4e3a\u201c\u5f53\u524d\u8bfb\uff08current read\uff09\u201d\u3002</p> <p>\u5f53\u524d\u8bfb\u4e4b\u540e\uff0c\u4e8b\u52a1\u7684 up_limit_id \u5c31\u53d1\u751f\u4e86\u53d8\u5316</p> <p>\u9664\u4e86 update \u8bed\u53e5\u5916\uff0cselect \u8bed\u53e5\u5982\u679c\u52a0\u9501\uff0c\u4e5f\u662f\u5f53\u524d\u8bfb\u3002</p> <p>\u52a0\u4e0a lock in share mode \u6216 for update</p> <p>\u4e0b\u9762\u8fd9\u4e24\u4e2a select \u8bed\u53e5\uff0c\u5206\u522b\u52a0\u4e86\u8bfb\u9501\uff08S \u9501\uff0c\u5171\u4eab\u9501\uff09\u548c \u5199\u9501\uff08X \u9501\uff0c\u6392\u4ed6\u9501\uff09\u3002</p> <p>select k from t where id=1 lock in share mode;</p> <p>select k from t where id=1 for update;</p> <p>\u53ef\u91cd\u590d\u8bfb\u7684\u6838\u5fc3\u5c31\u662f\u4e00\u81f4\u6027\u8bfb\uff08consistent read\uff09</p> <p>\u800c\u4e8b\u52a1\u66f4\u65b0\u6570\u636e\u7684\u65f6\u5019\uff0c\u53ea\u80fd\u7528\u5f53\u524d\u8bfb\u3002 \u5982\u679c\u5f53\u524d\u7684\u8bb0\u5f55\u7684\u884c\u9501\u88ab\u5176\u4ed6\u4e8b\u52a1\u5360\u7528\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u8fdb\u5165\u9501\u7b49\u5f85\u3002</p> <p>\u8bfb\u63d0\u4ea4\u548c\u53ef\u91cd\u590d\u8bfb\u6700\u4e3b\u8981\u7684\u533a\u522b\u662f</p> <ul> <li>\u5728\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u53ea\u9700\u8981\u5728\u4e8b\u52a1\u5f00\u59cb\u7684\u65f6\u5019\u627e\u5230\u90a3\u4e2a up_limit_id\uff0c\u4e4b\u540e\u4e8b\u52a1\u91cc\u7684\u5176\u4ed6\u67e5\u8be2\u90fd\u5171\u7528\u8fd9\u4e2a up_limit_id\u3002\uff08\u9664\u975e\u7528\u4e86 \u5f53\u524d\u8bfb\uff09</li> <li>\u5728\u8bfb\u63d0\u4ea4\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u6bcf\u4e00\u4e2a\u8bed\u53e5\u6267\u884c\u524d\u90fd\u4f1a\u91cd\u65b0\u7b97\u4e00\u6b21 up_limit_id \u7684\u503c\u3002</li> <li>\u5bf9\u4e8e\u53ef\u91cd\u590d\u8bfb\uff0c\u67e5\u8be2\u53ea\u627f\u8ba4\u5728\u4e8b\u52a1\u542f\u52a8\u524d\u5c31\u5df2\u7ecf\u63d0\u4ea4\u5b8c\u6210\u7684\u6570\u636e\uff1b \u5bf9\u4e8e\u8bfb\u63d0\u4ea4\uff0c\u67e5\u8be2\u53ea\u627f\u8ba4\u5728\u8bed\u53e5\u542f\u52a8\u524d\u5c31\u5df2\u7ecf\u63d0\u4ea4\u5b8c\u6210\u7684\u6570\u636e\u3002</li> </ul>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_24","title":"\u5c0f\u7ed3","text":"<p>InnoDB \u7684\u884c\u6570\u636e\u6709\u591a\u4e2a\u7248\u672c\uff0c\u6bcf\u4e2a\u6570\u636e\u7248\u672c\u6709\u81ea\u5df1\u7684 row trx_id\uff0c\u6bcf\u4e2a\u4e8b\u52a1\u6216\u8005\u8bed\u53e5\u6709\u81ea\u5df1\u7684 up_limit_id\u3002\u666e\u901a\u67e5\u8be2\u8bed\u53e5\u662f\u4e00\u81f4\u6027\u8bfb\uff0c\u4e00\u81f4\u6027\u8bfb\u4f1a\u6839\u636e row trx_id \u548c up_limit_id \u7684\u5927\u5c0f\u51b3 \u5b9a\u6570\u636e\u7248\u672c\u7684\u53ef\u89c1\u6027\u3002</p> <p>\u5bf9\u4e8e\u53ef\u91cd\u590d\u8bfb\uff0c\u67e5\u8be2\u53ea\u627f\u8ba4\u5728\u4e8b\u52a1\u542f\u52a8\u524d\u5c31\u5df2\u7ecf\u63d0\u4ea4\u5b8c\u6210\u7684\u6570\u636e\uff1b \u5bf9\u4e8e\u8bfb\u63d0\u4ea4\uff0c\u67e5\u8be2\u53ea\u627f\u8ba4\u5728\u8bed\u53e5\u542f\u52a8\u524d\u5c31\u5df2\u7ecf\u63d0\u4ea4\u5b8c\u6210\u7684\u6570\u636e\uff1b</p> <p>\u800c\u5f53\u524d\u8bfb\uff0c\u603b\u662f\u8bfb\u53d6\u5df2\u7ecf\u63d0\u4ea4\u5b8c\u6210\u7684\u6700\u65b0\u7248\u672c\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#09","title":"09 | \u666e\u901a\u7d22\u5f15\u548c\u552f\u4e00\u7d22\u5f15\uff0c\u5e94\u8be5\u600e\u4e48\u9009\u62e9\uff1f","text":"<p>\u4ece\u8fd9\u4e24\u79cd\u7d22\u5f15\u5bf9\u67e5\u8be2\u8bed\u53e5\u548c\u66f4\u65b0\u8bed\u53e5\u7684\u6027\u80fd\u5f71\u54cd\u6765\u8fdb\u884c\u5206\u6790</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_25","title":"\u67e5\u8be2\u8fc7\u7a0b","text":"<ul> <li> <p>\u5bf9\u4e8e\u666e\u901a\u7d22\u5f15\u6765\u8bf4\uff0c\u67e5\u627e\u5230\u6ee1\u8db3\u6761\u4ef6\u7684\u7b2c\u4e00\u4e2a\u8bb0\u5f55 (5,500) \u540e\uff0c\u9700\u8981\u67e5\u627e\u4e0b\u4e00\u4e2a\u8bb0\u5f55\uff0c\u76f4\u5230 \u78b0\u5230\u7b2c\u4e00\u4e2a\u4e0d\u6ee1\u8db3 k=5 \u6761\u4ef6\u7684\u8bb0\u5f55\u3002</p> </li> <li> <p>\u5bf9\u4e8e\u552f\u4e00\u7d22\u5f15\u6765\u8bf4\uff0c\u7531\u4e8e\u7d22\u5f15\u5b9a\u4e49\u4e86\u552f\u4e00\u6027\uff0c\u67e5\u627e\u5230\u7b2c\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u8bb0\u5f55\u540e\uff0c\u5c31\u4f1a\u505c\u6b62\u7ee7\u7eed\u68c0\u7d22\u3002</p> <p>\u90a3\u4e48\uff0c\u8fd9\u4e2a\u4e0d\u540c\u5e26\u6765\u7684\u6027\u80fd\u5dee\u8ddd\u4f1a\u6709\u591a\u5c11\u5462\uff1f\u7b54\u6848\u662f\uff0c\u5fae\u4e4e\u5176\u5fae\u3002</p> </li> </ul> <p>InnoDB \u7684\u6570\u636e\u662f\u6309\u6570\u636e\u9875\u4e3a\u5355\u4f4d\u6765\u8bfb\u5199\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u9700\u8981\u8bfb\u4e00\u6761\u8bb0\u5f55\u7684\u65f6\u5019\uff0c \u5e76\u4e0d\u662f\u5c06\u8fd9\u4e2a\u8bb0\u5f55\u672c\u8eab\u4ece\u78c1\u76d8\u8bfb\u51fa\u6765\uff0c\u800c\u662f\u4ee5\u9875\u4e3a\u5355\u4f4d\uff0c\u5c06\u5176\u6574\u4f53\u8bfb\u5165\u5185\u5b58\u3002\u5728 InnoDB \u4e2d\uff0c \u6bcf\u4e2a\u6570\u636e\u9875\u7684\u5927\u5c0f\u9ed8\u8ba4\u662f 16KB\u3002</p> <p>\u5f53\u627e\u5230 k=5 \u7684\u8bb0\u5f55\u7684\u65f6\u5019\uff0c\u5b83\u6240\u5728\u7684\u6570\u636e\u9875\u5c31\u90fd\u5728\u5185\u5b58\u91cc \u4e86\u3002\u90a3\u4e48\uff0c\u5bf9\u4e8e\u666e\u901a\u7d22\u5f15\u6765\u8bf4\uff0c\u8981\u591a\u505a\u7684\u90a3\u4e00\u6b21\u201c\u67e5\u627e\u548c\u5224\u65ad\u4e0b\u4e00\u6761\u8bb0\u5f55\u201d\u7684\u64cd\u4f5c\uff0c\u5c31\u53ea\u9700\u8981\u4e00 \u6b21\u6307\u9488\u5bfb\u627e\u548c\u4e00\u6b21\u8ba1\u7b97\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#change-buffer","title":"change buffer","text":"<p>\u5f53\u9700\u8981\u66f4\u65b0\u4e00\u4e2a\u6570\u636e\u9875\u65f6\uff0c\u5982\u679c\u6570\u636e\u9875\u5728\u5185\u5b58\u4e2d\u5c31\u76f4\u63a5\u66f4\u65b0\uff1b\u800c\u5982\u679c\u8fd9\u4e2a\u6570\u636e\u9875\u8fd8\u6ca1\u6709\u5728\u5185\u5b58\u4e2d \u7684\u8bdd\uff0c\u5728\u4e0d\u5f71\u54cd\u6570\u636e\u4e00\u81f4\u6027\u7684\u524d\u63d0\u4e0b\uff0cInooDB \u4f1a\u5c06\u8fd9\u4e9b\u66f4\u65b0\u64cd\u4f5c\u7f13\u5b58\u5728 change buffer \u4e2d\u3002\u8fd9\u6837\u5c31\u4e0d\u9700\u8981\u4ece\u78c1\u76d8\u4e2d\u8bfb\u5165\u8fd9\u4e2a\u6570\u636e\u9875\u4e86</p> <p>\u5728\u4e0b\u6b21\u67e5\u8be2\u9700\u8981\u8bbf\u95ee\u8fd9\u4e2a\u6570\u636e\u9875\u7684\u65f6\u5019\uff0c\u5c06\u6570\u636e\u9875\u8bfb\u5165\u5185\u5b58\uff0c\u7136\u540e\u6267\u884c change buffer \u4e2d\u4e0e\u8fd9\u4e2a\u9875\u6709\u5173\u7684\u64cd\u4f5c</p> <p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5c31\u80fd\u4fdd\u8bc1\u8fd9\u4e2a\u6570\u636e\u903b \u8f91\u7684\u6b63\u786e\u6027\u3002</p> <p>\u200b    </p> <p>\u5c06 change buffer \u4e2d\u7684\u64cd\u4f5c\u5e94\u7528\u5230\u539f\u6570\u636e\u9875\uff0c\u5f97\u5230\u6700\u65b0\u7ed3\u679c\u7684\u8fc7\u7a0b\u79f0\u4e3a purge</p> <p>\u9664\u4e86\u8bbf\u95ee\u8fd9\u4e2a \u6570\u636e\u9875\u4f1a\u89e6\u53d1 purge \u5916\uff0c\u7cfb\u7edf\u6709\u540e\u53f0\u7ebf\u7a0b\u4f1a\u5b9a\u671f purge\u3002\u5728\u6570\u636e\u5e93\u6b63\u5e38\u5173\u95ed\uff08shutdown\uff09\u7684 \u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u4f1a\u6267\u884c purge \u64cd\u4f5c\u3002</p> <p>purge \u7684\u6267\u884c\u6d41\u7a0b\uff1a </p> <ol> <li>\u4ece\u78c1\u76d8\u8bfb\u5165\u6570\u636e\u9875\u5230\u5185\u5b58\uff08\u8001\u7248\u672c\u7684\u6570\u636e\u9875\uff09\u3002</li> <li>\u4ece change buffer \u91cc\u627e\u51fa\u8fd9\u4e2a\u6570\u636e\u9875\u7684 change buffer \u8bb0\u5f55 (\u53ef\u80fd\u6709\u591a\u4e2a\uff09\uff0c\u4f9d\u6b21\u5e94\u7528\uff0c\u5f97\u5230\u65b0\u7248\u6570\u636e\u9875\u3002</li> <li>\u5199 redo log\uff0c\u8fd9\u4e2a redo log \u5305\u542b\u4e86\u6570\u636e\u7684\u53d8\u66f4\u548c change buffer \u7684\u53d8\u66f4\u3002</li> </ol> <p>\u5982\u679c\u80fd\u591f\u5c06\u66f4\u65b0\u64cd\u4f5c\u5148\u8bb0\u5f55\u5728 change buffer\uff0c\u51cf\u5c11\u8bfb\u78c1\u76d8\uff0c\u8bed\u53e5\u7684\u6267\u884c\u901f\u5ea6\u4f1a\u5f97\u5230\u660e\u663e\u7684\u63d0\u5347</p> <p>\u4ec0\u4e48\u6761\u4ef6\u4e0b\u53ef\u4ee5\u4f7f\u7528 change buffer \u5462</p> <p>\u5bf9\u4e8e\u552f\u4e00\u7d22\u5f15\u6765\u8bf4\uff0c\u6240\u6709\u7684\u66f4\u65b0\u64cd\u4f5c\u90fd\u8981\u5148\u5224\u65ad\u8fd9\u4e2a\u64cd\u4f5c\u662f\u5426\u8fdd\u53cd\u552f\u4e00\u6027\u7ea6\u675f\u3002\u6bd4\u5982\uff0c\u8981\u63d2\u5165 (4,400) \u8fd9\u4e2a\u8bb0\u5f55\uff0c\u5c31\u8981\u5148\u5224\u65ad\u73b0\u5728\u8868\u4e2d\u662f\u5426\u5df2\u7ecf\u5b58\u5728 k=4 \u7684\u8bb0\u5f55\uff0c\u800c\u8fd9\u5fc5\u987b\u8981\u5c06\u6570\u636e\u9875\u8bfb\u5165\u5185\u5b58\u624d\u80fd\u5224\u65ad\u3002\u5982\u679c\u90fd\u5df2\u7ecf\u8bfb\u5165\u5230\u5185\u5b58\u4e86\uff0c\u90a3\u76f4\u63a5\u66f4\u65b0\u5185\u5b58\u4f1a\u66f4\u5feb\uff0c\u5c31\u6ca1\u5fc5\u8981\u4f7f\u7528 change buffer \u4e86\u3002</p> <p>\u56e0\u6b64\uff0c\u552f\u4e00\u7d22\u5f15\u7684\u66f4\u65b0\u5c31\u4e0d\u80fd\u4f7f\u7528 change buffer\uff0c\u5b9e\u9645\u4e0a\u4e5f\u53ea\u6709\u666e\u901a\u7d22\u5f15\u53ef\u4ee5\u4f7f\u7528</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_26","title":"\u66f4\u65b0\u8fc7\u7a0b","text":"<p>\u7b2c\u4e00\u79cd\u60c5\u51b5\u662f\uff0c\u8fd9\u4e2a\u8bb0\u5f55\u8981\u66f4\u65b0\u7684\u76ee\u6807\u9875\u5728\u5185\u5b58\u4e2d\u3002\u8fd9\u4e0d\u662f\u6211\u4eec\u5173\u6ce8\u7684\u91cd\u70b9</p> <p>\u7b2c\u4e8c\u79cd\u60c5\u51b5\u662f\uff0c\u8fd9\u4e2a\u8bb0\u5f55\u8981\u66f4\u65b0\u7684\u76ee\u6807\u9875\u4e0d\u5728\u5185\u5b58\u4e2d\u3002\u8fd9\u65f6\uff0cInnoDB \u7684\u5904\u7406\u6d41\u7a0b\u5982\u4e0b\uff1a \u5bf9\u4e8e\u552f\u4e00\u7d22\u5f15\u6765\u8bf4\uff0c\u9700\u8981\u5c06\u6570\u636e\u9875\u8bfb\u5165\u5185\u5b58\uff0c\u5224\u65ad\u5230\u6ca1\u6709\u51b2\u7a81\uff0c\u63d2\u5165\u8fd9\u4e2a\u503c\uff0c\u8bed\u53e5\u6267\u884c\u7ed3\u675f\uff1b \u5bf9\u4e8e\u666e\u901a\u7d22\u5f15\u6765\u8bf4\uff0c\u5219\u662f\u5c06\u66f4\u65b0\u8bb0\u5f55\u5728 change buffer\uff0c\u8bed\u53e5\u6267\u884c\u5c31\u7ed3\u675f\u4e86\u3002</p> <p>\u5c06\u6570\u636e\u4ece\u78c1\u76d8\u8bfb\u5165\u5185\u5b58\u6d89\u53ca\u968f\u673a IO \u7684\u8bbf\u95ee\uff0c\u662f\u6570\u636e\u5e93\u91cc\u9762\u6210\u672c\u6700\u9ad8\u7684\u64cd\u4f5c\u4e4b\u4e00\u3002change buffer \u56e0\u4e3a\u51cf\u5c11\u4e86\u968f\u673a\u78c1\u76d8\u8bbf\u95ee\uff0c\u6240\u4ee5\u5bf9\u66f4\u65b0\u6027\u80fd\u7684\u63d0\u5347\u662f\u4f1a\u5f88\u660e\u663e\u7684\u3002</p> <p>change buffer \u7684\u4f7f\u7528\u573a\u666f\u901a\u8fc7\u4e0a\u9762\u7684\u5206\u6790\uff0c\u4f60\u5df2\u7ecf\u6e05\u695a\u4e86\u4f7f\u7528 change buffer \u5bf9\u66f4\u65b0\u8fc7\u7a0b\u7684\u52a0\u901f\u4f5c\u7528\uff0c\u4e5f\u6e05\u695a\u4e86 change buffer \u53ea\u9650\u4e8e\u7528\u5728\u666e\u901a\u7d22\u5f15\u7684\u573a\u666f\u4e0b\uff0c\u800c\u4e0d\u9002\u7528\u4e8e\u552f\u4e00\u7d22\u5f15\u3002</p> <p>\u666e\u901a\u7d22\u5f15\u7684\u6240\u6709\u573a\u666f\uff0c\u4f7f\u7528 change buffer \u90fd\u53ef\u4ee5\u8d77\u5230\u52a0\u901f\u4f5c\u7528\u5417\uff1f</p> <p>\u5bf9\u4e8e\u5199\u591a\u8bfb\u5c11\u7684\u4e1a\u52a1\u6765\u8bf4\uff0c\u9875\u9762\u5728\u5199\u5b8c\u4ee5\u540e\u9a6c\u4e0a\u88ab\u8bbf\u95ee\u5230\u7684\u6982\u7387\u6bd4\u8f83\u5c0f\uff0c\u6b64\u65f6 change buffer \u7684\u4f7f\u7528\u6548\u679c\u6700\u597d\u3002\u8fd9\u79cd\u4e1a\u52a1\u6a21\u578b\u5e38\u89c1\u7684\u5c31\u662f\u8d26\u5355\u7c7b\u3001\u65e5\u5fd7\u7c7b\u7684\u7cfb\u7edf\u3002</p> <p>\u53cd\u8fc7\u6765\uff0c\u5047\u8bbe\u4e00\u4e2a\u4e1a\u52a1\u7684\u66f4\u65b0\u6a21\u5f0f\u662f\u5199\u5165\u4e4b\u540e\u9a6c\u4e0a\u4f1a\u505a\u67e5\u8be2\uff0c \u90a3\u4e48\u5373\u4f7f\u6ee1\u8db3\u4e86\u6761\u4ef6\uff0c\u5c06\u66f4\u65b0\u5148\u8bb0\u5f55\u5728 change buffer\uff0c\u4f46\u4e4b\u540e\u7531\u4e8e\u9a6c\u4e0a\u8981\u8bbf\u95ee\u8fd9\u4e2a\u6570\u636e\u9875\uff0c\u4f1a\u7acb\u5373\u89e6\u53d1 purge \u8fc7\u7a0b\u3002\u8fd9\u6837\u968f\u673a \u8bbf\u95ee IO \u7684\u6b21\u6570\u4e0d\u4f1a\u51cf\u5c11\uff0c\u53cd\u800c\u589e\u52a0\u4e86 change buffer \u7684\u7ef4\u62a4\u4ee3\u4ef7</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_27","title":"\u603b\u7ed3","text":"<p>\u4e24\u7c7b\u7d22\u5f15\u5728\u67e5\u8be2\u80fd\u529b\u4e0a \u662f\u6ca1\u5dee\u522b\u7684\uff0c\u4e3b\u8981\u8003\u8651\u7684\u662f\u5bf9\u66f4\u65b0\u6027\u80fd\u7684\u5f71\u54cd</p> <p>\u5efa\u8bae\u5c3d\u91cf\u9009\u62e9\u666e\u901a\u7d22\u5f15</p> <p>\u7279\u522b\u5730\uff0c\u5728\u4f7f\u7528\u673a\u68b0\u786c\u76d8\u65f6\uff0cchange buffer \u8fd9\u4e2a\u673a\u5236\u7684\u6536\u6548\u662f\u975e\u5e38\u663e\u8457</p> <p>\u4e2a\u4eba\u7406\u89e3 change buffer \u548c redo log \u7684\u533a\u522b</p> <p>change buffer: \u5728 MySQL \u7528\u5230\u7684\u5185\u5b58\u4e2d\uff0c\u6709\u8fd9\u4e48\u4e00\u5757\u533a\u57df\uff0c\u53eb change buffer\uff0c\u6682\u5b58\u5bf9\u5185\u5b58\u4e2d\u8fd8\u6ca1\u6709\u5305\u542b\u7684\u6570\u636e\u7684\u4fee\u6539\uff0c\u4ee5\u540e\u8bfb\u53d6\u7684\u65f6\u5019\u4ece\u78c1\u76d8\u4e2d\u8bfb\u53d6\u5230\u5185\u5b58\uff0c\u518d\u5e94\u7528change buffer \u800c redo log \u5c06\u5bf9\u6570\u636e\u5e93\u7684\u64cd\u4f5c\u6682\u5b58\uff0c\u5230\u4e00\u5b9a\u7a0b\u5ea6\u624d\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u771f\u6b63\u7684\u66f4\u65b0\uff0c\u6240\u4ee5\u907f\u514d\u9891\u7e41\u7684\u968f\u673a\u5199\u78c1\u76d8</p> <p>\u5982\u539f\u6587\u6240\u8bf4\uff1a\u5982\u679c\u8981\u7b80\u5355\u5730\u5bf9\u6bd4\u8fd9\u4e24\u4e2a\u673a\u5236\u5728\u63d0\u5347\u66f4\u65b0\u6027\u80fd\u4e0a\u7684\u6536\u76ca\u7684\u8bdd\uff0credo log \u4e3b\u8981\u8282\u7701\u7684\u662f\u968f\u673a\u5199\u78c1\u76d8\u7684 IO \u6d88\u8017\uff08\u8f6c\u6210\u987a\u5e8f\u5199\uff09\uff0c\u800c change buffer \u4e3b\u8981\u8282\u7701\u7684\u5219\u662f\u968f\u673a\u8bfb\u78c1\u76d8\u7684 IO \u6d88\u8017\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_28","title":"\u5c0f\u7ed3","text":"<p>\u4ece\u666e\u901a\u7d22\u5f15\u548c\u552f\u4e00\u7d22\u5f15\u7684\u9009\u62e9\u5f00\u59cb\uff0c\u5206\u4eab\u4e86\u6570\u636e\u7684\u67e5\u8be2\u548c\u66f4\u65b0\u8fc7\u7a0b\uff0c\u7136\u540e\u8bf4\u660e\u4e86 change buffer \u7684\u673a\u5236\u4ee5\u53ca\u5e94\u7528\u573a\u666f\uff0c\u6700\u540e\u8bb2\u5230\u4e86\u7d22\u5f15\u9009\u62e9\u7684\u5b9e\u8df5\u3002 </p> <p>\u7531\u4e8e\u552f\u4e00\u7d22\u5f15\u7528\u4e0d\u4e0a change buffer \u7684\u4f18\u5316\u673a\u5236\uff0c\u56e0\u6b64\u5982\u679c\u4e1a\u52a1\u53ef\u4ee5\u63a5\u53d7\uff0c\u4ece\u6027\u80fd\u89d2\u5ea6\u51fa\u53d1\u6211\uff0c\u5efa\u8bae\u4f60\u4f18\u5148\u8003\u8651\u975e\u552f\u4e00\u7d22\u5f15\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#10-mysql","title":"10 | MySQL \u4e3a\u4ec0\u4e48\u6709\u65f6\u5019\u4f1a\u9009\u9519\u7d22\u5f15\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#_29","title":"\u4f18\u5316\u5668\u7684\u903b\u8f91","text":"<p>\u9009\u62e9\u7d22\u5f15\u662f\u4f18\u5316\u5668\u7684\u5de5\u4f5c</p> <p>\u4f18\u5316\u5668\u4f1a\u7ed3\u5408\u626b\u63cf\u884c\u6570\u3001\u662f\u5426\u4f7f\u7528\u4e34\u65f6\u8868\u3001\u662f\u5426\u6392\u5e8f\u7b49\u56e0\u7d20\u8fdb\u884c\u7efc\u5408\u5224\u65ad\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_30","title":"\u626b\u63cf\u884c\u6570\u662f\u600e\u4e48\u5224\u65ad\u7684\uff1f","text":"<p>MySQL \u5728\u771f\u6b63\u5f00\u59cb\u6267\u884c\u8bed\u53e5\u4e4b\u524d\uff0c\u5e76\u4e0d\u80fd\u7cbe\u786e\u5730\u77e5\u9053\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\u7684\u8bb0\u5f55\u6709\u591a\u5c11\u6761\uff0c\u800c\u53ea\u80fd\u6839\u636e\u7edf\u8ba1\u4fe1\u606f\u6765\u4f30\u7b97\u8bb0\u5f55\u6570\u3002</p> <p>\u4e00\u4e2a\u7d22\u5f15\u4e0a\u4e0d\u540c\u7684\u503c\u7684\u4e2a\u6570\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u201c\u57fa\u6570\u201d\uff08cardinality\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u57fa\u6570\u8d8a\u5927\uff0c\u7d22\u5f15\u7684\u533a\u5206\u5ea6\u8d8a\u597d</p> <p>\u53ef\u4ee5\u4f7f\u7528 show index \u65b9\u6cd5\uff0c\u770b\u5230\u4e00\u4e2a\u7d22\u5f15\u7684\u57fa\u6570</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#mysql","title":"MySQL \u662f\u600e\u6837\u5f97\u5230\u7d22\u5f15\u7684\u57fa\u6570\u7684\u5462\uff1f","text":"<p>\u4e3a\u4ec0\u4e48\u8981\u91c7\u6837\u7edf\u8ba1\u5462\uff1f\u56e0\u4e3a\u628a\u6574\u5f20\u8868\u53d6\u51fa\u6765\u4e00\u884c\u884c\u7edf\u8ba1\uff0c\u867d\u7136\u53ef\u4ee5\u5f97\u5230\u7cbe\u786e\u7684\u7ed3\u679c\uff0c\u4f46\u662f\u4ee3\u4ef7\u592a \u9ad8\u4e86\uff0c\u6240\u4ee5\u53ea\u80fd\u9009\u62e9\u201c\u91c7\u6837\u7edf\u8ba1\u201d\u3002</p> <p>InnoDB \u9ed8\u8ba4\u4f1a\u9009\u62e9 N \u4e2a\u6570\u636e\u9875\uff0c\u7edf\u8ba1\u8fd9\u4e9b\u9875\u9762\u4e0a\u7684\u4e0d\u540c\u503c\uff0c\u5f97\u5230\u4e00\u4e2a\u5e73\u5747\u503c\uff0c\u7136\u540e\u4e58\u4ee5\u8fd9\u4e2a\u7d22\u5f15\u7684\u9875\u9762\u6570\uff0c\u5c31\u5f97\u5230\u4e86\u8fd9\u4e2a\u7d22\u5f15\u7684\u57fa\u6570\u3002</p> <p>\u5f53\u53d8\u66f4\u7684\u6570\u636e\u884c\u6570\u8d85\u8fc7 1/M \u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u89e6\u53d1\u91cd\u65b0\u505a\u4e00\u6b21\u7d22\u5f15\u7edf\u8ba1\u3002</p> <p>rows \u8fd9\u4e2a\u5b57\u6bb5\u8868\u793a\u7684\u662f\u9884\u8ba1\u626b\u63cf\u884c\u6570</p> <p>\u4f7f\u7528\u666e\u901a\u7d22\u5f15\u9700\u8981\u628a\u56de\u8868\u7684\u4ee3\u4ef7\u7b97\u8fdb\u53bb</p> <p>analyze table t \u547d\u4ee4\uff0c\u53ef\u4ee5\u7528\u6765\u91cd\u65b0\u7edf\u8ba1\u7d22\u5f15\u4fe1\u606f\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_31","title":"\u7d22\u5f15\u9009\u62e9\u5f02\u5e38\u548c\u5904\u7406","text":"<ol> <li>\u50cf\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u4e00\u6837\uff0c\u91c7\u7528 force index \u5f3a\u884c\u9009\u62e9\u4e00\u4e2a\u7d22\u5f15\u3002\u5982\u679c force index \u6307\u5b9a\u7684\u7d22\u5f15\u5728\u5019\u9009\u7d22\u5f15\u5217\u8868\u4e2d\uff0c\u5c31\u76f4\u63a5\u9009\u62e9\u8fd9\u4e2a\u7d22\u5f15\uff0c\u4e0d\u518d\u8bc4\u4f30\u5176\u4ed6\u7d22\u5f15\u7684\u6267\u884c\u4ee3\u4ef7\u3002</li> <li>\u53ef\u4ee5\u8003\u8651\u4fee\u6539\u8bed\u53e5\uff0c\u5f15\u5bfc MySQL \u4f7f\u7528\u6211\u4eec\u671f\u671b\u7684\u7d22\u5f15\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\uff0c\u663e\u7136\u628a\u201corder by b limit 1\u201d \u6539\u6210 \u201corder by b,a limit 1\u201d\uff0c\u8bed\u4e49\u7684\u903b\u8f91\u662f\u76f8\u540c\u7684\u3002</li> </ol>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_32","title":"\u5c0f\u7ed3","text":"<p>\u4eca\u5929\u6211\u4eec\u4e00\u8d77\u804a\u4e86\u804a\u7d22\u5f15\u7edf\u8ba1\u7684\u66f4\u65b0\u673a\u5236\uff0c\u5e76\u63d0\u5230\u4e86\u4f18\u5316\u5668\u5b58\u5728\u9009\u9519\u7d22\u5f15\u7684\u53ef\u80fd\u6027\u3002 </p> <p>\u5bf9\u4e8e\u7531\u4e8e\u7d22\u5f15\u7edf\u8ba1\u4fe1\u606f\u4e0d\u51c6\u786e\u5bfc\u81f4\u7684\u95ee\u9898\uff0c\u4f60\u53ef\u4ee5\u7528 analyze table \u6765\u89e3\u51b3\u3002 </p> <p>\u800c\u5bf9\u4e8e\u5176\u4ed6\u4f18\u5316\u5668\u8bef\u5224\u7684\u60c5\u51b5\uff0c\u4f60\u53ef\u4ee5\u5728\u5e94\u7528\u7aef\u7528 force index \u6765\u5f3a\u884c\u6307\u5b9a\u7d22\u5f15\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4fee \u6539\u8bed\u53e5\u6765\u5f15\u5bfc\u4f18\u5316\u5668\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0\u6216\u8005\u5220\u9664\u7d22\u5f15\u6765\u7ed5\u8fc7\u8fd9\u4e2a\u95ee\u9898\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#11","title":"11 | \u600e\u4e48\u7ed9\u5b57\u7b26\u4e32\u5b57\u6bb5\u52a0\u7d22\u5f15\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#_33","title":"\u524d\u7f00\u7d22\u5f15","text":"<p>\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\uff0c\u5b9a\u4e49\u597d\u957f\u5ea6\uff0c\u5c31\u53ef\u4ee5\u505a\u5230\u65e2\u8282\u7701\u7a7a\u95f4\uff0c\u53c8\u4e0d\u7528\u989d\u5916\u589e\u52a0\u592a\u591a\u7684\u67e5\u8be2\u6210\u672c\u3002</p> <p>\u5f53\u8981\u7ed9\u5b57\u7b26\u4e32\u521b\u5efa\u524d\u7f00\u7d22\u5f15\u65f6\uff0c\u6709\u4ec0\u4e48\u65b9\u6cd5\u80fd\u591f\u786e\u5b9a\u6211\u5e94\u8be5\u4f7f\u7528\u591a\u957f\u7684\u524d\u7f00\u5462\uff1f</p> <p>\u6211\u4eec\u5728\u5efa\u7acb\u7d22\u5f15\u65f6\u5173\u6ce8\u7684\u662f\u533a\u5206\u5ea6\uff0c\u533a\u5206\u5ea6\u8d8a\u9ad8\u8d8a\u597d\u3002\u56e0\u4e3a\u533a\u5206\u5ea6\u8d8a\u9ad8\uff0c\u610f\u5473\u7740\u91cd\u590d\u7684\u952e\u503c\u8d8a\u5c11\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u7edf\u8ba1\u7d22\u5f15\u4e0a\u6709\u591a\u5c11\u4e2a\u4e0d\u540c\u7684\u503c\u6765\u5224\u65ad\u8981\u4f7f\u7528\u591a\u957f\u7684\u524d\u7f00\u3002</p> <p>\u9996\u5148\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u8fd9\u4e2a\u8bed\u53e5\uff0c\u7b97\u51fa\u8fd9\u4e2a\u5217\u4e0a\u6709\u591a\u5c11\u4e2a\u4e0d\u540c\u7684\u503c\uff1a</p> <pre><code>select count(distinct email) as L from SUser;\n</code></pre> <p>\u7136\u540e\uff0c\u4f9d\u6b21\u9009\u53d6\u4e0d\u540c\u957f\u5ea6\u7684\u524d\u7f00\u6765\u770b\u8fd9\u4e2a\u503c\uff0c\u6bd4\u5982\u6211\u4eec\u8981\u770b\u4e00\u4e0b 4~7 \u4e2a\u5b57\u8282\u7684\u524d\u7f00\u7d22\u5f15\uff0c\u53ef\u4ee5 \u7528\u8fd9\u4e2a\u8bed\u53e5\uff1a</p> <pre><code>select \n    count(distinct left(email,4)\uff09as L4, \n    count(distinct left(email,5)\uff09as L5,\n    count(distinct left(email,6)\uff09as L6,\n    count(distinct left(email,7)\uff09as L7,\nfrom SUser;\n</code></pre> <p>\u5f53\u7136\uff0c\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u5f88\u53ef\u80fd\u4f1a\u635f\u5931\u533a\u5206\u5ea6\uff0c\u6240\u4ee5\u4f60\u9700\u8981\u9884\u5148\u8bbe\u5b9a\u4e00\u4e2a\u53ef\u4ee5\u63a5\u53d7\u7684\u635f\u5931\u6bd4\u4f8b\uff0c\u6bd4\u5982 5%\u3002\u7136\u540e\uff0c\u5728\u8fd4\u56de\u7684 L4~L7 \u4e2d\uff0c\u627e\u51fa\u4e0d\u5c0f\u4e8e L * 95% \u7684\u503c\uff0c\u5047\u8bbe\u8fd9\u91cc L6\u3001L7 \u90fd\u6ee1\u8db3\uff0c\u4f60\u5c31\u53ef \u4ee5\u9009\u62e9\u524d\u7f00\u957f\u5ea6\u4e3a 6\u3002</p> <p>\u524d\u7f00\u7d22\u5f15\u5bf9\u8986\u76d6\u7d22\u5f15\u7684\u5f71\u54cd</p> <p>\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u5c31\u7528\u4e0d\u4e0a\u8986\u76d6\u7d22\u5f15\u5bf9\u67e5\u8be2\u6027\u80fd\u7684\u4f18\u5316\u4e86\uff0c\u8fd9\u4e5f\u662f\u4f60\u5728\u9009\u62e9\u662f\u5426\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u65f6\u9700\u8981\u8003\u8651\u7684\u4e00\u4e2a\u56e0\u7d20\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_34","title":"\u5176\u4ed6\u65b9\u5f0f","text":"<p>\u6bd4\u5982\uff0c\u6211\u4eec\u56fd\u5bb6\u7684\u8eab\u4efd\u8bc1\u53f7</p> <p>\u7b2c\u4e00\u79cd\u65b9\u5f0f\u662f\u4f7f\u7528\u5012\u5e8f\u5b58\u50a8</p> <p>\u5982\u679c\u4f60\u5b58\u50a8\u8eab\u4efd\u8bc1\u53f7\u7684\u65f6\u5019\u628a\u5b83\u5012\u8fc7\u6765\u5b58\uff0c\u6bcf\u6b21\u67e5\u8be2\u7684\u65f6\u5019\uff0c\u4f60\u53ef\u4ee5\u8fd9\u4e48\u5199\uff1a</p> <pre><code>select field_list from t where id_card = reverse(\u2018input_id_card_string\u2019);\n</code></pre> <p>\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u662f\u4f7f\u7528 hash \u5b57\u6bb5</p> <p>\u4f60\u53ef\u4ee5\u5728\u8868\u4e0a\u518d\u521b\u5efa\u4e00\u4e2a\u6574\u6570\u5b57\u6bb5\uff0c\u6765\u4fdd\u5b58\u8eab\u4efd\u8bc1\u7684\u6821\u9a8c\u7801\uff0c\u540c\u65f6\u5728\u8fd9\u4e2a\u5b57\u6bb5\u4e0a\u521b\u5efa\u7d22\u5f15\u3002</p> <pre><code>alter table t add id_card_crc int unsigned, add index(id_card_crc);\n</code></pre> <p>\u7136\u540e\u6bcf\u6b21\u63d2\u5165\u65b0\u8bb0\u5f55\u7684\u65f6\u5019\uff0c\u90fd\u540c\u65f6\u7528 crc32() \u8fd9\u4e2a\u51fd\u6570\u5f97\u5230\u6821\u9a8c\u7801\u586b\u5230\u8fd9\u4e2a\u65b0\u5b57\u6bb5</p> <p>\u7531\u4e8e\u6821\u9a8c\u7801\u53ef\u80fd\u5b58\u5728\u51b2\u7a81\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e24\u4e2a\u4e0d\u540c\u7684\u8eab\u4efd\u8bc1\u53f7\u901a\u8fc7 crc32() \u51fd\u6570\u5f97\u5230\u7684\u7ed3\u679c\u53ef\u80fd\u662f\u76f8\u540c\u7684\uff0c\u6240 \u4ee5\u4f60\u7684\u67e5\u8be2\u8bed\u53e5 where \u90e8\u5206\u8981\u5224\u65ad id_card \u7684\u503c\u662f\u5426\u7cbe\u786e\u76f8\u540c\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_35","title":"\u5c0f\u7ed3","text":"<p>\u5728\u4eca\u5929\u8fd9\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u8ddf\u4f60\u804a\u4e86\u804a\u5b57\u7b26\u4e32\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15\u7684\u573a\u666f\u3002\u6211\u4eec\u6765\u56de\u987e\u4e00\u4e0b\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u7684\u65b9\u5f0f\u6709\uff1a</p> <ol> <li>\u76f4\u63a5\u521b\u5efa\u5b8c\u6574\u7d22\u5f15\uff0c\u8fd9\u6837\u53ef\u80fd\u6bd4\u8f83\u5360\u7528\u7a7a\u95f4\u3002</li> <li>\u521b\u5efa\u524d\u7f00\u7d22\u5f15\uff0c\u8282\u7701\u7a7a\u95f4\uff0c\u4f46\u4f1a\u589e\u52a0\u67e5\u8be2\u626b\u63cf\u6b21\u6570\uff0c\u5e76\u4e14\u4e0d\u80fd\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\u3002</li> <li>\u5012\u5e8f\u5b58\u50a8\uff0c\u518d\u521b\u5efa\u524d\u7f00\u7d22\u5f15\uff0c\u7528\u4e8e\u7ed5\u8fc7\u5b57\u7b26\u4e32\u672c\u8eab\u524d\u7f00\u7684\u533a\u5206\u5ea6\u4e0d\u591f\u7684\u95ee\u9898\u3002</li> <li>\u521b\u5efa hash \u5b57\u6bb5\u7d22\u5f15\uff0c\u67e5\u8be2\u6027\u80fd\u7a33\u5b9a\uff0c\u6709\u989d\u5916\u7684\u5b58\u50a8\u548c\u8ba1\u7b97\u6d88\u8017\uff0c\u8ddf\u7b2c\u4e09\u79cd\u65b9\u5f0f\u4e00\u6837\uff0c\u90fd\u4e0d\u652f\u6301\u8303\u56f4\u626b\u63cf\u3002</li> </ol> <p>\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u4f60\u8981\u6839\u636e\u4e1a\u52a1\u5b57\u6bb5\u7684\u7279\u70b9\u9009\u62e9\u4f7f\u7528\u54ea\u79cd\u65b9\u5f0f\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#12-mysql","title":"12 | \u4e3a\u4ec0\u4e48\u6211\u7684 MySQL \u4f1a \u201c\u6296\u201d \u4e00\u4e0b","text":"<p>InnoDB \u5728\u5904\u7406\u66f4\u65b0\u8bed\u53e5\u7684\u65f6\u5019\uff0c\u53ea\u505a\u4e86\u5199\u65e5\u5fd7\u8fd9\u4e00\u4e2a\u78c1\u76d8\u64cd\u4f5c\u3002\u8fd9\u4e2a\u65e5\u5fd7\u53eb\u4f5c redo log\uff08\u91cd\u505a\u65e5\u5fd7\uff09\u3002InnoDB \u5728\u5904\u7406\u66f4\u65b0\u8bed\u53e5\u7684\u65f6\u5019\uff0c\u53ea\u505a\u4e86\u5199\u65e5\u5fd7\u8fd9\u4e00\u4e2a\u78c1\u76d8\u64cd\u4f5c\uff0c\u5728\u66f4\u65b0\u5185\u5b58\u5199\u5b8c redo log \u540e\uff0c\u5c31\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\uff0c\u672c\u6b21\u66f4\u65b0\u6210\u529f\u3002</p> <p>\u638c\u67dc\u603b\u8981\u627e\u65f6\u95f4\u628a\u8d26\u672c\u66f4\u65b0\u4e00\u4e0b\uff0c\u8fd9\u5bf9\u5e94\u7684\u5c31\u662f\u628a\u5185\u5b58\u91cc\u7684\u6570\u636e\u5199\u5165\u78c1\u76d8\u7684\u8fc7\u7a0b\uff0c\u672f\u8bed\u5c31\u662f flush\u3002</p> <p>\u5728\u8fd9\u4e2a flush \u64cd\u4f5c\u6267\u884c\u4e4b\u524d\uff0c\u5b54\u4e59\u5df1\u7684\u8d4a\u8d26\u603b\u989d\uff0c\u5176\u5b9e\u8ddf\u638c\u67dc\u624b\u4e2d\u8d26\u672c\u91cc\u9762\u7684\u8bb0\u5f55\u662f\u4e0d\u4e00\u81f4\u7684\u3002\u56e0\u4e3a\u5b54\u4e59\u5df1\u4eca\u5929\u7684\u8d4a\u8d26\u91d1\u989d\u8fd8\u53ea\u5728\u7c89\u677f\u4e0a\uff0c\u800c\u8d26\u672c\u91cc\u7684\u8bb0\u5f55\u662f\u8001\u7684\uff0c\u8fd8\u6ca1\u628a\u4eca\u5929\u7684\u8d4a\u8d26 \u7b97\u8fdb\u53bb\u3002</p> <p>\u5f53\u5185\u5b58\u6570\u636e\u9875\u8ddf\u78c1\u76d8\u6570\u636e\u9875\u5185\u5bb9\u4e0d\u4e00\u81f4\u7684\u65f6\u5019\uff0c\u6211\u4eec\u79f0\u8fd9\u4e2a\u5185\u5b58\u9875\u4e3a\u201c\u810f\u9875\u201d\u3002\u5185\u5b58\u6570\u636e\u5199\u5165\u5230 \u78c1\u76d8\u540e\uff0c\u5185\u5b58\u548c\u78c1\u76d8\u4e0a\u7684\u6570\u636e\u9875\u7684\u5185\u5bb9\u5c31\u4e00\u81f4\u4e86\uff0c\u79f0\u4e3a\u201c\u5e72\u51c0\u9875\u201d\u3002</p> <p>\u4e0d\u8bba\u662f\u810f\u9875\u8fd8\u662f\u5e72\u51c0\u9875\uff0c\u90fd\u5728\u5185\u5b58\u4e2d\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\uff0c\u5185\u5b58\u5bf9\u5e94\u7684\u5c31\u662f\u638c\u67dc\u7684\u8bb0\u5fc6\u3002</p> <p>MySQL \u5076\u5c14\u201c\u6296\u201d\u4e00\u4e0b\u7684\u90a3\u4e2a\u77ac\u95f4\uff0c\u53ef\u80fd\u5c31\u662f\u5728\u5237\u810f\u9875\uff08flush\uff09\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#flush","title":"\u4ec0\u4e48\u60c5\u51b5\u4f1a\u5f15\u53d1\u6570\u636e\u5e93\u7684 flush \u8fc7\u7a0b","text":"<ul> <li>\u7b2c\u4e00\u79cd\u573a\u666f\u662f\uff0cInnoDB \u7684 redo log \u5199\u6ee1\u4e86</li> </ul> <p>\u628a checkpoint \u4f4d\u7f6e\u4ece CP \u63a8\u8fdb\u5230 CP\u2019\uff0c\u5c31\u9700\u8981\u5c06\u4e24\u4e2a\u70b9\u4e4b\u95f4\u7684\u65e5\u5fd7\uff08\u6d45\u7eff\u8272\u90e8\u5206\uff09\uff0c\u5bf9\u5e94\u7684\u6240\u6709\u810f\u9875\u90fd flush \u5230\u78c1\u76d8</p> <ul> <li> <p>\u7b2c\u4e8c\u79cd\u573a\u666f\uff0c\u638c\u67dc\u53d1\u73b0\u81ea\u5df1\u5feb\u8bb0\u4e0d\u4f4f\u4e86\uff0c\u7cfb\u7edf\u5185\u5b58\u4e0d\u8db3</p> </li> <li> <p>\u7b2c\u4e09\u79cd\u573a\u666f\u662f\uff0cMySQL \u8ba4\u4e3a\u7cfb\u7edf\u201c\u7a7a\u95f2\u201d\u7684\u65f6\u5019</p> </li> <li> <p>\u7b2c\u56db\u79cd\u573a\u666f\uff0cMySQL \u6b63\u5e38\u5173\u95ed\u7684</p> </li> </ul> <p>\u7b2c\u4e00\u79cd\u662f\u201credo log \u5199\u6ee1\u4e86\uff0c\u8981 flush \u810f\u9875\u201d\uff0c\u8fd9\u79cd\u60c5\u51b5\u662f InnoDB \u8981\u5c3d\u91cf\u907f\u514d\u7684\u3002\u56e0\u4e3a\u51fa\u73b0 \u8fd9\u79cd\u60c5\u51b5\u7684\u65f6\u5019\uff0c\u6574\u4e2a\u7cfb\u7edf\u5c31\u4e0d\u80fd\u518d\u63a5\u53d7\u66f4\u65b0\u4e86\uff0c\u6240\u6709\u7684\u66f4\u65b0\u90fd\u5fc5\u987b\u5835\u4f4f\u3002\u5982\u679c\u4f60\u4ece\u76d1\u63a7\u4e0a\u770b\uff0c \u8fd9\u65f6\u5019\u66f4\u65b0\u6570\u4f1a\u8dcc\u4e3a 0</p> <p>\u7b2c\u4e8c\u79cd\u662f\u201c\u5185\u5b58\u4e0d\u591f\u7528\u4e86\uff0c\u8981\u5148\u5c06\u810f\u9875\u5199\u5230\u78c1\u76d8\u201d\uff0c\u8fd9\u79cd\u60c5\u51b5\u5176\u5b9e\u662f\u5e38\u6001\u3002InnoDB \u7528\u7f13\u51b2\u6c60 \uff08buffer pool\uff09\u7ba1\u7406\u5185\u5b58\uff0c\u7f13\u51b2\u6c60\u4e2d\u7684\u5185\u5b58\u9875\u6709\u4e09\u79cd\u72b6\u6001\uff1a</p> <p>\u7b2c\u4e00\u79cd\u662f\uff0c\u8fd8\u6ca1\u6709\u4f7f\u7528\u7684</p> <p>\u7b2c\u4e8c\u79cd\u662f\uff0c\u4f7f\u7528\u4e86\u5e76\u4e14\u662f\u5e72\u51c0\u9875</p> <p>\u7b2c\u4e09\u79cd\u662f\uff0c\u4f7f\u7528\u4e86\u5e76\u4e14\u662f\u810f\u9875</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#flush_1","title":"flush \u7684\u76f8\u5173\u53c2\u6570","text":"<p>innodb_io_capacity</p> <p>\u9996\u5148\uff0c\u4f60\u8981\u6b63\u786e\u5730\u544a\u8bc9 InnoDB \u6240\u5728\u4e3b\u673a\u7684 IO \u80fd\u529b\uff0c\u8fd9\u6837 InnoDB \u624d\u80fd\u77e5\u9053\u9700\u8981\u5168\u529b\u5237\u810f\u9875\u7684 \u65f6\u5019\uff0c\u53ef\u4ee5\u5237\u591a\u5feb\u3002\u4e00\u822c\u8bbe\u7f6e\u6210\u78c1\u76d8\u7684 IOPS\uff0c\u78c1\u76d8\u7684 IOPS \u53ef\u4ee5\u901a\u8fc7 fio \u8fd9\u4e2a\u5de5\u5177\u6765\u6d4b\u8bd5</p> <p>innodb_max_dirty_pages_pct </p> <p>\u662f\u810f\u9875\u6bd4\u4f8b\u4e0a\u9650\uff0c\u9ed8\u8ba4\u503c\u662f 75%</p> <p>\u6839\u636e\u4e0a\u8ff0\u7b97\u5f97\u7684 F1(M) \u548c F2(N) \u4e24\u4e2a\u503c\uff0c\u53d6\u5176\u4e2d\u8f83\u5927\u7684\u503c\u8bb0\u4e3a R\uff0c\u4e4b\u540e\u5f15\u64ce\u5c31\u53ef\u4ee5\u6309\u7167 innodb_io_capacity \u5b9a\u4e49\u7684\u80fd\u529b\u4e58\u4ee5 R% \u6765\u63a7\u5236\u5237\u810f\u9875\u7684\u901f\u5ea6\u3002</p> <p>\u5e73\u65f6\u8981\u591a\u5173\u6ce8\u810f\u9875\u6bd4 \u4f8b\uff0c\u4e0d\u8981\u8ba9\u5b83\u7ecf\u5e38\u63a5\u8fd1 75%\u3002</p> <p>\u810f\u9875\u6bd4\u4f8b\u662f\u901a\u8fc7 Innodb_buffer_pool_pages_dirty/Innodb_buffer_pool_pages_total \u5f97\u5230\u7684</p> <p>innodb_flush_neighbors</p> <p>\u800c MySQL \u4e2d\u7684\u4e00\u4e2a\u673a\u5236\uff0c\u53ef\u80fd\u8ba9\u4f60\u7684\u67e5\u8be2\u4f1a\u66f4\u6162</p> <p>\u5728\u51c6\u5907\u5237\u4e00\u4e2a\u810f\u9875\u7684\u65f6\u5019\uff0c\u5982\u679c\u8fd9\u4e2a\u6570\u636e\u9875\u65c1\u8fb9\u7684\u6570\u636e\u9875\u521a\u597d\u662f\u810f\u9875\uff0c\u5c31\u4f1a\u628a\u8fd9\u4e2a\u201c\u90bb\u5c45\u201d\u4e5f\u5e26\u7740\u4e00\u8d77\u5237\u6389\u3002\u800c\u4e14\u8fd9\u4e2a\u628a\u201c\u90bb\u5c45\u201d\u62d6\u4e0b\u6c34\u7684\u903b \u8f91\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u8513\u5ef6\uff0c\u4e5f\u5c31\u662f\u5bf9\u4e8e\u6bcf\u4e2a\u90bb\u5c45\u6570\u636e\u9875\uff0c\u5982\u679c\u8ddf\u5b83\u76f8\u90bb\u7684\u6570\u636e\u9875\u4e5f\u8fd8\u662f\u810f\u9875\u7684\u8bdd\uff0c\u4e5f\u4f1a \u88ab\u653e\u5230\u4e00\u8d77\u5237\u3002</p> <p>\u503c\u4e3a 1 \u7684\u65f6\u5019\u4f1a\u6709\u4e0a \u8ff0\u7684\u201c\u8fde\u5750\u201d\u673a\u5236\uff0c\u503c\u4e3a 0 \u65f6\u8868\u793a\u4e0d\u627e\u90bb\u5c45\uff0c\u81ea\u5df1\u5237\u81ea\u5df1\u7684\u3002</p> <p>\u627e\u201c\u90bb\u5c45\u201d\u8fd9\u4e2a\u4f18\u5316\u5728\u673a\u68b0\u786c\u76d8\u65f6\u4ee3\u662f\u5f88\u6709\u610f\u4e49\u7684\uff0c\u53ef\u4ee5\u51cf\u5c11\u5f88\u591a\u968f\u673a IO</p> <p>\u800c\u5982\u679c\u4f7f\u7528\u7684\u662f SSD \u8fd9\u7c7b IOPS \u6bd4\u8f83\u9ad8\u7684\u8bbe\u5907\u7684\u8bdd\uff0c\u6211\u5c31\u5efa\u8bae\u4f60\u628a innodb_flush_neighbors \u7684\u503c\u8bbe\u7f6e\u6210 0\u3002\u56e0\u4e3a\u8fd9\u65f6\u5019 IOPS \u5f80\u5f80\u4e0d\u662f\u74f6\u9888\uff0c\u800c\u201c\u53ea\u5237\u81ea\u5df1\u201d\uff0c\u5c31\u80fd\u66f4\u5feb\u5730\u6267\u884c\u5b8c\u5fc5\u8981\u7684\u5237 \u810f\u9875\u64cd\u4f5c\uff0c\u51cf\u5c11 SQL \u8bed\u53e5\u54cd\u5e94\u65f6\u95f4\u3002</p> <p>\u5728 MySQL 8.0 \u4e2d\uff0cinnodb_flush_neighbors \u53c2\u6570\u7684\u9ed8\u8ba4\u503c\u5df2\u7ecf\u662f 0 \u4e86\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_36","title":"\u5c0f\u7ed3","text":"<p>\u4eca\u5929\u8fd9\u7bc7\u6587\u7ae0\uff0c\u6211\u5ef6\u7eed\u7b2c 2 \u7bc7\u4e2d\u4ecb\u7ecd\u7684 WAL \u7684\u6982\u5ff5\uff0c\u548c\u4f60\u89e3\u91ca\u4e86\u8fd9\u4e2a\u673a\u5236\u540e\u7eed\u9700\u8981\u7684\u5237\u810f\u9875\u64cd\u4f5c\u548c\u6267\u884c\u65f6\u673a\u3002\u5229\u7528 WAL \u6280\u672f\uff0c\u6570\u636e\u5e93\u5c06\u968f\u673a\u5199\u8f6c\u6362\u6210\u4e86\u987a\u5e8f\u5199\uff0c\u5927\u5927\u63d0\u5347\u4e86\u6570\u636e\u5e93\u7684\u6027\u80fd\u3002</p> <p>\u4f46\u662f\uff0c\u7531\u6b64\u4e5f\u5e26\u6765\u4e86\u5185\u5b58\u810f\u9875\u7684\u95ee\u9898\u3002\u810f\u9875\u4f1a\u88ab\u540e\u53f0\u7ebf\u7a0b\u81ea\u52a8 flush\uff0c\u4e5f\u4f1a\u7531\u4e8e\u6570\u636e\u9875\u6dd8\u6c70\u800c\u89e6\u53d1 flush\uff0c\u800c\u5237\u810f\u9875\u7684\u8fc7\u7a0b\u7531\u4e8e\u4f1a\u5360\u7528\u8d44\u6e90\uff0c\u53ef\u80fd\u4f1a\u8ba9\u4f60\u7684\u66f4\u65b0\u548c\u67e5\u8be2\u8bed\u53e5\u7684\u54cd\u5e94\u65f6\u95f4\u957f\u4e00\u4e9b\u3002 \u5728\u6587\u7ae0\u91cc\uff0c\u6211\u4e5f\u7ed9\u4f60\u4ecb\u7ecd\u4e86\u63a7\u5236\u5237\u810f\u9875\u7684\u65b9\u6cd5\u548c\u5bf9\u5e94\u7684\u76d1\u63a7\u65b9\u5f0f\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#13","title":"13 | \u4e3a\u4ec0\u4e48\u8868\u6570\u636e\u5220\u6389\u4e00\u534a\uff0c\u8868\u6587\u4ef6\u5927\u5c0f\u4e0d\u53d8\uff1f","text":"<p>\u6b63\u786e\u56de\u6536\u7a7a\u95f4\u7684\u65b9\u6cd5</p> <p>\u4e3a\u4ec0\u4e48\u7b80\u5355\u5730\u5220\u9664\u8868\u6570\u636e\u8fbe\u4e0d\u5230\u8868\u7a7a\u95f4\u56de\u6536\u7684\u6548\u679c</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#innodb_file_per_table","title":"innodb_file_per_table","text":"<p>\u8868\u6570\u636e\u65e2\u53ef\u4ee5\u5b58\u5728\u5171\u4eab\u8868\u7a7a\u95f4\u91cc\uff0c\u4e5f\u53ef\u4ee5\u662f\u5355\u72ec\u7684\u6587\u4ef6\u3002\u8fd9\u4e2a\u884c\u4e3a\u662f\u7531\u53c2\u6570 innodb_file_per_table \u63a7\u5236\u7684\uff1a</p> <ol> <li> <p>\u8fd9\u4e2a\u53c2\u6570\u8bbe\u7f6e\u4e3a OFF \u8868\u793a\u7684\u662f\uff0c\u8868\u7684\u6570\u636e\u653e\u5728\u7cfb\u7edf\u5171\u4eab\u8868\u7a7a\u95f4\uff0c\u4e5f\u5c31\u662f\u8ddf\u6570\u636e\u5b57\u5178\u653e\u5728\u4e00 \u8d77\uff1b</p> </li> <li> <p>\u8fd9\u4e2a\u53c2\u6570\u8bbe\u7f6e\u4e3a ON \u8868\u793a\u7684\u662f\uff0c\u6bcf\u4e2a InnoDB \u8868\u6570\u636e\u5b58\u50a8\u5728\u4e00\u4e2a\u4ee5 .ibd \u4e3a\u540e\u7f00\u7684\u6587\u4ef6\u4e2d\u3002</p> </li> </ol> <p>\u4ece MySQL 5.6.6 \u7248\u672c\u5f00\u59cb\uff0c\u5b83\u7684\u9ed8\u8ba4\u503c\u5c31\u662f ON \u4e86\u3002</p> <p>\u56e0\u4e3a\uff0c\u4e00\u4e2a\u8868\u5355\u72ec\u5b58\u50a8\u4e3a\u4e00\u4e2a \u6587\u4ef6\u66f4\u5bb9\u6613\u7ba1\u7406\uff0c\u800c\u4e14\u5728\u4f60\u4e0d\u9700\u8981\u8fd9\u4e2a\u8868\u7684\u65f6\u5019\uff0c\u901a\u8fc7 drop table \u547d\u4ee4\uff0c\u7cfb\u7edf\u5c31\u4f1a\u76f4\u63a5\u5220\u9664\u8fd9 \u4e2a\u6587\u4ef6\u3002\u800c\u5982\u679c\u662f\u653e\u5728\u5171\u4eab\u8868\u7a7a\u95f4\u4e2d\uff0c\u5373\u4f7f\u8868\u5220\u6389\u4e86\uff0c\u7a7a\u95f4\u4e5f\u662f\u4e0d\u4f1a\u56de\u6536</p> <p>\u5efa\u8bae\u4f60\u4e0d\u8bba\u4f7f\u7528 MySQL \u7684\u54ea\u4e2a\u7248\u672c\uff0c\u90fd\u5c06\u8fd9\u4e2a\u503c\u8bbe\u7f6e\u4e3a ON</p> <p>\u5728\u5220\u9664\u6574\u4e2a\u8868\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4f7f\u7528 drop table \u547d\u4ee4\u56de\u6536\u8868\u7a7a\u95f4\u3002\u4f46\u662f\uff0c\u6211\u4eec\u9047\u5230\u7684\u66f4\u591a\u7684\u5220 \u9664\u6570\u636e\u7684\u573a\u666f\u662f\u5220\u9664\u67d0\u4e9b\u884c\uff0c\u8fd9\u65f6\u5c31\u9047\u5230\u4e86\u6211\u4eec\u6587\u7ae0\u5f00\u5934\u7684\u95ee\u9898\uff1a\u8868\u4e2d\u7684\u6570\u636e\u88ab\u5220\u9664\u4e86\uff0c\u4f46\u662f\u8868\u7a7a\u95f4\u5374\u6ca1\u6709\u88ab\u56de\u6536\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_37","title":"\u6570\u636e\u5220\u9664\u6d41\u7a0b","text":"<p>\u6570\u636e\u9875\u7684\u590d\u7528\u8ddf\u8bb0\u5f55\u7684\u590d\u7528\u662f\u4e0d\u540c\u7684</p> <p>\u5982\u679c\u6211\u4eec\u7528 delete \u547d\u4ee4\u628a\u6574\u4e2a\u8868\u7684\u6570\u636e\u5220\u9664\u5462\uff1f\u7ed3\u679c\u5c31\u662f\uff0c\u6240\u6709\u7684\u6570\u636e\u9875\u90fd\u4f1a\u88ab\u6807 \u8bb0\u4e3a\u53ef\u590d\u7528\u3002\u4f46\u662f\u78c1\u76d8\u4e0a\uff0c\u6587\u4ef6\u4e0d\u4f1a\u53d8\u5c0f\u3002</p> <p>delete \u547d\u4ee4\u5176\u5b9e\u53ea\u662f\u628a\u8bb0\u5f55\u7684\u4f4d\u7f6e\uff0c\u6216\u8005\u6570\u636e\u9875\u6807\u8bb0\u4e3a\u4e86\u201c\u53ef\u590d\u7528\u201d\uff0c\u4f46\u78c1\u76d8 \u6587\u4ef6\u7684\u5927\u5c0f\u662f\u4e0d\u4f1a\u53d8\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u901a\u8fc7 delete \u547d\u4ee4\u662f\u4e0d\u80fd\u56de\u6536\u8868\u7a7a\u95f4\u7684\u3002\u8fd9\u4e9b\u53ef\u4ee5\u590d\u7528\uff0c\u800c \u6ca1\u6709\u88ab\u4f7f\u7528\u7684\u7a7a\u95f4\uff0c\u770b\u8d77\u6765\u5c31\u50cf\u662f\u201c\u7a7a\u6d1e\u201d\u3002</p> <p>\u4e0d\u6b62\u662f\u5220\u9664\u6570\u636e\u4f1a\u9020\u6210\u7a7a\u6d1e\uff0c\u63d2\u5165\u6570\u636e\u4e5f\u4f1a\u3002\u6240\u4ee5\uff0c\u5982\u679c\u80fd\u591f\u628a\u8fd9\u4e9b\u7a7a\u6d1e\u53bb\u6389\uff0c\u5c31 \u80fd\u8fbe\u5230\u6536\u7f29\u8868\u7a7a\u95f4\u7684\u76ee\u7684\u3002\u7ecf\u8fc7\u5927\u91cf\u589e\u5220\u6539\u7684\u8868\uff0c\u90fd\u662f\u53ef\u80fd\u662f\u5b58\u5728\u7a7a\u6d1e\u7684. \u800c\u91cd\u5efa\u8868\uff0c\u5c31\u53ef\u4ee5\u8fbe\u5230\u8fd9\u6837\u7684\u76ee\u7684\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_38","title":"\u91cd\u5efa\u8868","text":"<p>\u65b0\u5efa\u4e00\u4e2a\u4e0e\u8868 A \u7ed3\u6784\u76f8\u540c\u7684\u8868 B\uff0c\u7136\u540e\u6309\u7167\u4e3b\u952e ID \u9012\u589e\u7684\u987a\u5e8f\uff0c\u628a\u6570\u636e\u4e00\u884c\u4e00\u884c\u5730\u4ece\u8868 A \u91cc\u8bfb\u51fa\u6765\u518d\u63d2\u5165\u5230\u8868 B \u4e2d\u3002\u6570\u636e\u4ece\u8868 A \u5bfc\u5165\u8868 B \u7684\u64cd\u4f5c\u5b8c\u6210\u540e\uff0c\u7528\u8868 B \u66ff\u6362 A\uff0c\u4ece\u6548\u679c\u4e0a\u770b\uff0c\u5c31\u8d77\u5230\u4e86\u6536\u7f29\u8868 A \u7a7a\u95f4\u7684\u4f5c\u7528\u3002</p> <p>alter table A engine=InnoDB \u547d\u4ee4\u6765\u91cd\u5efa\u8868\u3002</p> <p>\u8fd9\u4e2a\u4e34\u65f6\u8868 B \u4e0d\u9700\u8981\u4f60\u81ea\u5df1\u521b\u5efa\uff0c MySQL \u4f1a\u81ea\u52a8\u5b8c\u6210\u8f6c\u5b58\u6570\u636e\u3001\u4ea4\u6362\u8868\u540d\u3001\u5220\u9664\u65e7\u8868\u7684\u64cd\u4f5c\u3002</p> <p>\u5728\u6574\u4e2a DDL \u8fc7\u7a0b\u4e2d\uff0c\u8868 A \u4e2d\u4e0d\u80fd\u6709\u66f4\u65b0\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c \u8fd9\u4e2a DDL \u4e0d\u662f Online \u7684\u3002</p> <p>MySQL 5.6 \u7248\u672c\u5f00\u59cb\u5f15\u5165\u7684 Online DDL, \u5bf9\u8fd9\u4e2a\u64cd\u4f5c\u6d41\u7a0b\u505a\u4e86\u4f18\u5316</p> <ol> <li> <p>\u751f\u6210\u4e34\u65f6\u6587\u4ef6\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u6240\u6709\u5bf9 A \u7684\u64cd\u4f5c\u8bb0\u5f55\u5728\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6\uff08row log\uff09\u4e2d</p> </li> <li> <p>\u4e34\u65f6\u6587\u4ef6\u751f\u6210\u540e\uff0c\u5c06\u65e5\u5fd7\u6587\u4ef6\u4e2d\u7684\u64cd\u4f5c\u5e94\u7528\u5230\u4e34\u65f6\u6587\u4ef6\uff0c\u5f97\u5230\u4e00\u4e2a\u903b\u8f91\u6570\u636e\u4e0a\u4e0e\u8868 A \u76f8\u540c \u7684\u6570\u636e\u6587\u4ef6</p> </li> </ol> <p>\u65b9\u6848\u5728\u91cd\u5efa\u8868\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5141\u8bb8\u5bf9\u8868 A \u505a\u589e\u5220\u6539\u64cd\u4f5c\u3002\u8fd9\u4e5f\u5c31\u662f Online DDL \u540d\u5b57\u7684\u6765\u6e90</p> <ul> <li>alter table t engine = InnoDB\uff08\u4e5f\u5c31\u662f recreate\uff09</li> <li>analyze table t \u53ea\u662f\u5bf9\u8868\u7684\u7d22\u5f15\u4fe1\u606f\u505a\u91cd\u65b0\u7edf\u8ba1</li> <li>optimize table t \u7b49\u4e8e recreate+analyze\u3002</li> </ul>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_39","title":"\u5c0f\u7ed3","text":"<p>\u4eca\u5929\u8fd9\u7bc7\u6587\u7ae0\uff0c\u6211\u548c\u4f60\u8ba8\u8bba\u4e86\u6570\u636e\u5e93\u4e2d\u6536\u7f29\u8868\u7a7a\u95f4\u7684\u65b9\u6cd5\u3002 \u73b0\u5728\u4f60\u5df2\u7ecf\u77e5\u9053\u4e86\uff0c\u5982\u679c\u8981\u6536\u7f29\u4e00\u4e2a\u8868\uff0c\u53ea\u662f delete \u6389\u8868\u91cc\u9762\u4e0d\u7528\u7684\u6570\u636e\u7684\u8bdd\uff0c\u8868\u6587\u4ef6\u7684\u5927\u5c0f \u662f\u4e0d\u4f1a\u53d8\u7684\uff0c\u4f60\u8fd8\u8981\u901a\u8fc7 alter table \u547d\u4ee4\u91cd\u5efa\u8868\uff0c\u624d\u80fd\u8fbe\u5230\u8868\u6587\u4ef6\u53d8\u5c0f\u7684\u76ee\u7684\u3002\u6211\u8ddf\u4f60\u4ecb\u7ecd\u4e86 \u91cd\u5efa\u8868\u7684\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff0cOnline DDL \u7684\u65b9\u5f0f\u662f\u53ef\u4ee5\u8003\u8651\u5728\u4e1a\u52a1\u4f4e\u5cf0\u671f\u4f7f\u7528\u7684\uff0c\u800c MySQL 5.5 \u53ca\u4e4b\u524d\u7684\u7248\u672c\uff0c\u8fd9\u4e2a\u547d\u4ee4\u662f\u4f1a\u963b\u585e DML \u7684\uff0c\u8fd9\u4e2a\u4f60\u9700\u8981\u7279\u522b\u5c0f\u5fc3\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#14-count","title":"14 | count (*) \u8fd9\u4e48\u6162\uff0c\u6211\u8be5\u600e\u4e48\u529e\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#count","title":"count(*) \u7684\u5b9e\u73b0\u65b9\u5f0f","text":"<p>MyISAM \u5f15\u64ce\u628a\u4e00\u4e2a\u8868\u7684\u603b\u884c\u6570\u5b58\u5728\u4e86\u78c1\u76d8\u4e0a\uff0c\u56e0\u6b64\u6267\u884c count(*) \u7684\u65f6\u5019\u4f1a\u76f4\u63a5\u8fd4\u56de\u8fd9\u4e2a \u6570\uff0c\u6548\u7387\u5f88\u9ad8\uff1b</p> <p>\u800c InnoDB \u5f15\u64ce\u5c31\u9ebb\u70e6\u4e86\uff0c\u5b83\u6267\u884c count(*) \u7684\u65f6\u5019\uff0c\u9700\u8981\u628a\u6570\u636e\u4e00\u884c\u4e00\u884c\u5730\u4ece\u5f15\u64ce\u91cc\u9762\u8bfb\u51fa \u6765\uff0c\u7136\u540e\u7d2f\u79ef\u8ba1\u6570\u3002</p> <p>\u6211\u4eec\u5728\u8fd9\u7bc7\u6587\u7ae0\u91cc\u8ba8\u8bba\u7684\u662f\u6ca1\u6709\u8fc7\u6ee4\u6761\u4ef6\u7684 count(*)\uff0c\u5982\u679c\u52a0\u4e86 where \u6761\u4ef6\u7684\u8bdd\uff0cMyISAM \u8868\u4e5f\u662f\u4e0d\u80fd\u8fd4\u56de\u5f97\u8fd9\u4e48\u5feb\u7684\u3002</p> <p>\u5373\u4f7f\u662f\u5728\u540c\u4e00\u4e2a\u65f6\u523b\u7684\u591a\u4e2a\u67e5\u8be2\uff0c\u7531\u4e8e\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff08MVCC\uff09\u7684\u539f\u56e0\uff0cInnoDB \u8868\u201c\u5e94\u8be5\u8fd4\u56de\u591a\u5c11\u884c\u201d\u4e5f\u662f\u4e0d\u786e\u5b9a\u7684</p> <p>\u5f53\u7136\uff0c\u73b0\u5728\u8fd9\u4e2a\u770b\u4e0a\u53bb\u7b28\u7b28\u7684 MySQL\uff0c\u5728\u6267\u884c count(*) \u64cd\u4f5c\u7684\u65f6\u5019\u8fd8\u662f\u505a\u4e86\u4f18\u5316\u7684\u3002</p> <p>InnoDB \u662f\u7d22\u5f15\u7ec4\u7ec7\u8868\uff0c\u4e3b\u952e\u7d22\u5f15\u6811\u7684\u53f6\u5b50\u8282\u70b9\u662f\u6570\u636e\uff0c\u800c\u666e\u901a\u7d22\u5f15\u6811\u7684\u53f6\u5b50\u8282\u70b9\u662f \u4e3b\u952e\u503c\u3002\u6240\u4ee5\uff0c\u666e\u901a\u7d22\u5f15\u6811\u6bd4\u4e3b\u952e\u7d22\u5f15\u6811\u5c0f\u5f88\u591a\u3002\u5bf9\u4e8e count(_) \u8fd9\u6837\u7684\u64cd\u4f5c\uff0c\u904d\u5386\u54ea\u4e2a\u7d22\u5f15\u6811\u5f97\u5230\u7684\u7ed3\u679c\u903b\u8f91\u4e0a\u90fd\u662f\u4e00\u6837\u7684\u3002\u56e0\u6b64\uff0c_MySQL \u4f18\u5316\u5668\u4f1a\u627e\u5230\u6700\u5c0f\u7684\u90a3\u68f5\u6811\u6765\u904d\u5386*\u3002\u5728\u4fdd\u8bc1\u903b\u8f91 \u6b63\u786e\u7684\u524d\u63d0\u4e0b\uff0c\u5c3d\u91cf\u51cf\u5c11\u626b\u63cf\u7684\u6570\u636e\u91cf\uff0c\u662f\u6570\u636e\u5e93\u7cfb\u7edf\u8bbe\u8ba1\u7684\u901a\u7528\u6cd5\u5219\u4e4b\u4e00\u3002</p> <ul> <li>MyISAM \u8868\u867d\u7136 count(*) \u5f88\u5feb\uff0c\u4f46\u662f\u4e0d\u652f\u6301\u4e8b\u52a1</li> <li>show table status \u547d\u4ee4\u867d\u7136\u8fd4\u56de\u5f88\u5feb\uff0c\u4f46\u662f\u4e0d\u51c6\u786e</li> <li>InnoDB \u8868\u76f4\u63a5 count(*) \u4f1a\u904d\u5386\u5168\u8868\uff0c\u867d\u7136\u7ed3\u679c\u51c6\u786e\uff0c\u4f46\u4f1a\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u3002</li> </ul>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#count_1","title":"count (*) \u8fd9\u4e48\u6162\uff0c\u6211\u4eec\u53ea\u80fd\u81ea\u5df1\u8ba1\u6570","text":"<p>\u5728\u6570\u636e\u5e93\u4fdd\u5b58\u8ba1\u6570</p> <p>\u8981\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u90fd\u662f\u7531\u4e8e InnoDB \u8981\u652f\u6301\u4e8b\u52a1\uff0c\u4ece\u800c\u5bfc\u81f4 InnoDB \u8868\u4e0d\u80fd\u628a count(*) \u76f4\u63a5\u5b58\u8d77\u6765\uff0c\u7136\u540e\u67e5\u8be2\u7684\u65f6\u5019\u76f4\u63a5\u8fd4\u56de\u5f62\u6210\u7684\u3002</p> <p>\u6240\u8c13\u4ee5\u5b50\u4e4b\u77db\u653b\u5b50\u4e4b\u76fe\uff0c\u73b0\u5728\u6211\u4eec\u5c31\u5229\u7528\u201c\u4e8b\u52a1\u201d\u8fd9\u4e2a\u7279\u6027\uff0c\u628a\u95ee\u9898\u89e3\u51b3\u6389\u3002</p> <p>\u5c06 \u63d2\u5165\u5220\u9664\u6570\u636e\u548c\u66f4\u65b0\u8ba1\u6570\u503c \u4f5c\u4e3a\u4e00\u4e2a\u4e8b\u52a1\u63d0\u4ea4\uff0c\u786e\u4fdd\u4efb\u4f55\u65f6\u523b\u83b7\u5f97\u7684\u90fd\u662f\u903b\u8f91\u6b63\u786e\u7684\u8ba1\u6570\u503c</p> <p></p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#count_2","title":"\u4e0d\u540c\u7684 count \u7528\u6cd5","text":"<p>\u5982\u679c count \u51fd\u6570\u7684\u53c2\u6570\u4e0d\u662f NULL\uff0c\u7d2f\u8ba1\u503c\u5c31\u52a0 1\uff0c\u5426\u5219\u4e0d\u52a0</p> <p>count(*)\u3001count(\u4e3b\u952e id) \u548c count(1) \u90fd\u8868\u793a\u8fd4\u56de\u6ee1\u8db3\u6761\u4ef6\u7684\u7ed3\u679c\u96c6\u7684\u603b\u884c\u6570\uff08\u56e0\u4e3a\u5b83\u4eec\u90fd\u4e0d\u80af\u4e3a null\uff09\uff1b\u800c count(\u5b57\u6bb5\uff09\uff0c\u5219\u8868\u793a\u8fd4\u56de\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u636e\u884c\u91cc\u9762\uff0c\u53c2\u6570\u201c\u5b57\u6bb5\u201d\u4e0d\u4e3a NULL \u7684\u603b\u4e2a\u6570\u3002</p> <p>\u73b0\u5728\u7684\u4f18\u5316\u5668\u53ea\u4f18\u5316\u4e86 count(*) \u7684\u8bed\u4e49\u4e3a\u201c\u53d6\u884c\u6570\u201d</p> <p>\u5bf9\u4e8e count(\u4e3b\u952e id) \u6765\u8bf4\uff0cInnoDB \u5f15\u64ce\u4f1a\u904d\u5386\u6574\u5f20\u8868\uff0c\u628a\u6bcf\u4e00\u884c\u7684 id \u503c\u90fd\u53d6\u51fa\u6765\uff0c\u8fd4\u56de\u7ed9 server \u5c42\u3002server \u5c42\u62ff\u5230 id \u540e\uff0c\u5224\u65ad\u662f\u4e0d\u53ef\u80fd\u4e3a\u7a7a\u7684\uff0c\u5c31\u6309\u884c\u7d2f\u52a0\u3002</p> <p>\u5bf9\u4e8e count(1) \u6765\u8bf4\uff0cInnoDB \u5f15\u64ce\u904d\u5386\u6574\u5f20\u8868\uff0c\u4f46\u4e0d\u53d6\u503c\u3002server \u5c42\u5bf9\u4e8e\u8fd4\u56de\u7684\u6bcf\u4e00\u884c\uff0c\u653e\u4e00 \u4e2a\u6570\u5b57\u201c1\u201d\u8fdb\u53bb\uff0c\u5224\u65ad\u662f\u4e0d\u53ef\u80fd\u4e3a\u7a7a\u7684\uff0c\u6309\u884c\u7d2f\u52a0\u3002</p> <p>count() \u662f\u4f8b\u5916\uff0c\u5e76\u4e0d\u4f1a\u628a\u5168\u90e8\u5b57\u6bb5\u53d6\u51fa\u6765\uff0c\u800c\u662f\u4e13\u95e8\u505a\u4e86\u4f18\u5316\uff0c\u4e0d\u53d6\u503c\u3002count() \u80af\u5b9a \u4e0d\u662f null\uff0c\u6309\u884c\u7d2f\u52a0\u3002</p> <p>\u6309\u7167\u6548\u7387\u6392\u5e8f\u7684\u8bdd\uff0ccount(\u5b57\u6bb5)&lt;count(\u4e3b\u952e id)&lt;count(1)\u2248count(*)\uff0c\u6240\u4ee5\u6211 \u5efa\u8bae\u4f60\uff0c\u5c3d\u91cf\u4f7f\u7528 count(*)</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#_40","title":"\u5c0f\u7ed3","text":"<p>\u4eca\u5929\uff0c\u6211\u548c\u4f60\u804a\u4e86\u804a MySQL \u4e2d\u83b7\u5f97\u8868\u884c\u6570\u7684\u4e24\u79cd\u65b9\u6cd5\u3002\u6211\u4eec\u63d0\u5230\u4e86\u5728\u4e0d\u540c\u5f15\u64ce\u4e2d count(*) \u7684 \u5b9e\u73b0\u65b9\u5f0f\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u4e5f\u5206\u6790\u4e86\u7528\u7f13\u5b58\u7cfb\u7edf\u6765\u5b58\u50a8\u8ba1\u6570\u503c\u5b58\u5728\u7684\u95ee\u9898\u3002</p> <p>\u5176\u5b9e\uff0c\u628a\u8ba1\u6570\u653e\u5728 Redis \u91cc\u9762\uff0c\u4e0d\u80fd\u591f\u4fdd\u8bc1\u8ba1\u6570\u548c MySQL \u8868\u91cc\u7684\u6570\u636e\u7cbe\u786e\u4e00\u81f4\u7684\u539f\u56e0\uff0c\u662f\u8fd9 \u4e24\u4e2a\u4e0d\u540c\u7684\u5b58\u50a8\u6784\u6210\u7684\u7cfb\u7edf\uff0c\u4e0d\u652f\u6301\u5206\u5e03\u5f0f\u4e8b\u52a1\uff0c\u65e0\u6cd5\u62ff\u5230\u7cbe\u786e\u4e00\u81f4\u7684\u89c6\u56fe\u3002\u800c\u628a\u8ba1\u6570\u503c\u4e5f\u653e\u5728 MySQL \u4e2d\uff0c\u5c31\u89e3\u51b3\u4e86\u4e00\u81f4\u6027\u89c6\u56fe\u7684\u95ee\u9898\u3002 InnoDB \u5f15\u64ce\u652f\u6301\u4e8b\u52a1\uff0c\u6211\u4eec\u5229\u7528\u597d\u4e8b\u52a1\u7684\u539f\u5b50\u6027\u548c\u9694\u79bb\u6027\uff0c\u5c31\u53ef\u4ee5\u7b80\u5316\u5728\u4e1a\u52a1\u5f00\u53d1\u65f6\u7684\u903b\u8f91\u3002 \u8fd9\u4e5f\u662f InnoDB \u5f15\u64ce\u5907\u53d7\u9752\u7750\u7684\u539f\u56e0\u4e4b\u4e00\u3002</p>"},{"location":"cs-life/middleware/database/backup/mysql-notes/#15","title":"15 | \u7b54\u7591\u6587\u7ae0\uff08\u4e00\uff09\uff1a\u65e5\u5fd7\u548c\u7d22\u5f15\u76f8\u5173\u95ee\u9898","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#16-order-by","title":"16 | \u201corder by\u201d \u662f\u600e\u4e48\u5de5\u4f5c\u7684\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#17","title":"17 | \u5982\u4f55\u6b63\u786e\u5730\u663e\u793a\u968f\u673a\u6d88\u606f\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#18-sql","title":"18 | \u4e3a\u4ec0\u4e48\u8fd9\u4e9b SQL \u8bed\u53e5\u903b\u8f91\u76f8\u540c\uff0c\u6027\u80fd\u5374\u5dee\u5f02\u5de8\u5927\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#19","title":"19 | \u4e3a\u4ec0\u4e48\u6211\u53ea\u67e5\u4e00\u884c\u7684\u8bed\u53e5\uff0c\u4e5f\u6267\u884c\u8fd9\u4e48\u6162\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#20","title":"20 | \u5e7b\u8bfb\u662f\u4ec0\u4e48\uff0c\u5e7b\u8bfb\u6709\u4ec0\u4e48\u95ee\u9898\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#21","title":"21 | \u4e3a\u4ec0\u4e48\u6211\u53ea\u6539\u4e00\u884c\u7684\u8bed\u53e5\uff0c\u9501\u8fd9\u4e48\u591a\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#22-mysql","title":"22 | MySQL \u6709\u54ea\u4e9b \u201c\u996e\u9e29\u6b62\u6e34\u201d \u63d0\u9ad8\u6027\u80fd\u7684\u65b9\u6cd5\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#23-mysql","title":"23 | MySQL \u662f\u600e\u4e48\u4fdd\u8bc1\u6570\u636e\u4e0d\u4e22\u7684\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#24-mysql","title":"24 | MySQL \u662f\u600e\u4e48\u4fdd\u8bc1\u4e3b\u5907\u4e00\u81f4\u7684\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#25-mysql","title":"25 | MySQL \u662f\u600e\u4e48\u4fdd\u8bc1\u9ad8\u53ef\u7528\u7684\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#26","title":"26 | \u5907\u5e93\u4e3a\u4ec0\u4e48\u4f1a\u5ef6\u8fdf\u597d\u51e0\u4e2a\u5c0f\u65f6\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#27","title":"27 | \u4e3b\u5e93\u51fa\u95ee\u9898\u4e86\uff0c\u4ece\u5e93\u600e\u4e48\u529e\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#28","title":"28 | \u8bfb\u5199\u5206\u79bb\u6709\u54ea\u4e9b\u5751\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#29","title":"29 | \u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u6570\u636e\u5e93\u662f\u4e0d\u662f\u51fa\u95ee\u9898\u4e86\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#30","title":"30 | \u7b54\u7591\u6587\u7ae0\uff08\u4e8c\uff09\uff1a\u7528\u52a8\u6001\u7684\u89c2\u70b9\u770b\u52a0\u9501","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#31","title":"31 | \u8bef\u5220\u6570\u636e\u540e\u9664\u4e86\u8dd1\u8def\uff0c\u8fd8\u80fd\u600e\u4e48\u529e\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#32-kill","title":"32 | \u4e3a\u4ec0\u4e48\u8fd8\u6709 kill \u4e0d\u6389\u7684\u8bed\u53e5\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#33","title":"33 | \u6211\u67e5\u8fd9\u4e48\u591a\u6570\u636e\uff0c\u4f1a\u4e0d\u4f1a\u628a\u6570\u636e\u5e93\u5185\u5b58\u6253\u7206\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#34-join","title":"34 | \u5230\u5e95\u53ef\u4e0d\u53ef\u4ee5\u4f7f\u7528 join\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#35-join","title":"35 | join \u8bed\u53e5\u600e\u4e48\u4f18\u5316\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#36","title":"36 | \u4e3a\u4ec0\u4e48\u4e34\u65f6\u8868\u53ef\u4ee5\u91cd\u540d\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#37","title":"37 | \u4ec0\u4e48\u65f6\u5019\u4f1a\u4f7f\u7528\u5185\u90e8\u4e34\u65f6\u8868\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#38-innodb-memory","title":"38 | \u90fd\u8bf4 InnoDB \u597d\uff0c\u90a3\u8fd8\u8981\u4e0d\u8981\u4f7f\u7528 Memory \u5f15\u64ce\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#39","title":"39 | \u81ea\u589e\u4e3b\u952e\u4e3a\u4ec0\u4e48\u4e0d\u662f\u8fde\u7eed\u7684\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#40-insert","title":"40 | insert \u8bed\u53e5\u7684\u9501\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u591a\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#41","title":"41 | \u600e\u4e48\u6700\u5feb\u5730\u590d\u5236\u4e00\u5f20\u8868\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#42-grant-flush-privileges","title":"42 | grant \u4e4b\u540e\u8981\u8ddf\u7740 flush privileges \u5417\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#43","title":"43 | \u8981\u4e0d\u8981\u4f7f\u7528\u5206\u533a\u8868\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#44","title":"44 | \u7b54\u7591\u6587\u7ae0\uff08\u4e09\uff09\uff1a\u8bf4\u4e00\u8bf4\u8fd9\u4e9b\u597d\u95ee\u9898","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#45-id","title":"45 | \u81ea\u589e id \u7528\u5b8c\u600e\u4e48\u529e\uff1f","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#_41","title":"\u5176\u4ed6\u8d44\u6599","text":""},{"location":"cs-life/middleware/database/backup/mysql-notes/#mysql-6","title":"MySQL 6 \u79cd\u65e5\u5fd7\u6587\u4ef6","text":"<p>MySQL \u4e2d\u7684\u91cd\u505a\u65e5\u5fd7\uff08redo log\uff09\uff0c\u56de\u6eda\u65e5\u5fd7\uff08undo log\uff09\uff0c\u4ee5\u53ca\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff08binlog\uff09\u7684\u7b80\u5355\u603b\u7ed3 - MSSQL123 - \u535a\u5ba2\u56ed</p>"},{"location":"cs-life/middleware/database/backup/sql/sql/","title":"sql\u7ec3\u4e60","text":""},{"location":"cs-life/middleware/database/backup/sql/sql/#table","title":"Table\u5b9a\u4e49","text":"<p>1.\u5b66\u751f\u8868</p> <p>Student(SId,Sname,Sage,Ssex)</p> <p>SId \u5b66\u751f\u7f16\u53f7,Sname \u5b66\u751f\u59d3\u540d,Sage \u51fa\u751f\u5e74\u6708,Ssex \u5b66\u751f\u6027\u522b</p> <p>2.\u8bfe\u7a0b\u8868</p> <p>Course(CId,Cname,TId)</p> <p>CId \u8bfe\u7a0b\u7f16\u53f7,Cname \u8bfe\u7a0b\u540d\u79f0,TId \u6559\u5e08\u7f16\u53f7</p> <p>3.\u6559\u5e08\u8868</p> <p>Teacher(TId,Tname)</p> <p>TId \u6559\u5e08\u7f16\u53f7,Tname \u6559\u5e08\u59d3\u540d</p> <p>4.\u6210\u7ee9\u8868</p> <p>SC(SId,CId,score)</p> <p>SId \u5b66\u751f\u7f16\u53f7,CId \u8bfe\u7a0b\u7f16\u53f7,score \u5206\u6570</p>"},{"location":"cs-life/middleware/database/backup/sql/sql/#01-0102","title":"01. \u67e5\u8be2\u8bfe\u7a0b01\u6bd4\u8bfe\u7a0b02\u6210\u7ee9\u9ad8\u7684\u5b66\u751f\u59d3\u540d\u53ca\u8bfe\u7a0b\u5206\u6570","text":"<pre><code>select c1.name, c1.score, c2.score\nfrom (\n    select s.Sname as name, sc.CId, sc.score\n    from Student as s, SC as sc\n    where sc.CId = \"01\" and sc.SID = s.SId\n) as c1, (\n    select s.Sname as name, sc.CId, sc.score\n    from Student as s, SC as sc\n    where sc.CId = \"02\" and sc.SID = s.SId\n) as c2\nwhere c1.score &gt; c2.score and c1.name = c2.name;\n</code></pre>"},{"location":"cs-life/middleware/database/backup/sql/sql/#02-0102","title":"02. \u67e5\u8be2\u540c\u65f6\u5b58\u5728\u8bfe\u7a0b01\u548c\u8bfe\u7a0b02\u7684\u60c5\u51b5","text":"<pre><code>select S1.name\nfrom (\n    select s.Sname as name, sc.CId, sc.score\n    from Student as s, SC as sc\n    where sc.CId = \"01\" and sc.SID = s.SId\n) as S1, (\n    select s.Sname as name, sc.CId, sc.score\n    from Student as s, SC as sc\n    where sc.CId = \"02\" and sc.SID = s.SId    \n) as S2\nwhere S1.name = S2.name;\n</code></pre>"},{"location":"cs-life/middleware/database/backup/sql/sql/#03-0102","title":"03. \u67e5\u8be2\u5b58\u5728\u8bfe\u7a0b01,\u4f46\u4e0d\u4e00\u5b9a\u5b58\u5728\u8bfe\u7a0b02\u7684\u60c5\u51b5","text":"<p>\u4f7f\u7528left join <pre><code>select *\nfrom (\n    select * from SC as sc where sc.CId = \"01\"\n) as S1\nleft join (\n    select * from SC as sc where sc.CId = \"02\"\n) as S2\non S1.SID = S2.SID;\n</code></pre></p>"},{"location":"cs-life/middleware/database/backup/sql/sql/#04-0201","title":"04. \u67e5\u8be2\u5b58\u5728\u8bfe\u7a0b02,\u4f46\u4e0d\u4e00\u5b9a\u5b58\u5728\u8bfe\u7a0b01\u7684\u60c5\u51b5","text":"<p>\u4f7f\u7528right join <pre><code>select *\nfrom (\n    select * from SC as sc where sc.CId = \"01\"\n) as S1\nright join (\n    select * from SC as sc where sc.CId = \"02\"\n) as S2\non S1.SID = S2.SID;\n</code></pre></p>"},{"location":"cs-life/middleware/database/backup/sql/sql/#table-schema","title":"table schema","text":"<p>Student</p> <pre><code>create table Student(SId varchar(10),Sname varchar(16),Sage datetime,Ssex varchar(10)) CHARSET=UTF8 ENGINE=InnoDB;\ninsert into Student values('01' , '01' , '1990-01-01' , '0');\ninsert into Student values('02' , '02' , '1990-12-21' , '0');\ninsert into Student values('03' , '03' , '1990-12-20' , '1');\ninsert into Student values('04' , '04' , '1990-12-06' , '1');\ninsert into Student values('05' , '05' , '1991-12-01' , '0');\ninsert into Student values('06' , '06' , '1992-01-01' , '0');\ninsert into Student values('07' , '07' , '1989-01-01' , '0');\ninsert into Student values('09' , '09' , '2017-12-20' , '0');\ninsert into Student values('10' , '10' , '2017-12-25' , '0');\ninsert into Student values('11' , '11' , '2012-06-06' , '0');\ninsert into Student values('12' , '12' , '2013-06-13' , '0');\ninsert into Student values('13' , '13' , '2014-06-01' , '0');\n</code></pre> <p>Course </p> <pre><code>create table Course(CId varchar(10),Cname nvarchar(10),TId varchar(10));\ninsert into Course values('01' , 'Chinese' , '02');\ninsert into Course values('02' , 'Math' , '01');\ninsert into Course values('03' , 'English' , '03');\n</code></pre> <p>Teacher</p> <pre><code>create table Teacher(TId varchar(10),Tname varchar(10));\ninsert into Teacher values('01' , 'Zhang san');\ninsert into Teacher values('02' , 'Li si');\ninsert into Teacher values('03' , 'Wang wu');\n</code></pre> <p>SC</p> <pre><code>create table SC(SId varchar(10),CId varchar(10),score decimal(18,1));\ninsert into SC values('01' , '01' , 80);\ninsert into SC values('01' , '02' , 90);\ninsert into SC values('01' , '03' , 99);\ninsert into SC values('02' , '01' , 70);\ninsert into SC values('02' , '02' , 60);\ninsert into SC values('02' , '03' , 80);\ninsert into SC values('03' , '01' , 80);\ninsert into SC values('03' , '02' , 80);\ninsert into SC values('03' , '03' , 80);\ninsert into SC values('04' , '01' , 50);\ninsert into SC values('04' , '02' , 30);\ninsert into SC values('04' , '03' , 20);\ninsert into SC values('05' , '01' , 76);\ninsert into SC values('05' , '02' , 87);\ninsert into SC values('06' , '01' , 31);\ninsert into SC values('06' , '03' , 34);\ninsert into SC values('07' , '02' , 89);\ninsert into SC values('07' , '03' , 98);\n</code></pre>"},{"location":"cs-life/middleware/database/backup/sql/sql/#sql_1","title":"SQL\u8bad\u7ec3","text":""},{"location":"cs-life/middleware/database/backup/sql/sql/#mysql","title":"\u90e8\u7f72mysql","text":"<pre><code>docker run -it --name mysql -e MYSQL_ROOT_PASSWORD=123456 -p 3306:3306 -d mysql/mysql-server\n\ndocker exec -it ${containerName} bash\n\ncreate database demo;\n\ncreate table user ( id bigint primary key auto_increment, name varchar(15));\n\ninsert into user(`name`) values ('a'), ('b');\n</code></pre>"},{"location":"cs-life/middleware/database/backup/sql/sql/#distinct","title":"distinct","text":"<p>\u539f\u59cb\u6570\u636e</p> <pre><code>mysql&gt; select * from user;\n+----+------+\n| id | name |\n+----+------+\n|  1 | a    |\n|  2 | b    |\n|  3 | c    |\n|  4 | a    |\n+----+------+\n4 rows in set (0.00 sec)\n</code></pre> <p>distinct\u4e00\u4e2a\u5b57\u6bb5</p> <pre><code>mysql&gt; select distinct name from user;\n+------+\n| name |\n+------+\n| a    |\n| b    |\n| c    |\n+------+\n3 rows in set (0.00 sec)\n</code></pre> <p>distinct \u4e0d\u52a0\u62ec\u53f7\uff0c\u591a\u4e2a\u5b57\u6bb5</p> <pre><code>mysql&gt; select distinct name,id from user;\n+------+----+\n| name | id |\n+------+----+\n| a    |  1 |\n| b    |  2 |\n| c    |  3 |\n| a    |  4 |\n+------+----+\n4 rows in set (0.00 sec)\n</code></pre>"},{"location":"cs-life/middleware/database/backup/sql/sql/#rank","title":"rank \u51fd\u6570","text":"<p>\u539f\u59cb\u6570\u636e</p> <pre><code>mysql&gt; select * from user;\n+----+------+\n| id | name |\n+----+------+\n|  1 | a    |\n|  2 | b    |\n|  3 | c    |\n|  4 | a    |\n+----+------+\n4 rows in set (0.00 sec)\n</code></pre> <p>rank \u64cd\u4f5c</p> <pre><code>mysql&gt; select\n    -&gt; name,\n    -&gt; rank() over ( order by name asc) rk\n    -&gt; from\n    -&gt; user;\n+------+----+\n| name | rk |\n+------+----+\n| a    |  1 |\n| a    |  1 |\n| b    |  3 |\n| c    |  4 |\n+------+----+\n4 rows in set (0.00 sec)\n</code></pre> <p>rank\u64cd\u4f5c <pre><code>mysql&gt; select id, name,  rank() over ( partition by id % 2 order by name asc) rk from  user;\n+----+------+----+\n| id | name | rk |\n+----+------+----+\n|  4 | a    |  1 |\n|  2 | b    |  2 |\n|  1 | a    |  1 |\n|  3 | c    |  2 |\n+----+------+----+\n4 rows in set (0.00 sec)\n</code></pre></p>"},{"location":"cs-life/middleware/database/backup/sql/%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9/","title":"\u5e73\u5747\u6210\u7ee9","text":"<p>\u6210\u7ee9\u8868SC\uff0c\u5176\u4e2d\u8bed\u6587\u7f16\u53f7\u4e3a1\uff08S\uff0cC\uff0cscore\uff09S\u5b66\u751f\u7f16\u53f7\u3001C\u8bfe\u7a0b\u7f16\u53f7\u3001score\u5206\u6570 \u627e\u51fa \u8bed\u6587\u6210\u7ee9\u53ca\u683c\u3001\u5e73\u5747\u6210\u7ee9\u4e0d\u53ca\u683c\u7684\u5b66\u751f\u7f16\u53f7</p> <pre><code>create table SC (\n    S int,\n    C int,\n    score int\n);\n\ninsert into SC(`S`, `C`, `score`) values \n    (1, 1, 90),\n    (1, 2, 80),\n    (1, 3, 90),\n    (2, 1, 60),\n    (2, 2, 30),\n    (2, 3, 30),\n    (3, 1, 80),\n    (3, 2, 0),\n    (3, 3, 0),\n    (4, 1, 10),\n    (4, 2, 10),\n    (4, 3, 10);\n\nselect S from SC \nwhere C = 1 and score &gt;= 60 and S in (\n        select S from SC \n        group by S \n        having avg(score) &lt; 60\n    );\n</code></pre>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/","title":"MySQL\u6280\u672f\u5185\u5e55 InnoDB\u5b58\u50a8\u5f15\u64ce \u7b2c2\u7248","text":""},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#_1","title":"\u73af\u5883\u5b89\u88c5","text":"<p><code>docker-compose --file docker-compose.yml up -d</code> \u542f\u52a8mysql\u5bb9\u5668</p> <p>docker-compose.yml\u6587\u4ef6\u5982\u4e0b</p> <p>volumes\u91cc\u9762\u6302\u8f7d\u4e86\u4e24\u4e2a\u76ee\u5f55 - \u914d\u7f6e\u6587\u4ef6<code>~/data/mysql/conf/my.cnf</code>\uff0c - \u6570\u636e\u76ee\u5f55\uff0c\u65b9\u4fbf\u5728\u5bbf\u4e3b\u673a\u770b\u5230\u6570\u636e <code>~/data/mysql/data</code></p> <p><pre><code>version: \"3\"\n\nservices:\n  mysql:\n    image: mysql:5.7\n    command: --default-authentication-plugin=mysql_native_password --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci\n    restart: always\n    ports:\n      - 3306:3306\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n    volumes:\n      - ~/data/mysql/conf/my.cnf:/etc/mysql/my.cnf\n      - ~/data/mysql/data:/var/lib/mysql\n</code></pre> <code>mysql -u root -p root</code> \u8fde\u63a5\u5230mysql\uff0c\u67e5\u770binnodb\u5f15\u64ce \u60c5\u51b5</p> <pre><code>&gt; show engine INNODB STATUS\\G\n\n***************************[ 1. row ]***************************\nType   | InnoDB\nName   |\nStatus |\n=====================================\n2022-06-04 14:51:57 0x7faf007f8700 INNODB MONITOR OUTPUT\n=====================================\nPer second averages calculated from the last 53 seconds\n-----------------\nBACKGROUND THREAD\n-----------------\nsrv_master_thread loops: 2 srv_active, 0 srv_shutdown, 267 srv_idle\nsrv_master_thread log flush and writes: 269\n----------\nSEMAPHORES\n----------\nOS WAIT ARRAY INFO: reservation count 2\nOS WAIT ARRAY INFO: signal count 2\nRW-shared spins 0, rounds 4, OS waits 2\nRW-excl spins 0, rounds 0, OS waits 0\nRW-sx spins 0, rounds 0, OS waits 0\nSpin rounds per wait: 4.00 RW-shared, 0.00 RW-excl, 0.00 RW-sx\n------------\nTRANSACTIONS\n------------\nTrx id counter 1795\nPurge done for trx's n:o &lt; 0 undo n:o &lt; 0 state: running but idle\nHistory list length 0\nLIST OF TRANSACTIONS FOR EACH SESSION:\n---TRANSACTION 421865085982560, not started\n0 lock struct(s), heap size 1136, 0 row lock(s)\n--------\nFILE I/O\n--------\nI/O thread 0 state: waiting for completed aio requests (insert buffer thread)\nI/O thread 1 state: waiting for completed aio requests (log thread)\nI/O thread 2 state: waiting for completed aio requests (read thread)\nI/O thread 3 state: waiting for completed aio requests (read thread)\nI/O thread 4 state: waiting for completed aio requests (read thread)\nI/O thread 5 state: waiting for completed aio requests (read thread)\nI/O thread 6 state: waiting for completed aio requests (write thread)\nI/O thread 7 state: waiting for completed aio requests (write thread)\nI/O thread 8 state: waiting for completed aio requests (write thread)\nI/O thread 9 state: waiting for completed aio requests (write thread)\nPending normal aio reads: [0, 0, 0, 0] , aio writes: [0, 0, 0, 0] ,\n ibuf aio reads:, log i/o's:, sync i/o's:\n</code></pre> <p>bufferPoolSize <pre><code>&gt; show variables like 'innodb_buffer_pool_size'\\G\n(END)\n***************************[ 1. row ]***************************\nVariable_name | innodb_buffer_pool_size\nValue         | 134217728     =&gt; 128MB\n</code></pre></p> <p>\u67e5\u770bmysql\u76f8\u5173\u914d\u7f6e</p> <p><pre><code>cd / \nfind . -name \"*mysql*\" | grep \"log\"\n\n\u6216\u8005\u7528 mysqlCli \u67e5\u8be2\nmysqlCli&gt; show variables like '%datadir%'\\G\n</code></pre> \u67e5\u8be2\u5f97\u77e5\uff0cmysql\u5bb9\u5668\u76f8\u5173\u7684\u6587\u4ef6\u5b58\u653e\u5728 <code>/var/lib/mysql</code></p>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#buffer-pool","title":"Buffer Pool","text":"<ul> <li>\u6309\u7167 file -&gt; shard -&gt; buffer page\u7684\u7ed3\u6784\uff0cshard\u5185\u90e8\u5bf9page\u8fdb\u884c\u7f13\u5b58\u7ba1\u7406\uff0c\u91c7\u7528LRU\u7b56\u7565\u3002<ul> <li>insert buffer &amp; change buffer</li> </ul> </li> <li>\u6bcf\u4e2ashard\u6700\u591a\u6709 pgsize \u4e2apage\uff0c\u5982\u679cpage\u6ee1\u4e86\uff0c\u4f1a\u89e6\u53d1lru\uff0c\u5982\u679c\u6e05\u7406\u7684page\u662fdirty\u7684\uff0c\u5219\u843d\u76d8</li> <li>github \u7b80\u5355\u7684\u5b9e\u73b0</li> </ul>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#_2","title":"\u65e5\u5fd7\u6587\u4ef6","text":"<p>\u65e5\u5fd7\u5206\u4e3a\u4ee5\u4e0b\u51e0\u79cd</p> <ul> <li>slow log\uff0c\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u8bb0\u5f55\u67e5\u8be2\u8f83\u6162\u7684sql\uff0c\u501f\u52a9 <code>mysqldumpslow</code> \u5206\u6790\uff0cMySQL\u672c\u8eab\u7684\u6587\u4ef6</li> <li>bin log\uff0c\u903b\u8f91\u65e5\u5fd7\uff0c\u8bb0\u5f55\u6570\u636e\u5e93\u6267\u884c \u66f4\u65b0\u7684sql\uff0c\u4f9bsalve\u590d\u5236\u6570\u636e\uff0cMySQL\u672c\u8eab\u7684\u6587\u4ef6</li> <li>redo log\uff0c\u7269\u7406\u65e5\u5fd7\uff0cWAL\u65e5\u5fd7\uff0c\u4fdd\u8bc1\u6301\u4e45\u6027\uff0cInnoDB\u7279\u6709</li> <li>undo log\uff0c\u903b\u8f91\u65e5\u5fd7\uff0c\u8bb0\u5f55\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u7684\u76f8\u53cd\u64cd\u4f5c\uff08insert \u53d8\u4e3a delete\uff09\uff0c\uff08update \u53d8\u4e3a\u53cd\u5411update\uff09</li> </ul>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#binlog","title":"Binlog","text":"<ul> <li>\u903b\u8f91\u65e5\u5fd7\uff0c\u7528\u4e8e\u4e3b\u4ece\u540c\u6b65</li> </ul> <p>\u5f00\u542fbinlog\u9700\u8981\u5728 <code>my.cnf</code> \u914d\u7f6e</p> <pre><code>[mysqld]\nlog_bin=mysql-bin\nserver-id=1\n</code></pre>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#binlog_1","title":"Binlog \u5b58\u50a8","text":"<pre><code>&gt; show master status\\G\n\n***************************[ 1. row ]***************************\nFile              | mysql-bin.000003\nPosition          | 856\nBinlog_Do_DB      |\nBinlog_Ignore_DB  |\nExecuted_Gtid_Set |\n</code></pre> <p>\u67e5\u770bbinlog\u683c\u5f0f\uff0cbinlog\u6709\u4e09\u79cd\u683c\u5f0f<code>STATEMENT</code>\uff0c<code>ROW</code>\uff0c<code>MIX</code></p> <pre><code>&gt; select @@session.binlog_format;\n+-------------------------+\n| @@session.binlog_format |\n+-------------------------+\n| ROW                     |\n+-------------------------+\n</code></pre> <p>\u5efa\u8868\u5e76\u521d\u59cb\u5316\u6570\u636e</p> <pre><code>CREATE TABLE `t_sample` (\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\n  `name` varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci\n\ninsert into t_sample(name) values(\"bing\"),(\"draymonder\");\n</code></pre>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#binlog_2","title":"\u66f4\u65b0\u6570\u636e\u7684binlog","text":"<pre><code>update t_sample set name ='amor' where id=2;\n</code></pre> <p>\u67e5\u770bbinlog\u6587\u4ef6\uff0c\u9700\u8981\u4f7f\u7528mysql\u81ea\u5e26\u7684 <code>mysqlbinlog</code> \uff0c\u7528cat\u4e0d\u884c\uff0c\u56e0\u4e3abinlog\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6</p> <pre><code>&gt; mysqlbinlog --start-position=856 mysql-bin.000003 -v\n\n# at 993\n#220605  6:16:18 server id 1  end_log_pos 1047 CRC32 0x62752495     Table_map: `amor`.`t_sample` mapped to number 110\n# at 1047\n#220605  6:16:18 server id 1  end_log_pos 1117 CRC32 0xdcaf7236     Update_rows: table id 110 flags: STMT_END_F\n\nBINLOG '\nMkqcYhMBAAAANgAAABcEAAAAAG4AAAAAAAEABGFtb3IACHRfc2FtcGxlAAIIDwJAAACVJHVi\nMkqcYh8BAAAARgAAAF0EAAAAAG4AAAAAAAEAAgAC///8AgAAAAAAAAAKZHJheW1vbmRlcvwCAAAA\nAAAAAARhbW9yNnKv3A==\n'/*!*/;\n### UPDATE `amor`.`t_sample`\n### WHERE\n###   @1=2\n###   @2='draymonder'\n### SET\n###   @1=2\n###   @2='amor'\n# at 1117\n#220605  6:16:18 server id 1  end_log_pos 1148 CRC32 0x24efb3f3     Xid = 42\nCOMMIT/*!*/;\nSET @@SESSION.GTID_NEXT= 'AUTOMATIC' /* added by mysqlbinlog */ /*!*/;\nDELIMITER ;\n# End of log file\n/*!50003 SET COMPLETION_TYPE=@OLD_COMPLETION_TYPE*/;\n/*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE=0*/;\n</code></pre>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#binlog_3","title":"\u5220\u9664\u6570\u636e\u7684binlog","text":"<pre><code>delete from t_sample where name='amor';\n\n&gt; mysqlbinlog --start-position=856 mysql-bin.000003 -v\n\n# at 1285\n#220605  6:27:50 server id 1  end_log_pos 1339 CRC32 0x5567ded4     Table_map: `amor`.`t_sample` mapped to number 110\n# at 1339\n#220605  6:27:50 server id 1  end_log_pos 1388 CRC32 0x07ba59c7     Delete_rows: table id 110 flags: STMT_END_F\n\nBINLOG '\n5kycYhMBAAAANgAAADsFAAAAAG4AAAAAAAEABGFtb3IACHRfc2FtcGxlAAIIDwJAAADU3mdV\n5kycYiABAAAAMQAAAGwFAAAAAG4AAAAAAAEAAgAC//wCAAAAAAAAAARhbW9yx1m6Bw==\n'/*!*/;\n### DELETE FROM `amor`.`t_sample`\n### WHERE\n###   @1=2\n###   @2='amor'\n# at 1388\n#220605  6:27:50 server id 1  end_log_pos 1419 CRC32 0x79c74b7b     Xid = 59\nCOMMIT/*!*/;\nSET @@SESSION.GTID_NEXT= 'AUTOMATIC' /* added by mysqlbinlog */ /*!*/;\nDELIMITER ;\n# End of log file\n/*!50003 SET COMPLETION_TYPE=@OLD_COMPLETION_TYPE*/;\n/*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE=0*/;\n</code></pre>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#redolog","title":"RedoLog","text":"<p>\u4e3a\u4e86\u53d6\u5f97\u66f4\u597d\u7684\u8bfb\u5199\u6027\u80fd\uff0cInnoDB\u4f1a\u5c06\u6570\u636e\u7f13\u5b58\u5728\u5185\u5b58\u4e2d\uff08InnoDB Buffer Pool\uff09\uff0c\u5bf9\u78c1\u76d8\u6570\u636e\u7684\u4fee\u6539\u4e5f\u4f1a\u843d\u540e\u4e8e\u5185\u5b58\uff0c\u8fd9\u65f6\u5982\u679c\u8fdb\u7a0b\u6216\u673a\u5668\u5d29\u6e83\uff0c\u4f1a\u5bfc\u81f4\u5185\u5b58\u6570\u636e\u4e22\u5931\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e\u5e93\u672c\u8eab\u7684\u4e00\u81f4\u6027\u548c\u6301\u4e45\u6027\uff0cInnoDB\u7ef4\u62a4\u4e86REDO LOG\u3002</p> <p>\u4fee\u6539Page\u4e4b\u524d\u9700\u8981\u5148\u5c06\u4fee\u6539\u7684\u5185\u5bb9\u8bb0\u5f55\u5230REDO\u4e2d\uff0c\u5e76\u4fdd\u8bc1REDO LOG\u65e9\u4e8e\u5bf9\u5e94\u7684Page\u843d\u76d8\uff0c\u4e5f\u5c31\u662f\u5e38\u8bf4\u7684WAL\uff0cWrite Ahead Log\u3002\u5f53\u6545\u969c\u53d1\u751f\u5bfc\u81f4\u5185\u5b58\u6570\u636e\u4e22\u5931\u540e\uff0cInnoDB\u4f1a\u5728\u91cd\u542f\u65f6\uff0c\u901a\u8fc7\u91cd\u653eREDO\uff0c\u5c06Page\u6062\u590d\u5230\u5d29\u6e83\u524d\u7684\u72b6\u6001\u3002</p>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#redolog_1","title":"Redolog \u5b58\u50a8","text":"<pre><code>root@8a83121d6e85:/var/lib/mysql# ls -lsh | grep \"ib\"\n4.0K -rw-r----- 1 mysql mysql 1.4K Jun  5 06:05 ib_buffer_pool\n 48M -rw-r----- 1 mysql mysql  48M Jun  5 06:29 ib_logfile0\n 48M -rw-r----- 1 mysql mysql  48M Jun  5 06:05 ib_logfile1\n 76M -rw-r----- 1 mysql mysql  76M Jun  5 06:29 ibdata1\n 12M -rw-r----- 1 mysql mysql  12M Jun  5 06:26 ibtmp1\n</code></pre> <p>innodb \u5b58\u50a8\u5f15\u64ce\u81f3\u5c11\u67091\u4e2a\u91cd\u505a\u65e5\u5fd7\u6587\u4ef6\u7ec4\uff08group\uff09\uff0c\u6bcf\u4e2agroup\u81f3\u5c11\u67092\u4e2a\u6587\u4ef6\uff0c\u5982\u9ed8\u8ba4\u7684<code>ib_logfile0</code>\u548c<code>ib_logfile1</code>\uff0cInnoDB\u5148\u5199<code>ib_logfile0</code>\uff0c\u5199\u6ee1\u4e86\u540e\uff0c\u5207\u6362\u5230<code>ib_logfile1</code>\uff0c\u518d\u5199\u6ee1\u540e\uff0c\u518d\u7ee7\u7eed\u5199<code>ib_logfile0</code></p> <pre><code>show variables like 'innodb%log%'\\G\n\n***************************[ 8. row ]***************************\nVariable_name | innodb_log_file_size\nValue         | 50331648    =&gt; 48MB\n***************************[ 9. row ]***************************\nVariable_name | innodb_log_files_in_group\nValue         | 2                    =&gt; 2\u4e2a\n\n&gt; show variables like '%flush%'\\G\n\n***************************[ 7. row ]***************************\nVariable_name | innodb_flush_log_at_trx_commit\nValue         | 1           =&gt;  \u6bcf\u63d0\u4ea4\u4e00\u4e2a\u4e8b\u52a1\uff0c\u5c31\u5237\u76d8 redo log buffer \u5230 log\u6587\u4ef6\u91cc\n</code></pre> <pre><code>&gt; show engine innodb status\\G;  \uff08\u63d2\u5165\u5927\u91cf\u7684\u6570\u636e\uff09\n---\nLOG\n---\nLog sequence number 127664222\nLog flushed up to   120711324\nPages flushed up to 70622487\nLast checkpoint at  62890079\n</code></pre> <ul> <li>log sequence number: \u4ee3\u8868\u5f53\u524d\u7684\u91cd\u505a\u65e5\u5fd7redo log(in buffer)\u5728\u5185\u5b58\u4e2d\u7684LSN</li> <li>log flushed up to: \u4ee3\u8868\u5237\u5230redo log file on disk\u4e2d\u7684LSN</li> <li>pages flushed up to: \u4ee3\u8868\u5df2\u7ecf\u5237\u5230\u78c1\u76d8\u6570\u636e\u9875\u4e0a\u7684LSN</li> <li>last checkpoint at: \u4ee3\u8868\u4e0a\u4e00\u6b21\u68c0\u67e5\u70b9\u6240\u5728\u4f4d\u7f6e\u7684LSN</li> </ul> <p>log sequence number &gt;= log flushed up to &gt;= pages flushed up to &gt;= last checkpoint at</p> <p>\u5927\u6982\u683c\u5f0f</p> <pre><code>\uff08Page ID\uff0cRecord Offset\uff0c(Filed 1, Value 1) \u2026 (Filed i, Value i) \u2026 )\n</code></pre> <p>\u5176\u4e2d\uff0cPageID\u6307\u5b9a\u8981\u64cd\u4f5c\u7684Page\u9875\uff0cRecord Offset\u8bb0\u5f55\u4e86Record\u5728Page\u5185\u7684\u504f\u79fb\u4f4d\u7f6e\uff0c\u540e\u9762\u7684Field\u6570\u7ec4\uff0c\u8bb0\u5f55\u4e86\u9700\u8981\u4fee\u6539\u7684Field\u4ee5\u53ca\u4fee\u6539\u540e\u7684Value\u3002</p> <p>InnoDB\u4e2d\u901a\u8fc7min-transaction\u5b9e\u73b0\uff0c\u7b80\u79f0mtr\uff0c\u9700\u8981\u539f\u5b50\u64cd\u4f5c\u65f6\uff0c\u8c03\u7528mtr_start\u751f\u6210\u4e00\u4e2amtr\uff0cmtr\u4e2d\u4f1a\u7ef4\u62a4\u4e00\u4e2a\u52a8\u6001\u589e\u957f\u7684m_log\uff0c\u8fd9\u662f\u4e00\u4e2a\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u5c06\u8fd9\u4e2a\u539f\u5b50\u64cd\u4f5c\u9700\u8981\u5199\u7684\u6240\u6709REDO\u5148\u5199\u5230\u8fd9\u4e2am_log\u4e2d\uff0c\u5f53\u539f\u5b50\u64cd\u4f5c\u7ed3\u675f\u540e\uff0c\u8c03\u7528mtr_commit\u5c06m_log\u4e2d\u7684\u6570\u636e\u62f7\u8d1d\u5230InnoDB\u7684Log Buffer\u3002</p>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#redo-log","title":"redo log \u5927\u5c0f\u8bbe\u7f6e","text":"<ol> <li>\u8bbe\u7f6e\u8fc7\u5927\uff0c\u6062\u590d\u9700\u8981\u82b1\u5f88\u957f\u65f6\u95f4\u3002</li> <li>\u8bbe\u7f6e\u8fc7\u5c0f\uff0c\u4e00\u4e2a\u4e8b\u52a1\u53ef\u80fd\u88ab\u8bb0\u5f55\u5728\u4e86\u4e0d\u540c\u7684 redo log\u5b50log\u4e0a\u3002\u8bbe\u7f6e\u7684\u592a\u5c0f\u4f1a\u5bfc\u81f4\u9891\u7e41\u7684 <code>async checkpoint</code>\uff0c\u9891\u7e41\u5237\u76d8</li> </ol>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#redo-logbin-log","title":"redo log\u3001bin log \u533a\u522b","text":"<ol> <li>binlog\u662fmysql\u6709\u7684\uff0c\u548c\u5b58\u50a8\u5f15\u64ce\u65e0\u5173\uff0credo log\u662f InnoDB\u7279\u6709\u7684\u3002</li> <li>binlog\u8bb0\u5f55\u7684\u903b\u8f91\u65e5\u5fd7\uff0credo log\u8bb0\u5f55\u7684\u7269\u7406\u65e5\u5fd7\uff08\u5173\u4e8e\u6bcf\u4e2a\u9875\u7684\u66f4\u6539\u7684\u7269\u7406\u60c5\u51b5\uff09</li> <li>redo log\u662fInnoDB\u5b9e\u73b0\u7684wal\u65e5\u5fd7\u3002\u4e8c\u8fdb\u5236\u65e5\u5fd7\u53ea\u5728\u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u7684\u65f6\u5019\u4e00\u6b21\u6027\u5199\u5165\u7f13\u5b58\u4e2d\u7684\u65e5\u5fd7\u6587\u4ef6\uff0credo log\u4e00\u76f4\u4f1a\u8bb0\u5f55\u3002</li> <li>\u4e3a\u4e86\u4fdd\u8bc1\u5b58\u50a8\u5f15\u64ce\u5c42\u548c\u4e0a\u5c42\u4e8c\u8fdb\u5236\u65e5\u5fd7\u7684\u4e00\u81f4\u6027\uff0c\u4e8c\u8005\u4e4b\u95f4\u4f7f\u7528\u4e86 \u4e24\u9636\u6bb5\u4e8b\u52a1</li> </ol>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#redo-log_1","title":"Redo log \u76f8\u5173\u6587\u7ae0","text":"<ul> <li>\u5e96\u4e01\u89e3InnoDB\u4e4bREDO LOG</li> <li>binlog\u3001redo log</li> </ul>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#undo-log","title":"Undo Log","text":"<ol> <li>\u903b\u8f91\u65e5\u5fd7\uff0c\u8bb0\u5f55\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u7684\u76f8\u53cd\u64cd\u4f5c\uff08insert \u53d8\u4e3a delete\uff09\uff0c\uff08update \u53d8\u4e3a\u53cd\u5411update\uff09</li> <li>\u5b9e\u73b0MVCC\u7684\u975e\u9501\u5b9a\u8bfb\u3002\u8bfb\u5feb\u7167\u7684\u80fd\u529b</li> </ol>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#innodb","title":"InnoDB\u4e2d\u7684\u9501","text":"<ul> <li>\u5168\u5c40\u9501</li> <li>\u8868\u9501 (lock read/write)</li> <li>\u884c\u7ea7\u9501\uff08\u9700\u8981\u65f6\u624d\u52a0\u4e0a\uff0c\u4e8b\u52a1\u7ed3\u675f\u540e\u91ca\u653e\uff09<ul> <li>\u5171\u4eab\u9501\uff08S Lock\uff09\uff1a\u5141\u8bb8\u4e8b\u52a1\u8bfb\u4e00\u884c\u6570\u636e</li> <li>\u6392\u5b83\u9501\uff08X Lock\uff09\uff1a\u5141\u8bb8\u4e8b\u52a1\u5220\u9664 or \u66f4\u65b0\u6570\u636e</li> </ul> </li> <li>\u610f\u5411\u9501\uff1a\u5bf9\u4e00\u884c\u8fdb\u884c\u52a0\u9501\uff0c\u9700\u8981\u5bf9\u6570\u636e\u5e93\u3001\u8868\u3001\u9875\u52a0\u7c97\u7c92\u5ea6\u7684\u9501</li> </ul>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#_3","title":"\u9501\u76f8\u5173","text":"<p>Record lock\u3001Gap lock\u3001Next-key lock</p> <ul> <li>\u53c2\u8003\u9605\u8bfb</li> </ul>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#_4","title":"\u4e00\u81f4\u6027\u8bfb","text":""},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#_5","title":"\u4e00\u81f4\u6027\u975e\u9501\u5b9a\u8bfb","text":"<ul> <li>\u5728 <code>READ COMMITED</code> \u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u5bf9\u4e8e\u5feb\u7167\u6570\u636e\uff0c\u975e\u4e00\u81f4\u6027\u8bfb\u603b\u662f\u8bfb\u53d6\u6700\u65b0\u7684\u884c\u6570\u636e\u7248\u672c</li> <li>\u5728 <code>REPEATABLE READ</code> \u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u5bf9\u4e8e\u5feb\u7167\u6570\u636e\uff0c\u975e\u4e00\u81f4\u6027\u8bfb\u603b\u662f\u8bfb\u53d6\u4e8b\u52a1\u5f00\u59cb\u65f6\u7684\u884c\u6570\u636e\u7248\u672c</li> </ul> <p>\u67e5\u770b\u9694\u79bb\u7ea7\u522b <pre><code>select @@tx_isolation\n+-----------------+\n| @@tx_isolation  |\n+-----------------+\n| REPEATABLE-READ |\n+-----------------+\n</code></pre></p> <ul> <li>\u53ea\u8bfb\uff0c\u4e0d\u52a0\u9501</li> </ul> <pre><code>-- \n\u4e8b\u52a11\nbegin;\nselect id, name from amor.t_sample where id = 100;\n\n=&gt;\n+-----+------+\n| id  | name |\n+-----+------+\n| 100 | amor |\n+-----+------+\n---\n\u4e8b\u52a12\nbegin;\nupdate amor.t_sample set name = 'tr 2' where id = 100;\ncommit;\n--- \n\u4e8b\u52a11\nselect id, name from amor.t_sample where id = 100;\n\n=&gt; \n+-----+------+\n| id  | name |\n+-----+------+\n| 100 | amor |\n+-----+------+\ncommit;\n---\n</code></pre>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#_6","title":"\u4e00\u81f4\u6027\u9501\u5b9a\u8bfb","text":"<ul> <li>S\u9501 <code>lock in share mode</code></li> </ul> <pre><code>-- \n\u4e8b\u52a11\nbegin;\nselect id, name from amor.t_sample where id = 100 lock in share mode;\n\n=&gt;\n+-----+------+\n| id  | name |\n+-----+------+\n| 100 | amor |\n+-----+------+\n---\n\u4e8b\u52a12\nbegin;\nupdate amor.t_sample set name = 'tr 3' where id = 100;\ncommit;    =&gt; \u56e0\u4e3a\u4e8b\u52a11\u52a0\u4e86\u8bfb\u9501\uff0c\u6240\u4ee5\u8fd9\u91cc\u662f\u963b\u585e\u7684\uff0c\u7b49\u4e8b\u52a11 commit/rollback \u624d\u80fd\u5b8c\u6210\u4e8b\u52a12\u7684commit\n--- \n\u4e8b\u52a11\nselect id, name from amor.t_sample where id = 100;\n\n=&gt; \n+-----+------+\n| id  | name |\n+-----+------+\n| 100 | amor |\n+-----+------+\ncommit;\n---\n</code></pre> <ul> <li>X\u9501 <code>for update</code></li> </ul> <pre><code>-- \n\u4e8b\u52a11\nbegin;\nselect id, name from amor.t_sample where id = 100 for update;\n\n=&gt;\n+-----+------+\n| id  | name |\n+-----+------+\n| 100 | tr 3 |\n+-----+------+\n---\n\u4e8b\u52a12\nbegin;\nselect id, name from amor.t_sample where id = 100;  =&gt; \u8fd9\u91cc\u662f\u7528\u7684\u975e\u9501\u5b9a\u8bfb\uff0c\u53ef\u4ee5\u6b63\u5e38\u8bfb\u6570\u636e\n\n=&gt; \n+-----+------+\n| id  | name |\n+-----+------+\n| 100 | tr 3 |\n+-----+------+\n\nselect id, name from amor.t_sample where id = 100 lock in share mode;  \u56e0\u4e3a\u4e8b\u52a11\u52a0\u4e86X\u9501\uff0c\u6240\u4ee5\u8fd9\u91cc\u662f\u963b\u585e\u7684\uff0c\u7b49\u4e8b\u52a11 commit/rollback \u624d\u80fd\u5b8c\u6210\u8fd9\u91cc\u7684\u67e5\u8be2\n\n\n\nupdate amor.t_sample set name = 'tr 4' where id = 100;\ncommit;\n--- \n\u4e8b\u52a11\nselect id, name from amor.t_sample where id = 100;\n\n=&gt; \n+-----+------+\n| id  | name |\n+-----+------+\n| 100 | tr 3 |\n+-----+------+\ncommit;\n---\n</code></pre>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#_7","title":"\u7d22\u5f15","text":"<ul> <li>\u4e3b\u952e\u7d22\u5f15(\u805a\u7c07\u7d22\u5f15) -&gt; \u53f6\u5b50\u5b58\u6240\u6709\u6570\u636e</li> <li>\u4f7f\u7528\u81ea\u589e\u4e3b\u952e\u66f4\u597d (\u4e1a\u52a1\u4e3b\u952e\u7684\u8bdd\uff0c\u5199\u6811\u64cd\u4f5c\u6210\u672c\u9ad8)</li> <li>\u975e\u4e3b\u952e\u7d22\u5f15 -&gt; \u53f6\u5b50\u5b58\u4e3b\u952e\u503c(\u67e5\u8be2\u6240\u6709\u6570\u636e\u9700\u8981\u56de\u8868\u5230\u4e3b\u952e\u7d22\u5f15\u53bb\u67e5)</li> <li>\u8986\u76d6\u7d22\u5f15 (\u5c3d\u53ef\u80fd\u8d70\u7d22\u5f15\uff0c\u589e\u52a0\u67e5\u8be2\u6548\u7387)</li> </ul>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#_8","title":"\u7d22\u5f15\u5f15\u7528","text":"<p>MySQL\u7d22\u5f15\u539f\u7406\u53ca\u6162\u67e5\u8be2\u4f18\u5316</p>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#todo","title":"\u4e8b\u52a1 TODO","text":"<ul> <li>redolog \u4fdd\u8bc1\u4e8b\u52a1\u539f\u5b50\u6027\u548c\u6301\u4e45\u6027</li> <li>undolog \u4fdd\u8bc1\u4e8b\u52a1 \u4e00\u81f4\u6027</li> </ul> <p>\u4e8b\u52a1\u9694\u79bb\u5b9e\u73b0</p> <ul> <li>\u672a\u63d0\u4ea4\u8bfb</li> <li>\u5df2\u63d0\u4ea4\u8bfb -&gt; \u6bcf\u53e5SQL\u6267\u884c\u65f6\u521b\u5efa\u89c6\u56fe</li> <li>\u53ef\u91cd\u590d\u8bfb -&gt; \u4e8b\u52a1\u5f00\u59cb\u65f6\u521b\u5efa\u89c6\u56fe</li> <li>\u4e32\u884c\u8bfb</li> </ul>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#_9","title":"\u6269\u5bb9","text":"<p>\u80cc\u666f\uff1a</p> <ul> <li>db \u5b58\u50a8\u5feb\u6ee1\u4e86\uff0c\u56e0\u6b64\u9700\u8981\u6269\u5bb9\uff0c\u6267\u884c\u65f6\u95f4\u4e3a\u51cc\u6668</li> <li>db\u6269\u5bb9\u671f\u95f4\u4f1a\u6709 5s \u5de6\u53f3\u65f6\u95f4\u4e0d\u53ef\u5199</li> <li>db\u7684\u67b6\u6784\u4e3a proxy + \u4e3b\u4ece\uff0c\u67e5\u8be2\u5fc5\u987b\u5e26\u5206\u7247\u952e</li> </ul> <p>\u6269\u5bb9\u524d</p> <p></p> <p>\u6269\u5bb9\u540e</p> <p></p>"},{"location":"cs-life/middleware/database/mysql/mysql_innodb/#_10","title":"\u9644\u5f55","text":"<ul> <li>InnoDB undo log \u6f2b\u6e38 http://mysql.taobao.org/monthly/2015/04/</li> <li>InnoDB redo log\u6f2b\u6e38 http://mysql.taobao.org/monthly/2015/05/</li> <li>Innodb change buffer\u4ecb\u7ecd http://mysql.taobao.org/monthly/2015/07/</li> <li>InnoDB \u4e8b\u52a1\u5b50\u7cfb\u7edf\u4ecb\u7ecd http://mysql.taobao.org/monthly/2015/12/</li> <li>InnoDB index lock\u524d\u4e16\u4eca\u751f http://mysql.taobao.org/monthly/2015/07/05/</li> </ul>"},{"location":"cs-life/middleware/database/mysql/practice/","title":"Mysql\u5b58\u50a8\u5f15\u64ce-InnoDB","text":""},{"location":"cs-life/middleware/database/mysql/practice/#_1","title":"\u8e29\u5751","text":""},{"location":"cs-life/middleware/database/mysql/practice/#oom","title":"\u6570\u636e\u5e93OOM","text":"<p>\u80cc\u666f\uff1a\u4e0a\u6e38\u65e0\u9650\u91cd\u8bd5\uff0c\u91cd\u590d\u6267\u884cupdate\u8bed\u53e5\uff0c\u9501\u7b49\u5f85\u4e25\u91cd\uff0c\u6700\u7ec8\u94fe\u63a5\u8fc7\u591a\u5bfc\u81f4\u6570\u636e\u5e93OOM</p> <pre><code>\u5b9e\u9645\u573a\u666f\uff1afaas -&gt; \u8bf7\u6c42\u7b97\u6cd5\u670d\u52a1\u8fd4\u56de\u76f8\u4f3c\u5546\u54c1 -&gt; \u76f8\u4f3c\u5546\u54c1\u53ec\u56de\u9001\u5ba1\n</code></pre> <p>\u89e6\u53d1\u80cc\u666f</p> <ol> <li>faas\u6267\u884c\u5931\u8d25\u4f1a\u65e0\u9650\u91cd\u8bd5\uff0c\u76f4\u5230\u6210\u529f</li> <li>\u7b97\u6cd5\u670d\u52a1\u8fd4\u56de\u76f8\u4f3c\u5546\u54c1\u8fc7\u591a\uff0c1000\u4e2a\uff0c\u8bf7\u6c42\u7b97\u6cd5\u670d\u52a1\u7684\u65f6\u95f4+\u76f8\u4f3c\u53ec\u56de\u9001\u5ba1\u7684\u65f6\u95f4\u8d85\u8fc7faas\u7684\u8bbe\u7f6e\u65f6\u95f4\uff0c\u7a33\u5b9a\u8d85\u65f6\uff0c\u56e0\u6b64\u89e6\u53d1\u4e86\u65e0\u9650\u91cd\u8bd5</li> <li>\u5728\u9001\u5ba1\u9636\u6bb5\uff0c\u6709\u4e00\u4e2a\u66f4\u65b0\u8bed\u53e5\u5982\u4e0b\uff0c\u6709\u70ed\u70b9\u884c\u7684\u5f02\u6b65\u66f4\u65b0\uff0c\u8be5\u8868\u6709\u4e0d\u52301000\u6761\u6570\u636e\uff0c\u56e0\u4e3a\u4e00\u76f4\u5f02\u6b65\u66f4\u65b0\uff0c\u4e00\u76f4\u5728\u7533\u8bf7\u8fde\u63a5\u6c60\u7684\u8fde\u63a5\uff0c\u5f00\u4e8b\u52a1\u8fdb\u884c\u66f4\u65b0\uff0c\u6700\u7ec8\u5bfc\u81f4DB OOM</li> </ol> <pre><code>&gt; \u5f02\u6b65\u6267\u884c\u7684\u8bed\u53e5\nupdate t_dimension_daily_count set count = count + 1 \nwhere daily_time = ? and stype = ? and sub_type = ?\n\n&gt; \u6570\u636e\u5e93\u6761\u6570\nselect count(1) from t_dimension_daily_count;\ncount(1) = 942\n</code></pre> <p>\u62a5\u9519\u4ece 1205 \u53d8\u6210\u4e86 1105</p> <pre><code>Error 1205: Lock wait timeout exceeded; try restarting transcation\n\nError 1105: get master conn error\uff0cError 1040: Too many connections\n</code></pre>"},{"location":"cs-life/middleware/database/mysql/practice/#_2","title":"\u63d2\u5165\u6570\u636e\u8fc7\u5927","text":"<p>str: field varchar(5)</p> <pre><code>insert into checkVarcharLimit(`id`,`str`) values(10, '244444');\n\nERROR 1406 (22001): Data too long for column 'str' at row 1\n</code></pre>"},{"location":"cs-life/middleware/database/mysql/practice/#_3","title":"\u67e5\u8be2\u8d85\u65f6","text":"<p>\u80cc\u666f</p> <ul> <li>\u8be5\u5e97\u94fa\u662ftop\u5e97\u94fa\uff0c\u9001\u5ba1\u4e86\u5f88\u591a\u6b21</li> <li>detail\u8868\u6709\u597d\u51e0\u4e2a\u5927\u5b57\u6bb5\uff08<code>LongText</code>\u7c7b\u578b\uff09\uff0c\u4f7f\u7528<code>select *</code>\u4f1a\u62ff\u6240\u6709\u7684\u6570\u636e\uff0c\u67e5\u8be2\u8d85\u65f6</li> </ul> <p>\u89e3\u51b3\u65b9\u6848\u6700\u7ec8\u9009\u62e9\u7684\u662f <code>select id, shop_id, task_id</code>\uff0c\u901f\u5ea6\u5f88\u5feb</p> <pre><code>\u7d22\u5f15\u662f\u8fd9\u4e2a KEY `idx_shop_id` (`shop_id`)\n\nselect * from t_access_shop_audit_detail where shop_id = 22713444 and commit_type = -70 limit 0, 1;   // \u6267\u884c\u8d85\u65f6\n\nSQL\u5206\u6790\n\nexplain select * from t_access_shop_audit_detail where shop_id = 22713444 and commit_type = -70 limit 0, 1;\n\nkey \u662f\u4f7f\u7528\u4e86 idx_shop_id\uff0c\u8d70\u4e86\u7d22\u5f15\uff0c\u4f46\u662f\u6267\u884c\u8fd8\u662f\u4f1a\u8d85\u65f6\n</code></pre>"},{"location":"cs-life/middleware/database/mysql/practice/#_4","title":"\u4e8b\u52a1\u4f7f\u7528\u4e0d\u5f53","text":"<p>\u80cc\u666f</p> <ul> <li>\u6570\u636e\u5e93\u4e8b\u52a1\u91cc\u9762\u6267\u884c\u4e86\u6570\u636e\u66f4\u65b0\uff0c\u7136\u540e\u53d1\u4e86\u4e2a\u6d88\u606f\u5230mq\uff0c\u6700\u540e\u4e8b\u52a1commit\u3002</li> <li>\u6d88\u8d39\u8005\u6d88\u8d39\u6d88\u606f\uff0c\u8bfbmaster\u8282\u70b9\uff0c\u8fd8\u662f\u8001\u6570\u636e</li> </ul> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a\u5148commit\u4e8b\u52a1\uff0c\u518d\u53d1\u6d88\u606f</p>"},{"location":"cs-life/middleware/database/mysql/practice/#_5","title":"\u7d22\u5f15\u5931\u6548","text":"<p>\u80cc\u666f</p> <ul> <li>\u5546\u5bb6\u9001\u5ba1\u6765\u8d44\u8d28\u6570\u636e\uff0c\u547d\u4e2d\u673a\u5ba1\u6761\u4ef6\uff0c\u53ef\u4ee5\u514d\u5ba1\u6389\u90e8\u5206\u8d44\u8d28\uff08\u5ba1\u6838\u4e2d -&gt; \u5ba1\u6838\u901a\u8fc7\uff09</li> <li>\u8d44\u8d28\u5ba1\u6838\u72b6\u6001\u8868\u6570\u636e\u91cf\u7ea7\u5728 2\u4ebf\u884c\u5de6\u53f3\uff08\u914d\u7f6e\u768445\u5929\u5f52\u6863\uff09</li> <li> <p>submit_serial \u8868\u793a\u4e00\u6b21\u63d0\u5ba1\uff0cqualification_id \u8868\u793a \u8d44\u8d28\u6570\u636e\u7684id\uff0c\u4e24\u4e2a\u5747\u5efa\u7acb\u4e86\u7d22\u5f15</p> </li> <li> <p>\u4e0a\u7ebf\u671f\u95f4\uff0c\u8d44\u8d28\u5ba1\u6838\u72b6\u6001\u8868\u7684\u6570\u636e\u6709\u500d\u589e\u7684\u60c5\u51b5\uff08\u5546\u5bb6\u53ea\u63d0\u5ba1\u4e863983\u6761\u8d44\u8d28\u6570\u636e\uff09\uff0c\u4f46\u662f\u6570\u636e\u6700\u7ec8\u88ab\u81a8\u80c0\u4e8613\u500d (51779\u6761\u8d44\u8d28\u6570\u636e)</p> </li> <li>\u66f4\u65b0\u7684sql\u7684qualification_id\u5e76\u672a\u505a\u53bb\u91cd\uff0c\u4ece\u800c qualification_id \u6709\u5f88\u591a\uff0c\u51fa\u95ee\u9898\u540e\uff0cDBA \u540c\u6b65 in\u67e5\u8be2\u8fc7\u591a\uff0c\u4e0d\u8d70\u7d22\u5f15\uff0c\u4f1a\u5bfc\u81f4\u9501\u5168\u8868</li> </ul> <pre><code>update t_access_shop_qualification_audit set status=3 \nwhere qualification_id in (?) and submit_serial = ?\n</code></pre> <p>\u5f53\u65f6\u7684\u5feb\u7167\u5206\u6790 \uff08\u5355\u4f4d\u662f\u79d2\uff09</p> Query_time Lock_time Rows_examined Rows_sent Rows_affected Bytes_sent 74074.921875 61.889305 216959004 0 51753 67 <ul> <li>\u540e\u9762\u914d\u7f6e\u4e86 sql \u8d85\u65f610s kill\uff0c\u7136\u540edb\u7684\u8fde\u63a5\u6570\u77ac\u95f4\u4e0a\u53bb\u4e86\uff0c\u5bfc\u81f4db\u6ca1\u6cd5\u54cd\u5e94\u8bf7\u6c42\uff083\u5206\u949f\u4e0d\u53ef\u7528\uff09</li> </ul> <p></p> <p>\u4e34\u65f6\u89e3\u51b3\u65b9\u6848</p> <p>not in \u91cc\u9762\u7684\u6570\u636e\u4e0d\u4f1a\u5f88\u591a\uff0c\u6700\u591a\u4e0d\u8d85\u8fc710\u4e2a\uff0c\u5e76\u4e14\u5f3a\u5236\u8d70 idx_submit_serial \u7d22\u5f15\uff08\u4e0d\u8fc7\u6548\u679c\u5f85\u9a8c\u8bc1</p> <pre><code>update t_access_shop_qualification_audit force index (idx_submit_serial) \nset status=3 where submit_serial=? and qualification_id not in (?)\n</code></pre> <p>\u957f\u671f\u89e3\u51b3\u65b9\u6848</p> <p>\u6539\u4e3a\u5c0f\u4e8b\u52a1\uff0c\u5206\u6279\u66f4\u65b0\u72b6\u6001\uff0c\u5982\u679c\u4e2d\u95f4\u51fa\u9519\uff0c\u76f4\u63a5\u629b\u51fa\uff0c\u4ea4\u7ed9\u91cd\u8bd5</p> <pre><code>groupSize := 100\nfor i := 0; i &lt; len(audits); i += groupSize {\n    auditGroup := audtis[i:math.Min(i+groupSize, len(audits))]\n\n    tx.begin()\n    for _, audit := range auditGroup {\n        update t_access_shop_qualification_audit set status=3 where submit_serial=audit.SubmitSerial and qualification_id=audit.QualificationId\n    }\n    tx.Commit()\n}\n</code></pre>"},{"location":"cs-life/middleware/discovery/bilibili/","title":"Bilibili Discovery","text":""},{"location":"cs-life/middleware/discovery/bilibili/#_1","title":"\u8bbe\u8ba1\u6982\u89c8","text":""},{"location":"cs-life/middleware/discovery/bilibili/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<ol> <li>\u901a\u8fc7AppID (\u670d\u52a1\u540d eg. infra.discovery) \u548c hostname (\u9ed8\u8ba4\u4f7f\u7528os.hostname()) \u5b9a\u4f4d\u5b9e\u4f8b</li> <li>Node: discovery server\u8282\u70b9</li> <li>Provider: \u670d\u52a1\u63d0\u4f9b\u8005\uff0c\u5bb9\u5668\u542f\u52a8\u540e\u53d1\u8d77register\u8bf7\u6c42\u7ed9Discover server\uff0c\u540e\u5b9a\u671f\uff0830s\uff09\u5fc3\u8df3\u4e00\u6b21</li> <li>Consumer: \u542f\u52a8\u65f6\u62c9\u53d6node\u8282\u70b9\u4fe1\u606f\uff0c\u540e\u968f\u673a\u9009\u62e9\u4e00\u4e2anode\u53d1\u8d77long polling(30s\u4e00\u6b21)\u62c9\u53d6\u670d\u52a1instances\u5217\u8868 // TODO @yubing</li> <li>Instance: \u4fdd\u5b58\u5728node\u5185\u5b58\u4e2d\u7684AppID\u5bf9\u5e94\u7684\u5bb9\u5668\u8282\u70b9\u4fe1\u606f\uff0c\u5305\u542bhostname/ip/service\u7b49</li> </ol>"},{"location":"cs-life/middleware/discovery/bilibili/#_3","title":"\u67b6\u6784\u56fe","text":""},{"location":"cs-life/middleware/discovery/bilibili/#_4","title":"\u91cd\u8981\u6b65\u9aa4","text":"<ol> <li>\u5fc3\u8df3\u590d\u5236(Peer to Peer)\uff0c\u6570\u636e\u4e00\u81f4\u6027\u7684\u4fdd\u969c\uff1a<ul> <li>AppID\u6ce8\u518c\u65f6\u6839\u636e\u5f53\u524d\u65f6\u95f4\u751f\u6210dirtyTimestamp\uff0cnodeA\u5411nodeB\u540c\u6b65(register)\u65f6\uff0cnodeB\u53ef\u80fd\u6709\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff1a<ul> <li>\u8fd4\u56de-404 \u5219nodeA\u643a\u5e26dirtyTimestamp\u5411nodeB\u53d1\u8d77\u6ce8\u518c\u8bf7\u6c42\uff0c\u628a\u6700\u65b0\u4fe1\u606f\u540c\u6b65\uff1a<ol> <li>nodeB\u4e2d\u4e0d\u5b58\u5728\u5b9e\u4f8b</li> <li>nodeB\u4e2ddirtyTimestamp\u8f83\u5c0f</li> </ol> </li> <li>\u8fd4\u56de-409 nodeB\u4e0d\u540c\u610f\u91c7\u7eb3nodeA\u4fe1\u606f\uff0c\u4e14\u8fd4\u56de\u81ea\u8eab\u4fe1\u606f\uff0cnodeA\u4f7f\u7528\u8be5\u4fe1\u606f\u66f4\u65b0\u81ea\u8eab</li> </ul> </li> <li>AppID\u6ce8\u518c\u6210\u529f\u540e\uff0cProvider\u6bcf(30s)\u53d1\u8d77\u4e00\u6b21heartbeat\u8bf7\u6c42\uff0c\u5904\u7406\u6d41\u7a0b\u5982\u4e0a</li> </ul> </li> <li>Instance\u7ba1\u7406<ul> <li>\u6b63\u5e38\u68c0\u6d4b\u6a21\u5f0f\uff0c\u968f\u673a\u5206\u6279\u8e22\u6389\u65e0\u5fc3\u8df3Instance\u8282\u70b9\uff0c\u5c3d\u91cf\u907f\u514d\u5355\u5e94\u7528\u8282\u70b9\u88ab\u4e00\u6b21\u5168\u8e22</li> <li>\u7f51\u7edc\u95ea\u65ad\u548c\u5206\u533a\u65f6\u81ea\u6211\u4fdd\u62a4\u6a21\u5f0f<ul> <li>60s\u5185\u4e22\u5931\u5927\u91cf(\u5c0f\u4e8eInstance\u603b\u657020.85)\u5fc3\u8df3\u6570\uff0c\u201c\u597d\u201d\u201c\u574f\u201dInstance\u4fe1\u606f\u90fd\u4fdd\u7559</li> <li>\u6240\u6709node\u90fd\u4f1a\u6301\u7eed\u63d0\u4f9b\u670d\u52a1\uff0c\u5355\u4e2anode\u7684\u6ce8\u518c\u548c\u53d1\u73b0\u529f\u80fd\u4e0d\u53d7\u5f71\u54cd</li> <li>\u6700\u5927\u4fdd\u62a4\u65f6\u95f4\uff0c\u9632\u6b62\u5206\u533a\u6062\u590d\u540e\u5927\u91cf\u539f\u5148Instance\u771f\u7684\u5df2\u7ecf\u4e0d\u5b58\u5728\u65f6\uff0c\u4e00\u76f4\u5904\u4e8e\u4fdd\u62a4\u6a21\u5f0f</li> </ul> </li> </ul> </li> <li>Consumer\u5ba2\u6237\u7aef<ul> <li>\u957f\u8f6e\u8be2+node\u63a8\u9001\uff0c\u670d\u52a1\u53d1\u73b0\u51c6\u5b9e\u65f6</li> <li>\u8ba2\u9605\u5f0f\uff0c\u53ea\u9700\u8981\u5173\u6ce8\u60f3\u8981\u5173\u6ce8\u7684AppID\u7684Instance\u5217\u8868\u53d8\u5316</li> <li>\u7f13\u5b58\u5b9e\u4f8bInstance\u5217\u8868\u4fe1\u606f\uff0c\u4fdd\u8bc1\u4e0enode\u7f51\u7edc\u4e0d\u901a\u7b49\u65e0\u6cd5\u8bbf\u95ee\u5230node\u60c5\u51b5\u65f6\u539f\u5148\u7684Instance\u53ef\u7528</li> </ul> </li> </ol>"},{"location":"cs-life/middleware/discovery/bilibili/#_5","title":"\u7ec6\u8282\u4e0a\u7684\u95ee\u9898","text":""},{"location":"cs-life/middleware/discovery/bilibili/#provider","title":"Provider\u6ce8\u518c","text":"<p>TODO </p>"},{"location":"cs-life/middleware/discovery/bilibili/#consumer","title":"Consumer\u6d88\u8d39","text":"<p>TODO, DNS\u5982\u4f55\u8d70\u901a\uff1f</p>"},{"location":"cs-life/middleware/discovery/bilibili/#discovery-node","title":"discovery node\u4e4b\u95f4\u901a\u4fe1","text":"<p>TODO</p>"},{"location":"cs-life/middleware/kitex/kitex/","title":"KiteX","text":"<p>\u5b98\u65b9\u6587\u6863 https://www.cloudwego.io/docs/</p>"},{"location":"cs-life/middleware/kitex/kitex/#_1","title":"\u4ee3\u7801\u751f\u6210","text":"<p>\u6700\u7b80\u5355\u7684thift\u6587\u4ef6  <code>echo.thrift</code></p> <pre><code>namespace go api\n\nstruct Request {\n  1: string message\n}\n\nstruct Response {\n  1: string message\n}\n\nservice EchoService {\n    Response echo(1: Request req)\n}\n</code></pre> <p><code>kitex -service cn.test.example echo.thrift</code> \u751f\u6210\u5ba2\u6237\u7aef\u3001\u670d\u52a1\u7aef\u76f8\u5173\u6587\u4ef6</p> <p>\u76ee\u5f55\u6811 <pre><code>.\n\u251c\u2500\u2500 build.sh                             - \u7f16\u8bd1\u6587\u4ef6\n\u251c\u2500\u2500 conf                            \n\u2502\u00a0\u00a0 \u2514\u2500\u2500 kitex.yml                        - \u914d\u7f6e\u6587\u4ef6\n\u251c\u2500\u2500 echo.thrift                          - thrift\u914d\u7f6e\n\u251c\u2500\u2500 handler.go                           - idl\u63a5\u53e3Impl\uff0c\u5199rpc\u4e1a\u52a1\u903b\u8f91\n\u251c\u2500\u2500 kitex_gen\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 api\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 echoservice\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 client.go\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 echo.go\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 invoker.go\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 server.go\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 echo.go                      - idl\u751f\u6210\u7684\u5b9e\u4f53\uff0c\u5305\u62ecreq\u3001resp\u3001service\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 k-consts.go\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 k-echo.go\n\u251c\u2500\u2500 main.go\n\u2514\u2500\u2500 script\n    \u251c\u2500\u2500 bootstrap.sh\n    \u2514\u2500\u2500 settings.py\n</code></pre></p>"},{"location":"cs-life/middleware/message_queue/delay-mq/","title":"\u5ef6\u8fdf\u961f\u5217","text":"<p>\u63a2\u7d22\u4e0b\u5ef6\u8fdf\u961f\u5217\u7684\u5b9e\u73b0\u65b9\u5f0f</p> <p>\u4ee5\u4e0b\u5747\u4e3a\u81ea\u884c\u731c\u60f3\uff0c\u5e76\u672a\u770b\u8fc7\u6e90\u7801\uff01</p>"},{"location":"cs-life/middleware/message_queue/delay-mq/#_2","title":"\u591a\u7ea7\u961f\u5217","text":"<ol> <li>producer \u53d1\u5f80 \u4e2d\u8f6c\u7684\u961f\u5217 topic_delay_1s / topic_delay_1h / topic_delay_1d \uff08\u6bcf\u4e2amirror_topic \u662f\u6709\u5e8f\u7684\uff09</li> <li>broker \u5185\u90e8\uff0c\u76d1\u542c\u4e2d\u8f6c\u961f\u5217\u7684\u961f\u9996\u7684index\uff0c\u5982\u679c\u53d1\u73b0\u5927\u4e8e\u5f53\u524d\u65f6\u95f4\uff0c\u5c31\u5c06\u6d88\u606f\u8f6c\u79fb\u5230\u771f\u5b9e\u7684topic\u5185</li> </ol>"},{"location":"cs-life/middleware/message_queue/delay-mq/#_3","title":"\u6709\u5e8f\u6027\u7684\u53ef\u6301\u4e45\u5316","text":"<p>eg. \u5806\uff0c\u4e8c\u53c9\u6811\u4e4b\u7c7b\u53ef\u6301\u4e45\u5316\u7684\u6570\u636e\u7ed3\u6784</p> <ol> <li>\u7ef4\u62a4 \u5ef6\u65f6\u65f6\u95f4\u6233\u4ee5\u53ca\u5bf9\u5e94\u7684msgId </li> <li>\u76d1\u542c\u6700\u5c0f\u65f6\u95f4\u7684\u6570\u636e\uff0c\u5982\u679c\u53d1\u73b0\u5927\u4e8e\u5f53\u524d\u65f6\u95f4\uff0c\u5c31\u5c06\u6d88\u606f\u8f6c\u79fb\u5230\u771f\u5b9e\u7684topic\u5185</li> </ol> <pre><code>func NewDelayMessage(topic string, delayLevel int32, body []byte) *Message {\n    return NewDefaultMessage(topic, body).WithDelayLevel(delayLevel)\n}\n\nfunc NewDeferMessage(topic string, deferDuration time.Duration, body []byte) *Message {\n    return NewDefaultMessage(topic, body).WithDeferMillis(deferDuration)\n}\n</code></pre>"},{"location":"cs-life/middleware/message_queue/delay-mq/#_4","title":"\u65f6\u95f4\u8f6e\u5b9e\u73b0","text":"<p>TODO</p>"},{"location":"cs-life/middleware/message_queue/kafka/","title":"Kafka \u8c03\u7814","text":""},{"location":"cs-life/middleware/message_queue/kafka/#kafka_1","title":"kafka\u6982\u5ff5","text":"<ul> <li>\u5206\u5e03\u5f0f\u6d41\u5904\u7406\u5e73\u53f0<ul> <li>\u53d1\u5e03\u8ba2\u9605\u53caTopic\u652f\u6301</li> <li>\u541e\u5410\u91cf\u9ad8\u4f46\u4e0d\u4fdd\u8bc1\u6d88\u8d39\u6709\u5e8f (partition\u4e2d\u624d\u6709\u5e8f)</li> </ul> </li> <li>\u5e38\u89c1\u5e94\u7528\u573a\u666f<ul> <li>\u65e5\u5fd7\u6536\u96c6\u6216\u6d41\u5f0f\u5904\u7406</li> <li>\u6d88\u606f\u7cfb\u7edf(\u4e0d\u592acare\u6709\u5e8f\u6027)</li> <li>\u7528\u6237\u6d3b\u52a8\u8ddf\u8e2a\u6216\u8fd0\u8425\u6307\u6807\u76d1\u63a7</li> </ul> </li> </ul>"},{"location":"cs-life/middleware/message_queue/kafka/#use-case","title":"use case","text":"<ul> <li>\u65e5\u5fd7\u5206\u7c7b<ol> <li>\u7528\u6237\u6d3b\u52a8\u4e8b\u4ef6\u6536\u96c6</li> <li>\u7cfb\u7edf\u76d1\u63a7\u6570\u636e\u6536\u96c6</li> </ol> </li> <li>\u65e5\u5fd7\u4f5c\u7528<ol> <li>\u641c\u7d22</li> <li>\u63a8\u8350</li> <li>\u5e7f\u544a</li> </ol> </li> </ul>"},{"location":"cs-life/middleware/message_queue/kafka/#_1","title":"\u540d\u8bcd\u89e3\u91ca","text":"<ul> <li>client<ul> <li><code>Producer</code> \u751f\u4ea7\u8005</li> <li><code>Consumer</code> \u6d88\u8d39\u8005</li> </ul> </li> <li> <p>kafka server</p> <ul> <li><code>Record</code>\u6d88\u606f Kafka \u5904\u7406\u7684\u4e3b\u8981\u5bf9\u8c61\u3002</li> <li><code>Topic</code> \u4e3b\u9898 \u4e3b\u9898\u662f\u627f\u8f7d\u6d88\u606f\u7684\u903b\u8f91\u5bb9\u5668\uff0c\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\u591a\u7528\u6765\u533a\u5206\u5177\u4f53\u7684\u4e1a\u52a1\u3002\u751f\u4ea7\u8005\u751f\u4ea7<code>Topic</code>, \u6d88\u8d39\u8005\u6d88\u8d39<code>Topic</code></li> <li><code>Offset</code> \u8868\u793a\u5206\u533a\u4e2d\u6bcf\u6761\u6d88\u606f\u7684\u4f4d\u7f6e\u4fe1\u606f\uff0c\u662f\u4e00\u4e2a\u5355\u8c03\u9012\u589e\u4e14\u4e0d\u53d8\u7684\u503c\u3002</li> <li> <p><code>Broker</code> Kafka \u7684\u670d\u52a1\u5668\u7aef\u7531\u88ab\u79f0\u4e3a <code>Broker</code> \u7684\u670d\u52a1\u8fdb\u7a0b\u6784\u6210\uff0c\u5373\u4e00\u4e2a <code>Kafka</code> \u96c6\u7fa4\u7531\u591a\u4e2a <code>Broker</code> \u7ec4\u6210\uff0c<code>Broker</code> \u8d1f\u8d23\u63a5\u6536\u548c\u5904\u7406\u5ba2\u6237\u7aef\u53d1\u9001\u8fc7\u6765\u7684\u8bf7\u6c42\uff0c\u4ee5\u53ca\u5bf9\u6d88\u606f\u8fdb\u884c\u6301\u4e45\u5316\u3002</p> </li> <li> <p><code>Partition</code> \u5206\u533a, <code>Kafka</code> \u4e2d\u7684\u5206\u533a\u673a\u5236\u6307\u7684\u662f\u5c06\u6bcf\u4e2a\u4e3b\u9898\u5212\u5206\u6210\u591a\u4e2a\u5206\u533a\uff08<code>Partition</code>\uff09\uff0c\u6bcf\u4e2a\u5206\u533a\u662f\u4e00\u7ec4\u6709\u5e8f\u7684\u6d88\u606f\u65e5\u5fd7\u3002\u751f\u4ea7\u8005\u751f\u4ea7\u7684\u6bcf\u6761\u6d88\u606f\u53ea\u4f1a\u88ab\u53d1\u9001\u5230\u4e00\u4e2a\u5206\u533a\u4e2d\uff0c\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u5411\u4e00\u4e2a\u53cc\u5206\u533a\u7684\u4e3b\u9898\u53d1\u9001\u4e00\u6761\u6d88\u606f\uff0c\u8fd9\u6761\u6d88\u606f\u8981\u4e48\u5728\u5206\u533a 0 \u4e2d\uff0c\u8981\u4e48\u5728\u5206\u533a 1 \u4e2d\u3002\u5982\u4f60\u6240\u89c1\uff0cKafka\u7684\u5206\u533a\u7f16\u53f7\u662f\u4ece 0 \u5f00\u59cb\u7684\uff0c\u5982\u679c Topic \u6709 100 \u4e2a\u5206\u533a\uff0c\u90a3\u4e48\u5b83\u4eec\u7684\u5206\u533a\u53f7\u5c31\u662f\u4ece 0 \u523099\u3002</p> </li> <li>\u526f\u672c, \u526f\u672c\u662f\u5728\u5206\u533a\u6982\u5ff5\u4e0b\u7684\uff0c\u6bcf\u4e2a\u5206\u533a\u4e0b\u53ef\u4ee5\u914d\u7f6e\u82e5\u5e72\u4e2a\u526f\u672c\u3002<ul> <li><code>Leader</code>\uff0c \u63d0\u4f9b <code>client</code> \u8bfb\u5199</li> <li><code>Follower</code>, \u53ea\u7528\u4e8e\u9ad8\u53ef\u7528, <code>client</code>\u4e0d\u53ef\u8bfb\u5199\u3002</li> </ul> </li> <li>\u70b9\u5bf9\u70b9\u6a21\u578b <code>p2p</code><ul> <li><code>Consumer Group</code> \u5728 Kafka \u4e2d\u5b9e\u73b0\u8fd9\u79cd P2P \u6a21\u578b\u7684\u65b9\u6cd5\u5c31\u662f\u5f15\u5165\u4e86\u6d88\u8d39\u8005\u7ec4\uff08Consumer Group\uff09\u3002\u6240\u8c13\u7684\u6d88\u8d39\u8005\u7ec4\uff0c\u6307\u7684\u662f\u591a\u4e2a\u6d88\u8d39\u8005\u5b9e\u4f8b\u5171\u540c\u7ec4\u6210\u4e00\u4e2a\u7ec4\u6765\u6d88\u8d39\u4e00\u7ec4\u4e3b\u9898\u3002\u8fd9\u7ec4\u4e3b\u9898\u4e2d\u7684\u6bcf\u4e2a\u5206\u533a\u90fd\u53ea\u4f1a\u88ab\u7ec4\u5185\u7684\u4e00\u4e2a\u6d88\u8d39\u8005\u5b9e\u4f8b\u6d88\u8d39\uff0c\u5176\u4ed6\u6d88\u8d39\u8005\u5b9e\u4f8b\u4e0d\u80fd\u6d88\u8d39\u5b83\u3002</li> </ul> </li> <li><code>Consumer Offset</code> \u6bcf\u4e2a\u6d88\u8d39\u8005\u5728\u6d88\u8d39\u6d88\u606f\u7684\u8fc7\u7a0b\u4e2d\u5fc5\u7136\u9700\u8981\u6709\u4e2a\u5b57\u6bb5\u8bb0\u5f55\u5b83\u5f53\u524d\u6d88\u8d39\u5230\u4e86\u5206\u533a\u7684\u54ea\u4e2a\u4f4d\u7f6e\u4e0a\uff0c\u8fd9\u4e2a\u5b57\u6bb5\u5c31\u662f\u6d88\u8d39\u8005\u4f4d\u79fb\uff08<code>Consumer Offset</code>\uff09</li> </ul> </li> </ul>"},{"location":"cs-life/middleware/message_queue/kafka/#paper","title":"Paper \u9605\u8bfb","text":"<ul> <li>\u4eba\u751f\u8bfb\u5b8c\u7684\u7b2c\u4e00\u7bc7paper link: https://github.com/Draymonders/Code-Life/blob/master/middleware/kafka/Kafka.pdf</li> </ul>"},{"location":"cs-life/middleware/message_queue/kafka/#traditional-message-system","title":"traditional message system","text":"<ol> <li>IBM Websphere MQ has transactional supports that allow an application to insert messages into multiple queues atomically. (\u4fdd\u8bc1\u6d88\u606f\u63d2\u5165\u7684\u4e8b\u52a1\u6027, \u539f\u5b50\u6027?)</li> <li>The JMS specification allows each individual message to be acknowledged after consumption.(\u6d88\u8d39\u6bcf\u6761\u6d88\u606f\u90fd\u8981ack)</li> <li>Those systems are weak in distributed support.(\u5f88\u5c11\u652f\u6301\u5206\u5e03\u5f0f)</li> <li>Finally, many messaging systems assume near immediate consumption of messages, so the queue of unconsumed messages is always fairly small. Their performance degrades significantly if messages are allowed to accumulate.(\u4e0d\u5141\u8bb8\u5806\u79ef)</li> <li>Additionally, most of them use a \u201cpush\u201d model in which the broker forwards data to consumers.At LinkedIn, we find the \u201cpull\u201d model more suitable for our applications since each consumer can retrieve the messages at the maximum rate it can sustain and avoid being flooded by messages pushed faster than it can handle. (\u5927\u591a\u6570\u7528\u7684\u63a8\u6a21\u5f0f, \u4f46kafka\u662f\u62c9\u6a21\u5f0f, \u62c9\u53ef\u4ee5\u6839\u636econsumer\u63a7\u5236\u901f\u7387\uff0c\u9632\u6b62\u63a8\u9001\u592a\u5feb\u5bfc\u81f4consumer\u625b\u4e0d\u4f4f).</li> </ol>"},{"location":"cs-life/middleware/message_queue/kafka/#the-architecture-of-kafka-and-its-key-design-principles","title":"the architecture of Kafka and its key design principles","text":"<ol> <li>Unlike traditional iterators, the message stream iterator never terminates. If there are currently no more messages to consume, the iterator blocks until new messages are published to the topic.(\u6d88\u606f\u8fed\u4ee3\u5668\u4e0d\u4f1a\u7ec8\u6b62, \u4e0d\u7528\u91cd\u65b0\u5efa\u7acbtcp/ip\u94fe\u63a5)</li> <li>We support both the point-to-point delivery model in which multiple consumers jointly consume a single copy of all messages in a topic, as well as the publish/subscribe model in which multiple consumers each retrieve its own copy of a topic. (\u652f\u6301\u53d1\u5e03\u8ba2\u9605 &amp; \u70b9\u5bf9\u70b9)</li> <li>To balance load, a topic is divided into multiple partitions and each broker stores one or more of those partitions. (\u4e3a\u4e86\u8d1f\u8f7d\u5747\u8861\uff0c\u5206\u6210\u591a\u4e2apartition)</li> </ol>"},{"location":"cs-life/middleware/message_queue/kafka/#efficiency-on-a-single-partition","title":"Efficiency on a Single Partition","text":""},{"location":"cs-life/middleware/message_queue/kafka/#simple-storage","title":"Simple storage","text":"<ol> <li>Kafka has a very simple storage layout. Each partition of a topic corresponds to a logical log.(\u6d88\u606f\u5c31\u662f\u5b58\u7684\u65e5\u5fd7)</li> <li>Physically, a log is implemented as a set of segment files of approximately the same size (e.g., 1GB). Every time a producer publishes a message to a partition, the broker simply appends the message to the last segment file. (\u65e5\u5fd7\u4f1a\u5206\u6bb5, \u6bcf\u6bb5\u5b58\u5230\u4e00\u4e2a\u6587\u4ef6\u4e0a)</li> <li>For better performance, we flush the segment files to disk only after a configurable number of messages have been published or a certain amount of time has elapsed. A message is only exposed to the consumers after it is flushed.(\u6709\u4e00\u4e2a\u7f13\u51b2\u961f\u5217\uff0c\u7b49\u961f\u5217\u6570\u91cf\u6ee1\u8db3 \u914d\u7f6e\u7684\u6570\u91cf \u624d\u4f1a\u5199\u5165\u5230log\u6587\u4ef6\u4e2d)</li> <li>This avoids the overhead of maintaining auxiliary, seek-intensive random-access index structures that map the message ids to the actual message locations. (\u6d88\u606f\u6ca1\u6709id, \u4e0d\u9700\u8981\u5efa\u7d22\u5f15\uff0c\u51cf\u5c11\u4e86\u968f\u673a\u8bbf\u95ee\u7684overhead)</li> <li>If the consumer acknowledges a particular message offset, it implies that the consumer has received all messages prior to that offset in the partition.(consumer\u63d0\u4ea4offset,\u4ee3\u8868\u5df2\u7ecf\u63a5\u6536\u4e86offset\u4e4b\u524d\u7684\u6240\u6709\u6570\u636e)</li> <li>Each pull request contains the offset of the message from which the consumption begins and an acceptable number of bytes to fetch. Each broker keeps in memory a sorted list of offsets, including the offset of the first message in every segment file. The broker locates the segment file where the requested message resides by searching the offset list, and sends the data back to the consumer. (consumer\u62c9\u53d6\u6d88\u606f\uff0c\u5305\u542b\u4e86offset, broker\u4fdd\u5b58\u4e86\u4e00\u4e2a\u6709\u5e8f\u7684offset, \u8868\u793a\u6bcf\u4e2a\u6bb5\u6587\u4ef6\u7684\u9996offset, \u7136\u540e\u6839\u636econsumer\u7684offset\u53bb\u5b9a\u4f4d\u6bb5\u6587\u4ef6\u5e76\u4e14\u627e\u5230\u6d88\u606f\u96c6\u5408) </li> </ol>"},{"location":"cs-life/middleware/message_queue/kafka/#efficient-transfer","title":"Efficient transfer","text":"<ol> <li>the producer can submit a set of messages in a single send request. Although the end consumer API iterates one message at a time, under the covers, each pull request from a consumer also retrieves multiple messages up to a certain size, typically hundreds of kilobytes.(producer\u6279\u91cf\u5199\u5165\uff0cconsumer\u6279\u91cf\u8bfb\u53d6)</li> <li>rely on the underlying file system page cache, avoiding double buffering messages are only cached in the page cache.. (\u4f9d\u8d56\u6587\u4ef6\u7cfb\u7edf\u9875\u7f13\u5b58, \u4e0d\u5b58\u5185\u5b58\uff0c\u907f\u514d\u4e86\u4e24\u5c42\u7f13\u51b2).Kafka doesn\u2019t cache messages in process at all, it has very little overhead in garbage collecting its memory, making efficient implementation in a VM-based language feasible. (\u6ca1\u6709\u7528\u5f88\u591a\u5185\u5b58\uff0c\u5bfc\u81f4\u4e0d\u9700\u8981gc).</li> <li>Zero copy<ul> <li>A typical approach to sending bytes from a local file to a remote socket involves the following steps.<ol> <li>read data from the storage media to the page cache in an OS</li> <li>copy data in the page cache to an application buffer</li> <li>copy application buffer to another kernel buffer</li> <li>send the kernel buffer to the socket.</li> </ol> </li> <li>(\u96f6\u62f7\u8d1d\u539f\u7406 todo) </li> </ul> </li> </ol>"},{"location":"cs-life/middleware/message_queue/kafka/#stateless-broker","title":"stateless broker","text":"<ol> <li>the information about how much each consumer has consumed is not maintained by the broker, but by the consumer itself. (consumer\u638c\u7ba1offset\u4fe1\u606f)<ul> <li>(\u7531\u4e8e\u4e0d\u77e5\u9053message\u88ab\u6d88\u8d39\u7684\u4fe1\u606f, \u6240\u4ee5\u5220\u9664\u6d88\u606f\u662f\u4e2a\u9ebb\u70e6\u4e8b)</li> <li>A message is automatically deleted if it has been retained in the broker longer than a certain period, typically 7 days.</li> </ul> </li> <li>A consumer can deliberately rewind back to an old offset and reconsume data. We note that rewinding a consumer is much easier to support in the pull model than the push model.(offset\u53ef\u4ee5\u56de\u9000\uff0c\u56e0\u4e3a\u662fpull\u6a21\u578b\uff0cpush\u6a21\u578b\u7684\u8bdd\u5b9e\u73b0\u4f1a\u6bd4\u8f83\u9ebb\u70e6)</li> </ol>"},{"location":"cs-life/middleware/message_queue/kafka/#distributed-coordination","title":"Distributed Coordination","text":"<ol> <li>each message is delivered to only one of the consumers within the group (\u5728\u4e00\u4e2aconsumer group\u4e2d\uff0c\u4e00\u6761message\u53ea\u80fd\u88ab\u4e00\u4e2aconsumer\u6d88\u8d39)</li> <li>Make a partition within a topic the smallest unit of parallelism. (partition \u662f\u6700\u5c0f\u7684\u5e76\u884c\u5355\u4f4d)</li> <li>not have a central \u201cmaster\u201d node, but instead let consumers coordinate among themselves in a decentralized fashion<ul> <li>use zookeeper (zk\u4ecb\u7ecd)<ol> <li>file system like api, crud, and list the children of a path</li> <li>one can register a watcher on a path and get notified when the children of a path or the value of a path has changed</li> <li>a path can be created as ephemeral (as oppose to persistent), which means that if the creating client is gone, the path is automatically removed by the Zookeeper server; </li> <li>zookeeper replicates its data to multiple servers, which makes the data highly reliable and available</li> </ol> </li> </ul> </li> <li>kafka use zookeeper for the following tasks<ul> <li>detect the addition and the removal of brokers and consumers (\u68c0\u6d4bconsumer * broker \u589e\u52a0/\u5220\u9664)</li> <li>trigger a rebalance process when the above events happen (\u5f53\u4e0a\u9762\u4e8b\u4ef6\u53d1\u751f\uff0c\u53d1\u751frebalance)</li> <li>maintain the consumption relationship and keep track of the consumed offset of each partition</li> <li>Each consumer registers a Zookeeper watcher on both the broker registry and the consumer registry, and will be notified whenever a change in the broker set or the consumer group occurs. (broker set / consumer group \u72b6\u6001\u53d1\u751f\u6539\u53d8\uff0c\u4f1a\u901a\u77e5)</li> </ul> </li> </ol>"},{"location":"cs-life/middleware/message_queue/kafka/#delivery-guarantees","title":"Delivery Guarantees","text":"<ol> <li>Kafka only guarantees at-least-once delivery. Exactly once delivery typically requires two-phase commits and is not necessary for our applications. (kafka\u4fdd\u8bc1\u81f3\u5c11\u4e00\u6b21\u6d88\u8d39, \u6b63\u597d\u4e00\u6b21\u9700\u8981\u4e24\u6bb5\u63d0\u4ea4, \u4f46\u5927\u591a\u6570\u7cfb\u7edf\u4e0d\u9700\u8981).</li> <li>in the case when a consumer process crashes without a clean shutdown, the consumer process that takes over those partitions owned by the failed consumer may get some duplicate messages that are after the last offset successfully committed to zookeeper. (consumer\u7a81\u7136\u5b95\u673a\uff0c\u4f1a\u5bfc\u81f4\u53ef\u80fd\u6700\u540e\u7684offset\u66f4\u65b0\u6ca1\u6709\u63a8\u9001\u5230zk or kafka\u91cc)<ul> <li>If an application cares about duplicates, it must add its own de- duplication logic, either using the offsets that we return to the consumer or some unique key within the message.(\u4e0d\u60f3\u8981\u91cd\u590d\uff0c\u9700\u8981\u81ea\u884c\u5b9e\u73b0\u53bb\u91cd\u903b\u8f91\uff0c\u5982\u7528offset or unique key).</li> </ul> </li> <li>To avoid log corruption, Kafka stores a CRC for each message in the log.(\u9632\u6b62log\u635f\u574f\uff0cCRC\u6821\u9a8c)</li> </ol>"},{"location":"cs-life/middleware/message_queue/kafka/#_2","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"cs-life/middleware/message_queue/kafka/#kafkafollower","title":"Kafka\u4e3a\u4ec0\u4e48\u5ba2\u6237\u7aef\u4e0d\u53ef\u8bfb\u5199Follower\u526f\u672c","text":"<ul> <li>https://www.zhihu.com/question/327925275/answer/705690755</li> <li>\u4e00\u65b9\u9762\uff0c\u7531\u4e8e\u526f\u672c\u662f\u57fa\u4e8e\u5206\u533a\u7684\uff0c\u5df2\u7ecf\u505a\u4e86\u6570\u636e\u7684\u8d1f\u8f7d\u5747\u8861\u3002</li> <li><code>Leader-Follower</code> \u540c\u6b65 <code>Consumer Offset</code>\u5b58\u5728\u4e00\u81f4\u6027\u95ee\u9898, \u5b9e\u73b0\u590d\u6742\u3002</li> </ul>"},{"location":"cs-life/middleware/message_queue/kafka/#kafka_2","title":"kafka\u541e\u5410\u91cf\u5927","text":"<ul> <li>\u65e5\u5fd7\u987a\u5e8f\u8bfb\u5199\u548c\u5feb\u901f\u68c0\u7d22</li> <li>partition\u673a\u5236 (\u5e76\u884c\u4f46\u4e0d\u4fdd\u8bc1\u5168topic\u6709\u5e8f)</li> <li>\u6279\u91cf\u53d1\u9001\u63a5\u6536\u548c\u6570\u636e\u538b\u7f29\u673a\u5236</li> <li>\u901a\u8fc7sendfile\u5b9e\u73b0\u96f6\u62f7\u8d1d\u539f\u5219</li> </ul>"},{"location":"cs-life/middleware/message_queue/kafka/#_3","title":"\u65e5\u5fd7\u68c0\u7d22\u5e95\u5c42","text":"<ul> <li>\u6bcf\u4e2apartion\u4f5c\u4e3a\u4e00\u4e2a\u6587\u4ef6\u5939 <pre><code>message length: 4 bytes (value: 1+4+n) // \u6d88\u606f\u957f\u5ea6, \u4e0d\u7b97\u81ea\u8eab, \u53ef\u4ee5\u7406\u89e3\u4e3aheader\n\"magic\" value: 1 byte         //\u7248\u672c\u53f7\ncrc: 4 bytes                        //CRC\u6821\u9a8c\u7801\npayload:  n bytes               // \u5177\u4f53\u7684\u6d88\u606f \n</code></pre></li> <li>\u6bcf\u4e2apartition\u7684\u65e5\u5fd7\u4f1a\u5206\u4e3aN\u4e2a\u5927\u5c0f\u76f8\u7b49\u7684segment, \u867d\u7136\u5927\u5c0f\u76f8\u7b49\uff0c\u4f46\u662f\u6d88\u606f\u6570\u91cf\u4e0d\u4e00\u5b9a\u76f8\u7b49</li> <li>\u6bcf\u4e2apartition\u53ea\u652f\u6301\u987a\u5e8f\u8bfb\u5199</li> <li>partition\u4f1a\u6dfb\u52a0\u5230\u6700\u540e\u4e00\u4e2asegment\u4e0a</li> <li>\u6240\u4ee5\u901a\u8fc7\u5efa\u7acb <code>segement_index -&gt; real_offset -&gt; real_record</code> \u7684\u6620\u5c04\uff0c\u5e76\u5229\u7528\u987a\u5e8fappend\uff0c\u63d0\u9ad8\u4e86\u6548\u7387</li> </ul>"},{"location":"cs-life/middleware/message_queue/kafka/#_4","title":"\u96f6\u62f7\u8d1d","text":"<ul> <li>\u539f\u59cb  <code>\u6587\u4ef6-&gt;\u7528\u6237\u7f13\u51b2\u533a-&gt;\u5185\u6838-&gt;socket-&gt;\u6d88\u8d39\u8005\u8fdb\u7a0b</code></li> <li>\u8c03\u7528linux\u7cfb\u7edf\u51fd\u6570,  <code>\u6587\u4ef6-&gt;\u5185\u6838-&gt;socket-&gt;\u6d88\u8d39\u8005\u8fdb\u7a0b</code> </li> </ul>"},{"location":"cs-life/middleware/message_queue/kafka/#_5","title":"\u6d88\u8d39\u8005\u7ec4","text":"<ul> <li>\u5728\u6d88\u606f\u4e0d\u88ab\u56de\u6536\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0d\u540cgroup\u4f1a\u6d88\u8d39\u540c\u4e00topic\u7684\u540c\u4e00\u6761\u6d88\u606f</li> <li>\u5355\u4e2apartition\u53ea\u80fd\u7531\u6d88\u8d39\u8005\u7ec4\u4e2d\u67d0\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39</li> <li>\u6d88\u8d39\u8005\u7ec4\u4e2d\u7684\u5355\u4e2a\u6d88\u8d39\u8005\u53ef\u4ee5\u6d88\u8d39\u591a\u4e2apartition</li> </ul>"},{"location":"cs-life/middleware/message_queue/kafka/#topic","title":"topic \u5220\u9664","text":"<ul> <li>kafka\u7684topic\u5220\u9664\u5b58\u5728\u7684\u95ee\u9898\u4f1a\u6bd4\u8f83\u591a</li> <li>\u5efa\u8bae\u8bbe\u7f6e<code>auto.create.topics.enable = false</code></li> <li>\u5efa\u8bae\u8bbe\u7f6e<code>delete.topic.enable=true</code></li> <li>\u505c\u6389kafka\u7684\u6d41\u91cf\uff0c\u518d\u5220topic</li> </ul>"},{"location":"cs-life/middleware/message_queue/kafka/#_6","title":"\u53c2\u8003","text":"<ul> <li>Kafka\u5b58\u50a8\u6a21\u578b</li> </ul>"},{"location":"cs-life/middleware/message_queue/rocket_mq/","title":"RocketMQ","text":"<p>\u4e3b\u8981\u662f\u5728\u7ebf\u6570\u636e\u5f02\u6b65\u5904\u7406\u4f7f\u7528\u3002</p>"},{"location":"cs-life/middleware/message_queue/rocket_mq/#_1","title":"\u5b58\u50a8","text":""},{"location":"cs-life/middleware/message_queue/rocket_mq/#commitlog","title":"CommitLog","text":"<p>\u4f5c\u7528\uff1a\u7528\u4e8e\u5b58\u50a8\u6240\u6709Topic\u7684MQ\u6d88\u606f\u5b9e\u9645\u6570\u636e</p> <p>\u7279\u70b9\uff1a</p> <ul> <li>\u4f7f\u7528\u504f\u79fb\u91cf\u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\b\u6587\u4ef6\u540d\u957f\u5ea620\u4f4d\u6570\u5b57\uff0c\u504f\u79fb\u91cf\u957f\u5ea6\u4e0d\u591f20\u4f4d\u5c31\u5de6\u8fb9\u88650</li> <li>\u6587\u4ef6\u5927\u5c0f\u9ed8\u8ba41GB</li> <li>\u6d88\u606f\u987a\u5e8f\u5199\u5165\u8be5\u6587\u4ef6\uff0c\u6bcf\u6761\u6d88\u606f\u957f\u5ea6\u4e0d\u5b9a\uff0c\u6587\u4ef6\u5199\u6ee1\u540e\uff0c\u5199\u5165\u4e0b\u4e00\u4e2a\u6587\u4ef6</li> </ul> <p></p>"},{"location":"cs-life/middleware/message_queue/rocket_mq/#topic","title":"Topic","text":"<p>\u4f5c\u7528\uff1a\u533a\u5206\u4e1a\u52a1\u57df\u7684\u4e00\u7ec4\u6d88\u606f</p>"},{"location":"cs-life/middleware/message_queue/rocket_mq/#consumequeue","title":"ConsumeQueue","text":"<p>\u4f5c\u7528\uff1a\u63d0\u5347topic\u7684\u5e76\u53d1\u8bfb\u5199\u80fd\u529b\uff08\u4f46\u662f\u6ca1\u529e\u6cd5\u4fdd\u8bc1\u6d88\u606f\u7684\u5168\u5c40\u6709\u5e8f\uff0c\u53ea\u80fd\u4fdd\u8bc1\u5355queue\u7684\u6709\u5e8f\u80fd\u529b\uff09</p> <p>\u5b9e\u73b0\uff1aCommitLog\u7684\u4e00\u79cd\u7d22\u5f15</p> <p>Consumer\u6d88\u8d39\u6d88\u606f\u7684\u65f6\u5019\uff0c\u8981\u8bfb2\u6b21\uff1a\u5148\u8bfbConsumeQueue\u5f97\u5230offset\uff0c\u518d\u901a\u8fc7offset\u627e\u5230CommitLog\u5bf9\u5e94\u7684\u6d88\u606f\u5185\u5bb9\u3002</p> <p>\u7279\u70b9\uff1a</p> <ul> <li>\u5b58\u50a8\u8def\u5f84\uff1aconsumequeue/{topic}/{queueId}/{fileName}</li> <li>\u6587\u4ef6\u56fa\u5b9a\u5927\u5c0f\u7ea65.72MB</li> <li>\u6587\u4ef6\u5185\u5b58\u50a830w\u4e2a\u6761\u76ee\uff0c\u6bcf\u4e2a\u6761\u76ee20B\uff1a8B\u7684CommitLog\u7269\u7406\u504f\u79fb\u91cf+4B\u6d88\u606f\u957f\u5ea6+8B\u6d88\u606fTagHash</li> <li>\u6587\u4ef6\u5f88\u5c0f\uff0c\u53ef\u6574\u4e2a\u6587\u4ef6\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d</li> <li>\u6761\u76ee\u56fa\u5b9a\u5927\u5c0f\uff0c\u53ef\u4ee5\u50cf\u8bbf\u95ee\u6570\u7ec4\u4e00\u6837\u968f\u673a\u8bbf\u95ee</li> </ul> <p></p>"},{"location":"cs-life/middleware/message_queue/rocket_mq/#8bcommitlog","title":"\u4e3a\u4ec0\u4e488B\u5c31\u80fd\u591f\u5b58\u50a8CommitLog\u7684\u504f\u79fb\u91cf\u4e86","text":"<p>8B =&gt; 64bit =&gt; 2**64 =&gt; 18446744073709551616</p> <p>len(str(\"18446744073709551616\")) =&gt; 20</p>"},{"location":"cs-life/middleware/message_queue/rocket_mq/#offsettableoffset","title":"offsetTable.offset","text":"<p>\u4f5c\u7528\uff1a\u8981\u8bb0\u5f55\u5f53\u524dconsumerQueue\u7684\u6bcf\u4e2aconsumerGroup\u7684offset</p> <p>\u8fd9\u4e2aoffset\u662fConsumeQueue\u6587\u4ef6\u7684\uff08\u5df2\u7ecf\u6d88\u8d39\u7684\uff09\u4e0b\u6807/\u884c\u6570\uff0c\u53ef\u4ee5\u76f4\u63a5\u5b9a\u4f4d\u5230ConsumeQueue\u5e76\u627e\u5230commitlogOffset\u4ece\u800c\u627e\u5230\u6d88\u606f\u4f53\u539f\u6587\u3002</p> <p>\u8fd9\u4e2aoffset\u662f\u6d88\u606f\u6d88\u8d39\u8fdb\u5ea6\u7684\u6838\u5fc3\uff0c\u4e0d\u540c\u7684\u6d88\u8d39\u6a21\u5f0f\uff0c\u4fdd\u5b58\u5730\u5740\u4e0d\u540c </p> <p>\u5e7f\u64ad\u6a21\u5f0f\uff1aDefaultMQPushConsumer\u7684BROADCASTING\u6a21\u5f0f\uff0c\u5404\u4e2aConsumer\u6ca1\u6709\u4e92\u76f8\u5e72\u6270\uff0c\u4f7f\u7528LoclaFileOffsetStore\uff0c\u628aOffset\u5b58\u50a8\u5728Consumer\u672c\u5730 </p> <p>\u96c6\u7fa4\u6a21\u5f0f\uff1aDefaultMQPushConsumer\u7684CLUSTERING\u6a21\u5f0f\uff0c\u7531Broker\u7aef\u5b58\u50a8\u548c\u63a7\u5236Offset\u7684\u503c\uff0c\u4f7f\u7528RemoteBrokerOffsetStore</p>"},{"location":"cs-life/middleware/message_queue/rocket_mq/#indexfile-todo","title":"IndexFile  TODO","text":"<p>\u4f5c\u7528\uff1a\u6839\u636e\u65f6\u95f4\u548cmsgId\u53bb\u5b9a\u4f4d\u5230\u5177\u4f53\u7684\u6d88\u606f\u5185\u5bb9</p> <p>\u8fd9\u4e2a\u591a\u662f\u7ebf\u4e0a\u5b9a\u4f4d\u95ee\u9898\u4f7f\u7528\uff0c\u6839\u636eMsgId\u53bb\u67e5\u5177\u4f53\u7684\u6d88\u606f\u5185\u5bb9</p>"},{"location":"cs-life/middleware/message_queue/rocket_mq/#reference","title":"Reference","text":"<ul> <li>https://jishuin.proginn.com/p/763bfbd6a0f2</li> </ul>"},{"location":"cs-life/middleware/nginx/nginx/","title":"Nginx","text":""},{"location":"cs-life/middleware/nginx/nginx/#_1","title":"\u6a21\u677f","text":"<ul> <li>main\u5168\u5c40\u5757\uff1a\u914d\u7f6e\u5f71\u54cdnginx\u5168\u5c40\u7684\u6307\u4ee4\u3002\u4e00\u822c\u6709\u8fd0\u884cnginx\u670d\u52a1\u5668\u7684\u7528\u6237\u7ec4\uff0cnginx\u8fdb\u7a0bpid\u5b58\u653e\u8def\u5f84\uff0c\u65e5\u5fd7\u5b58\u653e\u8def\u5f84\uff0c\u914d\u7f6e\u6587\u4ef6\u5f15\u5165\uff0c\u5141\u8bb8\u751f\u6210worker process\u6570\u7b49\u3002</li> <li>events\u5757\uff1a\u914d\u7f6e\u5f71\u54cdnginx\u670d\u52a1\u5668\u6216\u4e0e\u7528\u6237\u7684\u7f51\u7edc\u8fde\u63a5\u3002\u6709\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u6700\u5927\u8fde\u63a5\u6570\uff0c\u9009\u53d6\u54ea\u79cd\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u5904\u7406\u8fde\u63a5\u8bf7\u6c42\uff0c\u662f\u5426\u5141\u8bb8\u540c\u65f6\u63a5\u53d7\u591a\u4e2a\u7f51\u8def\u8fde\u63a5\uff0c\u5f00\u542f\u591a\u4e2a\u7f51\u7edc\u8fde\u63a5\u5e8f\u5217\u5316\u7b49\u3002</li> <li>http\u5757\uff1a\u53ef\u4ee5\u5d4c\u5957\u591a\u4e2aserver\uff0c\u914d\u7f6e\u4ee3\u7406\uff0c\u7f13\u5b58\uff0c\u65e5\u5fd7\u5b9a\u4e49\u7b49\u7edd\u5927\u591a\u6570\u529f\u80fd\u548c\u7b2c\u4e09\u65b9\u6a21\u5757\u7684\u914d\u7f6e\u3002\u5982\u6587\u4ef6\u5f15\u5165\uff0c\u65e5\u5fd7\u81ea\u5b9a\u4e49\uff0c\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u8fde\u63a5\u8bf7\u6c42\u6570\u7b49\u3002</li> <li>server\u5757\uff1a\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u7684\u76f8\u5173\u53c2\u6570\uff0c\u4e00\u4e2ahttp\u4e2d\u53ef\u4ee5\u6709\u591a\u4e2aserver\u3002</li> <li>location\u5757\uff1a\u914d\u7f6e\u8bf7\u6c42\u7684\u8def\u7531\uff0c\u4ee5\u53ca\u5404\u79cd\u9875\u9762\u7684\u5904\u7406\u60c5\u51b5\u3002</li> </ul> <pre><code>#\u914d\u7f6e\u7528\u6237\u6216\u8005\u7ec4\n#user www-data;\n#\u5141\u8bb8\u751f\u6210\u7684\u8fdb\u7a0b\u6570\nworker_processes 4;\n#\u5236\u5b9a\u9519\u8bef\u65e5\u5fd7\u8def\u5f84\nerror_log /home/yituadmin/mts2.1-ga/face_platform_runtime/log/nginx/error.log;\n#\u6307\u5b9anginx\u8fdb\u7a0b\u8fd0\u884c\u6587\u4ef6\u5b58\u653e\u5730\u5740\npid /home/yituadmin/mts2.1-ga/face_platform_runtime/data/nginx/nginx.pid;\n\nevents {\n    #\u5355\u4e2awork\u8fdb\u7a0b\u5141\u8bb8\u7684\u6700\u5927\u8fde\u63a5\u6570\n    worker_connections 1024;\n}\n\nhttp {\n    log_format with_time '$remote_addr - $remote_user [$time_local] '\n                         '\"$request\" $status $bytes_sent '\n                         '\"$http_referer\" \"$http_user_agent\" \"$gzip_ratio\" \"$request_time\" \"$upstream_response_time\"';\n\n    map $time_iso8601 $logdate {\n    '~^(?&lt;ymd&gt;\\d{4}-\\d{2}-\\d{2})' $ymd;\n    default                       'date-not-found';\n    }\n    map $http_upgrade $connection_upgrade {\n        default upgrade;\n        ''      close;\n    }\n    access_log /home/yituadmin/mts2.1-ga/face_platform_runtime/log/nginx/access-$logdate.log;\n    error_log /dev/null;\n\n    client_body_temp_path /home/yituadmin/mts2.1-ga/face_platform_runtime/data/nginx/client_body_temp;\n    fastcgi_temp_path /home/yituadmin/mts2.1-ga/face_platform_runtime/data/nginx/fastcgi_temp;\n    proxy_temp_path /home/yituadmin/mts2.1-ga/face_platform_runtime/data/nginx/proxy_temp;\n    scgi_temp_path /home/yituadmin/mts2.1-ga/face_platform_runtime/data/nginx/scgi_temp;\n    uwsgi_temp_path /home/yituadmin/mts2.1-ga/face_platform_runtime/data/nginx/uwsgi_temp;\n    #use NGINX to proxy static files\n    # without 2 lines below the css proxies will not work\n    # WARNING: mime.types should exists in the same folder!\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    server {\n        #http start\n        listen 11180;\n        #        server_name 127.0.0.1;\n        #http end\n\n        #\u5982\u679c\u9700\u8981\u4f7f\u7528https, \u9700\u8981\u6ce8\u91ca\u6389 http start \u5230 http end \u4e4b\u95f4\u7684\u5185\u5bb9\uff0c\u89e3\u6ce8\u6389 https start \u5230 https end \u4e2d\u7684\u5185\u5bb9\n        #https start\n        listen 11181 ssl;\n        server_name 127.0.0.1;\n        #\u8fd9\u91cc\u53ef\u4ee5\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\uff0c\u5236\u5b9a\u5bf9\u5e94\u7684crt\u548ckey\u6587\u4ef6\n        ssl_certificate ./crt.crt;\n        ssl_certificate_key ./key.key;\n\n        ssl_session_cache shared:SSL:20m;\n        ssl_session_timeout 60m;\n        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n\n        # \u5f3a\u5236\u6d4f\u89c8\u5668\u4f7f\u7528https\uff08\u53ea\u5bf9\u57df\u540d\u6709\u6548\uff09\n        add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains;preload\";\n        #https end\n\n        fastcgi_read_timeout 12000;\n        fastcgi_buffers 16 8k;\n        #keepalive_timeout  0;\n        client_max_body_size 5120m;\n        underscores_in_headers on;\n\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;                                                                                                         proxy_set_header X-Real-IP\n        proxy_set_header REMOTE_ADDR $remote_addr;\n\n        proxy_connect_timeout 300s;\n        keepalive_timeout 300s;\n        proxy_send_timeout 300s;\n        proxy_read_timeout 300s;\n        send_timeout 300s;\n\n\n        # etag control appered to be supported since NGINX 1.3.3\n        # etag off;\n\n        #mobile\n        include mobile.conf;\n\n        # inject:start\n        location /face/v1/framework/platform_console/version {\n            proxy_pass http://127.0.0.1:9900/face/v1/framework/platform_console/version;\n        }\n        # inject:end\n\n\n        # React \u7ad9\u70b9\u8d44\u6e90\n        location ^~ /web {\n            # https\u7279\u5224\n            if ($server_port = 11180) {\n                rewrite ^(.*)/web(.*)$ https://$server_addr:11181/web$2 redirect;\n            }\n            proxy_pass http://127.1:8080/web;\n            proxy_intercept_errors on;\n            error_page 404 /web/index.html;\n        }\n\n        # \u56fe\u50cf\u56f4\u680f\u4f7f\u7528\u7684 FP \u9759\u6001\u8d44\u6e90\u8bf7\u6c42\n        location ~ /fp/.*\\.(js|css|png|jpg|ogg|otf|svg)$ {\n            rewrite  ^/fp/(.*) /web/$1 last;\n        }\n\n        location / {\n            #root ./shared/external_module/website/origin/webapps/web;\n            #add_header Cache-Control private;\n            #expires -1;\n            #http\n            #rewrite ^/(.*) http://$server_addr:11180/web/ redirect;\n            #https\n            rewrite ^/(.*) https://$server_addr:11181/web/ redirect;\n        }\n\n        # \u4ec5\u9488\u5bf9 index.html \u4e0d\u7f13\u5b58\u3002 = \u5b8c\u5168\u5339\u914d index.html;\n        location = /index.html {\n             root ./shared/external_module/website/origin/webapps/web;\n\n             add_header Last-Modified $date_gmt;\n             add_header Cache-Control 'no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0';\n             if_modified_since off;\n             expires off;\n         }\n\n\n\n        # Audio , Images and fonts will almost never modified\n        # Therefore we cached these almost for forever\n        location ~ /web/.*\\.(png|jpg|jpeg|gif|ico|ttf|otf|woff|woff2|ogg|mp4|wav) {\n            root ./shared/external_module/website/origin/webapps/web;\n\n            # etag control appered to be supported since NGINX 1.3.3\n            # etag off;\n            #access_log on;\n\n            # more_set_headers -s 404 -t 'ETag';\n\n            # enables for version control\n            # rewrite ^(.+)\\.(\\d+)\\.(png|jpeg|gif|ico|ogg|wav|mp4|ttf|otf|woff|woff2)$ $1.$3;\n\n            # more_clear_headers 'ETag';\n            expires 3650d;\n\n            # explicitly declare Cache-Control header\n            # to enables caching fearure in this version (HTTP1.1)\n            add_header Cache-Control public;\n        }\n\n        # JS CSS and HTML will cache for 1 month\n        location ~ /web/.*\\.(js|css|html)$ {\n            root ./shared/external_module/website/origin/webapps/web;\n\n            # etag control appered to be supported since NGINX 1.3.3\n            # etag off;\n            #access_log on;\n\n            # more_set_headers -s 404 -t 'ETag';\n            # rewrite ^(.+)\\.(\\d+)\\.(js|css|png|jpe?g|gif|json|ogg|html|ttf|otf|woff|woff2)$ $1.$3;\n            # more_clear_headers 'ETag';\n            expires 30d;\n\n            # explicitly declare Cache-Control header\n            # to enables caching fearure in this version (HTTP1.1)\n            add_header Cache-Control public;\n        }\n\n    }\n\n}\n</code></pre>"},{"location":"cs-life/offers/resume/","title":"Resume","text":"<p>2021.04 - \u81f3\u4eca \u5317\u4eac\u6709\u7af9\u5c45\u7f51\u7edc\u6280\u672f\u6709\u9650\u516c\u53f8 \u804c\u4f4d\uff1a \u540e\u53f0\u5f00\u53d1\u5de5\u7a0b\u5e08 \u90e8\u95e8\uff1a \u6296\u97f3\u7535\u5546-\u5e73\u53f0\u6cbb\u7406-\u5185\u5bb9\u6cbb\u7406</p> <p>\u5de5\u4f5c\u4ecb\u7ecd\uff1a</p> <p>\u8d44\u8d28\u4e2d\u5fc3\uff1a\u652f\u6301\u6296\u97f3\u7535\u5546\u5404\u79cd\u4e3b\u4f53\u5165\u9a7b\uff08\u5546\u5bb6/\u8fbe\u4eba/\u673a\u6784/\u5de5\u5177\u670d\u52a1\u5546\u7b49\uff09\uff0c\u5efa\u7acb\u51c6\u5165\u6807\u51c6\uff08\u901a\u8fc7\u5165\u9a7b\u89c4\u5219\u914d\u7f6e\uff09\uff0c\u63d0\u4f9b\u5404\u79cd\u7c7b\u578b\u8d44\u8d28\uff08\u4e3b\u4f53\u3001\u7c7b\u76ee\u3001\u884c\u4e1a\u3001\u54c1\u724c\u7b49\u8d44\u8d28\u7c7b\u578b\uff09\u7684\u5b58\u50a8\u53ca\u67e5\u8be2\u3002 \u51c6\u5165\u5ba1\u6838\uff1a\u63d0\u4f9b\u8d44\u8d28\u8ba4\u8bc1\u7684\u5ba1\u6838\u670d\u52a1\uff0c\u4fdd\u8bc1\u5546\u5bb6\u8d44\u8d28\u4fe1\u606f\u5408\u89c4\u6027\u3002</p> <p>\u4f7f\u7528\u6280\u672f\uff1a</p> <p>GO\uff0cKitex\uff0cMySQL\u5206\u5e93\u5206\u8868\uff0c\u672c\u5730\u7f13\u5b58FreeCache\uff0cRedis/Abase\u7f13\u5b58\uff0cRocketMQ\uff0cES\uff0c\u91cd\u8bd5\u72b6\u6001\u673a\uff0c\u5c0f\u65f6\u7ea7\u6570\u636e\u5bf9\u8d26</p> <p>\u5de5\u4f5c\u7ecf\u5386\uff1a</p> <ul> <li>\u54c1\u724c\u8d44\u8d28\u4eae\u8bc1C\u7aef\uff0c\u6d88\u8d39\u8005\u53ef\u5728\u5546\u8be6\u9875\u770b\u5230\u5bf9\u5e94\u7684\u54c1\u724c\u8d44\u8d28\u3002\u9762\u5411C\u7aef\u63a5\u53e3\u63d0\u4f9b\u672c\u5730\u7f13\u5b58+\u8fdc\u7a0b\u7f13\u5b58\u914d\u7f6e\u5316\u80fd\u529b\u3002</li> <li>\u652f\u6301\u9ad8\u4f18\u5546\u5bb6\u5165\u9a7b\uff0c\u63d0\u4f9b\u914d\u7f6e\u5316\u80fd\u529b\uff0c\u5bf9\u4e8e\u4e0d\u540c\u5206\u7ea7\u7684\u5546\u5bb6\uff0c\u63d0\u4f9b\u5dee\u5f02\u5316\u670d\u52a1\uff0c\u5305\u62ec\u4e0d\u9650\u4e8e\u5546\u670d\u4e3b\u52a8\u5916\u547c\u3001\u9a8c\u771f\u5e76\u884c\u3001\u62db\u5546\u670d\u52a1\u7fa4\u3002</li> <li>\u652f\u6301\u767e\u5e94\u673a\u6784\u5165\u9a7b\uff0c\u6bcf\u4e2a\u7528\u6237\u53ef\u4ee5\u6709\u591a\u4e2a\u5b50\u89d2\u8272\uff0c\u6bcf\u4e2a\u5b50\u89d2\u8272\u5404\u81ea\u62e5\u6709\u5bf9\u5e94\u7684\u8d44\u8d28\uff08\u673a\u6784\u4fe1\u606f\u3001\u80cc\u666f\u3001\u8054\u7cfb\u4eba\u65b9\u5f0f\uff09\u3002</li> <li>\u8d44\u8d28\u6548\u671f\u7ba1\u63a7\uff0c\u5bf9\u8d44\u8d28\u5373\u5c06\u5230\u671f\u3001\u5df2\u5230\u671f\u7684\u7528\u6237\u8fdb\u884c\u7ad9\u5185\u4fe1\u901a\u77e5\u3001\u5916\u547c\uff0c\u5904\u7f5a\u624b\u6bb5\u5305\u62ec\u4e0d\u9650\u4e8e\u5b58\u91cf\u5546\u54c1\u4e0b\u67b6\uff0c\u9650\u5236\u53d1\u54c1\u3002</li> <li>\u5229\u7528\u54e8\u5175\u5e73\u53f0\uff0c\u652f\u6301\u6d3b\u52a8\u51c6\u5165\u89c4\u5219\u8fed\u4ee3\uff0c\u5305\u62ec\u5e74\u8d27\u8282\u3001\u6625\u8282\u4e0d\u6253\u70ca\u3001\u6296\u97f338\u6d3b\u52a8\u3001\u56fd\u98ce\u5927\u8d4f\u3001520/618\u5927\u4fc3\u7b49\u6d3b\u52a8\u51c6\u5165\u89c4\u5219\u914d\u7f6e\u3002</li> </ul> <p>2019.10 - 2021.04 \u5317\u4eac\u4f9d\u56fe\u79d1\u6280\u516c\u53f8 \u804c\u4f4d\uff1a \u6d4b\u8bd5\u5f00\u53d1\u5de5\u7a0b\u5e08</p> <p>\u5de5\u4f5c\u4ecb\u7ecd\uff1a           </p> <p>Sturnus \u6027\u80fd\u6d4b\u8bd5\u5e73\u53f0\uff1a\u91c7\u7528\u5fae\u670d\u52a1\u67b6\u6784\uff0c\u652f\u6491\u516c\u53f8\u5404\u4ea7\u54c1\u7ebf\u7684\u6027\u80fd\u6d4b\u8bd5\uff0c\u964d\u4f4e\u4f7f\u7528\u95e8\u69db\uff0c\u63d0\u5347\u6d4b\u8bd5\u6548\u7387\uff0c\u652f\u6301\u590d\u6742\u573a\u666f\u4e0b\u7684\u538b\u529b\u6d4b\u8bd5\u548c\u7a33\u5b9a\u6027\u6d4b\u8bd5\u3002</p> <p>\u4f7f\u7528\u6280\u672f: </p> <p>Java\uff0cSpring Cloud\uff0cMongoDB\uff0cKafka\uff0cInfluxDB\uff0cRedis</p> <p>\u5de5\u4f5c\u7ecf\u5386\uff1a</p> <ul> <li>\u5728\u804c\u671f\u95f4\uff0c\u5b9e\u73b0\u6027\u80fd\u5e73\u53f0\u6bcf\u65e5\u56de\u5f52\u65e5\u5747\u7a33\u5b9aQPS\u4ece 1w \u5230 10w \u7684\u4e0a\u5347 (5\u53f0\u538b\u529b\u673a)</li> <li>\u8bbe\u8ba1\u5e76\u5f00\u53d1 QPS \u8c03\u5ea6\u65b9\u6848 (\u5c06\u538b\u529b\u5206\u914d\u5230\u5408\u9002\u7684worker\u8282\u70b9\u4e0a)\uff0c\u7a33\u5b9a\u8fd0\u884c\u4e00\u5e74\u591a\u65e0\u6545\u969c</li> <li>\u8bbe\u8ba1\u5e76\u5f00\u53d1 csv \u53d8\u91cf\uff0c\u901a\u8fc7\u5206\u7247\u4e0a\u4f20\u7684\u65b9\u5f0f\u5199\u5165\uff0c\u5728\u538b\u6d4b\u7cfb\u7edf\u4e2d mock \u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u7528\u6765\u4fdd\u8bc1\u590d\u6742\u573a\u666f\u7684\u6027\u80fd\u6d4b\u8bd5</li> <li>\u4f18\u5316\u7cfb\u7edf\u5185\u90e8\u6570\u636e\u7ed3\u6784\uff0c\u5982\u5c06 list \u7c7b\u578b\u7684 \u5927 key \u901a\u8fc7\u65f6\u95f4\u5207\u7247 (zset \u548c set) \u7684\u65b9\u5f0f\u5206\u6563</li> <li>\u53c2\u4e0e\u5b9e\u73b0\u672c\u5730\u7f13\u5b58\uff0c\u964d\u4f4eredis\u5e76\u53d1\u538b\u529b\uff0c\u63d0\u5347\u7cfb\u7edf\u9c81\u68d2\u6027</li> <li>\u53c2\u4e0e\u5c06\u670d\u52a1\u91cd\u6784\u6210\u5de5\u5177\uff0c\u4ece Docker Swarm \u8fc1\u79fb\u4e3a Kubernetes\uff0c\u63d0\u5347\u673a\u5668\u7684\u8d44\u6e90\u5229\u7528\u7387</li> <li>\u8c03\u7814\u5e76\u89e3\u51b3\u7ebf\u4e0a\u5404\u79cd\u538b\u6d4b\u95ee\u9898\uff0c\u5305\u62ec\u7ebf\u4e0a\u5927\u5e76\u53d1\u538b\u529b\u4e0b RedisTimeout\uff0chttp\u8bf7\u6c42\u8d85\u65f6\uff0c\u538b\u6d4b\u62a5\u544a\u4e22\u6570\u636e\u95ee\u9898</li> </ul>"},{"location":"cs-life/offers/interview/interview/","title":"Interview","text":"<ul> <li> <p>\u9650\u6d41</p> <ul> <li>\u6f0f\u6876\uff0c\u8bf7\u6c42\u5148\u8fdb\u5165\u5230\u6f0f\u6876\u91cc,\u6f0f\u6876\u4ee5\u4e00\u5b9a\u7684\u901f\u5ea6\u51fa\u6c34\uff0c\u63a5\u53e3\u6709\u54cd\u5e94\u901f\u7387</li> <li>\u4ee4\u724c\u6876\uff0c\u6bcf\u79d2\u751f\u4ea7\u56fa\u5b9a\u6570\u91cf\u7684\u4ee4\u724c\uff0c\u5904\u7406\u8bf7\u6c42\u9700\u8981\u5148\u62ff\u5230\u4ee4\u724c</li> <li>\u5dee\u5f02: \u4ee4\u724c\u6876\u80fd\u5904\u7406\u5cf0\u65f6\u6d41\u91cf</li> </ul> </li> <li> <p>\u52a8\u6001\u4ee3\u7406\uff0cJDK\u539f\u751f\u548ccglib</p> <ul> <li>\u539f\u751fJDK\u662f\u57fa\u4e8e\u63a5\u53e3\u5b9e\u73b0\u7684, \u5b9e\u73b0<code>InvocationHandler</code>\u63a5\u53e3\u91cc\u7684<code>invoke</code>\u65b9\u6cd5\uff0c\u63a5\u7740\u8c03\u7528<code>Proxy.newProxyInstance</code>\u65b9\u6cd5\uff0c\u4f20\u5165\u7c7b\u52a0\u8f7d\uff0c\u63a5\u53e3\uff0c\u4ee5\u53ca\u9700\u8981\u4ee3\u7406\u7684\u5bf9\u8c61</li> <li>cglib\u662f\u57fa\u4e8e<code>\u7ee7\u627f</code>(\u5b57\u8282\u7801\u589e\u5f3a\u6280\u672f)\u5b9e\u73b0\u7684\uff0c\u5b9e\u73b0<code>MethodInterceptor</code>\u63a5\u53e3\u91cc\u7684<code>intercept</code>\u65b9\u6cd5,\u63a5\u7740<code>new Enhancer()</code>\u5e76\u4e14<code>setSuperclass()</code>\u548c<code>setCallback</code></li> </ul> </li> <li> <p>dubbo \u8d1f\u8f7d\u5747\u8861\u7b97\u6cd5</p> <ul> <li>\u52a0\u6743\u968f\u673a\u7b97\u6cd5<ul> <li>\u6bd4\u5982\u6743\u91cd<code>[1,2,3]</code>, \u90a3\u4e48\u5206\u4e3a<code>[[0,1), [1,3), [3,6)]</code>, \u968f\u673a6\u4ee5\u5185\u7684\u6570\uff0c\u843d\u5728\u54ea\u4e2a\u533a\u95f4\u7b97\u54ea\u4e2a</li> <li>warm up, \u670d\u52a1\u521a\u542f\u52a8\u5148\u964d\u6743\uff0c\u540e\u6ee1\u6743</li> </ul> </li> <li>\u52a0\u6743\u6700\u5c0f\u8fde\u63a5\u6570<ul> <li>\u62ff\u5230\u6700\u5c0f\u8fde\u63a5\u6570\u7684\u8282\u70b9\u7ec4(\u53ef\u80fd\u4f1a\u6709\u591a\u4e2a\u6700\u5c0f\u8fde\u63a5\u6570\u76f8\u540c\u7684\u8282\u70b9), \u7136\u540e\u8282\u70b9\u7ec4\u8fdb\u884c\u52a0\u6743\u968f\u673a\u7b97\u6cd5</li> </ul> </li> <li>\u4e00\u81f4\u6027hash\u7b97\u6cd5<ul> <li>\u5c06\u670d\u52a1\u63d0\u4f9b\u8005\u6620\u5c04\u5230\u5706\u73af\u4e0a\uff0c\u5e76\u4e14\u5f15\u5165\u865a\u62df\u8282\u70b9<ul> <li>\u4e00\u4e2a\u7269\u7406\u8282\u70b9\u5145\u5f53\u591a\u4e2a\u865a\u62df\u8282\u70b9\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u9632\u6b62\u7531\u4e8e\u8282\u70b9\u4e0d\u591f\u5206\u6563\uff0c\u5bfc\u81f4\u5927\u91cf\u8bf7\u6c42\u843d\u5230\u4e86\u540c\u4e00\u4e2a\u8282\u70b9\u4e0a\uff0c\u800c\u5176\u4ed6\u8282\u70b9\u53ea\u4f1a\u63a5\u6536\u5230\u4e86\u5c11\u91cf\u8bf7\u6c42\u7684\u60c5\u51b5</li> </ul> </li> <li>ConsistentHashLoadBalance \u4e0d\u5173\u5fc3\u6743\u91cd</li> </ul> </li> <li>\u52a0\u6743\u8f6e\u8be2<ul> <li>\u521d\u7248\u7684\u4ee3\u7801: \u6c42\u52a0\u6743\u7684\u548c\uff0c\u6bcf\u6b21\u8c03\u7528\u4ea7\u751f\u4e00\u4e2a\u5e8f\u53f7(\u4ece0\u5f00\u59cb)\uff0c\u5bf9\u52a0\u6743\u7684\u548c\u53d6\u4f59\uff0c\u4f59\u6570\u4e00\u76f4\u9012\u51cf\uff0c\u6361\u52300\u5bf9\u5e94\u7684<code>invoker</code>\u5373\u4e3a\u5c06\u8981\u8c03\u7528\u7684\u8282\u70b9(\u95ee\u9898\u5728\u4e8e\u5982\u679c\u52a0\u6743\u7684\u548c\u5f88\u5927\uff0c\u6bcf\u6b21\u51cf\u4e00\uff0c\u6548\u7387\u8fc7\u4f4e)</li> </ul> </li> </ul> </li> </ul>"},{"location":"cs-life/offers/interview/social-interview/","title":"\u793e\u62db\u9762\u7ecf","text":""},{"location":"cs-life/offers/interview/social-interview/#_2","title":"\u5b57\u8282","text":""},{"location":"cs-life/offers/interview/social-interview/#_3","title":"\u7535\u5546\u4e00\u9762","text":"<ul> <li>\u7b97\u6cd5\u9898<ul> <li>\u5251\u6307 Offer 52. \u4e24\u4e2a\u94fe\u8868\u7684\u7b2c\u4e00\u4e2a\u516c\u5171\u8282\u70b9</li> <li>Leetcode 31. \u7ed9\u5b9a\u4e00\u7ec4\u6570\u5b57\uff0c\u4efb\u610f\u7ec4\u5408\uff0c\u6c42\u6bd4\u7ed9\u5b9a\u7ec4\u5408M\u5927\u7684\u6700\u5c0f\u503c</li> </ul> </li> <li>Linux<ul> <li>\u7edf\u8ba1\u5f53\u524d\u76ee\u5f55\u4e0b\uff08\u5305\u542b\u5b50\u76ee\u5f55\uff09 java \u7684\u6587\u4ef6\u7684\u4ee3\u7801\u603b\u884c\u6570\u3002<ul> <li>wc -l `find . -name \"*.java\"` | awk '{ sum=sum+$1 } END { print sum }'</li> </ul> </li> <li>\u7ba1\u9053\u7684\u7406\u89e3\uff0c\u7ba1\u9053\u9664\u4e86\u5b58\u5185\u5bb9\u8fd8\u5b58\u4ec0\u4e48?<ul> <li>Linux\u7ba1\u9053\u662f\u4e00\u4e2a\u64cd\u4f5c\u65b9\u5f0f\u4e3a\u6587\u4ef6\u7684\u5185\u5b58\u7f13\u51b2\u533a</li> <li><code>|</code> \u662f\u533f\u540d\u7ba1\u9053\uff0c\u7236\u5b50\u8fdb\u7a0b\u95f4\u4f7f\u7528\uff0c\u7236\u8fdb\u7a0b\u5148\u6253\u5f00\u4e00\u4e2a\u7ba1\u9053\uff0c\u7136\u540efork\u51fa\u5b50\u8fdb\u7a0b\uff0c\u5b50\u8fdb\u7a0b\u901a\u8fc7\u62f7\u8d1d\u7236\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u62ff\u5230\u7ba1\u9053\u7684\u63cf\u8ff0\u7b26\uff0c\u4ece\u800c\u53ef\u4ee5\u8bfb\u5199</li> </ul> </li> <li>\u7a0b\u5e8f\u6b63\u5728\u8dd1<ul> <li>ctrl + c\uff0c\u4f1a\u53d1\u9001<code>SIGINT</code>\u7684\u4fe1\u53f7\uff0c\u7b49\u540c\u4e8e<code>kill -2</code>(interrupt)\uff0c\u7a0b\u5e8f\u90a3\u8fb9\u63a5\u6536\u5230\u8fd9\u4e2a\u4fe1\u53f7\u540e\u505a\u5904\u7406</li> <li>ctrl + z\uff0c\u4f1a\u53d1\u9001<code>SIGTSTP</code>\u7684\u4fe1\u53f7</li> </ul> </li> </ul> </li> <li>MySQL<ul> <li>Innodb \u7d22\u5f15\u7ed3\u6784</li> <li>\u666e\u901a\u7d22\u5f15\uff0c\u552f\u4e00\u7d22\u5f15 \u4e4b\u95f4\u7684\u6027\u80fd\u5dee\u5f02<ul> <li>\u552f\u4e00\u7d22\u5f15\u9700\u8981\u4fdd\u8bc1\u63d2\u5165\u524d\u6ca1\u6709\u6570\u636e\uff0c\u666e\u901a\u7d22\u5f15\u53ef\u4ee5\u5728\u5199\u5165\u78c1\u76d8\u524d\u52a0 <code>change buffer</code></li> </ul> </li> <li>\u4e8b\u52a1\u7ea7\u522b\uff0cMVCC</li> <li>\u4e8c\u9636\u6bb5\u63d0\u4ea4</li> <li>\u7528\u6237\u8868t_user\u8868\uff0c\u5e74\u9f84age\uff08int\u7c7b\u578b\uff09\uff0c\u6c42\u54ea\u4e2a\u5e74\u9f84\u7684\u7528\u6237\u6700\u591a<ul> <li>select age, count(1) from t_user group by age order by count(1) desc limit 1;</li> </ul> </li> </ul> </li> <li>\u7f51\u7edc<ul> <li>\u8bbf\u95ee https://toutiao.com \u8fc7\u7a0b\u4e2d\u53d1\u751f\u4e86\u4ec0\u4e48<ul> <li>dns\uff08nslookup, dig\uff09 -&gt; tcp -&gt; http -&gt; https\uff08SSL\uff09</li> <li>\u7f51\u5173 -&gt; service -&gt; client</li> <li>\u6d4f\u89c8\u5668\u6e32\u67d3</li> </ul> </li> </ul> </li> <li>\u6210\u957f<ul> <li>\u6700\u8fd1\u9605\u8bfb\u7684\u76f8\u5173\u4e66\u7c4d<ul> <li>Dubbo\u5b98\u65b9\u6587\u6863\uff0c\u7f8e\u56e2\u6280\u672f\u535a\u5ba2\uff0c\u5176\u4ed6\u5927\u5382\u6280\u672f\u535a\u5ba2\uff0ceffictive go\uff0cJava\u5e76\u53d1\u7f16\u7a0b\u5b9e\u6218</li> </ul> </li> </ul> </li> </ul>"},{"location":"cs-life/offers/interview/social-interview/#_4","title":"\u7535\u5546\u4e8c\u9762","text":"<ul> <li>\u9879\u76ee<ul> <li>\u6bd5\u4e1a1\u5e74\u7684\u6210\u957f\u4e0e\u7ecf\u5386 </li> <li>Redis\u76f8\u5173\u7ecf\u5386</li> </ul> </li> <li>\u7b97\u6cd5<ul> <li>\u5f00\u6839\u8fd0\u7b97 \uff08\u8bef\u5dee1e-5\uff09</li> <li>\u5224\u65ad\u4e8c\u53c9\u641c\u7d22\u6811</li> <li>\u5806\u6392\u5e8f</li> </ul> </li> <li>\u6570\u5b66<ul> <li>\u4e24\u679a\u786c\u5e01\uff0c\u7532\u4e59\u5206\u522b\u6254\uff0c\u7136\u540e\u8c01\u6254\u6b63\u9762\u8c01\u8d62\uff0c\u6c42\u7532\u8d62\u7684\u6982\u7387<ul> <li>1/2 + 1/(2^3) + 1/(2^5) + ... = 2/3(1-(1/4)^n) =&gt; 2/3</li> </ul> </li> </ul> </li> <li>http<ul> <li>get\u548cpost\u533a\u522b\uff08\u662f\u5426\u53ef\u4ee5\u7f13\u5b58\uff09</li> <li>http\u548chttps\u533a\u522b</li> <li>\u4e2d\u95f4\u4eba\u653b\u51fb</li> <li>https\u5982\u4f55\u6293\u5305\uff08Fiddler or Charles\uff09</li> </ul> </li> <li>Redis<ul> <li>\u5355\u7ebf\u7a0b\u6a21\u578b</li> <li>\u6570\u636e\u7ed3\u6784</li> <li>\u8df3\u8868\u5b9e\u73b0\uff0c\u5982\u4f55\u63d2\u5165\u8282\u70b9</li> <li>mget\u548cpipeline\u533a\u522b<ul> <li>mget\u548cpipeline\u90fd\u662f\u591a\u547d\u4ee4\u4e00\u8d77\u6267\u884c\uff0c\u53ea\u6709\u4e00\u6b21\u5f80\u8fd4\u7684\u7f51\u7edcIO</li> <li>mget\u5728\u96c6\u7fa4\u4e0b\u53ef\u4ee5\u5e76\u884c\u53bb\u83b7\u53d6\uff0cpipeline\u8fd8\u662f\u4e32\u884c</li> </ul> </li> <li>\u4e3b\u4ece\u540c\u6b65\u7684\u7ec6\u8282<ul> <li>\u5168\u540c\u6b65</li> <li>\u589e\u91cf\u540c\u6b65</li> </ul> </li> <li>\u53ef\u4ee5\u8bd5\u8bd5<code>Memcached</code>\u6216\u8005\u591a\u7ebf\u7a0b\u7684<code>Redis</code></li> </ul> </li> </ul>"},{"location":"cs-life/offers/interview/social-interview/#_5","title":"\u7535\u5546\u4e09\u9762","text":"<ul> <li>\u7c7bLeetcode 718. \u6700\u957f\u91cd\u590d\u5b50\u6570\u7ec4\uff0c\u6c42\u4e24\u4e2a\u5b57\u7b26\u4e32\u7684\u6700\u5927\u76f8\u540c\u5b50\u4e32</li> <li>Java<ul> <li>\u8bb2\u4e00\u4e0b<code>ConcurrentHashMap</code><ul> <li>\u4e3a\u4ec0\u4e48\u6bd4<code>HashTable</code>\u7684\u6548\u7387\u9ad8</li> <li>CAS\u64cd\u4f5c\uff0c\u6709\u4ec0\u4e48\u95ee\u9898\uff0c\u89e3\u51b3\u65b9\u6848</li> </ul> </li> <li>\u7ebf\u7a0b\u6c60<ul> <li>\u5904\u7406\u6d41\u7a0b</li> <li>\u4e3a\u4ec0\u4e48\u5148corePoolSize\uff0c\u518d\u5165\u961f\u5217\uff0c\u6700\u540emaxPoolSize</li> </ul> </li> <li>\u7c7b\u52a0\u8f7d\u673a\u5236<ul> <li>\u4e3a\u4ec0\u4e48\u9700\u8981\u53cc\u4eb2\u59d4\u6d3e</li> </ul> </li> </ul> </li> <li>MySQL<ul> <li>\u7ed9\u5b9a\u8868T \uff08id name salary city\uff09<ul> <li>salary &gt; 10000 &amp;&amp; avg city salary &gt; 5000</li> </ul> </li> <li>\u7d22\u5f15\u7684\u6570\u636e\u7ed3\u6784\u5b9e\u73b0</li> <li>InnoDB\u9ed8\u8ba4\u4e8b\u52a1\u9694\u79bb\u7ea7\u522bRR\uff0c\u5b9e\u73b0\u65b9\u5f0f\uff08MVCC+\u95f4\u9699\u9501\uff09</li> </ul> </li> <li>Redis<ul> <li>\u6570\u636e\u7ed3\u6784\uff0c\u4f7f\u7528\u573a\u666f</li> </ul> </li> <li>\u4e00\u81f4\u6027hash<ul> <li>Dubbo\u8d1f\u8f7d\u5747\u8861\u7b97\u6cd5\u91cc\u9762\u7684\u4e00\u81f4\u6027hash\uff0c\u865a\u62df\u8282\u70b9\uff0c\u53e6\u5916\u5f3a\u8c03\u4e86\u4e0d\u80fd\u52a0\u6743</li> </ul> </li> </ul>"},{"location":"cs-life/offers/interview/social-interview/#_6","title":"\u6ef4\u6ef4","text":""},{"location":"cs-life/offers/interview/social-interview/#_7","title":"\u4ea4\u6613\u5f15\u64ce\u4e00\u9762\uff08\u6302\uff09","text":"<p>\u9762\u4e861h20min\uff0c\u9762\u8bd5\u4ea4\u6d41\u7684\u8fd8\u53ef\uff0c\u4e3b\u8981\u662f\u56e0\u4e3a\u4e2a\u4eba\u6280\u672f\u6808\u548c\u90e8\u95e8\u4e0d\u7b26</p> <p>\u4ee5\u4e0b<code>...</code>\u5747\u8868\u793a\u6211\u5728\u778e\u7b54</p> <ul> <li>\u9879\u76ee<ul> <li>\u4f18\u5316\u8fc7\u7684\u95ee\u9898<ul> <li>zset\u548cset\u914d\u5408\u53bb\u5206\u7247list\u7ed3\u6784</li> </ul> </li> <li>\u89e3\u51b3\u8fc7\u7684\u95ee\u9898<ul> <li>RedisTimeout\u7684\u5904\u7406\u6d41\u7a0b</li> </ul> </li> <li>\u5927\u5e76\u53d1\u4e0b\uff0c\u5982\u4f55\u89e3\u51b3\u95ee\u9898<ul> <li>\u7ebf\u4e0a\u7684\u7b56\u7565\u662fclone\uff0c\u5e76\u53d1\u63a7\u5236\u7684\u90fd\u662f\u4eceRedis\u91cc\u9762\uff08\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\uff09</li> <li>\u6bcf\u4e2a\u7ebf\u7a0b\u6267\u884c\u662f\u4e32\u884c\u7684\uff0c\u7ebf\u7a0b\u5b89\u5168\u7684</li> </ul> </li> <li>\u9879\u76ee\u515c\u5e95\u673a\u5236\uff0c\u964d\u7ea7\u7b56\u7565</li> </ul> </li> <li>golang<ul> <li>\u534f\u7a0b\u6b7b\u9501\u7684\u60c5\u51b5...</li> <li>\u5185\u5b58\u6cc4\u9732\u7684\u60c5\u51b5...</li> <li>\u4e86\u89e3Context\u5305\u561b...</li> </ul> </li> <li>\u8bbe\u8ba1<ul> <li>\u8bbe\u8ba1rpc\uff0crpc\u672c\u8d28 <code>remote process call</code></li> <li>\u957f/\u77ed\u94fe\u63a5<ul> <li>\u77ed\u8fde\u63a5\u9700\u8981\u5efa\u7acb\u8fde\u63a5\u6c60\uff0c\u957f\u8fde\u63a5\u7528\u5b8c\u9700\u8981\u91ca\u653e</li> </ul> </li> <li>\u8d1f\u8f7d\u5747\u8861<ul> <li>\u751f\u4ea7\u8005\u53ef\u80fd\u4e00\u76f4\u5728\u53d8\uff0c\u600e\u4e48\u7ef4\u62a4\uff0c\u6211\u8bf4\u6ce8\u518c\u4e2d\u5fc3\uff0c\u4e5f\u987a\u5e26\u626f\u4e86\u4e00\u4e0b<code>service mesh</code>\uff0c\u505a\u7c7b\u4f3c\u7f51\u5173\u7684\u529f\u80fd</li> </ul> </li> <li>\u6570\u636e\u538b\u7f29<ul> <li>RPC\u5f88\u91cd\u8981\u7684\u4e00\u70b9\u513f\u662f\u4e3a\u4e86\u964d\u4f4e\u5e26\u5bbd\u4f7f\u7528\uff0c\u538b\u7f29\u4f1a\u5360CPU\uff0c\u6240\u4ee5\u9700\u8981\u505atrade off</li> </ul> </li> </ul> </li> <li>MySQL<ul> <li>\u6570\u636e\u7ed3\u6784</li> <li>\u4e00\u4e2aage\uff0c\u5177\u4f53\u600e\u4e48\u5b58\u7d22\u5f15\u7684\uff08CPU\uff0c\u5185\u5b58\uff0c\u78c1\u76d8\u5404\u81ea\u505a\u4e86\u4ec0\u4e48\u64cd\u4f5c...\uff09</li> </ul> </li> <li>Redis<ul> <li>\u7ebf\u7a0b\u6a21\u578b\uff086.0\u4ee5\u540e\u591a\u7ebf\u7a0b\uff0c\u591a\u7ebf\u7a0b\u505a\u4e86\u5565...\uff09</li> <li>\u6301\u4e45\u5316\u673a\u5236<ul> <li>RDB\u4f1a\u5bfc\u81f4\u670d\u52a1\u5668\u7684\u54ea\u4e9b\u8d1f\u8f7d\u53d8\u5927\uff0c\u4e3a\u5565<ul> <li>\u5f00\u4e86\u8fdb\u7a0b\uff0c\u4f1a\u5360CPU\u548c\u5185\u5b58\uff0c\u5199\u5feb\u7167\u5230\u78c1\u76d8\uff0c\u4f1a\u4f7f\u7528\u5230IO</li> </ul> </li> <li>AOF\u6d41\u7a0b\uff0c\u4ec0\u4e48\u65f6\u5019\u4ece\u5185\u5b58dump\u5230\u78c1\u76d8\uff0c\u7f13\u51b2\u533a\u4ec0\u4e48\u65f6\u5019\u8bfb\u5199\uff0c\u6bcf\u4e2a\u5bf9\u5e94\u7684\u8fc7\u7a0b\u662f\u540c\u6b65\u7684\u8fd8\u662f\u5f02\u6b65\u7684(<code>fsync</code>\u65b9\u6cd5)</li> <li>RDB\u5199\u5feb\u7167\u65f6\u5019\uff0c\u8fd8\u53ef\u4ee5\u589e\u91cf\u5199AOF\uff0c\u6700\u540e\u5408\u5e76</li> </ul> </li> <li>\u96c6\u7fa4\u7528\u8fc7\u4e48(codis or cluster)<ul> <li>\u4f60\u4e86\u89e3\u7684\u96c6\u7fa4\u600e\u4e48\u505a\uff08\u5206\u6876\uff09</li> <li>\u8bb2\u4e00\u4e0b\u4e00\u4e2akey\u8981\u5b58\u5165\u96c6\u7fa4\u4e2d\u4f1a\u7ecf\u5386\u54ea\u4e9b\u8fc7\u7a0b<ul> <li>\u4e3a\u4ec0\u4e48\u6309\u7167<code>key</code>\u53bbhash\uff0c\u800c\u4e0d\u662f\u6309\u7167<code>client-ip</code> or <code>client</code>\u7684\u4e00\u4e9b\u53bbhash\uff0c\u4ee5\u53ca\u5bf9\u5e94\u7684\u673a\u5668down\u6389\u600e\u4e48\u529e</li> </ul> </li> </ul> </li> </ul> </li> <li>\u5e76\u53d1\u7f16\u7a0b<ul> <li>\u7528java\uff0cgolang\u5199\u591a\u7ebf\u7a0b\u5faa\u73af\u6253\u5370<ul> <li>golang\u8981\u5199channel\u548c\u9501\u7684\u4e24\u79cd\u65b9\u5f0f</li> <li>\u770b\u4ee3\u7801\uff0c\u5206\u6790\u5b58\u5728\u7684\u95ee\u9898</li> </ul> </li> </ul> </li> <li>\u7b97\u6cd5\u9898<ul> <li>\u5b58\u5728\u91cd\u590d\u5143\u7d20\u7684\u5168\u6392\u5217</li> </ul> </li> </ul>"},{"location":"cs-life/offers/interview/social-interview/#_8","title":"\u56fd\u9645\u5316\u4e00\u9762","text":"<p>\u8fd9\u6b21\u4e5f\u662f\u9762\u4e861h20min\uff0c\u9762\u8bd5\u4ea4\u6d41\u7684\u8fd8\u53ef</p> <ul> <li>\u81ea\u6211\u4ecb\u7ecd\u4ee5\u53ca\u9879\u76ee\u4ecb\u7ecd<ul> <li>\u7531\u9879\u76ee\u5f15\u7533\u51fa\u6765Redis\u7684\u4f7f\u7528</li> </ul> </li> <li>Redis<ul> <li>\u4e94\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u4ee5\u53ca\u5bf9\u5e94\u7684\u573a\u666f</li> <li>\u5355\u7ebf\u7a0b\uff086.0 \u591a\u7ebf\u7a0b\uff09</li> <li>\u8df3\u8868</li> <li>\u6e10\u8fdb\u5f0frehash</li> <li>\u6301\u4e45\u5316</li> </ul> </li> <li>MySQL<ul> <li>\u4e8b\u52a1\u7684\u7279\u6027</li> <li>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u53ca\u5b9e\u73b0</li> <li>SQL\u8c03\u4f18</li> </ul> </li> <li>Linux<ul> <li>socket io\u6a21\u578b\uff08select, poll, epoll\uff09</li> <li>\u65e5\u5fd7\u91cc\u9762\u7b2c\u4e00\u5217\u662fip, \u67e5\u8be2\u51fa\u73b0\u6b21\u6570\u524d10\u7684ip<ul> <li><code>cat xxx.log | awk '{ print $1 }' | sort -n | uniq -c | sort -r -k1 | head 10</code></li> </ul> </li> <li>\u8d1f\u8f7d\u5f88\u9ad8\u7684\u65f6\u5019\uff0c\u600e\u4e48\u67e5</li> </ul> </li> <li>\u7b97\u6cd5\u9898<ul> <li>\u7528\u52a0\u6cd5\u5b9e\u73b0\u51cf\u6cd5\uff0c\u4e58\u6cd5\uff0c\u9664\u6cd5\uff08\u52a0\u6cd5\u5df2\u7ecf\u5185\u7f6e\u597d\uff09</li> <li>\u590d\u539f IP \u5730\u5740</li> </ul> </li> </ul>"},{"location":"cs-life/offers/interview/social-interview/#_9","title":"\u56fd\u9645\u5316\u4e8c\u9762","text":"<p>\u6574\u4f53\u504f MySQL \u548c Kafka\uff0c\u6700\u540e\u9762\u8bd5\u5b98\u8bf4\u9650\u4e8e\u65f6\u95f4\uff0c\u672c\u6765\u8fd8\u60f3\u548c\u6211\u4ea4\u6d41\u64cd\u4f5c\u7cfb\u7edf\u548cLinux\u7684</p> <ul> <li><code>ChaosBlade</code>\u5206\u6790\u7ebf\u4e0a<code>RedisTimeout</code>\u6d41\u7a0b<ul> <li>\u5bf9<code>ChaosBlade</code>\u7406\u89e3\uff0ccpu100%\uff0cmem100%\uff0c\u78c1\u76d8\u5199\u6ee1\uff0c\u5f31\u7f51\uff0c\u7f51\u7edc\u4e0d\u53ef\u8fbe</li> </ul> </li> <li>\u6570\u636e\u5e93<ul> <li>\u6709\u54ea\u4e9blog\uff08binlog\uff0cslowlog\uff0cundolog\uff0credolog\uff09<ul> <li>\u8bb2\u4e00\u4e0bredo/undo log</li> <li>redis\u4e8b\u52a1\u5b9e\u73b0\u539f\u7406</li> </ul> </li> <li>\u7d22\u5f15\u7684\u7406\u89e3</li> <li>\u7ec4\u5408\u7d22\u5f15\u7684\u7d22\u5f15\u5b58\u50a8\u662f\u600e\u4e48\u6837\u7684</li> <li>\u4e3a\u4ec0\u4e48\u6570\u636e\u5e93\u6700\u5f00\u59cb\u5c31\u9009\u62e9\u7528B+\u6811\uff0c\u800c\u4e0d\u662f\u6570\u7ec4\uff0c\u961f\u5217\u8fd9\u6837\u7684\u7ed3\u6784<ul> <li>\u6211\u7406\u89e3\u66f4\u591a\u7684\u662f\u74f6\u9888\u5728io</li> </ul> </li> <li>\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u5185\u5b58\u8db3\u591f\uff0cb+ tree\u548c\u6570\u7ec4\u68c0\u7d22\u7684\u533a\u522b\uff08\u5047\u8bbe\u53ea\u8bfb\u7684\u60c5\u51b5\u4e0b\uff09<ul> <li>\u6570\u7ec4\u7d22\u5f15\u660e\u663e\u66f4\u5feb\uff0c\u5e76\u4e14\u53ef\u4ee5cache\u5230\u5bc4\u5b58\u5668\u5c42\u9762</li> <li>b+ tree\u662f\u57fa\u4e8e\u5806\u7684\uff0c\u4e0d\u4f1a\u6bd4\u6570\u7ec4\u5feb</li> </ul> </li> </ul> </li> <li>Kafka<ul> <li>\u7406\u89e3\uff08\u770b\u8fc7kafka\u7684paper\uff0c\u6574\u4f53\u8bb2\u4e86\u4e00\u4e0b\uff09<ul> <li>Kafka\u5b98\u65b9\u4ecb\u7ecd\u4e0d\u662f\u7528\u6765\u505a\u6d88\u606f\u961f\u5217\u7684\uff0c\u662f\u7528\u6765\u505a\u6d41\u5904\u7406\u5e73\u53f0</li> </ul> </li> <li>\u8bed\u4e49\u7684\u4fdd\u8bc1<ul> <li>\u81f3\u5c11\u4e00\u6b21</li> <li>\u6700\u591a\u4e00\u6b21</li> <li>\u521a\u597d\u4e00\u6b21\uff08\u8fd9\u91cc\u5c31\u5f15\u7533\u5230\u4e86\uff1a\u5982\u4f55\u7528UDP\u5b9e\u73b0\u53ef\u9760\u6027\u4f20\u8f93\uff0c\u8f6c\u5411\u4e0b\u9762\uff09</li> </ul> </li> </ul> </li> <li>TCP<ul> <li>\u5982\u4f55\u53ef\u9760<ul> <li>\u6ed1\u52a8\u7a97\u53e3\uff0c\u6d41\u91cf\u63a7\u5236\uff0c\u62e5\u585e\u63a7\u5236</li> </ul> </li> <li>\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u4e24\u6b21\u63e1\u624b<ul> <li>\u6d6a\u8d39\u670d\u52a1\u7aefsocket\u8d44\u6e90</li> </ul> </li> <li>\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u4e09\u6b21\u6325\u624b<ul> <li>\u6d6a\u8d39\u5ba2\u6237\u7aefsocket\u8d44\u6e90</li> </ul> </li> </ul> </li> <li>\u7b97\u6cd5\u9898<ul> <li>\u5251\u6307 Offer 52. \u4e24\u4e2a\u94fe\u8868\u7684\u7b2c\u4e00\u4e2a\u516c\u5171\u8282\u70b9</li> <li>LRU Cache<ul> <li>\u5b9e\u73b0</li> <li>\u7528\u5728\u54ea\u91cc\uff08\u5185\u5b58\u7f6e\u6362\uff0c\u9875\u9762\u7f6e\u6362\uff09</li> </ul> </li> </ul> </li> </ul>"},{"location":"cs-life/offers/interview/social-interview/#_10","title":"\u56fd\u9645\u5316\u4e09\u9762","text":"<ul> <li>\u6210\u957f<ul> <li>\u4e3a\u4ec0\u4e48\u4e4b\u524d\u505a\u6d4b\u5f00\uff0c\u4ee5\u540e\u7684\u53d1\u5c55\u89c4\u5212</li> <li>\u5c0f\u56e2\u961f\u548c\u5927\u56e2\u961f\u7684\u611f\u53d7</li> <li>\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u53bb\u6ef4\u6ef4\uff08\u6c1b\u56f4\u597d\uff01\uff09</li> <li>\u5bf9\u5168\u6808\u7684\u7406\u89e3\uff0cT\u5b57\u578b\u4eba\u624d</li> </ul> </li> <li>Java<ul> <li>JUC\u6e90\u7801\u7406\u89e3</li> <li>\u4e3b\u7ebf\u7a0b\u7b49\u4ece\u7ebf\u7a0b\u6267\u884c\u5b8c\uff0c\u518d\u6267\u884c<ul> <li>join\u5b9e\u73b0\u673a\u5236<ul> <li>\u901a\u8fc7<code>wait</code>\u548c<code>notify</code>\u5b9e\u73b0\u7684\uff08\u7ebf\u7a0b\u8fd8\u5b58\u6d3b\uff0c\u5c31\u4e00\u76f4wait\uff09</li> </ul> </li> <li>\u5171\u4eab\u5185\u5b58\uff08\u672c\u8d28\u4e0a\u90fd\u662f\u53bb\u6539\u53d8\u72b6\u6001\u53bb\u901a\u4fe1\uff09<ul> <li>\u8981\u4e48\u81ea\u5df1\u624b\u5199</li> <li>\u4e5f\u53ef\u4ee5\u7528<code>CountDownLatch</code>\u6765\u5b9e\u73b0</li> </ul> </li> </ul> </li> <li>ArrayList\u5220\u9664\u91cc\u9762\u6240\u6709\u7684\u5076\u6570<ul> <li>\u7528<code>iterator</code>\uff0citerator</li> </ul> </li> </ul> </li> <li>MySQL<ul> <li>\u5199\u4e00\u4e2aSQL\uff0c\u627e\u51fa\u8bed\u6587\u6392\u540d\u7b2c\u4e8c\u7684\u5b66\u751f\u59d3\u540d<ul> <li>\u4e09\u5f20\u8868 Student(id,name), Course(id,name), Score(sid\u3001cid\u3001score)</li> <li>\u8fd9\u91cc\u7528\u4e86max(score) &lt; max(score), \u5e94\u8be5\u7528order by limit\u66f4\u597d\u7684</li> </ul> </li> </ul> </li> <li>TCP<ul> <li>TIME_CLOSE\u7406\u89e3</li> </ul> </li> <li>\u7b97\u6cd5<ul> <li>\u961f\u5217\u5b9e\u73b0\u6808<ul> <li>\u4e24\u4e2a\u961f\u5217\u5b9e\u73b0</li> <li>\u4e00\u4e2a\u961f\u5217\u5b9e\u73b0\uff08\u83b7\u53d6\u539f\u6765\u7684size\uff0c\u63d2\u5165\u503c\uff0c\u7136\u540e\u5c06size\u4e2a\u6570\u4ece\u961f\u5217\u5934\u63d2\u5165\u5230\u5c3e\u90e8\uff09</li> </ul> </li> <li>\u65e0\u5e8f\u6570\u7ec4\uff0c\u4e09\u4e2a\u6570\u627e\u548c\u4e3atarget\u7684\u60c5\u51b5 (hashMap\u53bb\u505a)</li> </ul> </li> </ul>"},{"location":"cs-life/offers/interview/social-interview/#_11","title":"\u5feb\u624b","text":"<p>\u7528\u6237\u589e\u957f\uff0c\u901a\u4fd7\u8bb2\u5c31\u662f\u62c9\u65b0\u7528\u6237</p>"},{"location":"cs-life/offers/interview/social-interview/#_12","title":"\u7528\u6237\u589e\u957f\u4e00\u9762","text":"<ul> <li>\u591a\u7ebf\u7a0b<ul> <li>\u7ebf\u7a0b\u521b\u5efa\u7684\u65b9\u5f0f</li> <li>\u7ebf\u7a0b\u6c60\u673a\u5236\uff0c\u4e3a\u4ec0\u4e48corePoolSize\uff0c\u963b\u585e\u961f\u5217\uff0cmaxPoolSize\u8fd9\u6837\u5904\u7406</li> <li>\u7ebf\u7a0b\u6c60\u7684\u7ebf\u7a0b\u600e\u4e48\u505a\u5230\u4e0d\u56de\u6536\u7684</li> <li>\u7ebf\u7a0b\u540c\u6b65\u7684\u65b9\u5f0f</li> <li>\u77e5\u9053\u7684\u9501\u4f18\u5316\uff08\u4e0d\u8bf4synchronized\uff0c\u6211\u8bf4\u4e86readwriteLock\u7684\u9501\u964d\u7ea7\u8fc7\u7a0b\uff09</li> <li>AQS\u539f\u7406\uff0c\uff08CLH\uff09</li> <li>\u81ea\u65cb\u9501\u7684unsafe\u600e\u4e48\u5b9e\u73b0\u7684</li> </ul> </li> <li>JVM<ul> <li>java\u5185\u5b58\u5206\u5e03</li> <li>\u5806\u7684\u533a\u5206</li> <li>\u4ec0\u4e48\u65f6\u5019gc\u4f1a\u5f71\u54cd\u5e94\u7528\u7684\u53ef\u7528\u6027</li> <li>\u5f3a\uff0c\u8f6f\uff0c\u5f31\uff0c\u865a\u5f15\u7528<ul> <li><code>weakReference</code>\u63d0\u5230\u4e86<code>ThreadLocal</code></li> <li>\u8bb2\u4e86\u5177\u4f53ThreadLocal\u7684\u5b9e\u73b0\uff0c\u4ee5\u53ca\u9632\u6b62\u5185\u5b58\u6cc4\u9732<ul> <li>ThreadLocal\u662f\u91c7\u7528\u5f00\u653e\u5bfb\u5740\u6cd5</li> </ul> </li> <li>\u5728\u5e94\u7528\u4fa7\uff0c\u7ebf\u7a0b\u6c60\u7528<code>ThreadLocal</code>\u7684\u65f6\u5019\uff0c\u5982\u4f55\u4e00\u4e2a\u4efb\u52a1\u6267\u884c\u5b8c\u6e05\u9664<ul> <li>\u662f\u4e0d\u662f\u53ef\u4ee5\u5b9e\u73b0\u7ebf\u7a0b\u6c60\u7684\u94a9\u5b50\u51fd\u6570<code>afterExecute</code> ?</li> <li>\u6709\u6846\u67b6\u53ef\u4ee5\u5b9e\u73b0\u561b\uff0c\u8fd8\u662f\u5fc5\u987b\u4e1a\u52a1\u53bb\u505a</li> </ul> </li> </ul> </li> </ul> </li> <li>Spring<ul> <li>IOC\u548cAOP</li> <li>\u4e0d\u52a0\u6ce8\u89e3\u5c31\u80fd\u5bf9\u6240\u6709\u7684\u65b9\u6cd5\u505a\u4e00\u4e9b\u4e8b\u524dlog\u548c\u4e8b\u540e\u7684log\uff08\u4e0d\u80fd\u7528AOP\uff09\uff0c\u600e\u4e48\u5b9e\u73b0\uff08\u6211\u8bf4\u8981\u4e48\u4ee3\u7801\u91cd\u5199\uff0c\u8981\u4e48\u5b57\u8282\u7801\u589e\u5f3a\uff09<ul> <li>\u9762\u8bd5\u5b98\u8bf4\u6211\u4e0d\u4e86\u89e3\u6e90\u7801\u5c31\u6ca1\u7ee7\u7eed\u8ffd\u95ee\u4e86</li> </ul> </li> </ul> </li> <li>\u8bbe\u8ba1\u9898\uff08\u4e1a\u52a1\u8bbe\u8ba1\u4e0d\u592a\u64c5\u957f\uff09<ul> <li>\u9080\u8bf7\u597d\u53cb\u7ed9\u81ea\u5df1\u6da8\u94b1\u7684\u5b9e\u73b0\uff08\u6570\u636e\u91cf30E\uff09\uff0c\u5e76\u4e14\u7528\u6237A\u7ed9\u7528\u6237B\u6da8\u5b8c\u94b1\uff0c\u7528\u6237B\u4e0d\u80fd\u7ed9\u7528\u6237A\u6da8\u94b1\uff0c\u6bcf\u4e2a\u4eba\u6bcf\u5929\u67095\u6b21\u52a9\u529b\uff08\u4e00\u5929\u6709\u9650\u671f\uff09<ul> <li>\u6570\u636e\u5e93\u600e\u4e48\u8bbe\u8ba1</li> <li>\u7f13\u5b58\u600e\u4e48\u8bbe\u8ba1</li> <li>\u5982\u4f55\u4fdd\u8bc1\u51e0\u6b21\u67e5\u5e93\u7684\u4e00\u81f4\u6027\uff08\u8981\u4e48\u552f\u4e00key\uff0c\u6216\u8005\u5e03\u9686\u8fc7\u6ee4\u5668\uff09</li> </ul> </li> </ul> </li> <li>\u7b97\u6cd5\u9898<ul> <li>leetcode 92. \u53cd\u8f6c\u94fe\u8868 II</li> </ul> </li> </ul>"},{"location":"cs-life/offers/interview/social-interview/#_13","title":"\u7528\u6237\u589e\u957f\u4e8c\u9762","text":"<p>\u9762\u8bd5\u5b98\u8bf4\uff0c\u4e0d\u8bba\u53bb\u54ea\u513f\uff0c\u505a\u7684\u5f00\u5fc3\u662f\u6700\u91cd\u8981\u7684\uff5e</p> <ul> <li>\u9879\u76ee<ul> <li>Redis\u5206\u6790</li> </ul> </li> <li>Java<ul> <li>concurrentHashMap<ul> <li>1.7 \u4e24\u7ea7hash</li> <li>1.8 volatile + CAS + synchronized</li> </ul> </li> <li>\u5206\u5e03\u5f0f\u9501<ul> <li>\u53ef\u91cd\u5165\u600e\u4e48\u5b9e\u73b0</li> <li>\u5982\u4f55\u4fdd\u8bc1\u539f\u5b50\u6027</li> <li>\u4e3a\u4ec0\u4e48\u5220\u9664\u7684\u65f6\u5019\u8981\u91cd\u65b0get\u4e00\u4e0b<ul> <li>\u9700\u8981\u4fdd\u8bc1\u5220\u7684\u8fd9\u4e2a\u670d\u52a1\u5b9e\u4f8b\u62e5\u6709\u9501</li> </ul> </li> </ul> </li> </ul> </li> <li>\u6570\u636e\u5e93<ul> <li>\u4e8b\u52a1</li> <li>\u7d22\u5f15</li> </ul> </li> <li>Kafka<ul> <li>\u5982\u679c\u4fdd\u8bc1\u6709\u5e8f</li> </ul> </li> <li>\u7b97\u6cd5<ul> <li>\u96ea\u82b1\u7b97\u6cd5<ul> <li>\u65f6\u949f\u56de\u62e8</li> </ul> </li> <li>\u9650\u6d41\u7b97\u6cd5<ul> <li>\u4ee4\u724c\u6876\uff0cJava\u91cc\u9762\u7684RateLimiter</li> <li>\u8ba1\u6570\u5668\u6cd5</li> <li>\u6f0f\u6876\u7b97\u6cd5</li> </ul> </li> <li>\u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217\uff08dp\uff09</li> </ul> </li> </ul>"},{"location":"cs-life/offers/interview/social-interview/#_14","title":"\u7528\u6237\u589e\u957f\u4e09\u9762","text":"<ul> <li>\u9879\u76eeor\u6210\u957f<ul> <li>\u5206\u5de5</li> <li>\u9047\u5230\u7684\u95ee\u9898</li> <li>Redis\u548cMemcached\u7684\u533a\u522b\uff08\u8bb2\u4e86\u4e00\u4e0b\u591a\u7ebf\u7a0b\uff09</li> <li>\u7ebf\u4e0a\u538b\u6d4b\uff08toB\u6ca1\u6709\u516c\u6709\u4e91\u4e1a\u52a1\uff09</li> <li>\u4e3a\u4ec0\u4e48\u5230\u4e86\u73b0\u5728\u8fd9\u5bb6\u516c\u53f8</li> <li>\u4e3a\u4ec0\u4e48\u505a\u6d4b\u5f00</li> <li>\u7ade\u8d5b\u7ecf\u5386</li> </ul> </li> <li>\u573a\u666f<ul> <li>\u62a2\u7ea2\u5305\u8bbe\u8ba1<ul> <li>\u8d85\u53d1\u5982\u4f55\u89e3\u51b3</li> </ul> </li> </ul> </li> <li>offer<ul> <li>\u95ee\u4e86\u6211\u73b0\u5728\u7684offer\u60c5\u51b5</li> </ul> </li> </ul>"},{"location":"cs-life/offers/interview/social-interview/#_15","title":"\u7528\u6237\u589e\u957f\u56db\u9762","text":"<p>\u4e0d\u77e5\u9053\u4e3a\u5565\u6362\u4e86\u4e2a\u7ec4\uff0c\u5206\u6790\u7528\u6237\u753b\u50cf\u7684\uff08\u5927\u6570\u636e\u76f8\u5173\uff09</p> <ul> <li>\u590d\u76d8<ul> <li>\u4e4b\u524d\u9762\u8bd5\u7684\u95ee\u9898\uff0c\u6709\u6ca1\u6709\u53bb\u518d\u5b66\u4e60</li> </ul> </li> <li>\u9879\u76ee<ul> <li>\u9047\u5230\u7684\u95ee\u9898</li> <li>\u538b\u6d4b\u8fc7https, rpc\u4e48</li> <li>rpc\u538b\u6d4b\u89e3\u51b3\u65b9\u6848</li> </ul> </li> <li>\u8bbe\u8ba1<ul> <li>Spring Cloud<ul> <li>\u8ba9\u4f60\u53bb\u8bbe\u8ba1\u6ce8\u518c\u4e2d\u5fc3\uff0c\u914d\u7f6e\u4e2d\u5fc3\uff0c\u7f51\u5173</li> <li>\u6ce8\u518c\u4e2d\u5fc3\u5982\u679c\u4f7f\u7528zk, \u5927\u91cf\u5b9e\u4f8b\u7684\u540c\u6b65\u4f1a\u53d8\u6162\uff0c\u89e3\u51b3\u65b9\u6848<ul> <li>\u5206\u533a\u57df\u53bb\u7528\u6ce8\u518c\u4e2d\u5fc3\uff08\u5206\u7247\u7b56\u7565\uff09</li> <li><code>service mesh</code> \u4ea4\u7ed9sidecar\u5bb9\u5668\u53bb\u5904\u7406rpc\u7684\u8def\u7531\u60c5\u51b5</li> </ul> </li> <li>\u914d\u7f6e\u4e2d\u5fc3<ul> <li>\u914d\u7f6e\u5237\u65b0\u600e\u4e48\u53bb\u505a<ul> <li>\u961f\u5217\u5b58\u589e\u91cf\u7684\u914d\u7f6e\u4fee\u6539\u4fe1\u606f\uff0c\u670d\u52a1\u5b9e\u4f8b\u5b9a\u65f6\u53bb\u62c9\u961f\u5217</li> </ul> </li> </ul> </li> </ul> </li> <li>\u8bbe\u8ba1\u6d88\u606f\u961f\u5217<ul> <li>\u770b\u8fc7kafka\u7684paper\uff0c\u6309\u7167paper\u7684\u601d\u8def\u53bb\u8bf4\u4e86</li> </ul> </li> </ul> </li> <li>\u7b97\u6cd5<ul> <li>\u4e00\u81f4\u6027hash<ul> <li>\u4e00\u4e2a\u673a\u5668down\u6389\uff0c\u6570\u636e\u4f1a\u600e\u4e48\u5206\u5e03<ul> <li>\u8003\u8651\u865a\u62df\u8282\u70b9\u7684\u60c5\u51b5</li> </ul> </li> </ul> </li> <li>k\u4e2a\u6709\u5e8f\u6570\u7ec4\u5408\u5e76 <ul> <li>\u4e24\u79cd\u5b9e\u73b0\uff0c\u5206\u6790\u7b97\u6cd5\u590d\u6742\u5ea6</li> </ul> </li> </ul> </li> </ul>"},{"location":"cs-life/other/gdb/","title":"gdb","text":""},{"location":"cs-life/other/gdb/#gdb-x","title":"gdb x\u67e5\u770b\u6570\u636e","text":"<p>\u5728GDB\uff08GNU\u8c03\u8bd5\u5668\uff09\u4e2d\uff0cx \u547d\u4ee4\u7528\u4e8e\"\u68c0\u67e5\"\u5185\u5b58\u3002\u8fd9\u4e2a\u547d\u4ee4\u975e\u5e38\u7075\u6d3b\uff0c\u53ef\u4ee5\u7528\u4e8e\u68c0\u67e5\u5404\u79cd\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5e76\u4ee5\u5404\u79cd\u683c\u5f0f\u663e\u793a\u7ed3\u679c\u3002\u57fa\u672c\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>x/nfu addr\n</code></pre> <p>\u5176\u4e2d\uff1a - n\uff1a\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u8868\u793a\u4f60\u60f3\u8981\u68c0\u67e5\u7684\u5185\u5b58\u5355\u5143\u7684\u6570\u91cf\u3002 - f\uff1a\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u8868\u793a\u4f60\u60f3\u8981\u4f7f\u7528\u7684\u663e\u793a\u683c\u5f0f\u3002     * x\uff08\u65e0\u7b26\u53f7\u5341\u516d\u8fdb\u5236\uff09     * d\uff08\u6709\u7b26\u53f7\u5341\u8fdb\u5236\uff09     * u\uff08\u65e0\u7b26\u53f7\u5341\u8fdb\u5236\uff09     * o\uff08\u65e0\u7b26\u53f7\u516b\u8fdb\u5236\uff09     * t\uff08\u65e0\u7b26\u53f7\u4e8c\u8fdb\u5236\uff09     * a\uff08\u5730\u5740\uff09     * c\uff08\u5b57\u7b26\uff09     * f\uff08\u6d6e\u70b9\uff09     * i\uff08\u6307\u4ee4\uff09 - u\uff1a\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u8868\u793a\u6bcf\u4e2a\u5185\u5b58\u5355\u5143\u7684\u5927\u5c0f\u3002     * b\uff08\u5b57\u8282\uff09     * h\uff08\u534a\u5b57\uff09     * w\uff08\u5b57\uff09     * g\uff08\u5927\u5b57\uff09 - addr\uff1a\u662f\u4f60\u60f3\u8981\u68c0\u67e5\u7684\u5185\u5b58\u5730\u5740\u3002</p> <p>\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u60f3\u8981\u4ee5\u5341\u8fdb\u5236\u7684\u65b9\u5f0f\u67e5\u770b\u5185\u5b58\u5730\u57400x7c00\u5904\u7684\u56db\u4e2a\u5b57\u8282\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a <pre><code>x/4dw 0x7c00\n</code></pre> \u8fd8\u6709\u4e00\u70b9\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u4f60\u4e0d\u6307\u5b9a\u5730\u5740\uff0cGDB\u4f1a\u4ece\u4e0a\u6b21\u67e5\u770b\u7684\u5730\u5740\u5f00\u59cb\u7ee7\u7eed\u67e5\u770b\u3002 \u8bed\u6cd5\u4e2d\u7684\u6240\u6709\u53c2\u6570\u90fd\u662f\u53ef\u9009\u7684\u3002\u5982\u679c\u4f60\u4e0d\u63d0\u4f9b\u4efb\u4f55\u53c2\u6570\uff0cGDB\u4f1a\u5c1d\u8bd5\u4f7f\u7528\u4e4b\u524d\u7684\u503c\u3002\u5982\u679c\u8fd9\u662f\u7b2c\u4e00\u6b21\u4f60\u4f7f\u7528 x \u547d\u4ee4\uff0c\u90a3\u4e48GDB\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u7684\u53c2\u6570\u503c\uff08\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u683c\u5f0f\u4e3a\u5341\u516d\u8fdb\u5236\uff0c\u5355\u5143\u5927\u5c0f\u4e3a\u5b57\uff09\u3002</p>"},{"location":"cs-life/other/git/","title":"git","text":"<p>\u5b66\u4e60\u8def\u5f84</p> <p>\u57fa\u672c\u4e0a\u662f<code>\u6587\u4ef6\u672a\u88ab\u8ddf\u8e2a</code>, <code>\u6587\u4ef6\u6dfb\u52a0\u5230\u6682\u5b58\u533a</code>, <code>\u6587\u4ef6\u6709\u6539\u52a8</code>, <code>\u6587\u4ef6\u63d0\u4ea4\u5230\u5206\u652f\u4e0a</code> </p>"},{"location":"cs-life/other/git/#_1","title":"\u5e38\u7528\u547d\u4ee4","text":"<ul> <li><code>git add .</code> # \u6dfb\u52a0\u6240\u6709\u7684\u66f4\u65b0\u7684\u6587\u4ef6\u5230\u6682\u5b58\u533a</li> <li><code>git commit -m \"update\"</code>  # \u5c06\u6682\u5b58\u533a\u7684\u5185\u5bb9\u5168\u90e8\u66f4\u65b0\u5230\u5206\u652f\u4e0a </li> <li><code>git push origin branchName</code> # \u672c\u5730\u5206\u652f\u540c\u6b65\u5230\u8fdc\u7a0b\u5206\u652f</li> <li><code>git pull origin branchName</code> # \u8fdc\u7a0b\u5206\u652f\u5185\u5bb9\u62c9\u53d6\u5230\u672c\u5730\u5206\u652f\u4e0a</li> <li><code>git checkout -b branchName</code> # \u521b\u5efa\u5206\u652f\u5e76\u5207\u6362\u5230\u8be5\u5206\u652f</li> <li><code>git branch -D branchName</code>  # \u5220\u9664\u5206\u652f</li> <li><code>git log --oneline</code>    # \u6253\u5370\u5206\u652f\u7684\u6240\u6709commit\u4fe1\u606f</li> </ul>"},{"location":"cs-life/other/git/#reset","title":"reset","text":""},{"location":"cs-life/other/git/#hard","title":"hard\u6a21\u5f0f","text":"<ul> <li><code>git reset --hard HEAD~</code>  \uff08 \u9000\u56de\u5230\u5206\u652f\u4e0a\u4e00\u6b21commit, \u5e76\u4e14\u8ddd\u79bb\u4e0a\u6b21commit\u7684\u66f4\u6539\u7684\u4fe1\u606f\u4e5f\u90fd\u6ca1\u4e86 <pre><code>echo \"test\" &gt;&gt; a.txt\n\ngit add .\ngit commit -m \"update a.txt\"\n\ngit reset --hard HEAD~\n\ngit status            \n# \u7ed3\u679c\nOn branch test\nnothing to commit, working tree clean\n\nls | grep a.txt\n# \u7ed3\u679c\u4e3a\u7a7a\n</code></pre></li> </ul>"},{"location":"cs-life/other/git/#soft","title":"soft \u6a21\u5f0f","text":"<ul> <li><code>git reset --soft HEAD~</code> \uff08 \u9000\u56de\u5230\u5206\u652f\u4e0a\u4e00\u6b21commit, \u5e76\u4e14\u8ddd\u79bb\u4e0a\u6b21commit\u7684\u66f4\u6539\u7684\u4fe1\u606f\u5df2\u7ecf\u88ab<code>git add .</code>\u4e86 <pre><code>echo \"test\" &gt;&gt; a.txt\n\ngit add .\ngit commit -m \"update a.txt\"\n\ngit reset --soft HEAD~\n\ngit status\n# \u7ed3\u679c\nOn branch test\nChanges to be committed:\n  (use \"git reset HEAD &lt;file&gt;...\" to unstage)\n\n    new file:   a.txt\n\nls | grep a.txt\n# \u7ed3\u679c\u663e\u793aa.txt\n</code></pre></li> </ul>"},{"location":"cs-life/other/git/#mixed","title":"mixed \u6a21\u5f0f","text":"<ul> <li><code>git reset --mixed HEAD~</code> \uff08 \u9000\u56de\u5230\u5206\u652f\u4e0a\u4e00\u6b21commit, \u5e76\u4e14\u8ddd\u79bb\u4e0a\u6b21commit\u7684\u66f4\u6539\u7684\u4fe1\u606f\u8fd8\u5728\u672c\u5730</li> </ul> <pre><code>echo \"test\" &gt;&gt; a.txt\n\ngit add .\ngit commit -m \"update a.txt\"\n\ngit reset --mixed HEAD~\n\ngit status\n# \u7ed3\u679c\nOn branch test\nUntracked files:\n  (use \"git add &lt;file&gt;...\" to include in what will be committed)\n\n    a.txt\n\nnothing added to commit but untracked files present (use \"git add\" to track)\n\nls | grep a.txt\n# \u7ed3\u679c\u663e\u793a\u4e3a a.txt\n</code></pre>"},{"location":"cs-life/other/git/#git-merge-s-ours-master","title":"git merge -s ours master","text":"<p>master\u4ee3\u7801merge\u5b8c\u56de\u6eda\uff0c\u8fd8\u60f3\u518d\u7528\u4e4b\u524d\u7684commit</p> <p>\u5982\u7f51\u7ad9\u6240\u793a</p> <ul> <li>https://harttle.land/2018/03/12/reset-origin-without-force-push.html</li> </ul>"},{"location":"cs-life/other/git/#rm","title":"rm","text":"<ul> <li><code>git rm --cached fileName</code> # \u5c06\u5df2\u7ecf\u63d0\u4ea4\u5230\u6682\u5b58\u533a\u7684\u6587\u4ef6 \u5220\u9664(\u672c\u5730\u8fd8\u6709\u8fd9\u4e2a\u6587\u4ef6)</li> <li><code>git rm -f fileName</code> # \u5c06\u5df2\u7ecf\u63d0\u4ea4\u5230\u6682\u5b58\u533a\u7684\u6587\u4ef6 \u5220\u9664(\u672c\u5730\u6ca1\u6709\u8fd9\u4e2a\u6587\u4ef6)</li> </ul>"},{"location":"cs-life/other/git/#merge","title":"merge","text":"<ul> <li><code>git checkout branchName</code> # \u5207\u6362\u5230\u5de5\u4f5c\u5206\u652f</li> <li><code>git merge srcBranch</code> # \u5c06<code>srcBranch</code>\u7684\u5185\u5bb9copy\u5230\u5f53\u524d\u5206\u652f</li> </ul>"},{"location":"cs-life/other/git/#tag","title":"tag","text":"<ul> <li><code>git tag -a tagName commitId</code> # \u6253tag</li> <li><code>git tag -l</code> # \u67e5\u770b\u672c\u5730\u6240\u6709\u7684tag</li> <li><code>git tag -d tagName</code> # \u5220\u9664\u672c\u5730tag</li> <li><code>git push origin tagName</code> # \u4e0a\u4f20\u8fdc\u7a0b\u5206\u652f</li> <li><code>git push origin --delete tagName</code></li> </ul>"},{"location":"cs-life/other/git/#_2","title":"\u5f85\u4e86\u89e3\u7684\u9ad8\u7ea7\u6280\u5de7","text":"<ul> <li>\u4e8c\u5206\u67e5\u627ebug\u5728\u54ea\u4e2a\u7248\u672c</li> </ul>"},{"location":"cs-life/other/goland/","title":"Goland \u64cd\u4f5c","text":"<p>\u5c1d\u8bd5\u7528\u4e0b vim \u6a21\u5f0f\u5f00\u53d1\u3002</p>"},{"location":"cs-life/other/goland/#_1","title":"\u5feb\u901f\u6253\u5f00\u5de5\u7a0b\u76ee\u5f55","text":"<p>Tools &gt; Create Commandline Launcher</p>"},{"location":"cs-life/other/goland/#_2","title":"\u5feb\u6377\u952e","text":"/ \u7ec4\u5408\u952e \u6ce8\u91ca\u6574\u884c \u2318/ \u5220\u9664\u5f53\u524d\u884c \u2318\u232b \u526a\u5207\u3001\u5220\u9664\u6574\u884c \u2318x \u590d\u5236\u6574\u884c\u5230\u4e0b\u4e00\u884c \u2318d \u8df3\u8f6c\u5230\u6307\u5b9a\u884c \u2318L \u66ff\u6362\u3001\u5168\u5c40\u66ff\u6362 \u2318R\u3001 \u2318+Shift+R \u641c\u7d22\u3001\u5168\u5c40\u641c\u7d22 \u2318F\u3001 \u2318+Shift+F \u6298\u53e0/\u5c55\u5f00\u4ee3\u7801\u5757 \u2318 + . \u8f93\u5165\u6a21\u677f\uff0c\u5982 main\uff0c\u7c7b\u4f3cidea\u4e2dpsvm \u2318+J \u627e\u7c7b \u2318+ O \u627e\u6587\u4ef6 \u2318+ Shift +O \u5feb\u6377\u641c\u7d22\u5f53\u524dgo\u6587\u4ef6\u4e2d\u7684\u51fd\u6570\u3001\u7c7b\u3001\u53d8\u91cf \u2318+ fn +F12 \u8df3\u56de\u4e0a\u4e00\u4e2a\u6307\u9488\u6307\u5411\uff0c\u4e0b\u4e00\u4e2a\u6307\u9488\u6307\u5411 \u2318[\uff0c\u2318] \u67e5\u770b\u65b9\u6cd5\u6216\u51fd\u6570\u5efa\u8bae\u7684\u53c2\u6570 \uff08\u5149\u6807\u9996\u5148\u9009\u4e2d\u51fd\u6570\u540d\u6216\u8005\u5149\u6807\u7f6e\u4e8e\u51fd\u6570\u540e\u7684\u62ec\u53f7\u4e2d\uff09 \u2318P \u67e5\u627e\u65b9\u6cd5\u8c03\u7528\u94fe\u8def control + option + h <p>\u5176\u4f59\u5feb\u6377\u952e </p> <ul> <li>\u67e5\u627e\u4efb\u610f\u6587\u4ef6 Double Shift</li> <li>\u8fd0\u884c  \uff08\u5728vim\u6a21\u5f0f\u4e0b\uff0c\u53ea\u80fd\u9700\u8981\u7528\u6b64\u5feb\u6377\u952e\uff09\uff0cctrl+shift+r </li> </ul>"},{"location":"cs-life/other/goland/#_3","title":"\u5f15\u7528","text":"<p>https://blog.jetbrains.com/zh-hans/idea/2020/09/intellij-idea/</p>"},{"location":"cs-life/other/high_qps/","title":"\u63ed\u79d8\u9ad8QPS\u4e4b\u8def","text":""},{"location":"cs-life/other/high_qps/#_1","title":"\u524d\u7f6e\u6280\u80fd\u70b9","text":"<ul> <li>MessagePack https://www.jianshu.com/p/34f71a86108b</li> <li>LocalCache https://github.com/bluele/gcache</li> <li>Redis</li> <li>\u5206\u5e93\u5206\u8868</li> </ul>"},{"location":"cs-life/other/monitor/","title":"\u6253\u70b9\u4ee5\u53ca\u76d1\u63a7","text":""},{"location":"cs-life/other/monitor/#_2","title":"\u6309\u65f6\u95f4\u7ef4\u5ea6\u53bb\u505a\u4e0d\u540c\u7684\u76d1\u63a7\u5224\u65ad","text":"<pre><code>$second = (epoch() + (3600 * 8)) % 86400\n$hour = ($second / 3600)\n\n$key = \"sum:ecqc.verify.fxg_product.ProductHumanAudit{ProductHumanProjectId=6964615879510229536}\"\n\n$q1 = avg(q($key, \"2m\", \"1m\")) // \u524d2\u5206\u949f\u5230\u524d1\u5206\u949f\n$q2 = avg(q($key, \"3m\", \"2m\"))\n$q3 = avg(q($key, \"4m\", \"3m\"))\n$q4 = avg(q($key, \"5m\", \"4m\"))\n$q5 = avg(q($key, \"6m\", \"5m\"))\n\nwarn = $q1 &lt; 0.03 &amp;&amp; $q2 &lt; 0.03 &amp;&amp; $q3 &lt; 0.03 &amp;&amp; $q4 &lt; 0.03 &amp;&amp; $q5 &lt; 0.03 &amp;&amp; ($hour &gt;= 6 &amp;&amp; $hour &lt; 24) || ($hour &gt;= 0 &amp;&amp; $hour &lt; 2)\nrunEvery=1\n</code></pre>"},{"location":"cs-life/other/monitor/#_3","title":"\u5254\u9664\u538b\u6d4b\u96c6\u7fa4\u7684\u62a5\u8b66","text":"<pre><code>not_literal_or(stress)\n</code></pre>"},{"location":"cs-life/other/monitor/#_4","title":"\u76d1\u63a7\u5b50\u4efb\u52a1","text":"<p>tagName=\"deploy_stage\"</p> <p>\u5728grafana\u7684alias\u586b\u5199\u5982\u4e0b</p> <pre><code>monitor_$tag_deploy_stage\n</code></pre> <p>\u76d1\u63a7\u4f1a\u663e\u793a <code>monitor_canary</code>,<code>monitor_single_dc</code>,<code>monitor_all_dc</code></p>"},{"location":"cs-life/other/sublime/","title":"sublime","text":""},{"location":"cs-life/other/sublime/#_1","title":"\u4e8c\u8fdb\u5236\u6587\u4ef6\u5185\u5bb9\u67e5\u770b","text":"<ul> <li>\u5feb\u6377\u952e<code>Command+Shift+P</code>\uff0c\u9009\u62e9<code>Package Control</code>: </li> <li>Install Package\u5b89\u88c5\u63d2\u4ef6\u641c\u7d22<code>HexViewer</code>\u5e76\u7b49\u5f85\u5b89\u88c5\u6210\u529f</li> <li>\u6253\u5f00\u8981\u67e5\u770b\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u8fd9\u4e2a\u65f6\u5019\u8fd8\u662f\u6ca1\u6709\u4ee5HexViewer\u6a21\u5f0f\u6253\u5f00\u7684\u6309\u4e0b\u5feb\u6377\u952e<code>Command+Shift+P</code>\uff0c\u641c\u7d22\u5e76\u9009\u62e9<code>HexViewer</code></li> <li><code>Toggle Hex View</code>\uff0c\u56de\u8f66\u9a9a\u7b49\u7247\u523b\u540e\u5373\u53ef</li> </ul>"},{"location":"cs-life/other/tmux/","title":"Tmux \u57fa\u7840\u4f7f\u7528","text":""},{"location":"cs-life/other/tmux/#tmux_1","title":"Tmux \u64cd\u4f5c","text":"<p>\u65b0\u5efa\u4f1a\u8bdd</p> <pre><code>tmux new -s xv5\n</code></pre> <p>\u5217\u51fa\u5f53\u524d\u4f1a\u8bdd</p> <pre><code>tmux ls\n</code></pre> <p>\u5220\u9664\u4f1a\u8bdd</p> <pre><code>tmux kill-session -t xv6\n</code></pre> <p>\u5173\u95ed\u5f53\u524d\u7a97\u683c</p> <pre><code>ctrl + b x: \u5173\u95ed\u5f53\u524dpane\n</code></pre> <p>\u5c06\u5f53\u524d\u7a97\u683c\u5168\u5c4f <pre><code>ctrl + b z: \u5168\u5c4f\u5f53\u524dpane\n</code></pre></p>"},{"location":"cs-life/other/tmux/#tmux_2","title":"tmux\u914d\u7f6e","text":"<p>\u9ed8\u8ba4\u653e\u5728 <code>~/.tmux.conf</code></p> <pre><code>set-option -g default-shell /usr/bin/zsh  # \u4ee5zsh shell\u6253\u5f00\n\nset -sg escape-time 1\n\nbind | split-window -h  # ctrl + b + |   \u5206\u5c4f\nbind - split-window -v  # ctrl + b + - \n\nbind h select-pane -L   # ctrl + b + h \u5de6\u79fb\u7a97\u683c\nbind j select-pane -D   # ctrl + b + j \u4e0b\u79fb\u7a97\u683c\nbind k select-pane -U   # ctrl + b + k \u4e0a\u79fb\u7a97\u683c\nbind l select-pane -R   # ctrl + b + l \u53f3\u79fb\u7a97\u683c\n\nbind H resize-pane -L 5  \nbind J resize-pane -D 5\nbind K resize-pane -U 5\nbind L resize-pane -R 5\n\n\nset -g mouse on      # \u5f00\u542f\u9f20\u6807\n\nset -g set-clipboard on\n\nsetw -g mode-keys vi  # \u8fdb\u5165\u590d\u5236\u6a21\u5f0f\u7684\u65f6\u5019\u4f7f\u7528 vi \u952e\u4f4d\uff08\u9ed8\u8ba4\u662f EMACS\uff09\n</code></pre> <p>\u66f4\u6539\u6587\u4ef6\u540e\uff0c\u9700\u8981\u624b\u52a8\u5237\u65b0\u914d\u7f6e</p> <pre><code># c+b \u4e4b\u540e\uff0c\u8f93\u5165\n:source ~/.tmux.conf\n</code></pre>"},{"location":"cs-life/other/tmux/#mac","title":"Mac\u590d\u5236\u4e0e\u7c98\u8d34","text":"<p>Mac\u7684iterm2</p> <p>\u627e\u5230 <code>Settings &gt; General &gt; Secetion &gt;Applications in terminal may access clipboard</code>\u5e76\u52fe\u9009</p> <p></p>"},{"location":"cs-life/other/tools/","title":"\u63d0\u6548\u5de5\u5177","text":""},{"location":"cs-life/other/tools/#_2","title":"\u5e38\u7528\u5de5\u5177","text":"<ul> <li>2023\u5e74\u6700\u4f73\u5de5\u5177 chatgpt</li> <li>Jetbrains\u8f6f\u4ef6\u8bd5\u7528</li> <li>Zsh<ul> <li><code>zsh-syntax-highlighting</code> \u547d\u4ee4\u9ad8\u4eae</li> <li><code>zsh-autosuggestions</code> \u547d\u4ee4\u63d0\u793a\uff0c\u6839\u636e\u8fc7\u5f80\u7684\u547d\u4ee4\uff0c\u63a8\u8350\u5373\u5c06\u4f7f\u7528\u7684\u547d\u4ee4</li> <li><code>autojump</code> \u81ea\u52a8\u8df3\u8f6c</li> </ul> </li> <li>Tmux<ul> <li>\u670d\u52a1\u7aefssh session\u4fdd\u6d3b</li> <li>\u5206\u5c4f</li> </ul> </li> <li>Snipaste<ul> <li>\u622a\u56fe\u5de5\u5177\uff0c\u652f\u6301\u622a\u56fe\u7f6e\u9876\u5c4f\u5e55</li> </ul> </li> <li>Raycast \uff08MacOS\uff09<ul> <li><code>Clipboard History</code> mac\u4e0b\u67e5\u770b\u526a\u5207\u677f\u5386\u53f2</li> <li><code>Recognize Text</code> \u622a\u56fe+OCR\uff0c\u4e00\u952e\u7c98\u8d34\u522b\u4eba\u4e0d\u5141\u8bb8\u7c98\u8d34\u7684\u6587\u5b57 </li> <li><code>Window Mangagement</code> MAC\u65b9\u4fbf\u79fb\u52a8\u7a97\u53e3</li> </ul> </li> <li>uTools \uff08Windows / Linux / MacOS\uff09<ul> <li>\u65f6\u95f4\u683c\u5f0f</li> <li>\u526a\u5207\u677f</li> </ul> </li> <li>chrome\u63d2\u4ef6<ul> <li><code>\u6c89\u6d78\u5f0f\u7ffb\u8bd1</code> \u9605\u8bfb\u82f1\u6587\u7f51\u9875\u795e\u5668</li> <li><code>The Great Suspender Original</code> \u51bb\u7ed3\u4e0d\u5e38\u770b\u7684\u9875\u9762</li> <li><code>Tampermonkey</code> js\u672c\u5730\u4ee3\u7801\u6ce8\u5165</li> <li><code>Global Speed</code> \u63a7\u5236\u7f51\u7ad9\u500d\u901f\u64ad\u653e </li> </ul> </li> <li>\u753b\u56fe\u5de5\u5177 draw.io</li> <li>Mongo client: Robo3t</li> <li>Redis client: Another.Redis</li> <li>Kafka client: Kafka Tool 2 </li> <li>Mysql Client<ul> <li>DataGrip </li> <li>MyCli</li> <li>MySQL client: dbeaver </li> </ul> </li> <li>sdkman (Linux)<ul> <li>\u65b9\u4fbf\u5b89\u88c5\u5404\u79cd\u5f00\u53d1\u8f6f\u4ef6sdk</li> </ul> </li> <li>Docker / DockerCompose/ K8S<ul> <li>\u5bb9\u5668\u7ba1\u7406</li> </ul> </li> <li>\u5e38\u7528\u547d\u4ee4<ul> <li>ripgrep</li> <li>fdfind</li> </ul> </li> </ul>"},{"location":"cs-life/other/vim/","title":"Vim","text":""},{"location":"cs-life/other/vim/#_1","title":"\u6267\u884c\u547d\u4ee4","text":"<pre><code>:! gcc demo.c &amp;&amp; ./a.out # \u5728vim\u91cc\u9762\u8fd0\u884c\u7f16\u8bd1\n</code></pre>"},{"location":"cs-life/other/vim/#_2","title":"\u79fb\u52a8\u5149\u6807","text":"<ul> <li>h j k l  (\u2190 \u2193 \u2191 \u2192)</li> <li><code>w</code> \u5355\u8bcd\u5411\u540e\uff08word\uff09</li> <li><code>b</code>  \u5411\u524d\uff08back\uff09</li> <li><code>ctrl+f</code>   \u5411\u4e0b\u7ffb\u9875 || <code>ctrl+b</code>    \u5411\u4e0a\u7ffb\u9875</li> <li><code>lineNumber + gg</code> \u6216\u8005 <code>:lineNumber</code> \u8df3\u5230\u5bf9\u5e94\u7684\u884c</li> <li>number + j k \u8df3\u8f6c\u5230curLine+number\u884c\uff0c curLine-number\u884c</li> <li><code>0</code> \u884c\u9996 || <code>$</code> \u884c\u5c3e</li> </ul>"},{"location":"cs-life/other/vim/#_3","title":"\u5b57\u7b26\u4e32\u5339\u914d","text":"<ul> <li><code>/word</code> \u67e5\u8be2\u5bf9\u5e94\u7684word\u7684\u4f4d\u7f6e\uff0cn shift+n \u8df3\u8f6c\u5230\u4e0b\u4e00\u4e2aword\uff0c\u8df3\u8f6c\u5230\u4e0a\u4e00\u4e2aword</li> <li><code>%</code>\uff0c\u5339\u914d\u914d\u5bf9\u7684\u62ec\u53f7\uff0c\u652f\u6301 <code>{</code>, <code>(</code>, <code>[</code></li> <li><code>*</code> \u5339\u914d\u5f53\u524d\u7684\u5355\u8bcd\uff0c\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u76f8\u540c\u7684\u5355\u8bcd</li> <li><code>#</code>  \u5339\u914d\u5f53\u524d\u7684\u5355\u8bcd\uff0c\u79fb\u52a8\u4e0a\u4e00\u4e2a\u76f8\u540c\u7684\u5355\u8bcd</li> </ul>"},{"location":"cs-life/other/vim/#_4","title":"\u6587\u672c\u64cd\u4f5c","text":"<ul> <li><code>u</code> undo \u64a4\u9500</li> <li><code>ctrl + r</code> redo\uff0c\u6062\u590d\u64a4\u9500</li> <li><code>cc</code> \u526a\u5207\u5e76\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f\uff0c\u6700\u540e\u4e00\u4e2a\u56de\u8f66\u4e0d\u4f1a\u526a\u8d70</li> <li>dd \u526a\u5207\uff0c\u6700\u540e\u4e00\u4e2a\u56de\u8f66\u4f1a\u526a\u8d70</li> <li>c+Number+c \u526a\u5207Number\u884c\u5e76\u4e14\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f</li> <li>yy \u590d\u5236 </li> <li>p paste \u5411\u540e\u7c98\u8d34\uff0c<code>shift+p</code> \u5411\u524d\u7c98\u8d34</li> <li>\u5168\u5c40\u66ff\u6362\u5b57\u7b26\u4e32 <code>:%s/gcc .* -c/gcc -c/g</code>  \u5c06<code>gcc -m xxx -c</code> \u66ff\u6362\u6210<code>gcc -c</code></li> </ul>"},{"location":"cs-life/other/vim/#_5","title":"\u4ee3\u7801\u8865\u5168","text":"<ul> <li><code>ctrl+n</code>, \u81ea\u52a8\u8865\u5168\uff0c\u5728\u7f16\u8f91\u6a21\u5f0f\u4e0b\u4f7f\u7528\uff0c\u53ea\u8865\u5168\u5f53\u524d\u6587\u4ef6\u5df2\u7ecf\u51fa\u73b0\u8fc7\u7684\u5355\u8bcd</li> <li><code>ctrl+p</code></li> </ul>"},{"location":"cs-life/other/vim/#_6","title":"\u591a\u884c\u9009\u4e2d","text":"<ul> <li>vim\u6587\u4ef6\uff0c\u591a\u5217\u9009\u4e2d<ul> <li>\u4f7f\u7528 <code>ctrl + v</code>\u8fdb\u884c\u5217\u9009\u62e9</li> </ul> </li> <li>\u591a\u884c\u6ce8\u91ca (\u4eb2\u6d4b\u6709\u6548)<ol> <li><code>ctrl + v</code> \u9009\u4e2d\u591a\u884c</li> <li>\u6309\u4e0b <code>shift + i</code>\uff0c\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f</li> <li>\u8f93\u5165<code>//</code>\uff0c\u7136\u540e\u6309\u4e0b<code>ESC</code> \uff08\u6b64\u65f6\u53d1\u73b0\u591a\u884c\u4ee3\u7801\u90fd\u88ab\u6ce8\u91ca\u4e86\uff09</li> </ol> </li> </ul>"},{"location":"cs-life/other/vim/#_7","title":"\u591a\u6587\u4ef6\u8df3\u8f6c","text":"<ul> <li>\u4ece\u5f53\u524d\u76ee\u5f55\u6311\u9009\u6587\u4ef6     <code>: -e .</code> </li> </ul>"},{"location":"cs-life/other/vim/#vim-plug","title":"Vim plug\u63d2\u4ef6","text":"<ul> <li>\u5185\u7f51\u73af\u5883\u4e0b\u5b89\u88c5 https://github.com/junegunn/vim-plug</li> <li>\u81ea\u5df1\u627e\u63d2\u4ef6\u5b66\u4e60\u4f7f\u7528 https://vimawesome.com/</li> </ul>"},{"location":"cs-life/other/vim/#_8","title":"\u6848\u4f8b","text":"<p>\u8981\u751f\u6210<code>day1-1.jpeg, day1-2.jpeg, day1-3.jpeg ... day1-100.jpeg</code></p> <p>\u5b9e\u73b0\u65b9\u5f0f\uff1a</p> <ol> <li>\u5728 Vim \u4e2d\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u7a7a\u767d\u6587\u6863\u3002</li> <li>\u5728\u7b2c\u4e00\u884c\u8f93\u5165 \"day1-1.jpeg\"\u3002</li> <li>\u628a\u5149\u6807\u653e\u5728 \"1\" \u4e0a\uff0c\u7136\u540e\u8f93\u5165 \"qa\" \u5f00\u59cb\u5f55\u5236\u5b8f \"a\"\u3002</li> <li>\u8f93\u5165\u4e24\u6b21 \"Y\"\uff0c\u590d\u5236\u5f53\u524d\u884c\uff0c \u7136\u540e \"p\"\uff0c\u7c98\u8d34\u5230\u4e0b\u4e00\u884c\u3002</li> <li>\u6309\u4e0bv\uff0c\u9009\u4e2d\u6570\u5b57\"1\"\u5230\u884c\u5c3e\uff0c\u8f93\u5165 \"Ctrl+A\" \u81ea\u589e\u5f53\u524d\u884c\u7684\u6570\u5b57</li> <li>\u6309 \"q\" \u505c\u6b62\u5f55\u5236\u5b8f\u3002</li> <li>\u8f93 \"99@a\" \u6267\u884c\u8be5\u5b8f99\u6b21\u3002\u8fd9\u5c06\u751f\u6210\u4ece \"day1-2.jpeg\" \u5230 \"day1-100.jpeg\" \u7684\u5269\u4f59\u6587\u4ef6\u540d\u3002</li> </ol>"},{"location":"cs-life/other/math/hash/","title":"\u6570\u5b66\u76f8\u5173","text":""},{"location":"cs-life/other/math/hash/#_2","title":"\u4e3a\u4ec0\u4e48\u53d6\u4f59\u90fd\u9700\u8981\u7528\u8d28\u6570","text":"<p>\u5047\u8bbehash\u503c\u662fN, \u6a21\u6570\u662fM, \u5219N % M = r \u53ef\u4ee5\u8868\u793a\u6210 N = Mq + r </p> <p>\u5982\u679c\u4ed6\u4eec\u6700\u5927\u516c\u56e0\u6570\u4e3ak &gt; 1 =&gt; N/k = (M/k)q + (r/k) =&gt; (r/k) \u5fc5\u7136\u4e3a\u6574\u6570, \u5219r\u7684\u53d6\u503c\u53ea\u80fd\u662f{0, k, 2k ... nk}. \u8fd9\u4e5f\u5c31\u610f\u5473\u7740\u8fd9\u7c7bN\u7684\u53d6\u6a21\u4f59\u6570\u5e76\u4e0d\u5e73\u5747\u3002\u6211\u4eec\u5f53\u7136\u662f\u60f3\u5e73\u5747\u7684\u5f97\u5230\u4f59\u6570\u4e3a{0.....M-1}\u7684\u7ed3\u679c\u3002</p> <ol> <li>\u5982\u679cN\u7684\u53d6\u503c\u662f\u4ece1\u52301kw\uff0c\u6bcf\u4e2a\u90fd\u51fa\u73b0\u4e00\u6b21\u7684\u8bdd\uff0c\u90a3 M \u662f\u5426\u662f\u8d28\u6570\u5e76\u4e0d\u5f71\u54cd\u3002</li> <li>\u5982\u679cN\u7684\u53d6\u503c\u4e0d\u5747\u5300\u7684\u8bdd\uff0c\u5982\u4e0a\u9762\u6240\u8bb2\uff0c\u5982\u679cM\u548cN\u5b58\u5728\u516c\u5171\u6570k\uff0c\u6700\u7ec8\u7684\u4f59\u6570 r \u7684\u53d6\u503c \u53ea\u80fd\u662f {0,k,2k ... nk}\uff0chash\u7ed3\u679c\u5e76\u4e0d\u5747\u5300\u3002</li> </ol>"},{"location":"cs-life/other/solution/db-transfer/","title":"\u6570\u636e\u8fc1\u79fb","text":""},{"location":"cs-life/other/solution/db-transfer/#binlog","title":"binlog\u540c\u6b65","text":"<p>TODO \u8c03\u7814binlog\u540c\u6b65\u7ec4\u4ef6</p>"},{"location":"cs-life/other/solution/db-transfer/#mysql","title":"MySQL\u8fc1\u79fb","text":"<ul> <li><code>${host}</code>\u4e3a\u4e3b\u673a</li> <li><code>${user}</code>\u4e3a\u7528\u6237\u540d</li> <li><code>${database}</code>\u4e3a\u6570\u636e\u5e93</li> </ul>"},{"location":"cs-life/other/solution/db-transfer/#_2","title":"\u5bfc\u51fa","text":""},{"location":"cs-life/other/solution/db-transfer/#_3","title":"\u53ea\u5bfc\u8868\u7ed3\u6784","text":"<pre><code>mysqldump -h ${host} -u ${user} -p -R -d -B ${database} &gt; ~/create_table.sql\n</code></pre>"},{"location":"cs-life/other/solution/db-transfer/#_4","title":"\u53ea\u5bfc\u8868\u6570\u636e","text":"<pre><code>mysqldump -h ${host} -u ${user} -p -R -t -B ${database} &gt; ~/data.sql\n</code></pre>"},{"location":"cs-life/other/solution/db-transfer/#_5","title":"\u5bfc\u5165","text":"<pre><code>mysql -h ${host} -u ${user} -p ${database} &lt; create_table.sql\nmysql -h ${host} -u ${user} -p ${database} &lt; data.sql\n</code></pre>"},{"location":"cs-life/other/solution/db-transfer/#mongodb","title":"MongoDB\u8fc1\u79fb","text":"<ul> <li><code>${host}</code>\u4e3a\u4e3b\u673a</li> <li><code>${port}</code>\u4e3a\u7aef\u53e3</li> <li><code>${user}</code>\u4e3a\u7528\u6237\u540d</li> <li><code>${password}</code>\u4e3a\u5bc6\u7801</li> <li><code>${database}</code>\u4e3a\u6570\u636e\u5e93</li> </ul>"},{"location":"cs-life/other/solution/db-transfer/#_6","title":"\u5bfc\u51fa","text":"<pre><code>mongodump -h ${host} --port ${port} -d ${database} --authenticationDatabase admin -u ${user} -p${passwrod} -o ./\n</code></pre>"},{"location":"cs-life/other/solution/db-transfer/#_7","title":"\u5bfc\u5165","text":"<pre><code>mongorestore -h ${host} --port ${port} -d ${database} --drop ./\n</code></pre>"},{"location":"cs-life/other/solution/high-load-analysis/","title":"\u8d1f\u8f7d\u9ad8\u7684\u5206\u6790\u601d\u8def","text":"<ul> <li>cpu\u5229\u7528\u7387\u600e\u4e48\u67e5\u770b\uff0c\u627e\u5230\u5360\u7528cpu\u6700\u591a\u7684\u8fdb\u7a0b\uff0c\u5206\u6790\u5806\u6808<ol> <li>\u6b7b\u5faa\u73af</li> <li>\u81ea\u65cb\u9501\u7ade\u4e89\u8f83\u5927\uff0c\u4e00\u76f4\u5728\u81ea\u65cb</li> <li>\u52a0\u89e3\u5bc6</li> <li>hashMap7 \u94fe\u8868\u5faa\u73af</li> </ol> </li> <li>memory\u600e\u4e48\u67e5\u770b\uff0cOOM\u89e3\u51b3\u601d\u8def\uff0c\u5206\u6790\u5bf9\u8c61\u5360\u7528\uff0c\u4fee\u6539gc\u53c2\u6570</li> <li>\u78c1\u76d8\u5229\u7528\u7387\u548c\u6027\u80fd\u5982\u4f55\u67e5\u770b <code>iostat</code></li> <li>socket\u72b6\u6001\uff1f <code>time_wait</code>\u548c<code>close_wait</code></li> </ul>"},{"location":"cs-life/other/solution/network-analysis/","title":"\u7f51\u7edc\u6545\u969c\u5206\u6790","text":""},{"location":"cs-life/other/solution/network-analysis/#ip-ping","title":"IP ping\u4e0d\u901a","text":"<ol> <li>ping 127.0.0.1\uff0c\u5982\u679cping\u4e0d\u901a\u8bf4\u660e\u672c\u673a\u8bbe\u7f6e\u7684TCP/IP\u534f\u8bae\u6709\u95ee\u9898\u3002ping\u8be5\u5730\u5740\u4e0d\u7ecf\u8fc7\u7f51\u5361\uff0c\u4ec5\u4ec5\u662f\u8f6f\u4ef6\u5c42\u9762\u3002</li> <li>ping \u672c\u673aIP\u5730\u5740\uff0cping\u672c\u673aIP\u5176\u5b9e\u662f\u4ece\u9a71\u52a8\u5230\u7f51\u5361\u3002\u5982\u679c\u6b64\u65f6ping\u4e0d\u901a\uff0c\u5219\u8868\u793a\u7f51\u5361\u9a71\u52a8\u6709\u95ee\u9898\uff0c\u6216\u8005\u786c\u4ef6\u6709\u95ee\u9898\u3002</li> <li>ping \u7f51\u5173\uff08\u6240\u8c13\u7f51\u5173\uff0c\u5c31\u662f\u8fde\u63a5\u5230\u53e6\u4e00\u4e2a\u7f51\u7edc\u7684\u201c\u5173\u5361\u201d\uff0c\u4e00\u822c\u4e3a\u79bb\u6211\u4eec\u6700\u8fd1\u7684\u8def\u7531\u5668\uff09\uff1b\u53ef\u4ee5\u4f7f\u7528<code>ipconfig/ifconfig</code>\u67e5\u770b\uff1b\u82e5ping\u4e0d\u901a\uff0c\u5219\u4e3a\u4e3b\u673a\u5230\u8def\u7531\u5668\u4e4b\u95f4\u7684\u7f51\u7edc\u6545\u969c\u3002</li> <li>ping \u76ee\u7684IP\uff0c\u82e5ping\u4e0d\u901a\uff0c\u5e94\u8be5\u5c31\u662f\u8def\u7531\u5668\u5230\u76ee\u7684\u4e3b\u673a\u7684\u7f51\u7edc\u5b58\u5728\u95ee\u9898\u3002</li> </ol>"},{"location":"cs-life/other/solution/network-analysis/#_2","title":"\u957f/\u77ed\u94fe\u63a5","text":"<ul> <li> <p>http client\u4e2d\u6709\u4e00\u4e2a\u53c2\u6570\u662f<code>maxPerRoute</code>\uff0c\u4f5c\u7528\u662f\uff1a\u9650\u5236\u6bcf\u4e2a<code>Route</code>(\u5373server\u7684ip+port)\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002</p> </li> <li> <p>\u5f53client\u5230server\u5efa\u7acb<code>Route</code>\u7684\u8fde\u63a5\u6570\u8d85\u8fc7\u9ed8\u8ba4\u8bbe\u7f6e(\u9ed8\u8ba4\u662f2)\uff0c\u4f1a\u53d1\u751f\u5982\u4e0b\u62a5\u9519:</p> </li> </ul> <pre><code>java.net.NoRouteToHostException: Cannot assign requested address (Address not available)\n</code></pre> <ul> <li>\u8c03\u5927\u4e86 perRoute \u53c2\u6570(10000)\u540e\uff0c\u53d1\u73b0\u53ea\u80fd\u53d1\u9001\u6210\u529f10000\u4e2a\u8bf7\u6c42</li> <li>\u7528<code>netstat -autpn | grep tcp | grep ${host}</code> \u53d1\u73b0\u6709\u5927\u91cf\u7684<code>TIME_WAIT</code>\u72b6\u6001\uff0c\u63a8\u65ad\u662f\u5ba2\u6237\u7aef\u90fd\u662f\u77ed\u8fde\u63a5\uff0c\u53d1\u9001\u8bf7\u6c42\u540e\u5c31\u5173\u95ed\u4e86(\u5c3d\u7ba1\u4f7f\u7528\u4e86\u8fde\u63a5\u6c60)\u3002</li> <li>\u5c06 KeepAlive\u53c2\u6570\u6539\u4e3a-1\uff0c \u91cd\u65b0\u53d1\u8bf7\u6c42\uff0c\u4ecd\u7136\u6709\u5927\u91cf\u7684<code>TIME_WAIT</code>\u72b6\u6001\u3002</li> <li>\u54a8\u8be2\u62d3\u54e5\uff0c\u8bf4\u957f\u8fde\u63a5\u57fa\u672c\u662f\u5360\u7528\u56fa\u5b9a\u7684\u90a3\u51e0\u4e2a\u7aef\u53e3\uff0c\u5e76\u4e14\u90fd\u662f<code>ESTABLISHED</code>\u72b6\u6001\uff0c\u4f7f\u7528<code>watch</code>\u89c2\u5bdf\uff0c\u53d1\u73b0\u5f00\u542f\u4e86<code>KeepAlive</code>\u540e\uff0c<code>ESTABLISHED</code>\u7684\u7aef\u53e3\u53f7\u4ecd\u7136\u4e0d\u56fa\u5b9a\u3002</li> <li>\u540e\u62d3\u54e5\u505a\u4e86\u5b9e\u9a8c\uff0c\u8dd1KV\u573a\u666f\uff0c\u94fe\u63a5\u5c31\u662f\u4f1a\u590d\u7528\u7684\uff0c\u8dd1nginx\u573a\u666f\uff0c\u94fe\u63a5\u6ca1\u6709\u590d\u7528\uff0c\u56e0\u6b64\u63a8\u65ad KeepAlive \u670d\u52a1\u7aef\u4e5f\u8981\u5904\u7406\uff0c\u5982\u679c\u4e0d\u505a\u5904\u7406\uff0c\u5ba2\u6237\u7aef\u5355\u5f00 KeepAlive \u662f\u6ca1\u6709\u6548\u679c\u7684\u3002</li> </ul>"},{"location":"cs-life/other/solution/network-analysis/#_3","title":"\u603b\u7ed3","text":"<ol> <li>\u957f\u8fde\u63a5\u4fdd\u6301\u5904\u7406\u662f\u901a\u8fc7\u56db\u5143\u7ec4\u6765\u5224\u65ad\u7684 (client_ip\uff0cclient_port\uff0cserver_ip\uff0cserver_port)\u3002</li> <li>\u82e5\u4e0d\u7528\u94fe\u63a5\u6c60\u548c\u957f\u8fde\u63a5\uff0c\u5728\u9ad8\u5e76\u53d1\u77ed\u8fde\u63a5\u7684TCP\u670d\u52a1\u5668\u4e0a\uff0c\u5f53\u670d\u52a1\u5668\u5904\u7406\u5b8c\u8bf7\u6c42\u540e\u7acb\u523b\u4e3b\u52a8\u6b63\u5e38\u5173\u95ed\u8fde\u63a5\u3002<ul> <li>\u8fd9\u4e2a\u573a\u666f\u4e0b\u4f1a\u51fa\u73b0\u5927\u91cfsocket\u5904\u4e8eTIME_WAIT\u72b6\u6001\u3002\u5982\u679c\u5ba2\u6237\u7aef\u7684\u5e76\u53d1\u91cf\u6301\u7eed\u5f88\u9ad8\uff0c\u6b64\u65f6\u90e8\u5206\u5ba2\u6237\u7aef\u5c31\u4f1a\u663e\u793a\u8fde\u63a5\u4e0d\u4e0a\u3002</li> </ul> </li> </ol>"},{"location":"cs-life/other/solution/network-analysis/#timewait-closewait","title":"TimeWait / CloseWait","text":""},{"location":"cs-life/other/solution/network-analysis/#timewait","title":"TimeWait","text":"<p>\u4e00\u822c\u662f\u5ba2\u6237\u7aef\u4e00\u65b9\uff0c\u77ed\u65f6\u95f4\u53d1\u9001\u4e86\u5927\u91cf\u7684\u77ed\u8fde\u63a5\uff08\u5efa\u7acb\u4e86\u94fe\u63a5\u53c8\u91ca\u653e\u6389\uff09</p> <p>\u89e3\u51b3\u65b9\u6cd5: \u8c03\u53c2 or \u8fde\u63a5\u6c60</p>"},{"location":"cs-life/other/solution/network-analysis/#closewait","title":"CloseWait","text":"<p>\u4e00\u822c\u662f\u670d\u52a1\u7aef\u4e00\u65b9\uff0c\u6ca1\u6709\u4e3b\u52a8\u5173\u95ed\u94fe\u63a5 or \u670d\u52a1\u5904\u7406\u7684\u786e\u5f88\u6162</p> <p>\u89e3\u51b3\u65b9\u6cd5: \u5148\u9ed1\u76d2\u5ba1\u67e5\u540e\u767d\u76d2\u5ba1\u67e5</p>"},{"location":"cs-life/other/solution/network-analysis/#syn-flood","title":"syn flood\u653b\u51fb","text":"<ul> <li>\u77ed\u65f6\u95f4\u9ad8\u5e76\u53d1\u53d1\u51fatcp syn\u5305\u7684\u6e90ip\u5730\u5740\u88ab\u5f3a\u5236\u968f\u673a\u9020\u5047<ul> <li>\u670d\u52a1\u7aef\u63a5\u6536\u5230syn\u540e\uff0c\u8fc5\u901f\u4e3a\u6bcf\u4e2asyn\u5305\u5206\u914d\u4e00\u4e2aincomplete\u961f\u5217\uff0c\u5176\u4e2d\u7684socket\u90fd\u662f\u6682\u65f6\u6ca1\u6709\u5b8c\u6210\u8fde\u63a5\u7684syn_rcvd\u72b6\u6001socket, \u8fd9\u4e2a\u961f\u5217\u8fc5\u901f\u6ee1\u4e86\uff0c\u6d88\u8017\u4e86\u670d\u52a1\u5668\u7684\u8d44\u6e90\uff0c\u4f46\u53c8\u65e0\u6cd5\u6b63\u786e\u5efa\u7acbtcp\u4e09\u6b21\u63e1\u624b\u8fde\u63a5\uff08\u670d\u52a1\u7aef\u7684syn/ack\u6839\u636e\u4e4b\u524d\u7684syn\u5305\u627e\u5230\u7684\u662f\u9519\u8bef\u7684\u5ba2\u6237\u7aefIP\u5730\u5740\uff0c\u6240\u4ee5\u4e5f\u5c31\u65e0\u6cd5\u6536\u5230\u5ba2\u6237\u7aef\u7684\u7b2c\u4e09\u6b21\u63e1\u624back\u5305\uff09\uff0c\u8d44\u6e90\u8017\u5c3d\uff0c\u4ece\u800c\u5bfc\u81f4\u670d\u52a1\u5668\u65e0\u6cd5\u54cd\u5e94\u6b63\u5e38\u7684syn\u5305\u3002</li> </ul> </li> <li>\u4ecesyn flood\u653b\u51fb\u53ef\u4ee5\u5f97\u51fa\u8ba8\u8bba --&gt; tcp\u4e24\u6b21\u63e1\u624b\u662f\u4e07\u4e07\u4e0d\u884c\u7684\u3002<ul> <li>\u8f7b\u6613\u76f8\u4fe1syn\u5305\u5c31\u5efa\u7acb\u8fde\u63a5\u7684\u4e24\u6b21\u63e1\u624b\uff0c\u5f88\u5bb9\u6613\u8ba9\u670d\u52a1\u7aef\u56e0\u8d44\u6e90\u8017\u5c3d\u800c\u65e0\u6cd5\u63d0\u4f9b\u670d\u52a1\u3002</li> </ul> </li> <li>\u9884\u9632syn flood\u653b\u51fb<ul> <li>\u5728RFC4987\u4e2d\u7ed9\u51fa\u4e86\u7b54\u6848\u3002 \u5728syn\u5230\u6765\u7684\u65f6\u5019\uff0c\u670d\u52a1\u7aef\u5e76\u4e0d\u4f1a\u4e3a\u8fd9\u4e2asyn\u5305\u5206\u914d\u8d44\u6e90\uff0c\u514d\u5f97\u53d7\u9a97\u4e0a\u5f53\u3002\u53ea\u6709\u5f53\u670d\u52a1\u7aef\u81ea\u5df1\u7684syn/ack\u6536\u5230\u5ba2\u6237\u7aef\u7684ack\u540e\uff0c\u624d\u4f1a\u771f\u6b63\u5206\u914d\u8d44\u6e90\uff0c\u6b64\u65f6\u624d\u5b8c\u6210\u6b63\u5e38\u7684\u8fde\u63a5\u3002 \u7531\u6b64\u53ef\u89c1\uff0c\u6b64\u65f6syn flood\u5931\u6548\u3002</li> <li><code>cat  /proc/sys/net/ipv4/tcp_syncookies</code>\uff0c\u5982\u679c\u4e3a1\uff0c\u8868\u793a\u5f00\u542f\uff0c\u5982\u679c\u4e3a0\uff0c\u8868\u793a\u5173\u95ed\u3002</li> </ul> </li> </ul>"},{"location":"cs-life/other/solution/redis-timeout/","title":"Redis Timeout","text":"<p>\u6392\u67e5\u8fc7\u7a0b\u5982\u4e0b</p> <ul> <li>\u6bcf\u969415min\u4f1a\u6296\u52a8\u4e00\u6b21<ul> <li>\u6000\u7591\u662f RDB \u9020\u6210\u7684\uff0c\u5173\u95ed RDB (\u4ecd\u7136\u5b58\u5728\u95ee\u9898)</li> </ul> </li> <li>Redis client (lettuce)<ul> <li>\u5efa\u7acb\u94fe\u63a5\uff0c\u7136\u540e\u53d1\u9001\u547d\u4ee4\uff0c\u987a\u5e26\u6709\u4e2a\u8d85\u65f6\uff0c\u7528\u7684\u7c7b\u4f3c<code>scheduleThreadPool</code></li> </ul> </li> <li>Redis server <ul> <li><code>config get timeout</code> \u8fd4\u56de\u503c0\uff0c\u6c38\u4e0d\u8d85\u65f6</li> <li>\u6162\u65e5\u5fd7\u5206\u6790<ul> <li><code>config get slowlog-log-slower-than</code> \u83b7\u53d6\u9608\u503c</li> <li>\u7531\u4e8eslowlog\u662f\u4e00\u4e2a\u961f\u5217(FIFO)\uff0c\u5bfc\u81f4\u51fa\u73b0<code>RedisTimeout</code>\u7684\u65f6\u5019\uff0c\u90a3\u90e8\u5206\u7684\u547d\u4ee4\u5df2\u7ecf\u4ece\u961f\u5217\u91cc\u9762\u51fa\u53bb\u4e86</li> <li>\u505a\u7684\u4e0d\u597d\u7684\u4e00\u70b9\u513f\uff0c\u6ca1\u6709\u5c1d\u8bd5\u628a\u6162\u65e5\u5fd7\u8fdb\u884cdump</li> </ul> </li> </ul> </li> <li>blade\u6a21\u62df\u6545\u969c<ul> <li>\u5b9e\u9a8c\u9a8c\u8bc1\u5728\u7f51\u7edc\u5ef6\u65f6\u8f83\u957f or \u4e22\u5305\u7387\u8f83\u9ad8\u7684\u60c5\u51b5\u4f1a\u51fa\u73b0timeout\u7684\u60c5\u51b5\uff0c<code>cpu</code> 100%\u573a\u666f\u4e0b\u4e0d\u4f1a</li> </ul> </li> </ul>"},{"location":"cs-life/program-language/c/c/","title":"c","text":""},{"location":"cs-life/program-language/c/c/#gcc","title":"gcc","text":""},{"location":"cs-life/program-language/c/c/#gcc-e","title":"gcc -E","text":"<p>\u53ef\u4ee5\u5c06</p> <pre><code>(base) \u279c  p1 gcc --help | grep '\\-E'\n  -E                       Preprocess only; do not compile, assemble or link.\n</code></pre> <pre><code>#define DEFINE(X) static int X, X##1;\n\n#define PRINT(X) printf(\"%d\\n\", X);\n\nint main() {\n\n    DEFINE(x);\n    PRINT(x);\n    PRINT(x1);\n    return 0;\n}\n</code></pre> <pre><code>gcc -E demo.c | less\n\n\n# 8 \"demo.c\"\nint main() {\n\n static int x, x1;;\n printf(\"%d\\n\", x);;\n printf(\"%d\\n\", x1);;\n return 0;\n}\n</code></pre>"},{"location":"cs-life/program-language/go/go_mod/","title":"go\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"cs-life/program-language/go/go_mod/#gomod","title":"go.mod","text":"<pre><code>$ cat go.mod\nmodule example.com/hello // \u8868\u793a\u7684\u662f\u5f53\u524d\u7684\u6a21\u5757\u540d\u5b57\n\ngo 1.14  // \u5f53\u524dgo\u7684\u7248\u672c\u53f7\n\nrequire rsc.io/quote v1.5.2 // \u5f15\u7528\u7684\u7b2c\u4e09\u65b9\u5e93 require\u662f\u5173\u952e\u5b57\uff0crsc.io/quote\u662f\u6a21\u5757\u540d\u5b57\uff0cv1.5.2 \u8868\u793a\u7248\u672c\u53f7\n</code></pre>"},{"location":"cs-life/program-language/go/go_mod/#gosum","title":"go.sum","text":"<pre><code>$ cat go.sum\n// \u6ca1\u6709\u6253tag\u7684\u573a\u666f\ngolang.org/x/text v0.0.0-20170915032832-14c0d48ead0c h1:qgOY6WgZOaTkIIMiVjBQcw93ERBE4m30iBm00nkL0i8=\ngolang.org/x/text v0.0.0-20170915032832-14c0d48ead0c/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=\n// \u6253tag\u7684\u6307\u5b9abranch\u7684\u573a\u666f\nrsc.io/quote v1.5.2 h1:w5fcysjrx7yqtD/aO+QwRjYZOKnaM9Uh2b40tElTs3Y=\nrsc.io/sampler v1.3.0 h1:7uVkIFmeBqHfdjD+gZwtXXI+RODJ2Wc4O7MPEh/QiW4=\n// \u4f7f\u7528\u4e86go mod\u7684\u573a\u666f\nrsc.io/quote v1.5.2/go.mod h1:LzX7hefJvL54yjefDEDHNONDjII0t9xZLPXsUe+TKr0=\nrsc.io/sampler v1.3.0/go.mod h1:T1hPZKmBbMNahiBKFy5HrXp6adAjACjK9JXDnKaTXpA=\n</code></pre> <p>\u524d\u9762\u7684 <code>golang.org/x/text</code> \u662f\u6b63\u5e38\u7684git\u4ed3\u5e93\u5730\u5740 </p> <p>\u540e\u9762\u7684 <code>v0.0.0-20170915032832-14c0d48ead0c</code> \u4e0d\u662fgit\u4e0a\u9762\u7684tag\uff0c\u662fgo mod\u4f9d\u636e\u89c4\u5219\u751f\u6210\u7684</p> <ul> <li>\u9879\u76ee\u6ca1\u6709\u6253 tag\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a\u7248\u672c\u53f7\uff0c\u683c\u5f0f\uff1a<code>v0.0.0-commit\u65e5\u671f-commitID</code>\uff0c\u5f15\u7528\u4e00\u4e2a\u9879\u76ee\u7684\u7279\u5b9a\u5206\u652f\uff0c\u6bd4\u5982 develop branch\uff0c\u4e5f\u4f1a\u751f\u6210\u7c7b\u4f3c\u7684\u7248\u672c\u53f7\uff1a<code>v\u5f53\u524d\u7248\u672c+1-commit\u65e5\u671f-commitID</code></li> <li>\u9879\u76ee\u6709\u7528\u5230 go module\uff0c\u90a3\u4e48\u5c31\u662f\u6b63\u5e38\u5730\u7528 tag \u6765\u4f5c\u4e3a\u7248\u672c\u53f7\u3002\u5982\u679c\u9879\u76ee\u6253\u4e86 tag\uff0c\u4f46\u662f\u6ca1\u6709\u7528\u5230 go module\uff0c\u4e3a\u4e86\u8ddf\u7528\u4e86 go module \u7684\u9879\u76ee\u76f8\u533a\u522b\uff0c\u9700\u8981\u52a0\u4e2a +incompatible \u7684\u6807\u5fd7\u3002\u6bd4\u5982: <code>&lt;module&gt;+&lt;version&gt;+incompatible/go.mod+&lt;hash&gt;</code></li> <li>\u5bf9\u4e8e\u4f7f\u7528\u4e86 v2+ go module \u7684\u9879\u76ee\uff0c\u9879\u76ee\u8def\u5f84\u4f1a\u6709\u4e2a\u7248\u672c\u53f7\u7684\u540e\u7f00\u3002\u6bd4\u5982\uff1a <code>&lt;module/v2&gt;+&lt;version&gt; + &lt;hash&gt;</code></li> </ul>"},{"location":"cs-life/program-language/go/go_mod/#_1","title":"\u5f15\u7528","text":"<ul> <li>https://cloud.tencent.com/developer/article/1630929</li> </ul>"},{"location":"cs-life/program-language/go/main/","title":"Go","text":""},{"location":"cs-life/program-language/go/main/#_1","title":"\u57fa\u7840\u7528\u6cd5","text":""},{"location":"cs-life/program-language/go/main/#newmake","title":"new\u548cmake","text":"<ul> <li>new allocates memory, does not initialize the memory, it only zeros it.<ul> <li><code>new(File)</code> \u548c <code>&amp;File{}</code> \u7b49\u4ef7</li> </ul> </li> <li>make creates slices, maps, and channels only, and it returns an initialized (not zeroed) value of type <code>T</code>.</li> </ul>"},{"location":"cs-life/program-language/go/main/#array","title":"Array","text":"<ul> <li>Arrays are values. Assigning one array to another copies all the elements.</li> <li>In particular, if you pass an array to a function, it will receive a copy of the array, not a pointer to it.</li> <li>The size of an array is part of its type. The types <code>[10]int</code> and <code>[20]int</code> are distinct.</li> </ul> <pre><code>func Sum(a *[3]float64) (sum float64) {\n    for _, v := range *a {\n        sum += v\n    }\n    return\n}\n\narray := [...]float64{7.0, 8.5, 9.1}\nx := Sum(&amp;array)  // Note the explicit address-of operator\n</code></pre>"},{"location":"cs-life/program-language/go/main/#concurrency","title":"Concurrency","text":"<ul> <li>Do not communicate by sharing memory; instead, share memory by communicating.</li> </ul>"},{"location":"cs-life/program-language/java/java/","title":"\u95ee\u9898\u6c47\u603b","text":"<ul> <li>\u63a5\u53e3\u8ddf\u62bd\u8c61\u7c7b\u7684\u533a\u522b<ul> <li>\u63a5\u53e3\u5b9a\u4e49\u884c\u4e3a</li> <li>\u62bd\u8c61\u7c7b\u4e3a\u4e86\u590d\u7528, \u76f8\u540c\u7684\u4e1c\u897f\u62bd\u8c61\u7c7b\u5b9e\u73b0\uff0c\u4e0d\u540c\u7684\u4e1c\u897f\u5b50\u7c7b\u5b9e\u73b0</li> </ul> </li> <li>BIO\uff0cNIO</li> <li>\u7ebf\u7a0b\u6c60<ul> <li>corePoolSize, maxPoolSize, keepAliveTime, keepAliveUnit, runnableQueue, ThreadFactory, RejectHandler</li> <li>\u672a\u8fbe\u5230corePoolSize\u5148\u521b\u5efa\u7ebf\u7a0b\uff0c\u7136\u540e\u585e\u5230runnableQueue\u91cc\uff0c\u961f\u5217\u6ee1\u4e86\uff0c\u7ee7\u7eed\u521b\u5efa\u7ebf\u7a0b\u5230maxPoolSize\uff0c\u8fbe\u5230\u540e\u6267\u884crejectHandler</li> </ul> </li> </ul>"},{"location":"cs-life/program-language/java/collection/collection/","title":"Collection","text":""},{"location":"cs-life/program-language/java/collection/collection/#_1","title":"\u96c6\u5408","text":""},{"location":"cs-life/program-language/java/collection/collection/#list","title":"List","text":"<ul> <li>ArrayList<ul> <li><code>DEFAULT_CAPACITY = 10</code></li> <li><code>int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);</code></li> <li>\u4f1a\u9047\u5230<code>ConcurrentModificationException</code>\uff0c\u6bd4\u5982\u56fa\u5b9a\u8fd4\u56de5\u5f20\u5b9e\u65f6\u6293\u62cd\u56fe\u7684\u573a\u666f</li> </ul> </li> <li>LinkdedList<ul> <li>\u53cc\u5411\u5faa\u73af\u94fe\u8868</li> </ul> </li> <li>Vector<ul> <li><code>initialCapacity = 10</code></li> <li><code>int newCapacity = 2 * oldCapacity;</code></li> </ul> </li> <li>CopyOnWriteArrayList<ul> <li>\u9700\u8981clone\u6574\u4e2a\u6570\u7ec4(\u6240\u4ee5\u5cf0\u503c\u5185\u5b58\u4f1adouble\uff0c\u9002\u5408\u5199\u5c11\u8bfb\u591a\u7684\u573a\u666f)</li> </ul> </li> </ul>"},{"location":"cs-life/program-language/java/collection/collection/#map","title":"Map","text":"<ul> <li>HashMap<ul> <li>\u61d2\u52a0\u8f7d\uff0c\u7b49\u7b2c\u4e00\u6b21\u6267\u884c<code>putVal</code>\u624d\u4f1a\u53bb<code>initTab</code></li> <li>\u53ea\u5141\u8bb8\u4e00\u6761\u8bb0\u5f55\u7684\u952e\u4e3anull\uff0c\u5141\u8bb8\u591a\u6761\u8bb0\u5f55\u7684\u503c\u4e3anull</li> <li>\u5f53\u94fe\u8868\u957f\u5ea6&gt;=8\u4e14\u6876\u5927\u5c0f&gt;=64\u65f6\u8f6c\u7ea2\u9ed1\u6811<ul> <li>\u94fe\u8868\u957f\u5ea68 -&gt; \u6b64\u65f6\u6b63\u5e38\u7684\u6982\u7387\u4e3a<code>6*10^-8</code>, \u9632\u6b62hash\u51b2\u649e\u592a\u591a</li> </ul> </li> <li>loadFactor\u4e3a<code>0.75</code><ul> <li>\u65f6\u7a7atradeoff, \u5927\u4e86\u78b0\u649e\u592a\u591a\uff0c\u5c0f\u4e86\u6d6a\u8d39\u7a7a\u95f4</li> </ul> </li> <li>key\u7684hash\u9ad8\u4f4d\u8981\u53c2\u4e0e\u8fd0\u7b97<ul> <li><code>(key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16)</code>, hash\u64cd\u4f5c\u53ea\u4f1a\u548c\u4f4e\u4f4d\u76f8\u5173\uff0c\u6240\u4ee5\u8ba9\u9ad8\u4f4d\u53c2\u4e0e\u8fd0\u7b97hash\u6548\u679c\u7406\u8bba\u66f4\u597d</li> </ul> </li> <li>\u7ebf\u7a0b\u4e0d\u5b89\u5168(\u904d\u5386\u7684\u65f6\u5019\u589e\u52a0\u65b0key\u6216\u8005\u5220\u9664\u5df2\u6709\u7684key\uff0c\u62a5\u9519<code>ConcurrentModificationException</code>,\u672c\u8d28\u4e0a\u8fd8\u662fmodCount\u53d8\u5316)</li> <li>JDK7\u5faa\u73af\u94fe\u8868<ul> <li>\u672c\u6765 <code>tab[i]-&gt;A-&gt;B</code> \u591a\u7ebf\u7a0bresize\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u51fa\u73b0 <code>tab[i]-&gt;B-&gt;A-&gt;B</code>\u7684\u60c5\u51b5</li> </ul> </li> </ul> </li> <li>Hashtable<ul> <li>key\u548cvalue\u90fd\u4e0d\u80fd\u4e3anull</li> </ul> </li> <li>ConcurrentHashMap<ul> <li>key\u548cnull\u90fd\u4e0d\u80fd\u4e3anull</li> <li>JDK7<ul> <li>\u7406\u8bba\u4e0a ConcurrentHashMap \u652f\u6301 CurrencyLevel (Segment \u6570\u7ec4\u6570\u91cf) \u7684\u7ebf\u7a0b\u5e76\u53d1\uff0c\u662f\u4e24\u5c42hash\uff0c\u4e00\u5c42segment(<code>ReentrantLock</code>)\uff0c\u4e00\u5c42table</li> <li>\u5f31\u4e00\u81f4\u6027(\u6ca1\u6709\u4f7f\u7528volatile\uff0c\u800c\u662f\u4f7f\u7528<code>UNSAFE.getObjectVolatile</code>\u548c<code>UNSAFE.putObjectVolatile</code><ul> <li>\u540c\u65f6get\u548cput\uff0cget\u5728put\u4e4b\u524d\uff0c\u90a3\u4e48put\u5b8c\uff0cget\u7684\u90a3\u4e2a\u7ebf\u7a0b\u662f\u611f\u77e5\u4e0d\u5230\u7684</li> </ul> </li> <li>\u7f3a\u70b9\u662f\u904d\u5386\u6bd4\u8f83\u590d\u6742</li> </ul> </li> <li>JDK8<ul> <li>put\u5148<code>initTable</code>, \u5982\u679c\u94fe\u8868\u9996\u8282\u70b9\u4e3anull\u5219<code>CAS</code>\u5199\u5165\uff0c\u5426\u5219\u76f4\u63a5\u83b7\u53d6\u9996\u8282\u70b9\uff0c\u7136\u540esynchronized\u63d2\u503c</li> </ul> </li> <li>1.8 \u5728 1.7 \u7684\u6570\u636e\u7ed3\u6784\u4e0a\u505a\u4e86\u5927\u7684\u6539\u52a8\uff0c\u91c7\u7528\u7ea2\u9ed1\u6811\u4e4b\u540e\u53ef\u4ee5\u4fdd\u8bc1\u67e5\u8be2\u6548\u7387\uff08O(logn)\uff09\uff0c\u751a\u81f3\u53d6\u6d88\u4e86 ReentrantLock \u6539\u4e3a\u4e86 synchronized\uff0c\u8fd9\u6837\u53ef\u4ee5\u770b\u51fa\u5728\u65b0\u7248\u7684 JDK \u4e2d\u5bf9 synchronized \u4f18\u5316\u662f\u5f88\u5230\u4f4d\u7684\u3002</li> <li>\u7ea2\u9ed1\u6811\u4e94\u4e2a\u7279\u6027<ul> <li> <ol> <li>\u6839\u662f\u9ed1\u7684 2. \u7ea2\u7684\u4e0b\u9762\u5fc5\u987b\u662f\u9ed1\u7684 3. \u9ed1\u7684\u4e0b\u9762\u53ef\u7ea2\u53ef\u9ed1 4. \u53f6\u5b50\u8282\u70b9\u90fd\u4e3a\u9ed1 5. \u6839\u8282\u70b9\u5de6\u53f3\u65b9\u5411\u5230\u53f6\u5b50\u8282\u70b9\u7ecf\u5386\u7684\u9ed1\u8272\u8282\u70b9\u6570\u76f8\u7b49</li> </ol> </li> </ul> </li> </ul> </li> <li>TreeMap<ul> <li>\u7ea2\u9ed1\u6811\uff0c\u5fc5\u987b\u5b9e\u73b0 <code>Comparable&lt;K&gt;</code> \u63a5\u53e3 \u6216\u8005\u4f20\u5165 <code>Comparator&lt;K&gt;</code> \u7684\u5b9e\u73b0\u7c7b</li> </ul> </li> <li>LinkedHashMap<ul> <li>\u7ee7\u627f\u81ea<code>HashMap</code>\uff0c\u7ebf\u7a0b\u4e0d\u5b89\u5168</li> <li>\u961f\u9996\u662f\u6700\u8001\u7684\u5143\u7d20\uff0c\u961f\u5c3e\u662f\u6700\u65b0\u7684\u5143\u7d20</li> <li>\u5982\u4f55\u4fdd\u8bc1\u6709\u5e8f<ul> <li>\u65b0\u5efaNode\uff0c\u4f1a\u8c03\u7528<code>linkNodeLast</code>\u65b9\u6cd5\u5c06\u5f53\u524d\u7684\u8282\u70b9\u653e\u7f6e\u5230\u53cc\u5411\u94fe\u8868\u7684\u672b\u5c3e</li> <li>\u66f4\u65b0\u5b8c\uff0c\u4f1a\u6267\u884c<code>afterNodeAccess(newNode)</code>\u65b9\u6cd5\uff0c\u4f1a\u5c06\u5f53\u524d\u64cd\u4f5c\u7684\u8282\u70b9\u4ece\u94fe\u8868\u4e2d\u79fb\u52a8\u5230\u672b\u5c3e</li> </ul> </li> </ul> </li> </ul>"},{"location":"cs-life/program-language/java/collection/collection/#set","title":"Set","text":"<ul> <li>HashSet<ul> <li>\u5185\u90e8\u5957\u7684 HashMap\uff0ckey\u4e3a\u5f85\u6dfb\u52a0\u7684\u5143\u7d20\uff0cvalue\u4e3a\u4e00\u4e2a<code>static final Object</code></li> <li>put\u65b9\u6cd5 <code>this.map.put(e, PRESENT) == null;</code> \u7b2c\u4e00\u6b21\u63d2\u5165\u8fd4\u56de\u503c\u662fnull</li> <li>get\u65b9\u6cd5 <code>this.map.remove(o) == PRESENT;</code> \u5220\u9664\u65f6\u5019\u5224\u65ad\u662f\u5426\u5b58\u5728</li> </ul> </li> <li>TreeSet<ul> <li>\u5185\u90e8\u5957\u7684 TreeMap\uff0c\u5176\u4ed6\u540cHashSet\u4e00\u81f4</li> </ul> </li> </ul>"},{"location":"cs-life/program-language/java/collection/collection/#queue","title":"Queue","text":"<ul> <li> <p>AbstractQueue</p> <ul> <li><code>offer</code>\u662f\u653e\u5143\u7d20\u5230\u961f\u5217\u91cc\u9762\uff0c<code>pull</code>\u662f\u4ece\u961f\u5217\u91cc\u9762\u62c9\u6570\u636e</li> <li><code>add</code>\u65b9\u6cd5\u8c03\u7528<code>offer</code>\u65b9\u6cd5\uff0c\u5982\u679c\u6ca1\u6cd5\u589e\u52a0\u5143\u7d20\u5230\u961f\u5217\uff0c\u4f1a\u629b\u5f02\u5e38</li> <li><code>remove</code>\u65b9\u6cd5\u8c03\u7528<code>poll</code>\u65b9\u6cd5\uff0c\u5982\u679c\u961f\u5217\u4e3a\u7a7a\uff0c\u4f1a\u629b\u5f02\u5e38</li> </ul> </li> <li> <p>Deque\uff08\u53cc\u7aef\u961f\u5217\uff09</p> <ul> <li>\u6709<code>addFirst</code>, <code>addLast</code>, <code>removeFirst</code>, <code>removeLast</code></li> <li>ArrayDeque<ul> <li>\u7ebf\u7a0b\u4e0d\u5b89\u5168\uff0c\u6027\u80fd\u6bd4\u8f83\u62c9\u8de8(\u81ea\u6211\u611f\u89c9)</li> </ul> </li> <li>LinkedList<ul> <li>\u5b9e\u73b0\u4e86Deque\u63a5\u53e3\uff0c\u6700\u597d\u8fd8\u662f\u7528\u8fd9\u4e2a</li> </ul> </li> </ul> </li> <li> <p>PriorityQueue</p> <ul> <li>\u7ebf\u7a0b\u4e0d\u5b89\u5168</li> <li>\u5e95\u5c42\u5b9e\u73b0\u662fObject\u6570\u7ec4</li> <li><code>offer</code>\u628a\u8282\u70b9\u52a0\u5165\u5230\u6570\u7ec4\u6700\u540e\uff0c\u7136\u540e\u5411\u4e0a\u66f4\u65b0<code>siftUp</code>\u6700\u5c0f\u6839</li> <li><code>poll</code>\u4f1a\u8fd4\u56de<code>queue[0]</code>\uff0c\u7136\u540e\u5c06<code>queue[0]</code>\u548c<code>queue[sz-1]</code>\u505a\u4ea4\u6362\uff0c\u518d\u5411\u4e0b\u66f4\u65b0<code>siftDown</code>\u6700\u5c0f\u6839</li> </ul> </li> <li> <p>ArrayBlockingQueue</p> <ul> <li>\u7ebf\u7a0b\u5b89\u5168\uff0c\u4f7f\u7528<code>ReentrantLock</code>\u548c<code>Condition</code></li> <li>\u6709\u4e00\u4e2a\u9501</li> <li><code>put</code>\u65b9\u6cd5\u4f1a\u963b\u585e\u7b49<code>NotFull</code></li> <li><code>take</code>\u65b9\u6cd5\u4f1a\u963b\u585e\u7b49<code>NotEmpty</code></li> <li><code>peek</code>\u65b9\u6cd5\u4f1a\u62ff\u9501\u53bb\u8bfb\u6570\u636e\uff0c\u5f53\u7136\u53ef\u80fd\u8bfb\u51fa\u6765<code>null</code></li> <li><code>drainTo(Collection c)</code>\u4f1a\u5c06\u961f\u5217\u91cc\u9762\u7684\u6570\u636e\u63a8\u7ed9\u96c6\u5408<code>c</code></li> </ul> </li> <li> <p>LinkedBlockingQueue</p> <ul> <li>\u7ebf\u7a0b\u5b89\u5168\uff0c\u4f7f\u7528 <code>ReentrantLock</code> \u548c <code>Condition</code></li> <li>\u5b9e\u73b0\u65b9\u5f0f\u4e3a\u5355\u94fe\u8868, <code>head</code>\u8282\u70b9\u662f\u4e00\u4e2a\u865a\u8282\u70b9\uff0cvalue\u4e3anull</li> <li>\u6709\u4e24\u4e2a\u9501\uff0c<code>takeLock</code> \u548c <code>putLock</code>\uff0c\u5e76\u4e14\u5b58\u4e00\u4e2a<code>AtomicInteger count</code>\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5206\u79bb<code>offer</code>\u548c<code>poll</code>\u64cd\u4f5c</li> </ul> </li> </ul>"},{"location":"cs-life/program-language/java/collection/iterator/","title":"\u8fed\u4ee3\u5668 iterator","text":"<p><code>cursor</code>\u6307\u5411\u4e0b\u4e00\u4e2a\u8981\u83b7\u53d6\u7684\u4f4d\u7f6e\uff0c<code>lastRet</code>\u6307\u5411\u5df2\u7ecf\u83b7\u53d6\u5b8c\u7684\u4f4d\u7f6e</p> <p>\u53ef\u4ee5\u770b\u5230remove\u7684\u65f6\u5019\uff0c\u4f1a\u5148<code>remove</code>\u6570\u7ec4\u5143\u7d20\uff0c\u7136\u540e<code>lastRet=-1</code>, <code>cursor--</code></p> <pre><code>public E next() {\n    checkForComodification();\n    try {\n        int i = cursor;\n        E next = get(i);\n        lastRet = i;\n        cursor = i + 1;\n        return next;\n    } catch (IndexOutOfBoundsException e) {\n        checkForComodification();\n        throw new NoSuchElementException();\n    }\n}\n\npublic void remove() {\n    if (lastRet &lt; 0)\n        throw new IllegalStateException();\n    checkForComodification();\n\n    try {\n        AbstractList.this.remove(lastRet);\n        if (lastRet &lt; cursor)\n            cursor--;\n        lastRet = -1;\n        expectedModCount = modCount;\n    } catch (IndexOutOfBoundsException e) {\n        throw new ConcurrentModificationException();\n    }\n}\n</code></pre>"},{"location":"cs-life/program-language/java/jvm/jvm/","title":"Jvm","text":"<ul> <li>JVM\u5185\u5b58\u6a21\u578b<ul> <li>\u7a0b\u5e8f\u8ba1\u6570\u5668\uff0c\u7ebf\u7a0b\u79c1\u6709\uff0c\u5f53\u524d\u7ebf\u7a0b\u6267\u884c\u5b57\u8282\u7801\u7684\u884c\u53f7\u6307\u793a\u5668</li> <li>Java\u865a\u62df\u673a\u6808\uff0c\u7ebf\u7a0b\u79c1\u6709\uff0c\u8bb0\u5f55\u65b9\u6cd5\u6267\u884c\u7684\u5185\u5b58\u6a21\u578b\uff0c\u6808\u5e27\uff08\u5b58\u50a8\u5c40\u90e8\u53d8\u91cf\u8868\u3001\u64cd\u4f5c\u6570\u6808\u3001\u52a8\u6001\u8fde\u63a5\u3001\u65b9\u6cd5\u51fa\u53e3\uff09</li> <li>\u672c\u5730\u65b9\u6cd5\u6808\uff0cnative\u65b9\u6cd5\uff0c\u7ebf\u7a0b\u79c1\u6709</li> <li>Java\u5806\uff0c\u7ebf\u7a0b\u5171\u4eab\uff0c<code>-Xmx -Xms</code></li> <li>\u65b9\u6cd5\u533a\uff0c\u7ebf\u7a0b\u5171\u4eab\uff0c\u5b58\u50a8\u5df2\u88ab\u865a\u62df\u673a\u52a0\u8f7d\u7684\u7c7b\u578b\u4fe1\u606f\u3001\u5e38\u91cf\u3001\u9759\u6001\u53d8\u91cf\u3001\u5373\u65f6\u7f16\u8bd1\u5668\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u7f13\u5b58\u7b49\u6570\u636e</li> </ul> </li> <li>\u5783\u573e\u5206\u6790\u7b97\u6cd5<ul> <li>\u5f15\u7528\u8ba1\u6570\u6cd5</li> <li>\u53ef\u8fbe\u6027\u5206\u6790<ul> <li>\u865a\u62df\u673a\u6808\u4e2d\u5f15\u7528\u7684\u5bf9\u8c61</li> <li>\u65b9\u6cd5\u533a\u9759\u6001\u5c5e\u6027\u5f15\u7528\u7684\u5bf9\u8c61</li> <li>\u65b9\u6cd5\u533a\u5e38\u91cf\u5f15\u7528\u7684\u5bf9\u8c61</li> <li>JNI(Native)\u5f15\u7528\u7684\u5bf9\u8c61</li> <li>\u88ab\u540c\u6b65\u9501\u6301\u6709\u7684\u5bf9\u8c61</li> </ul> </li> </ul> </li> <li>\u56db\u79cd\u5f15\u7528<ul> <li>\u5f3a\u5f15\u7528,\u8f6f\u5f15\u7528(\u5febOOM\u65f6GC),\u5f31\u5f15\u7528(\u4e0b\u4e00\u6b21GC)\uff0c\u865a\u5f15\u7528</li> </ul> </li> <li>\u540d\u8bcd\u89e3\u91ca<ul> <li>\u65b0\u751f\u4ee3\u6536\u96c6\uff08Minor GC/Young GC\uff09,\u6307\u76ee\u6807\u53ea\u662f\u65b0\u751f\u4ee3\u7684\u5783\u573e\u6536\u96c6</li> <li>\u8001\u5e74\u4ee3\u6536\u96c6\uff08Major GC/Old GC\uff09\uff1a\u6307\u76ee\u6807\u53ea\u662f\u8001\u5e74\u4ee3\u7684\u5783\u573e\u6536\u96c6\u3002\u76ee\u524d\u53ea\u6709CMS\u6536\u96c6\u5668\u4f1a\u6709\u5355\u72ec\u6536\u96c6\u8001\u5e74\u4ee3\u7684\u884c\u4e3a\u3002\u53e6\u5916\u8bf7\u6ce8\u610f\u201cMajor GC\u201d\u8fd9\u4e2a\u8bf4\u6cd5\u73b0\u5728\u6709\u70b9\u6df7\u6dc6\uff0c\u5728\u4e0d\u540c\u8d44\u6599\u4e0a\u5e38\u6709\u4e0d\u540c\u6240\u6307\uff0c\u8bfb\u8005\u9700\u6309\u4e0a\u4e0b\u6587\u533a\u5206\u5230\u5e95\u662f\u6307\u8001\u5e74\u4ee3\u7684\u6536\u96c6\u8fd8\u662f\u6574\u5806\u6536\u96c6\u3002</li> <li>\u6574\u5806\u6536\u96c6\uff08Full GC\uff09\uff1a\u6536\u96c6\u6574\u4e2aJava\u5806\u548c\u65b9\u6cd5\u533a\u7684\u5783\u573e\u6536\u96c6</li> </ul> </li> <li>\u5783\u573e\u6536\u96c6\u7b97\u6cd5<ul> <li>\u6807\u8bb0\u6e05\u9664(1. \u6548\u7387\u968f\u5bf9\u8c61\u6570\u589e\u591a\u800c\u53d8\u4f4e; 2. \u5185\u5b58\u788e\u7247\u5316\u9ad8)</li> <li>\u6807\u8bb0\u590d\u5236(\u8981\u6e05\u9664\u7684\u5bf9\u8c61\u591a\u7684\u60c5\u51b5\u4e0b\uff0c\u6548\u7387\u9ad8)</li> <li>\u6807\u8bb0\u6574\u7406</li> </ul> </li> <li>\u679a\u4e3e\u6839\u8282\u70b9\u65f6\u4e5f\u662f\u5fc5\u987b\u8981\u505c\u987f\u7684\uff0c\u4fdd\u8bc1\u4e00\u81f4\u6027</li> <li>\u5783\u573e\u6536\u96c6\u5668<ul> <li>CMS\uff08Concurrent Mark Sweep\uff09\u6536\u96c6\u5668\u662f\u4e00\u79cd\u4ee5\u83b7\u53d6\u6700\u77ed\u56de\u6536\u505c\u987f\u65f6\u95f4\u4e3a\u76ee\u6807\u7684\u6536\u96c6\u5668(\u8001\u5e74\u4ee3\u6536\u96c6\u5668)     1\uff09\u521d\u59cb\u6807\u8bb0\uff08CMS initial mark\uff09     2\uff09\u5e76\u53d1\u6807\u8bb0\uff08CMS concurrent mark\uff09     3\uff09\u91cd\u65b0\u6807\u8bb0\uff08CMS remark\uff09     4\uff09\u5e76\u53d1\u6e05\u9664\uff08CMS concurrent sweep\uff09</li> <li>Garbage First\uff08\u7b80\u79f0G1\uff09\u6536\u96c6\u5668<ul> <li>G1\u5f00\u521b\u7684\u57fa\u4e8eRegion\u7684\u5806\u5185\u5b58\u5e03\u5c40\u662f\u5b83\u80fd\u591f\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u6807\u7684\u5173\u952e\u3002\u867d\u7136G1\u4e5f\u4ecd\u662f\u9075\u5faa\u5206\u4ee3\u6536\u96c6\u7406\u8bba\u8bbe\u8ba1\u7684\uff0c\u4f46\u5176\u5806\u5185\u5b58\u7684\u5e03\u5c40\u4e0e\u5176\u4ed6\u6536\u96c6\u5668\u6709\u5e38\u660e\u663e\u7684\u5dee\u5f02\uff1aG1\u4e0d\u518d\u575a\u6301\u56fa\u5b9a\u5927\u5c0f\u4ee5\u53ca\u56fa\u5b9a\u6570\u91cf\u7684\u5206\u4ee3\u533a\u57df\u5212\u5206\uff0c\u800c\u662f\u628a\u8fde\u7eed\u7684Java\u5806\u5212\u5206\u4e3a\u591a\u4e2a\u5927\u5c0f\u76f8\u7b49\u7684\u72ec\u7acb\u533a\u57df\uff08Region\uff09\uff0c\u6bcf\u4e00\u4e2aRegion\u90fd\u53ef\u4ee5\u6839\u636e\u9700\u8981\uff0c\u626e\u6f14\u65b0\u751f\u4ee3\u7684Eden\u7a7a\u95f4\u3001Survivor\u7a7a\u95f4\uff0c\u6216\u8005\u8001\u5e74\u4ee3\u7a7a\u95f4\u3002\u6536\u96c6\u5668\u80fd\u591f\u5bf9\u626e\u6f14\u4e0d\u540c\u89d2\u8272\u7684Region\u91c7\u7528\u4e0d\u540c\u7684\u7b56\u7565\u53bb\u5904\u7406\uff0c\u8fd9\u6837\u65e0\u8bba\u662f\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u8fd8\u662f\u5df2\u7ecf\u5b58\u6d3b\u4e86\u4e00\u6bb5\u65f6\u95f4\u3001\u71ac\u8fc7\u591a\u6b21\u6536\u96c6\u7684\u65e7\u5bf9\u8c61\u90fd\u80fd\u83b7\u53d6\u5f88\u597d\u7684\u6536\u96c6\u6548\u679c\u3002</li> <li>\u6bcf\u6b21\u6839\u636e\u7528\u6237\u8bbe\u5b9a\u5141\u8bb8\u7684\u6536\u96c6\u505c\u987f\u65f6\u95f4\uff08\u4f7f\u7528\u53c2\u6570-XX\uff1aMaxGCPauseMillis\u6307\u5b9a\uff0c\u9ed8\u8ba4\u503c\u662f200\u6beb\u79d2\uff09\uff0c\u4f18\u5148\u5904\u7406\u56de\u6536\u4ef7\u503c\u6536\u76ca\u6700\u5927\u7684\u90a3\u4e9bRegion</li> <li>\u521d\u59cb\u6807\u8bb0</li> <li>\u5e76\u53d1\u6807\u8bb0</li> <li>\u6700\u7ec8\u6807\u8bb0</li> <li>\u7b5b\u9009\u56de\u6536</li> </ul> </li> </ul> </li> <li>\u5206\u4ee3\u56de\u6536</li> <li>CMS\u548cG1\u7684\u533a\u522b</li> <li>\u53cc\u4eb2\u59d4\u6d3e\u662f\u7528\u7ec4\u5408\u65b9\u5f0f\uff0c\u4e0d\u662f\u7528\u7ee7\u627f\u65b9\u5f0f<ul> <li>\u53ef\u4ee5\u60f3\u5230\u7684\u662f\uff0c\u5982\u679c\u662f\u7ee7\u627f\u65b9\u5f0f\uff0c\u90a3\u4e48\u76f8\u5f53\u4e8e\u4f1a\u6267\u884c\u591a\u6001\uff0c\u4ece\u800c\u65e0\u6cd5\u8fbe\u5230\u9884\u671f\u7684\u53cc\u4eb2\u59d4\u6d3e\u7684\u76ee\u7684</li> </ul> </li> </ul>"},{"location":"cs-life/program-language/java/multi-thread/ReadWriteLock/","title":"\u8bfb\u5199\u9501","text":"<p>\u91cc\u9762\u5176\u5b9e\u662f\u4e00\u4e2a\u9501<code>sync</code>\u7ee7\u627f\u81ea<code>aqs</code></p> <p>\u9ad8\u4f4d\u662f<code>share count</code>,\u4f4e\u4f4d\u662f <code>exclusiveCount</code></p> <ul> <li>\u83b7\u53d6\u5199\u9501 \uff08\u5f53\u524d\u6709\u8bfb\u9501\u9000\u51fa\uff09\uff0c\uff08\u5f53\u524d\u6709\u5199\u9501\uff0c\u5e76\u4e14\u5360\u7528\u5199\u9501\u7684\u4e0d\u4e3a\u5f53\u524d\u7ebf\u7a0b\uff09\u5219\u9000\u51fa\uff0ccas\u66f4\u65b0<code>state</code>\uff0c\u6267\u884c\u91cd\u5165\u64cd\u4f5c</li> <li>\u83b7\u53d6\u8bfb\u9501\uff0c\u5982\u679c\uff08\u5df2\u7ecf\u6709\u5199\u9501\uff0c\u5e76\u4e14\u5360\u6709\u5199\u9501\u7684\u4e0d\u4e3a\u5f53\u524d\u7ebf\u7a0b\uff09\u5219\u9000\u51fa;</li> <li>\u9501\u964d\u7ea7\u9700\u8981\u9075\u5faa\u5148\u83b7\u53d6\u5199\u9501\u3001\u83b7\u53d6\u8bfb\u9501\u518d\u91ca\u653e\u5199\u9501\u7684\u6b21\u5e8f</li> </ul>"},{"location":"cs-life/program-language/java/multi-thread/ReadWriteLock/#_2","title":"\u9501\u964d\u7ea7","text":"<p>\u5171\u4eab\u6570\u636e\uff0c\u7ebf\u7a0bT1\uff0c\u7ebf\u7a0bT2</p> <p>\u7ebf\u7a0bT1,\u60f3\u8981\u4fee\u6539\u5b8c\u6570\u636e\u540e\u7acb\u5373\u4f7f\u7528\u6570\u636e\uff0c\u5e76\u4e14\u5e0c\u671b\u6574\u4e2a\u64cd\u4f5c\u662f\u539f\u5b50\u7684</p> <p><pre><code>T1\u62ff\u5199\u9501\n  |\n\u66f4\u65b0\u5171\u4eab\u6570\u636e\n  |\nT1\u62ff\u8bfb\u9501\n  |\nT1\u91ca\u653e\u5199\u9501\n  | \n\u8bfb\u53d6\u5171\u4eab\u6570\u636e\n  |\nT1\u91ca\u653e\u8bfb\u9501\n</code></pre> \u5982\u679c\u662fT1\u5355\u7eaf\u62ff\u5199\u9501\u5b8c\u6210\u6574\u4e2a\u6d41\u7a0b\uff0c\u6548\u7387\u4f4e \u5982\u679c\u662fT1\u5199\u9501\u91ca\u653e\u518d\u83b7\u53d6\u8bfb\u9501\uff0c\u53ef\u80fd\u4f1a\u88abT2\u62ff\u5230\u5199\u9501\u66f4\u65b0\u4e86\u5171\u4eab\u6570\u636e\u6570\u636e</p>"},{"location":"cs-life/program-language/java/multi-thread/ReadWriteLock/#reference","title":"reference","text":"<ul> <li>read write lock</li> </ul>"},{"location":"cs-life/program-language/java/multi-thread/ThreadLocal/","title":"ThreadLocal","text":""},{"location":"cs-life/program-language/java/multi-thread/ThreadLocal/#threadlocal","title":"ThreadLocal\u7b14\u8bb0","text":"<p>\u5982\u4e0a\u56fe\u6240\u793a</p> <p>\u6bcf\u4e2aThread \u90fd\u6709\u4e00\u4e2amap,\u91cc\u9762\u5b58\u7740Entry,\u800c<code>key</code>\u662f\u5b9e\u73b0\u4e86<code>WeakReference</code>\u7684<code>ThreadLocal</code>,\u5982\u679c\u4e0d\u662f<code>WeakReference</code>\uff0c\u90a3\u4e48\u53ef\u80fdEntry\u91cc\u9762\u7684key\u548cvalue\u5728\u7ebf\u7a0b\u7ed3\u675f\u624d\u4f1a\u8fdb\u884cGC\uff0c\u4f46\u662f\u7531\u4e8e\u662f<code>WeakReference</code>,\u56e0\u6b64\u5f53Key\u88ab\u8bbe\u7f6e\u4e3a<code>null</code>\u65f6,key\u5c31\u4f1a\u88ab gc \u56de\u6536. <p>\u4f46\u662f\u7531\u4e8e<code>value</code>\u8fd8\u5728<code>currentThread</code>-&gt;<code>Map</code>-&gt;<code>Entry</code>-&gt;<code>value</code>\u4e2d\uff0c\u56e0\u6b64\u5bfc\u81f4\u4e86\u5185\u5b58\u6cc4\u6f0f</p>"},{"location":"cs-life/program-language/java/multi-thread/ThreadLocal/#_1","title":"\u89e3\u51b3\u65b9\u6cd5","text":"<p>hreadLocalMap\u7c7b\u7684\u8bbe\u8ba1\u672c\u8eab\u5df2\u7ecf\u6709\u4e86\u8fd9\u4e00\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u90a3\u5c31\u662f\u5728\u6bcf\u6b21<code>get()</code>/<code>set()</code>/<code>remove()</code>ThreadLocalMap\u4e2d\u7684\u503c\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u6e05\u7406key\u4e3anull\u7684value\u3002\u5982\u6b64\u4e00\u6765\uff0cvalue\u4e5f\u80fd\u88ab\u56de\u6536\u4e86\u3002</p> <p><pre><code>private Entry getEntryAfterMiss(ThreadLocal&lt;?&gt; key, int i, Entry e) {\n    Entry[] tab = table;\n    int len = tab.length;\n\n    while (e != null) {\n        ThreadLocal&lt;?&gt; k = e.get();\n        if (k == key)\n            return e;\n        if (k == null)\n            expungeStaleEntry(i);\n        else\n            i = nextIndex(i, len);\n        e = tab[i];\n    }\n    return null;\n}\n</code></pre> \u4e2d\u7684 <pre><code>if (k == null)\n    expungeStaleEntry(i);\n</code></pre></p> <p>expungeStaleEntry\u4fdd\u8bc1\u4e86key\u4e3anull\u7684\u60c5\u51b5\u4e0bvalue\u4e5f\u7f6e\u4e3anull</p> <pre><code>private int expungeStaleEntry(int staleSlot) {\n    Entry[] tab = table;\n    int len = tab.length;\n\n    // expunge entry at staleSlot\n    tab[staleSlot].value = null;\n    tab[staleSlot] = null;\n    size--;\n\n    // Rehash until we encounter null\n    Entry e;\n    int i;\n    for (i = nextIndex(staleSlot, len);\n         (e = tab[i]) != null;\n         i = nextIndex(i, len)) {\n        ThreadLocal&lt;?&gt; k = e.get();\n        if (k == null) {\n            e.value = null;\n            tab[i] = null;\n            size--;\n        } else {\n            int h = k.threadLocalHashCode &amp; (len - 1);\n            if (h != i) {\n                tab[i] = null;\n\n                // Unlike Knuth 6.4 Algorithm R, we must scan until\n                // null because multiple entries could have been stale.\n                while (tab[h] != null)\n                    h = nextIndex(h, len);\n                tab[h] = e;\n            }\n        }\n    }\n    return i;\n}\n</code></pre>"},{"location":"cs-life/program-language/java/multi-thread/ThreadLocal/#_2","title":"\u9700\u8981\u6ce8\u610f\u7684\u70b9","text":"<ol> <li>\u6bcf\u6b21\u4f7f\u7528\u5b8cThreadLocal\uff0c\u90fd\u8c03\u7528\u5b83\u7684remove()\u65b9\u6cd5\uff0c\u6e05\u9664\u6570\u636e\u3002</li> <li>\u5728\u4f7f\u7528\u7ebf\u7a0b\u6c60\u7684\u60c5\u51b5\u4e0b\uff0c\u6ca1\u6709\u53ca\u65f6\u6e05\u7406ThreadLocal\uff0c\u4e0d\u4ec5\u662f\u5185\u5b58\u6cc4\u6f0f\u7684\u95ee\u9898\uff0c\u66f4\u4e25\u91cd\u7684\u662f\u53ef\u80fd\u5bfc\u81f4\u4e1a\u52a1\u903b\u8f91\u51fa\u73b0\u95ee\u9898\u3002\u6240\u4ee5\uff0c\u4f7f\u7528ThreadLocal\u5c31\u8ddf\u52a0\u9501\u5b8c\u8981\u89e3\u9501\u4e00\u6837\uff0c\u7528\u5b8c\u5c31\u6e05\u7406\u3002</li> </ol>"},{"location":"cs-life/program-language/java/multi-thread/ThreadLocal/#reference","title":"reference","text":"<ul> <li>threadLocal\u6e90\u7801\u89e3\u6790</li> </ul>"},{"location":"cs-life/program-language/java/multi-thread/lock/","title":"Lock","text":""},{"location":"cs-life/program-language/java/multi-thread/lock/#_1","title":"\u5355\u673a\u9501","text":""},{"location":"cs-life/program-language/java/multi-thread/lock/#_2","title":"\u53ef\u91cd\u5165\u9501 / \u4e0d\u53ef\u91cd\u5165","text":"<p>\u4f7f\u7528 <code>ReentrantLock</code> \u83b7\u53d6\u9501\u7684\u65f6\u5019\u4f1a\u5224\u65ad\u5f53\u524d\u7ebf\u7a0b\u662f\u5426\u4e3a\u83b7\u53d6\u9501\u7684\u7ebf\u7a0b\uff0c\u5982\u679c\u662f\u5219\u5c06\u540c\u6b65\u7684\u72b6\u6001 +1 ,\u91ca\u653e\u9501\u7684\u65f6\u5019\u5219\u5c06\u72b6\u6001 -1\u3002\u53ea\u6709\u5c06\u540c\u6b65\u72b6\u6001\u7684\u6b21\u6570\u7f6e\u4e3a 0 \u7684\u65f6\u5019\u624d\u4f1a\u6700\u7ec8\u91ca\u653e\u9501\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/lock/#_3","title":"\u5171\u4eab\u9501 / \u8bfb\u5199\u9501","text":"<p>\u4f7f\u7528 <code>ReentrantReadWriteLock</code> ,\u540c\u65f6\u7ef4\u62a4\u4e00\u5bf9\u9501\uff1a\u8bfb\u9501\u548c\u5199\u9501\u3002\u5f53\u5199\u7ebf\u7a0b\u8bbf\u95ee\u65f6\u5219\u5176\u4ed6\u6240\u6709\u9501\u90fd\u5c06\u963b\u585e\uff0c\u8bfb\u7ebf\u7a0b\u8bbf\u95ee\u65f6\u5219\u4e0d\u4f1a\u3002\u901a\u8fc7\u8bfb\u5199\u9501\u7684\u5206\u79bb\u53ef\u4ee5\u5f88\u5927\u7a0b\u5ea6\u7684\u63d0\u9ad8\u5e76\u53d1\u91cf\u548c\u541e\u5410\u91cf\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/lock/#_4","title":"\u5206\u5e03\u5f0f\u9501","text":"<p>\u4e1a\u754c\u5e38\u7528\u7684\u89e3\u51b3\u65b9\u6848\u901a\u5e38\u662f\u501f\u52a9\u4e8e\u4e00\u4e2a\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u5e76\u5229\u7528\u5b83\u81ea\u8eab\u7684\u6392\u4ed6\u6027\u6765\u8fbe\u5230\u591a\u8fdb\u7a0b\u7684\u4e92\u65a5\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/lock/#_5","title":"\u57fa\u4e8e\u6570\u636e\u5e93","text":"<p>\u53ef\u4ee5\u521b\u5efa\u4e00\u5f20\u8868\uff0c\u5c06\u5176\u4e2d\u7684\u67d0\u4e2a\u5b57\u6bb5\u8bbe\u7f6e\u4e3a<code>\u552f\u4e00\u7d22\u5f15</code>\uff0c\u5f53\u591a\u4e2a\u8bf7\u6c42\u8fc7\u6765\u7684\u65f6\u5019\u53ea\u6709\u65b0\u5efa\u8bb0\u5f55\u6210\u529f\u7684\u8bf7\u6c42\u624d\u7b97\u83b7\u53d6\u5230\u9501\uff0c\u5f53\u4f7f\u7528\u5b8c\u6bd5\u5220\u9664\u8fd9\u6761\u8bb0\u5f55\u7684\u65f6\u5019\u5373\u91ca\u653e\u9501\u3002</p> <p>\u5b58\u5728\u7684\u95ee\u9898:</p> <ul> <li>\u6570\u636e\u5e93\u5355\u70b9\u95ee\u9898\uff0c\u6302\u4e86\u600e\u4e48\u529e\uff1f</li> <li>\u4e0d\u662f\u91cd\u5165\u9501\uff0c\u540c\u4e00\u8fdb\u7a0b\u65e0\u6cd5\u5728\u91ca\u653e\u9501\u4e4b\u524d\u518d\u6b21\u83b7\u5f97\u9501\uff0c\u56e0\u4e3a\u6570\u636e\u5e93\u4e2d\u5df2\u7ecf\u5b58\u5728\u4e86\u4e00\u6761\u8bb0\u5f55\u4e86\u3002</li> <li>\u9501\u662f\u975e\u963b\u585e\u7684\uff0c\u4e00\u65e6 <code>insert</code> \u5931\u8d25\u5219\u4f1a\u7acb\u5373\u8fd4\u56de\uff0c\u5e76\u4e0d\u4f1a\u8fdb\u5165\u963b\u585e\u961f\u5217\u53ea\u80fd\u4e0b\u4e00\u6b21\u518d\u6b21\u83b7\u53d6\u3002</li> <li>\u9501\u6ca1\u6709\u5931\u6548\u65f6\u95f4\uff0c\u5982\u679c\u90a3\u4e2a\u8fdb\u7a0b\u89e3\u9501\u5931\u8d25\u90a3\u5c31\u6ca1\u6709\u8bf7\u6c42\u53ef\u4ee5\u518d\u6b21\u83b7\u53d6\u9501\u4e86\u3002</li> </ul> <p>\u89e3\u51b3\u65b9\u6848:</p> <ul> <li>\u6570\u636e\u5e93\u5207\u6362\u4e3a\u4e3b\u4ece\uff0c\u4e0d\u5b58\u5728\u5355\u70b9\u3002</li> <li>\u5728\u8868\u4e2d\u52a0\u5165\u4e00\u4e2a\u540c\u6b65\u72b6\u6001\u5b57\u6bb5\uff0c\u6bcf\u6b21\u83b7\u53d6\u9501\u7684\u662f\u52a0 1 \uff0c\u91ca\u653e\u9501\u7684\u65f6\u5019<code>-1</code>\uff0c\u5f53\u72b6\u6001\u4e3a 0 \u7684\u65f6\u5019\u5c31\u5220\u9664\u8fd9\u6761\u8bb0\u5f55\uff0c\u5373\u91ca\u653e\u9501\u3002</li> <li>\u975e\u963b\u585e\u7684\u60c5\u51b5\u53ef\u4ee5\u7528 <code>while</code> \u5faa\u73af\u6765\u5b9e\u73b0\uff0c\u5faa\u73af\u7684\u65f6\u5019\u8bb0\u5f55\u65f6\u95f4\uff0c\u8fbe\u5230 X \u79d2\u8bb0\u4e3a\u8d85\u65f6\uff0c<code>break</code>\u3002</li> <li>\u53ef\u4ee5\u5f00\u542f\u4e00\u4e2a\u5b9a\u65f6\u4efb\u52a1\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u626b\u63cf\u627e\u51fa\u591a\u5c11 X \u79d2\u90fd\u6ca1\u6709\u88ab\u5220\u9664\u7684\u8bb0\u5f55\uff0c\u4e3b\u52a8\u5220\u9664\u8fd9\u6761\u8bb0\u5f55\u3002</li> </ul>"},{"location":"cs-life/program-language/java/multi-thread/lock/#redis","title":"\u57fa\u4e8e Redis","text":"<p>\u540c\u65f6\u4f7f\u7528 <code>set key value [EX seconds] [PX milliseconds] [NX|XX]</code> \u5f53key\u4e0d\u5b58\u5728\u624d\u63d2\u5165\uff0c\u8d85\u8fc7<code>PX</code>ms\u5c31\u4f1aremove</p> <p>\u5b58\u5728\u7684\u95ee\u9898</p> <ul> <li>\u963b\u585e(\u4e00\u5b9a\u7684\u65f6\u95f4\u5185\u6ca1\u62ff\u5230\u9501\u4e00\u76f4\u7b49\u5f85)\u5982\u4f55\u5b9e\u73b0</li> <li><code>master</code>down\u6389\uff0c<code>slave</code>\u8fd8\u6ca1\u63a5\u6536\u5230\u6570\u636e\uff0c\u600e\u4e48\u529e</li> <li>\u5f53\u4efb\u52a1\u6267\u884c\u65f6\u95f4\u957f\uff0ckey\u56e0\u8d85\u65f6\u5220\u9664\u4e86\u600e\u4e48\u529e</li> </ul> <p>\u89e3\u51b3\u65b9\u6848</p> <ul> <li>\u7c7b\u4f3cCAS\uff0c\u5faa\u73af\u83b7\u53d6\u9501\u7684\u72b6\u6001\uff0c\u5f53<code>\u8d85\u65f6</code>or<code>\u83b7\u53d6\u5230\u9501</code>\u518d\u9000\u51fa\u5faa\u73af</li> <li>Redlock\u7b97\u6cd5<ul> <li>\u5ba2\u6237\u7aef\u4f1a\u8bb0\u5f55\u6240\u6709\u5b9e\u4f8b\u8fd4\u56de\u52a0\u9501\u6210\u529f\u7684\u65f6\u95f4\uff0c\u53ea\u6709\u4ece\u591a\u534a\u7684\u5b9e\u4f8b\u83b7\u53d6\u5230\u4e86\u9501\uff0c\u4e14\u64cd\u4f5c\u7684\u65f6\u95f4\u8fdc\u5c0f\u4e8e\u5206\u5e03\u5f0f\u9501\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u9501\u624d\u88ab\u4eba\u4e3a\u662f\u6b63\u786e\u83b7\u53d6\u3002</li> </ul> </li> <li>\u83b7\u53d6\u5230\u9501\u540e\uff0c\u65b0\u5f00\u7ebf\u7a0b\u505a\u4fdd\u6d3b\uff0c\u5224\u65ad <code>(key, value)</code>\u7684value\u662f\u5f53\u524d\u8fdb\u7a0b\u751f\u6210\u7684\uff0c\u5982\u82e5\u662f\uff0c\u589e\u52a0<code>expire time</code>, \u5f53<code>\u8d85\u65f6</code>\u6216<code>value\u4e0d\u662f\u5f53\u524d\u8fdb\u7a0b\u751f\u6210\u7684</code>\u5c31\u9000\u51fa\u7ebf\u7a0b\u3002</li> </ul>"},{"location":"cs-life/program-language/java/multi-thread/multi-thread/","title":"Multi thread","text":""},{"location":"cs-life/program-language/java/multi-thread/multi-thread/#_1","title":"\u591a\u7ebf\u7a0b","text":""},{"location":"cs-life/program-language/java/multi-thread/multi-thread/#_2","title":"\u7ebf\u7a0b\u5b89\u5168","text":"<p>\u5f53\u591a\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u67d0\u4e2a\u7c7b\u65f6\uff0c\u8fd9\u4e2a\u7c7b\u59cb\u7ec8\u90fd\u80fd\u8868\u73b0\u51fa\u6b63\u786e\u7684\u884c\u4e3a\uff0c\u90a3\u4e48\u5c31\u79f0\u8fd9\u4e2a\u7c7b\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\u3002</p> <p>\u5f53\u4e3b\u8c03\u7684\u65b9\u6cd5\u8bbf\u95ee\u67d0\u4e2a\u65b9\u6cd5\u65f6\uff0c\u4e0d\u9700\u8981\u505a\u989d\u5916\u7684\u540c\u6b65\u4fdd\u8bc1\u6b63\u786e\u7684\u884c\u4e3a\uff0c\u4e5f\u53ef\u4ee5\u79f0\u4e3a\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/multi-thread/#_3","title":"\u4e0a\u4e0b\u6587\u5207\u6362","text":"<p>\u591a\u7ebf\u7a0b\u5e76\u4e0d\u4e00\u5b9a\u662f\u8981\u5728\u591a\u6838\u5904\u7406\u5668\u624d\u652f\u6301\u7684\uff0c\u5c31\u7b97\u662f\u5355\u6838\u4e5f\u662f\u53ef\u4ee5\u652f\u6301\u591a\u7ebf\u7a0b\u7684\u3002</p> <p>CPU \u901a\u8fc7\u7ed9\u6bcf\u4e2a\u7ebf\u7a0b\u5206\u914d\u4e00\u5b9a\u7684\u65f6\u95f4\u7247\uff0c\u7531\u4e8e\u65f6\u95f4\u975e\u5e38\u77ed\u901a\u5e38\u662f\u51e0\u5341\u6beb\u79d2\uff0c\u6240\u4ee5 CPU \u53ef\u4ee5\u4e0d\u505c\u7684\u5207\u6362\u7ebf\u7a0b\u6267\u884c\u4efb\u52a1\u4ece\u800c\u8fbe\u5230\u4e86\u591a\u7ebf\u7a0b\u7684\u6548\u679c\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/multi-thread/#_4","title":"\u901a\u4fe1\u65b9\u5f0f","text":"<ul> <li>\u7ebf\u7a0b\u95f4\u901a\u4fe1\u4e09\u79cd\u65b9\u5f0f<ul> <li>\u9501</li> <li>\u4fe1\u53f7\u91cf</li> <li>\u4fe1\u53f7</li> </ul> </li> </ul> <p>\u4e0a\u4e0b\u6587\u5207\u6362\u662f\u975e\u5e38\u8017\u6548\u7387\u7684\u3002</p> <p>\u901a\u5e38\u6709\u4ee5\u4e0b\u89e3\u51b3\u65b9\u6848:</p> <ul> <li>\u91c7\u7528\u65e0\u9501\u7f16\u7a0b\uff0c\u6bd4\u5982\u5c06\u6570\u636e\u6309\u7167 <code>Hash(id)</code> \u8fdb\u884c\u53d6\u6a21\u5206\u6bb5\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u5904\u7406\u5404\u81ea\u5206\u6bb5\u7684\u6570\u636e\uff0c\u4ece\u800c\u907f\u514d\u4f7f\u7528\u9501\u3002</li> <li>\u91c7\u7528 CAS(compare and swap) \u7b97\u6cd5\uff0c\u5982 <code>Atomic</code> \u5305\u5c31\u662f\u91c7\u7528 CAS \u7b97\u6cd5\u3002</li> <li>\u5408\u7406\u7684\u521b\u5efa\u7ebf\u7a0b\uff0c\u907f\u514d\u521b\u5efa\u4e86\u4e00\u4e9b\u7ebf\u7a0b\u4f46\u5176\u4e2d\u5927\u90e8\u5206\u90fd\u662f\u5904\u4e8e <code>waiting</code> \u72b6\u6001\uff0c\u56e0\u4e3a\u6bcf\u5f53\u4ece <code>waiting</code> \u72b6\u6001\u5207\u6362\u5230 <code>running</code> \u72b6\u6001\u90fd\u662f\u4e00\u6b21\u4e0a\u4e0b\u6587\u5207\u6362\u3002</li> </ul>"},{"location":"cs-life/program-language/java/multi-thread/multi-thread/#_5","title":"\u4e09\u5927\u7279\u6027","text":"<ul> <li>\u539f\u5b50\u6027</li> <li>\u53ef\u89c1\u6027</li> <li>\u987a\u5e8f\u6027<ul> <li>\u7531\u4e8e\u4e3a\u4e86\u63d0\u5347\u6548\u7387\uff0c\u4f1a\u8fdb\u884c<code>\u6307\u4ee4\u91cd\u6392</code></li> </ul> </li> </ul> <p><code>volatile</code> \u80fd\u4fdd\u8bc1\u53ef\u89c1\u6027\u548c\u987a\u5e8f\u6027\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u539f\u5b50\u6027\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/reentrantlock/","title":"ReentrantLock \u5b9e\u73b0\u539f\u7406","text":"<p>\u4f7f\u7528 <code>synchronized</code> \u6765\u505a\u540c\u6b65\u5904\u7406\u65f6\uff0c\u9501\u7684\u83b7\u53d6\u548c\u91ca\u653e\u90fd\u662f\u9690\u5f0f\u7684\uff0c\u5b9e\u73b0\u7684\u539f\u7406\u662f\u901a\u8fc7\u7f16\u8bd1\u540e\u52a0\u4e0a\u4e0d\u540c\u7684\u673a\u5668\u6307\u4ee4\u6765\u5b9e\u73b0\u3002</p> <p>\u800c <code>ReentrantLock</code> \u5c31\u662f\u4e00\u4e2a\u666e\u901a\u7684\u7c7b\uff0c\u5b83\u662f\u57fa\u4e8e <code>AQS(AbstractQueuedSynchronizer)</code>\u6765\u5b9e\u73b0\u7684\u3002</p> <p>\u662f\u4e00\u4e2a\u91cd\u5165\u9501\uff1a\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u5f97\u4e86\u9501\u4e4b\u540e\u4ecd\u7136\u53ef\u4ee5\u53cd\u590d\u7684\u52a0\u9501\uff0c\u4e0d\u4f1a\u51fa\u73b0\u81ea\u5df1\u963b\u585e\u81ea\u5df1\u7684\u60c5\u51b5\u3002</p> <p><code>AQS</code> \u662f <code>Java</code> \u5e76\u53d1\u5305\u91cc\u5b9e\u73b0\u9501\u3001\u540c\u6b65\u7684\u4e00\u4e2a\u91cd\u8981\u7684\u57fa\u7840\u6846\u67b6\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/reentrantlock/#_1","title":"\u9501\u7c7b\u578b","text":"<p>ReentrantLock \u5206\u4e3a\u516c\u5e73\u9501\u548c\u975e\u516c\u5e73\u9501\uff0c\u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u65b9\u6cd5\u6765\u6307\u5b9a\u5177\u4f53\u7c7b\u578b\uff1a</p> <pre><code>//\u9ed8\u8ba4\u975e\u516c\u5e73\u9501\npublic ReentrantLock() {\n    sync = new NonfairSync();\n}\n\n//\u516c\u5e73\u9501\npublic ReentrantLock(boolean fair) {\n    sync = fair ? new FairSync() : new NonfairSync();\n}\n</code></pre> <p>\u9ed8\u8ba4\u4e00\u822c\u4f7f\u7528\u975e\u516c\u5e73\u9501\uff0c\u5b83\u7684\u6548\u7387\u548c\u541e\u5410\u91cf\u90fd\u6bd4\u516c\u5e73\u9501\u9ad8\u7684\u591a(\u540e\u9762\u4f1a\u5206\u6790\u5177\u4f53\u539f\u56e0)\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/reentrantlock/#_2","title":"\u83b7\u53d6\u9501","text":"<p>\u6574\u4f53\u6d41\u7a0b</p> <ul> <li>\u5982\u679c<code>state=0</code>\uff0c\u90a3\u4e48<code>CAS</code>\u66f4\u65b0<code>state</code>\uff0c\u66f4\u65b0\u6210\u529f\u5c31\u8bbe\u7f6e\u5f53\u524d\u7ebf\u7a0b\u4e3a\u72ec\u5360\u7ebf\u7a0b</li> <li>\u66f4\u65b0\u5931\u8d25\uff0c\u9700\u8981\u5c06\u5f53\u524d\u7ebf\u7a0b\u52a0\u5165\u5230\u7b49\u5f85\u961f\u5217</li> <li>\u7136\u540e\u518d\u4e00\u6b21\u5224\u65ad\u5f53\u524d\u7ebf\u7a0b\u662f\u5426\u80fd\u66f4\u65b0<code>state</code>\uff0c\u4e0d\u80fd\u5219<code>LockSupport.part()</code>\u5c06\u5f53\u524d\u7ebf\u7a0b\u963b\u585e</li> </ul> <p>\u901a\u5e38\u7684\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b:</p> <pre><code>private ReentrantLock lock = new ReentrantLock();\npublic void run() {\n    lock.lock();\n    try {\n        //do bussiness\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    } finally {\n        lock.unlock();\n    }\n}\n</code></pre>"},{"location":"cs-life/program-language/java/multi-thread/reentrantlock/#_3","title":"\u516c\u5e73\u9501\u83b7\u53d6\u9501","text":"<p>\u9996\u5148\u770b\u4e0b\u83b7\u53d6\u9501\u7684\u8fc7\u7a0b\uff1a</p> <pre><code>public void lock() {\n    sync.lock();\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u662f\u4f7f\u7528 <code>sync</code>\u7684\u65b9\u6cd5\uff0c\u800c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u4e00\u4e2a\u62bd\u8c61\u65b9\u6cd5\uff0c\u5177\u4f53\u662f\u7531\u5176\u5b50\u7c7b(<code>FairSync</code>)\u6765\u5b9e\u73b0\u7684\uff0c\u4ee5\u4e0b\u662f\u516c\u5e73\u9501\u7684\u5b9e\u73b0:</p> <pre><code>final void lock() {\n    acquire(1);\n}\n\n//AbstractQueuedSynchronizer \u4e2d\u7684 acquire()\npublic final void acquire(int arg) {\nif (!tryAcquire(arg) &amp;&amp;\n    acquireQueued(addWaiter(Node.EXCLUSIVE), arg))\n    selfInterrupt();\n}\n</code></pre> <p>\u7b2c\u4e00\u6b65\u662f\u5c1d\u8bd5\u83b7\u53d6\u9501(<code>tryAcquire(arg)</code>),\u8fd9\u4e2a\u4e5f\u662f\u7531\u5176\u5b50\u7c7b\u5b9e\u73b0\uff1a</p> <pre><code>protected final boolean tryAcquire(int acquires) {\n    final Thread current = Thread.currentThread();\n    int c = getState();\n    if (c == 0) {\n        if (!hasQueuedPredecessors() &amp;&amp;\n            compareAndSetState(0, acquires)) {\n            setExclusiveOwnerThread(current);\n            return true;\n        }\n    }\n    else if (current == getExclusiveOwnerThread()) {\n        int nextc = c + acquires;\n        if (nextc &lt; 0)\n            throw new Error(\"Maximum lock count exceeded\");\n        setState(nextc);\n        return true;\n    }\n    return false;\n}   \n</code></pre> <p>\u9996\u5148\u4f1a\u5224\u65ad <code>AQS</code> \u4e2d\u7684 <code>state</code> \u662f\u5426\u7b49\u4e8e 0\uff0c0 \u8868\u793a\u76ee\u524d\u6ca1\u6709\u5176\u4ed6\u7ebf\u7a0b\u83b7\u5f97\u9501\uff0c\u5f53\u524d\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u5c1d\u8bd5\u83b7\u53d6\u9501\u3002</p> <p>\u6ce8\u610f: \u5c1d\u8bd5\u4e4b\u524d\u4f1a\u5229\u7528 <code>hasQueuedPredecessors()</code> \u662f\u516c\u5e73\u9501\u52a0\u9501\u65f6\u5224\u65ad\u7b49\u5f85\u961f\u5217\u4e2d\u662f\u5426\u5b58\u5728<code>\u6709\u6548\u8282\u70b9</code>\u7684\u65b9\u6cd5\u3002\u5982\u679c\u8fd4\u56deFalse\uff0c\u8bf4\u660e\u5f53\u524d\u7ebf\u7a0b\u53ef\u4ee5\u4e89\u53d6\u5171\u4eab\u8d44\u6e90\uff1b\u5982\u679c\u8fd4\u56deTrue\uff0c\u8bf4\u660e\u961f\u5217\u4e2d\u5b58\u5728\u6709\u6548\u8282\u70b9\u3002</p> <p>\u5982\u679c\u961f\u5217\u4e2d\u6ca1\u6709\u7ebf\u7a0b\u5c31\u5229\u7528 CAS \u6765\u5c06 AQS \u4e2d\u7684 state \u4fee\u6539\u4e3a1\uff0c\u4e5f\u5c31\u662f\u83b7\u53d6\u9501\uff0c\u83b7\u53d6\u6210\u529f\u5219\u5c06\u5f53\u524d\u7ebf\u7a0b\u7f6e\u4e3a\u83b7\u5f97\u9501\u7684\u72ec\u5360\u7ebf\u7a0b(<code>setExclusiveOwnerThread(current)</code>)\u3002</p> <p>\u5982\u679c <code>state</code> \u5927\u4e8e 0 \u65f6\uff0c\u8bf4\u660e\u9501\u5df2\u7ecf\u88ab\u83b7\u53d6\u4e86\uff0c\u5219\u9700\u8981\u5224\u65ad\u83b7\u53d6\u9501\u7684\u7ebf\u7a0b\u662f\u5426\u4e3a\u5f53\u524d\u7ebf\u7a0b(<code>ReentrantLock</code> \u652f\u6301\u91cd\u5165)\uff0c\u662f\u5219\u9700\u8981\u5c06 <code>state + 1</code>\uff0c\u5e76\u5c06\u503c\u66f4\u65b0\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/reentrantlock/#_4","title":"\u5199\u5165\u961f\u5217","text":"<p>\u5982\u679c <code>tryAcquire(arg)</code> \u83b7\u53d6\u9501\u5931\u8d25\uff0c\u5219\u9700\u8981\u7528 <code>addWaiter(Node.EXCLUSIVE)</code> \u5c06\u5f53\u524d\u7ebf\u7a0b\u5199\u5165\u7b49\u5f85\u961f\u5217\u4e2d\u3002</p> <p>\u5199\u5165\u4e4b\u524d\u9700\u8981\u5c06\u5f53\u524d\u7ebf\u7a0b\u5305\u88c5\u4e3a\u4e00\u4e2a <code>Node</code> \u5bf9\u8c61(<code>addWaiter(Node.EXCLUSIVE)</code>)\u3002</p> <p>AQS \u4e2d\u7684\u961f\u5217\u662f\u7531 Node \u8282\u70b9\u7ec4\u6210\u7684\u53cc\u5411\u94fe\u8868\u5b9e\u73b0\u7684\u3002\u53cc\u5411\u94fe\u8868\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u8282\u70b9\u4e3a\u865a\u8282\u70b9\uff0c\u5176\u5b9e\u5e76\u4e0d\u5b58\u50a8\u4efb\u4f55\u4fe1\u606f\uff0c\u53ea\u662f\u5360\u4f4d\u3002</p> <p>\u5305\u88c5\u4ee3\u7801:</p> <pre><code>private Node addWaiter(Node mode) {\n    Node node = new Node(mode);\n\n    for (;;) {\n        Node oldTail = tail;\n        if (oldTail != null) {\n            node.setPrevRelaxed(oldTail);\n            if (compareAndSetTail(oldTail, node)) {\n                oldTail.next = node;\n                return node;\n            }\n        } else {\n            initializeSyncQueue();\n        }\n    }\n}\n</code></pre> <p>\u9996\u5148\u5224\u65ad\u961f\u5217\u662f\u5426\u4e3a\u7a7a\uff0c\u4e3a\u7a7a\u65f6\u521d\u59cb\u5316\uff0c\u4e0d\u4e3a\u7a7a\u65f6\u5219\u5c06\u5c01\u88c5\u597d\u7684 <code>Node</code> \u5229\u7528 <code>CAS</code> \u5199\u5165\u961f\u5c3e\u3002</p> <p>\u8fd9\u4e2a\u5904\u7406\u903b\u8f91\u5c31\u76f8\u5f53\u4e8e<code>\u81ea\u65cb</code>\u52a0\u4e0a <code>CAS</code> \u4fdd\u8bc1\u4e00\u5b9a\u80fd\u5199\u5165\u961f\u5217\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/reentrantlock/#_5","title":"\u6302\u8d77\u7b49\u5f85\u7ebf\u7a0b","text":"<p>\u5199\u5165\u961f\u5217\u4e4b\u540e\u9700\u8981\u5c06\u5f53\u524d\u7ebf\u7a0b\u6302\u8d77(\u5229\u7528<code>acquireQueued(addWaiter(Node.EXCLUSIVE), arg)</code>)\uff1a</p> <pre><code>final boolean acquireQueued(final Node node, int arg) {\n    boolean failed = true;\n    try {\n        boolean interrupted = false;\n        for (;;) {\n            final Node p = node.predecessor();\n            if (p == head &amp;&amp; tryAcquire(arg)) {\n                setHead(node);\n                p.next = null; // help GC\n                failed = false;\n                return interrupted;\n            }\n            if (shouldParkAfterFailedAcquire(p, node) &amp;&amp;\n                parkAndCheckInterrupt())\n                interrupted = true;\n        }\n    } finally {\n        if (failed)\n            cancelAcquire(node);\n    }\n}\n</code></pre> <p>\u9996\u5148\u4f1a\u6839\u636e <code>node.predecessor()</code> \u83b7\u53d6\u5230\u4e0a\u4e00\u4e2a\u8282\u70b9\u662f\u5426\u4e3a\u5934\u8282\u70b9\uff0c\u5982\u679c\u662f\u5219\u5c1d\u8bd5\u83b7\u53d6\u4e00\u6b21\u9501\uff0c\u83b7\u53d6\u6210\u529f\u5c31\u4e07\u4e8b\u5927\u5409\u4e86\u3002</p> <p>\u5982\u679c\u4e0d\u662f\u5934\u8282\u70b9\uff0c\u6216\u8005\u83b7\u53d6\u9501\u5931\u8d25\uff0c\u5219\u4f1a\u6839\u636e\u4e0a\u4e00\u4e2a\u8282\u70b9\u7684 <code>waitStatus</code> \u72b6\u6001\u6765\u5904\u7406(<code>shouldParkAfterFailedAcquire(p, node)</code>)\u3002</p> <p><code>waitStatus</code> \u7528\u4e8e\u8bb0\u5f55\u5f53\u524d\u8282\u70b9\u7684\u72b6\u6001\uff0c\u5982\u8282\u70b9\u53d6\u6d88\u3001\u8282\u70b9\u7b49\u5f85\u7b49\u3002</p> <p><code>shouldParkAfterFailedAcquire(p, node)</code> \u7528\u6765\u5c06\u8be5<code>node</code>\u7684<code>waitStatus</code>\u8bbe\u7f6e\u4e3a<code>SIGNAL</code>\uff0c\u8bbe\u7f6e\u6210\u529f\u540e\u8c03\u7528 <code>parkAndCheckInterrupt()</code>\u5c06\u7ebf\u7a0b\u6302\u8d77\uff1a</p> <pre><code>private final boolean parkAndCheckInterrupt() {\n    LockSupport.park(this);\n    return Thread.interrupted();\n}\n</code></pre> <p>\u4ed6\u662f\u5229\u7528 <code>LockSupport</code> \u7684 <code>part</code> \u65b9\u6cd5\u6765\u6302\u8d77\u5f53\u524d\u7ebf\u7a0b\u7684\uff0c\u76f4\u5230\u88ab\u5524\u9192\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/reentrantlock/#_6","title":"\u975e\u516c\u5e73\u9501\u83b7\u53d6\u9501","text":"<p>\u516c\u5e73\u9501\u4e0e\u975e\u516c\u5e73\u9501\u7684\u5dee\u5f02\u4e3b\u8981\u5728\u83b7\u53d6\u9501\uff1a</p> <p>\u516c\u5e73\u9501\u5c31\u76f8\u5f53\u4e8e\u4e70\u7968\uff0c\u540e\u6765\u7684\u4eba\u9700\u8981\u6392\u5230\u961f\u5c3e\u4f9d\u6b21\u4e70\u7968\uff0c\u4e0d\u80fd\u63d2\u961f\u3002</p> <p>\u800c\u975e\u516c\u5e73\u9501\u5219\u6ca1\u6709\u8fd9\u4e9b\u89c4\u5219\uff0c\u662f\u62a2\u5360\u6a21\u5f0f\uff0c\u6bcf\u6765\u4e00\u4e2a\u4eba\u4e0d\u4f1a\u53bb\u7ba1\u961f\u5217\u5982\u4f55\uff0c\u76f4\u63a5\u5c1d\u8bd5\u83b7\u53d6\u9501\u3002</p> <p>\u975e\u516c\u5e73\u9501</p> <pre><code>final void lock() {\n    //\u76f4\u63a5\u5c1d\u8bd5\u83b7\u53d6\u9501\n    if (compareAndSetState(0, 1))\n        setExclusiveOwnerThread(Thread.currentThread());\n    else\n        acquire(1);\n}\n</code></pre> <p>\u516c\u5e73\u9501: <pre><code>final void lock() {\n    acquire(1);\n}\n</code></pre></p> <p>\u8fd8\u8981\u4e00\u4e2a\u91cd\u8981\u7684\u533a\u522b\u662f\u5728\u5c1d\u8bd5\u83b7\u53d6\u9501\u65f6<code>tryAcquire(arg)</code>\uff0c\u975e\u516c\u5e73\u9501\u662f\u4e0d\u9700\u8981\u5224\u65ad\u961f\u5217\u4e2d\u662f\u5426\u8fd8\u6709\u5176\u4ed6\u7ebf\u7a0b\uff0c\u4e5f\u662f\u76f4\u63a5\u5c1d\u8bd5\u83b7\u53d6\u9501\uff1a</p> <pre><code>final boolean nonfairTryAcquire(int acquires) {\n    final Thread current = Thread.currentThread();\n    int c = getState();\n    if (c == 0) {\n        //\u6ca1\u6709 !hasQueuedPredecessors() \u5224\u65ad\n        if (compareAndSetState(0, acquires)) {\n            setExclusiveOwnerThread(current);\n            return true;\n        }\n    }\n    else if (current == getExclusiveOwnerThread()) {\n        int nextc = c + acquires;\n        if (nextc &lt; 0) // overflow\n            throw new Error(\"Maximum lock count exceeded\");\n        setState(nextc);\n        return true;\n    }\n    return false;\n}\n</code></pre>"},{"location":"cs-life/program-language/java/multi-thread/reentrantlock/#_7","title":"\u91ca\u653e\u9501","text":"<p>\u6574\u4f53\u6d41\u7a0b:</p> <ul> <li>\u5148\u53bb\u66f4\u65b0<code>state</code>\u72b6\u6001</li> <li>\u5c06\u7b49\u5f85\u961f\u5217\u91cc\u9762\u7684\u7b2c\u4e00\u4e2a<code>waitStatus &lt; 0</code>\u7684\u8282\u70b9\u5524\u9192</li> </ul> <p>\u516c\u5e73\u9501\u548c\u975e\u516c\u5e73\u9501\u7684\u91ca\u653e\u6d41\u7a0b\u90fd\u662f\u4e00\u6837\u7684\uff1a</p> <pre><code>public void unlock() {\n    sync.release(1);\n}\n\npublic final boolean release(int arg) {\n    if (tryRelease(arg)) {\n        Node h = head;\n        if (h != null &amp;&amp; h.waitStatus != 0)\n            //\u5524\u9192\u88ab\u6302\u8d77\u7684\u7ebf\u7a0b\n            unparkSuccessor(h);\n        return true;\n    }\n    return false;\n}\n\n//\u5c1d\u8bd5\u91ca\u653e\u9501\nprotected final boolean tryRelease(int releases) {\n    int c = getState() - releases;\n    if (Thread.currentThread() != getExclusiveOwnerThread())\n        throw new IllegalMonitorStateException();\n    boolean free = false;\n    if (c == 0) {\n        free = true;\n        setExclusiveOwnerThread(null);\n    }\n    setState(c);\n    return free;\n}        \n</code></pre> <p>\u9996\u5148\u4f1a\u5224\u65ad\u5f53\u524d\u7ebf\u7a0b\u662f\u5426\u4e3a\u83b7\u5f97\u9501\u7684\u7ebf\u7a0b\uff0c\u7531\u4e8e\u662f\u91cd\u5165\u9501\u6240\u4ee5\u9700\u8981\u5c06 <code>state</code> \u51cf\u5230 0 \u624d\u8ba4\u4e3a\u5b8c\u5168\u91ca\u653e\u9501\u3002</p> <p>\u91ca\u653e\u4e4b\u540e\u9700\u8981\u8c03\u7528 <code>unparkSuccessor(h)</code> \u6765\u5148\u5c06<code>h</code>\u540e\u9762\u7684<code>waitStatus &lt;= 0</code>\u88ab\u6302\u8d77\u7684\u8282\u70b9\u5524\u9192\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/reentrantlock/#_8","title":"\u603b\u7ed3","text":"<p>\u7531\u4e8e\u516c\u5e73\u9501\u9700\u8981\u5173\u5fc3\u961f\u5217\u7684\u60c5\u51b5\uff0c\u5f97\u6309\u7167\u961f\u5217\u91cc\u7684\u5148\u540e\u987a\u5e8f\u6765\u83b7\u53d6\u9501(\u4f1a\u9020\u6210\u5927\u91cf\u7684\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362)\uff0c\u800c\u975e\u516c\u5e73\u9501\u5219\u6ca1\u6709\u8fd9\u4e2a\u9650\u5236\u3002</p> <p>\u6240\u4ee5\u4e5f\u5c31\u80fd\u89e3\u91ca\u975e\u516c\u5e73\u9501\u7684\u6548\u7387\u4f1a\u88ab\u516c\u5e73\u9501\u66f4\u9ad8\u3002</p> <ul> <li>\u4eceReentrantLock\u7684\u5b9e\u73b0\u770bAQS\u7684\u539f\u7406\u53ca\u5e94\u7528</li> </ul>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/","title":"Synchronized","text":"<p><code>synchronized</code> \u5173\u952e\u5b57\u662f\u89e3\u51b3\u5e76\u53d1\u95ee\u9898\u5e38\u7528\u89e3\u51b3\u65b9\u6848\uff0c\u6709\u4ee5\u4e0b\u4e09\u79cd\u4f7f\u7528\u65b9\u5f0f:</p> <ul> <li>\u540c\u6b65\u666e\u901a\u65b9\u6cd5\uff0c\u9501\u7684\u662f\u5f53\u524d\u5bf9\u8c61\u3002</li> <li>\u540c\u6b65\u9759\u6001\u65b9\u6cd5\uff0c\u9501\u7684\u662f\u5f53\u524d <code>Class</code> \u5bf9\u8c61\u3002</li> <li>\u540c\u6b65\u5757\uff0c\u9501\u7684\u662f <code>()</code> \u4e2d\u7684\u5bf9\u8c61\u3002</li> </ul>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/#_1","title":"\u5b9e\u73b0\u539f\u7406","text":"<p>\u5148\u4e0a\u4ee3\u7801</p> <pre><code>public class SynchronizedMain {\n\n  private final Object object = new Object();\n  private volatile int x = 0;\n  private volatile static int y = 0;\n\n  public static void main(String[] args) {\n  }\n\n  /**\n   * \u540c\u6b65\u666e\u901a\u65b9\u6cd5\n   */\n  synchronized int getMethod() {\n    return ++x;\n  }\n\n  /**\n   * \u540c\u6b65\u9759\u6001\u65b9\u6cd5\n   */\n  static synchronized int staticGetMethod() {\n    return ++y;\n  }\n\n  /**\n   * \u540c\u6b65\u5757\n   */\n  int getObjectMethod() {\n    synchronized (this.object) {\n      x ++;\n    }\n    return x;\n  }\n}\n</code></pre>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/#_2","title":"\u4ee3\u7801\u5757","text":"<p><code>JVM</code> \u662f\u901a\u8fc7\u8fdb\u5165\u3001\u9000\u51fa\u5bf9\u8c61\u76d1\u89c6\u5668( <code>Monitor</code> )\u6765\u5b9e\u73b0\u5bf9\u65b9\u6cd5\u3001\u540c\u6b65\u5757\u7684\u540c\u6b65\u7684\u3002</p> <p>\u5177\u4f53\u5b9e\u73b0\u662f\u5728\u7f16\u8bd1\u4e4b\u540e\u5728\u540c\u6b65\u65b9\u6cd5\u8c03\u7528\u524d\u52a0\u5165\u4e00\u4e2a <code>monitor.enter</code> \u6307\u4ee4\uff0c\u5728\u9000\u51fa\u65b9\u6cd5\u548c\u5f02\u5e38\u5904\u63d2\u5165 <code>monitor.exit</code> \u7684\u6307\u4ee4\u3002</p> <p>\u5176\u672c\u8d28\u5c31\u662f\u5bf9\u4e00\u4e2a\u5bf9\u8c61\u76d1\u89c6\u5668( <code>Monitor</code> )\u8fdb\u884c\u83b7\u53d6\uff0c\u800c\u8fd9\u4e2a\u83b7\u53d6\u8fc7\u7a0b\u5177\u6709\u6392\u4ed6\u6027\u4ece\u800c\u8fbe\u5230\u4e86\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u7684\u76ee\u7684\u3002</p> <p>\u800c\u5bf9\u4e8e\u6ca1\u6709\u83b7\u53d6\u5230\u9501\u7684\u7ebf\u7a0b\u5c06\u4f1a\u963b\u585e\u5230\u65b9\u6cd5\u5165\u53e3\u5904\uff0c\u76f4\u5230\u83b7\u53d6\u9501\u7684\u7ebf\u7a0b <code>monitor.exit</code> \u4e4b\u540e\u624d\u80fd\u5c1d\u8bd5\u7ee7\u7eed\u83b7\u53d6\u9501\u3002</p> <p>\u4f7f\u7528 <code>javap -c Synchronize</code> \u53ef\u4ee5\u67e5\u770b\u7f16\u8bd1\u4e4b\u540e\u7684\u5177\u4f53\u4fe1\u606f\u3002</p> <pre><code>Compiled from \"SynchronizedMain.java\"\npublic class multi_thread.SynchronizedMain {\n  public multi_thread.SynchronizedMain();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.\"&lt;init&gt;\":()V\n       4: aload_0\n       5: new           #2                  // class java/lang/Object\n       8: dup\n       9: invokespecial #1                  // Method java/lang/Object.\"&lt;init&gt;\":()V\n      12: putfield      #3                  // Field object:Ljava/lang/Object;\n      15: aload_0\n      16: iconst_0\n      17: putfield      #4                  // Field x:I\n      20: return\n\n  int getObjectMethod();\n    Code:\n       0: aload_0\n       1: getfield      #3                  // Field object:Ljava/lang/Object;\n       4: dup\n       5: astore_1\n       6: monitorenter\n       7: aload_0\n       8: dup\n       9: getfield      #4                  // Field x:I\n      12: iconst_1\n      13: iadd\n      14: putfield      #4                  // Field x:I\n      17: aload_1\n      18: monitorexit\n      19: goto          27\n      22: astore_2\n      23: aload_1\n      24: monitorexit\n      25: aload_2\n      26: athrow\n      27: aload_0\n      28: getfield      #4                  // Field x:I\n      31: ireturn\n    Exception table:\n       from    to  target type\n           7    19    22   any\n          22    25    22   any\n\n  static {};\n    Code:\n       0: iconst_0\n       1: putstatic     #5                  // Field y:I\n       4: return\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u5728\u65b9\u6cd5<code>getObjectMethod</code>\u540c\u6b65\u5757\u7684\u5165\u53e3\u548c\u51fa\u53e3\u5206\u522b\u6709 <code>monitorenter,monitorexit</code> \u6307\u4ee4\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/#_3","title":"\u65b9\u6cd5","text":"<p>\u5177\u4f53\u5b9e\u73b0\u662f\uff0c\u65b9\u6cd5\u8c03\u7528\u6307\u4ee4\u6765\u8bfb\u53d6\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u4e2d\u7684<code>ACC_SYNCHRONIZED</code>\u6807\u5fd7\uff0c\u5982\u679c\u65b9\u6cd5\u8868\u7ed3\u6784\uff08method_info Structure\uff09\u4e2d\u7684<code>ACC_SYNCHRONIZED</code>\u6807\u5fd7\u88ab\u8bbe\u7f6e\uff0c</p> <p>\u90a3\u4e48\u7ebf\u7a0b\u5728\u6267\u884c\u65b9\u6cd5\u524d\u4f1a\u5148\u53bb\u83b7\u53d6\u5bf9\u8c61\u7684<code>monitor</code>\u5bf9\u8c61\uff0c\u5982\u679c\u83b7\u53d6\u6210\u529f\u5219\u6267\u884c\u65b9\u6cd5\u4ee3\u7801\uff0c\u6267\u884c\u5b8c\u6bd5\u540e\u91ca\u653e<code>monitor</code>\u5bf9\u8c61\u3002</p> <p>\u5982\u679cmonitor\u5bf9\u8c61\u5df2\u7ecf\u88ab\u5176\u5b83\u7ebf\u7a0b\u83b7\u53d6\uff0c\u90a3\u4e48\u5f53\u524d\u7ebf\u7a0b\u88ab\u963b\u585e\u3002</p> <pre><code>static synchronized int staticGetMethod();\n    descriptor: ()I\n    flags: (0x0028) ACC_STATIC, ACC_SYNCHRONIZED\n    Code:\n        stack=2, locals=0, args_size=0\n            0: getstatic     #5                  // Field y:I\n            3: iconst_1\n            4: iadd\n            5: dup\n            6: putstatic     #5                  // Field y:I\n            9: ireturn\n        LineNumberTable:\n        line 29: 0\n\nsynchronized int getMethod();\n    descriptor: ()I\n    flags: (0x0020) ACC_SYNCHRONIZED\n    Code:\n      stack=3, locals=1, args_size=1\n         0: aload_0\n         1: dup\n         2: getfield      #4                  // Field x:I\n         5: iconst_1\n         6: iadd\n         7: dup_x1\n         8: putfield      #4                  // Field x:I\n        11: ireturn\n      LineNumberTable:\n        line 22: 0\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      12     0  this   Lmulti_thread/SynchronizedMain;\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\u65e0\u8bba\u662f\u666e\u901a\u65b9\u6cd5\u8fd8\u662f\u9759\u6001\u65b9\u6cd5 \u5f00\u59cb\u548c\u7ed3\u675f\u7684\u5730\u65b9\u90fd\u6ca1\u6709\u51fa\u73b0<code>monitorenter</code>\u548c<code>monitorexit</code>\u6307\u4ee4\uff0c\u4f46\u662f\u51fa\u73b0<code>ACC_SYNCHRONIZED</code>\u6807\u5fd7\u4f4d\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/#_4","title":"\u9501\u4f18\u5316","text":"<p><code>synchronized</code>  \u5f88\u591a\u90fd\u79f0\u4e4b\u4e3a\u91cd\u91cf\u9501\uff0c<code>JDK1.6</code> \u4e2d\u5bf9 <code>synchronized</code> \u8fdb\u884c\u4e86\u5404\u79cd\u4f18\u5316\uff0c\u4e3a\u4e86\u80fd\u51cf\u5c11\u83b7\u53d6\u548c\u91ca\u653e\u9501\u5e26\u6765\u7684\u6d88\u8017\u5f15\u5165\u4e86<code>\u504f\u5411\u9501</code>\u548c<code>\u8f7b\u91cf\u9501</code>\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/#_5","title":"\u504f\u5411\u9501","text":"<p>\u4e3a\u4e86\u964d\u4f4e\u83b7\u53d6\u9501\u7684\u4ee3\u4ef7\uff0c<code>JDK1.6</code> \u4e4b\u540e\u5f15\u5165\u4e86\u504f\u5411\u9501\u3002</p> <p>\u504f\u5411\u9501\u7684\u7279\u5f81\u662f: \u9501\u4e0d\u5b58\u5728\u591a\u7ebf\u7a0b\u7ade\u4e89\uff0c\u5e76\u4e14\u5e94\u7531\u4e00\u4e2a\u7ebf\u7a0b\u591a\u6b21\u83b7\u5f97\u9501\u3002</p> <p>\u5f53\u7ebf\u7a0b1\u8bbf\u95ee\u4ee3\u7801\u5757\u5e76\u83b7\u53d6\u9501\u5bf9\u8c61\u65f6\uff0c\u4f1a\u5728java\u5bf9\u8c61\u5934\u548c\u6808\u5e27\u4e2d\u8bb0\u5f55\u504f\u5411\u7684\u9501\u7684threadID\uff0c<code>\u504f\u5411\u9501\u4e0d\u4f1a\u4e3b\u52a8\u91ca\u653e\u9501</code>\u3002</p> <p>\u56e0\u6b64\u4ee5\u540e\u7ebf\u7a0b1\u518d\u6b21\u83b7\u53d6\u9501\u7684\u65f6\u5019\uff0c\u9700\u8981<code>\u6bd4\u8f83\u5f53\u524d\u7ebf\u7a0b\u7684threadID\u548cJava\u5bf9\u8c61\u5934\u4e2d\u7684threadID\u662f\u5426\u4e00\u81f4</code>\uff0c\u5982\u679c\u4e00\u81f4\uff08\u8fd8\u662f\u7ebf\u7a0b1\u83b7\u53d6\u9501\u5bf9\u8c61\uff09\uff0c\u5219\u65e0\u9700\u4f7f\u7528CAS\u6765\u52a0\u9501\u3001\u89e3\u9501\uff1b</p> <p>\u5982\u679c\u4e0d\u4e00\u81f4\uff08\u5176\u4ed6\u7ebf\u7a0b\uff0c\u5982\u7ebf\u7a0b2\u8981\u7ade\u4e89\u9501\u5bf9\u8c61\uff0c\u800c\u504f\u5411\u9501\u4e0d\u4f1a\u4e3b\u52a8\u91ca\u653e\u56e0\u6b64\u8fd8\u662f\u5b58\u50a8\u7684\u7ebf\u7a0b1\u7684threadID\uff09\uff0c\u90a3\u4e48\u9700\u8981<code>\u67e5\u770bJava\u5bf9\u8c61\u5934\u4e2d\u8bb0\u5f55\u7684\u7ebf\u7a0b1\u662f\u5426\u5b58\u6d3b</code>\uff0c\u5982\u679c\u6ca1\u6709\u5b58\u6d3b\uff0c\u90a3\u4e48\u9501\u5bf9\u8c61\u88ab\u91cd\u7f6e\u4e3a\u65e0\u9501\u72b6\u6001\uff0c\u5176\u5b83\u7ebf\u7a0b\uff08\u7ebf\u7a0b2\uff09\u53ef\u4ee5\u7ade\u4e89\u5c06\u5176\u8bbe\u7f6e\u4e3a\u504f\u5411\u9501\uff1b</p> <p>\u5982\u679c\u5b58\u6d3b\uff0c\u90a3\u4e48<code>\u7acb\u523b\u67e5\u627e\u8be5\u7ebf\u7a0b\uff08\u7ebf\u7a0b1\uff09\u7684\u6808\u5e27\u4fe1\u606f</code>\uff0c\u5982\u679c\u8fd8\u662f\u9700\u8981\u7ee7\u7eed\u6301\u6709\u8fd9\u4e2a\u9501\u5bf9\u8c61\uff0c\u90a3\u4e48<code>\u6682\u505c\u5f53\u524d\u7ebf\u7a0b1\uff0c\u64a4\u9500\u504f\u5411\u9501\uff0c\u5347\u7ea7\u4e3a\u8f7b\u91cf\u7ea7\u9501</code>\uff0c\u5982\u679c\u7ebf\u7a0b1\u4e0d\u518d\u4f7f\u7528\u8be5\u9501\u5bf9\u8c61\uff0c\u90a3\u4e48\u5c06<code>\u9501\u5bf9\u8c61\u72b6\u6001\u8bbe\u4e3a\u65e0\u9501\u72b6\u6001\uff0c\u91cd\u65b0\u504f\u5411\u65b0\u7684\u7ebf\u7a0b\u3002</code></p> <p>\u504f\u5411\u9501\u53ef\u4ee5\u63d0\u9ad8\u5e26\u6709\u540c\u6b65\u5374\u6ca1\u6709\u7ade\u4e89\u7684\u7a0b\u5e8f\u6027\u80fd\uff0c\u4f46\u5982\u679c\u7a0b\u5e8f\u4e2d\u5927\u591a\u6570\u9501\u90fd\u5b58\u5728\u7ade\u4e89\u65f6\uff0c\u90a3\u504f\u5411\u9501\u5c31\u8d77\u4e0d\u5230\u592a\u5927\u4f5c\u7528\u3002\u53ef\u4ee5\u4f7f\u7528 <code>-XX:-UseBiasedLocking</code> \u6765\u5173\u95ed\u504f\u5411\u9501\uff0c\u5e76\u9ed8\u8ba4\u8fdb\u5165\u8f7b\u91cf\u9501\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/#_6","title":"\u8f7b\u91cf\u9501","text":"<p>\u8f7b\u91cf\u7ea7\u9501\u8003\u8651\u7684\u662f\u7ade\u4e89\u9501\u5bf9\u8c61\u7684\u7ebf\u7a0b\u4e0d\u591a\uff0c\u800c\u4e14\u7ebf\u7a0b\u6301\u6709\u9501\u7684\u65f6\u95f4\u4e5f\u4e0d\u957f\u7684\u60c5\u666f\u3002\u56e0\u4e3a\u963b\u585e\u7ebf\u7a0b\u9700\u8981CPU\u4ece\u7528\u6237\u6001\u8f6c\u5230\u5185\u6838\u6001\uff0c\u4ee3\u4ef7\u8f83\u5927\uff0c\u5982\u679c\u521a\u521a\u963b\u585e\u4e0d\u4e45\u8fd9\u4e2a\u9501\u5c31\u88ab\u91ca\u653e\u4e86\uff0c\u90a3\u8fd9\u4e2a\u4ee3\u4ef7\u5c31\u6709\u70b9\u5f97\u4e0d\u507f\u5931\u4e86\uff0c\u56e0\u6b64\u8fd9\u4e2a\u65f6\u5019\u5c31\u5e72\u8106\u4e0d\u963b\u585e\u8fd9\u4e2a\u7ebf\u7a0b\uff0c\u8ba9\u5b83\u81ea\u65cb\u8fd9\u7b49\u5f85\u9501\u91ca\u653e\u3002</p> <p>\u7ebf\u7a0b1\u83b7\u53d6\u8f7b\u91cf\u7ea7\u9501\u65f6\u4f1a\u5148\u628a\u9501\u5bf9\u8c61\u7684\u5bf9\u8c61\u5934<code>MarkWord</code>\u590d\u5236\u4e00\u4efd\u5230\u7ebf\u7a0b1\u7684\u6808\u5e27\u4e2d\u521b\u5efa\u7684\u7528\u4e8e\u5b58\u50a8\u9501\u8bb0\u5f55\u7684\u7a7a\u95f4\uff08\u79f0\u4e3a<code>DisplacedMarkWord</code>\uff09\uff0c\u7136\u540e\u4f7f\u7528CAS\u628a\u5bf9\u8c61\u5934\u4e2d\u7684\u5185\u5bb9\u66ff\u6362\u4e3a\u7ebf\u7a0b1\u5b58\u50a8\u7684\u9501\u8bb0\u5f55\uff08<code>DisplacedMarkWord</code>\uff09\u7684\u5730\u5740\uff1b</p> <p>\u5982\u679c\u5728\u7ebf\u7a0b1\u590d\u5236\u5bf9\u8c61\u5934\u7684\u540c\u65f6\uff08\u5728\u7ebf\u7a0b1CAS\u4e4b\u524d\uff09\uff0c\u7ebf\u7a0b2\u4e5f\u51c6\u5907\u83b7\u53d6\u9501\uff0c\u590d\u5236\u4e86\u5bf9\u8c61\u5934\u5230\u7ebf\u7a0b2\u7684\u9501\u8bb0\u5f55\u7a7a\u95f4\u4e2d\uff0c\u4f46\u662f\u5728\u7ebf\u7a0b2CAS\u7684\u65f6\u5019\uff0c\u53d1\u73b0\u7ebf\u7a0b1\u5df2\u7ecf\u628a\u5bf9\u8c61\u5934\u6362\u4e86\uff0c\u7ebf\u7a0b2\u7684CAS\u5931\u8d25\uff0c\u90a3\u4e48\u7ebf\u7a0b2\u5c31\u5c1d\u8bd5\u4f7f\u7528\u81ea\u65cb\u9501\u6765\u7b49\u5f85\u7ebf\u7a0b1\u91ca\u653e\u9501\u3002</p> <p>\u4f46\u662f\u5982\u679c\u81ea\u65cb\u7684\u65f6\u95f4\u592a\u957f\u4e5f\u4e0d\u884c\uff0c\u56e0\u4e3a\u81ea\u65cb\u662f\u8981\u6d88\u8017CPU\u7684\uff0c\u56e0\u6b64\u81ea\u65cb\u7684\u6b21\u6570\u662f\u6709\u9650\u5236\u7684\uff0c\u6bd4\u598210\u6b21\u6216\u8005100\u6b21\uff0c\u5982\u679c\u81ea\u65cb\u6b21\u6570\u5230\u4e86\u7ebf\u7a0b1\u8fd8\u6ca1\u6709\u91ca\u653e\u9501\uff0c\u6216\u8005\u7ebf\u7a0b1\u8fd8\u5728\u6267\u884c\uff0c\u7ebf\u7a0b2\u8fd8\u5728\u81ea\u65cb\u7b49\u5f85\uff0c\u8fd9\u65f6\u53c8\u6709\u4e00\u4e2a\u7ebf\u7a0b3\u8fc7\u6765\u7ade\u4e89\u8fd9\u4e2a\u9501\u5bf9\u8c61\uff0c\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\u8f7b\u91cf\u7ea7\u9501\u5c31\u4f1a\u81a8\u80c0\u4e3a\u91cd\u91cf\u7ea7\u9501\u3002\u91cd\u91cf\u7ea7\u9501\u628a\u9664\u4e86\u62e5\u6709\u9501\u7684\u7ebf\u7a0b\u90fd\u963b\u585e\uff0c\u9632\u6b62CPU\u7a7a\u8f6c\u3002</p> <p>\u6ce8\u610f\uff1a\u4e3a\u4e86\u907f\u514d\u65e0\u7528\u7684\u81ea\u65cb\uff0c\u8f7b\u91cf\u7ea7\u9501\u4e00\u65e6\u81a8\u80c0\u4e3a\u91cd\u91cf\u7ea7\u9501\u5c31\u4e0d\u4f1a\u518d\u964d\u7ea7\u4e3a\u8f7b\u91cf\u7ea7\u9501\u4e86\uff1b\u504f\u5411\u9501\u5347\u7ea7\u4e3a\u8f7b\u91cf\u7ea7\u9501\u4e5f\u4e0d\u80fd\u518d\u964d\u7ea7\u4e3a\u504f\u5411\u9501\u3002\u4e00\u53e5\u8bdd\u5c31\u662f\u9501\u53ef\u4ee5\u5347\u7ea7\u4e0d\u53ef\u4ee5\u964d\u7ea7\uff0c\u4f46\u662f\u504f\u5411\u9501\u72b6\u6001\u53ef\u4ee5\u88ab\u91cd\u7f6e\u4e3a\u65e0\u9501\u72b6\u6001</p>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/#_7","title":"\u9501\u7c97\u5316","text":"<p>\u6309\u7406\u6765\u8bf4\uff0c\u540c\u6b65\u5757\u7684\u4f5c\u7528\u8303\u56f4\u5e94\u8be5\u5c3d\u53ef\u80fd\u5c0f\uff0c\u4ec5\u5728\u5171\u4eab\u6570\u636e\u7684\u5b9e\u9645\u4f5c\u7528\u57df\u4e2d\u624d\u8fdb\u884c\u540c\u6b65\uff0c\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u4f7f\u9700\u8981\u540c\u6b65\u7684\u64cd\u4f5c\u6570\u91cf\u5c3d\u53ef\u80fd\u7f29\u5c0f\uff0c\u7f29\u77ed\u963b\u585e\u65f6\u95f4\uff0c\u5982\u679c\u5b58\u5728\u9501\u7ade\u4e89\uff0c\u90a3\u4e48\u7b49\u5f85\u9501\u7684\u7ebf\u7a0b\u4e5f\u80fd\u5c3d\u5feb\u62ff\u5230\u9501\u3002 </p> <p>\u4f46\u662f\u52a0\u9501\u89e3\u9501\u4e5f\u9700\u8981\u6d88\u8017\u8d44\u6e90\uff0c\u5982\u679c\u5b58\u5728\u4e00\u7cfb\u5217\u7684\u8fde\u7eed\u52a0\u9501\u89e3\u9501\u64cd\u4f5c\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e0d\u5fc5\u8981\u7684\u6027\u80fd\u635f\u8017\u3002</p> <p>\u9501\u7c97\u5316\u5c31\u662f<code>\u5c06\u591a\u4e2a\u8fde\u7eed\u7684\u52a0\u9501\u3001\u89e3\u9501\u64cd\u4f5c\u8fde\u63a5\u5728\u4e00\u8d77\uff0c\u6269\u5c55\u6210\u4e00\u4e2a\u8303\u56f4\u66f4\u5927\u7684\u9501\uff0c\u907f\u514d\u9891\u7e41\u7684\u52a0\u9501\u89e3\u9501\u64cd\u4f5c</code>\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/#_8","title":"\u9501\u6d88\u9664","text":"<p>Java\u865a\u62df\u673a\u5728JIT\u7f16\u8bd1\u65f6(\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u5f53\u67d0\u6bb5\u4ee3\u7801\u5373\u5c06\u7b2c\u4e00\u6b21\u88ab\u6267\u884c\u65f6\u8fdb\u884c\u7f16\u8bd1\uff0c\u53c8\u79f0\u5373\u65f6\u7f16\u8bd1)\uff0c\u901a\u8fc7\u5bf9\u8fd0\u884c\u4e0a\u4e0b\u6587\u7684\u626b\u63cf\uff0c\u7ecf\u8fc7\u9003\u9038\u5206\u6790\uff0c\u53bb\u9664\u4e0d\u53ef\u80fd\u5b58\u5728\u5171\u4eab\u8d44\u6e90\u7ade\u4e89\u7684\u9501\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u6d88\u9664\u6ca1\u6709\u5fc5\u8981\u7684\u9501\uff0c\u53ef\u4ee5\u8282\u7701\u6beb\u65e0\u610f\u4e49\u7684\u8bf7\u6c42\u9501\u65f6\u95f4</p>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/#_9","title":"\u5176\u4ed6\u4f18\u5316","text":""},{"location":"cs-life/program-language/java/multi-thread/synchronized/#_10","title":"\u9002\u5e94\u6027\u81ea\u65cb","text":"<p>\u5728\u4f7f\u7528 <code>CAS</code> \u65f6\uff0c\u5982\u679c\u64cd\u4f5c\u5931\u8d25\uff0c<code>CAS</code> \u4f1a\u81ea\u65cb\u518d\u6b21\u5c1d\u8bd5\u3002\u7531\u4e8e\u81ea\u65cb\u662f\u9700\u8981\u6d88\u8017 <code>CPU</code> \u8d44\u6e90\u7684\uff0c\u6240\u4ee5\u5982\u679c\u957f\u671f\u81ea\u65cb\u5c31\u767d\u767d\u6d6a\u8d39\u4e86 <code>CPU</code>\u3002<code>JDK1.6</code>\u52a0\u5165\u4e86\u9002\u5e94\u6027\u81ea\u65cb:</p> <p>\u5982\u679c\u67d0\u4e2a\u9501\u81ea\u65cb\u5f88\u5c11\u6210\u529f\u83b7\u5f97\uff0c\u90a3\u4e48\u4e0b\u4e00\u6b21\u5c31\u4f1a\u51cf\u5c11\u81ea\u65cb\u3002</p>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/#_11","title":"\u5bf9\u8c61\u5934\u5b9e\u9645\u5b58\u50a8","text":"<ul> <li>\u65e0\u9501    \u5bf9\u8c61\u7684hashCode\u3001\u5bf9\u8c61\u5206\u4ee3\u5e74\u9f84\u3001\u662f\u5426\u662f\u504f\u5411\u9501\uff080\uff09</li> <li>\u504f\u5411\u9501   \u504f\u5411\u7ebf\u7a0bID\u3001\u504f\u5411\u65f6\u95f4\u6233\u3001\u5bf9\u8c61\u5206\u4ee3\u5e74\u9f84\u3001\u662f\u5426\u662f\u504f\u5411\u9501\uff081\uff09</li> <li>\u8f7b\u91cf\u7ea7\u9501  \u6307\u5411\u6808\u4e2d\u9501\u8bb0\u5f55\u7684\u6307\u9488</li> <li>\u91cd\u91cf\u7ea7\u9501  \u6307\u5411\u4e92\u65a5\u91cf\uff08\u91cd\u91cf\u7ea7\u9501\uff09\u7684\u6307\u9488</li> </ul>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/#synchronized-reentrantlock","title":"Synchronized \u548c ReentrantLock \u6bd4\u8f83","text":"<ul> <li><code>ReentrantLock</code> \u652f\u6301 \u516c\u5e73/\u975e\u516c\u5e73, <code>Synchronized</code> \u975e\u516c\u5e73</li> <li><code>ReentrantLock</code> \u53ef\u4ee5\u8bbe\u7f6e\u8d85\u65f6</li> <li><code>ReentrantLock</code> \u5b9e\u73b0\u539f\u7406\u4e3a <code>AQS</code>, <code>Synchronized</code> \u5b9e\u73b0\u539f\u7406\u4e3a <code>\u6c47\u7f16\u6307\u4ee4</code> \u548c <code>Monitor</code> \u5bf9\u8c61</li> </ul>"},{"location":"cs-life/program-language/java/multi-thread/synchronized/#reference","title":"Reference","text":"<ul> <li>Java\u5e76\u53d1\u2014\u2014Synchronized\u5173\u952e\u5b57\u548c\u9501\u5347\u7ea7\uff0c\u8be6\u7ec6\u5206\u6790\u504f\u5411\u9501\u548c\u8f7b\u91cf\u7ea7\u9501\u7684\u5347\u7ea7</li> <li>\u4e0d\u53ef\u4e0d\u8bf4\u7684Java\u201c\u9501\u201d\u4e8b</li> </ul>"},{"location":"cs-life/program-language/java/multi-thread/thread-exception/","title":"\u7ebf\u7a0b\u8fd0\u884c\u5f02\u5e38","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff0c\u5bf9\u7ebf\u7a0b\u5b58\u5728\u7684\u5f02\u5e38\u8fdb\u884ctry catch</p> <pre><code>Thread thread = new Thread(new Task());\nthread.setUncaughtExceptionHandler(new ExceptionHandler());\n</code></pre>"},{"location":"cs-life/program-language/java/thread-pool/thread-pool/","title":"\u7ebf\u7a0b\u6c60","text":"<p>\u7ebf\u7a0b\u6c60\u7684\u672c\u8d28\u662f\u5bf9\u4efb\u52a1\u548c\u7ebf\u7a0b\u7684\u7ba1\u7406\uff0c\u800c\u505a\u5230\u8fd9\u4e00\u70b9\u6700\u5173\u952e\u7684\u601d\u60f3\u5c31\u662f\u5c06\u4efb\u52a1\u548c\u7ebf\u7a0b\u4e24\u8005\u89e3\u8026\uff0c\u4e0d\u8ba9\u4e24\u8005\u76f4\u63a5\u5173\u8054\uff0c\u624d\u53ef\u4ee5\u505a\u540e\u7eed\u7684\u5206\u914d\u5de5\u4f5c\u3002</p> <p>\u7ebf\u7a0b\u6c60\u4e2d\u662f\u4ee5\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u6a21\u5f0f\uff0c\u901a\u8fc7\u4e00\u4e2a\u963b\u585e\u961f\u5217\u6765\u5b9e\u73b0\u7684\u3002\u963b\u585e\u961f\u5217\u7f13\u5b58\u4efb\u52a1\uff0c\u5de5\u4f5c\u7ebf\u7a0b\u4ece\u963b\u585e\u961f\u5217\u4e2d\u83b7\u53d6\u4efb\u52a1\u3002</p>"},{"location":"cs-life/program-language/java/thread-pool/thread-pool/#corepoolsize-maxpoolsize","title":"\u4e3a\u4ec0\u4e48\u5148corePoolSize, \u7136\u540e\u961f\u5217\uff0c\u6700\u540emaxPoolSize","text":"<p>\u7ebf\u7a0b\u6c60\u521b\u5efa\u7ebf\u7a0b\u9700\u8981\u83b7\u53d6mainlock\u8fd9\u4e2a\u5168\u5c40\u9501\uff0c\u5f71\u54cd\u5e76\u53d1\u6548\u7387\uff0c\u963b\u585e\u961f\u5217\u53ef\u4ee5\u5f88\u597d\u7684\u7f13\u51b2\u3002</p> <p>\u53e6\u5916\u4e00\u65b9\u9762\uff0c\u5982\u679c\u65b0\u4efb\u52a1\u7684\u5230\u8fbe\u901f\u7387\u8d85\u8fc7\u4e86\u7ebf\u7a0b\u6c60\u7684\u5904\u7406\u901f\u7387\uff0c\u90a3\u4e48\u65b0\u5230\u6765\u7684\u8bf7\u6c42\u5c06\u7d2f\u52a0\u8d77\u6765\uff0c\u8fd9\u6837\u7684\u8bdd\u5c06\u8017\u5c3d\u8d44\u6e90\u3002</p>"},{"location":"cs-life/program-language/python/env/","title":"python env","text":"<p><code>pyenv</code> \u662f\u4fdd\u8bc1\u53ef\u4ee5\u5207\u6362python\u7248\u672c\u4ee5\u53ca\u5bf9\u5e94\u7684pip</p> <p><code>virtualenv</code>\u662f\u7528\u6765\u7ba1\u7406python\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4e0d\u540c\u7684project\u4f9d\u8d56\u4e0d\u540c\u7684package\u7684version</p>"},{"location":"cs-life/program-language/python/env/#pyenv","title":"pyenv","text":"<pre><code>pyenv install ${version}\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 # \u5982 pyenv install 3.6.3\npyenv versions\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 # \u5217\u51fa\u6240\u6709\u7684\u672c\u5730\u7684python\u7248\u672c\npyenv global 3.6.3\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0# \u8bbe\u7f6e\u5168\u5c40 python\u73af\u5883\n</code></pre>"},{"location":"cs-life/program-language/python/env/#virtualenv","title":"virtualenv","text":"<pre><code>virtualenv ${name}\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 # \u521b\u5efa\nsource\u00a0 \u00a0${name}/bin/activate\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0# \u4f7f\u865a\u62df\u73af\u5883\u751f\u6548\npip list --format=columns  # \u67e5\u770bpip\u5305\ndeactivate                 # \u9000\u51fa\n</code></pre>"},{"location":"cs-life/reverse/game_hacks/","title":"\u6e38\u620f\u5916\u6302\u539f\u7406\u8c03\u7814","text":""},{"location":"cs-life/reverse/game_hacks/#_2","title":"\u80cc\u666f","text":"<p>\u5bf9\u6e38\u620f\u7684\u9006\u5411\u6bd4\u8f83\u611f\u5174\u8da3\uff0c\u60f3\u8981\u63a2\u7d22\u300c\u5916\u6302\u300d\u662f\u5982\u4f55\u5f00\u53d1\u51fa\u6765\u7684</p> <p>\u611f\u8c22\u7f51\u53cb\u300c\u6625\u5b9d\u300d\u81ea\u5236\u7684\u300cDNF 60\u7248\u672c\u300d\uff0c\u8ba9\u6211\u7b80\u5355\u63a2\u7d22\u4e86\u627e\u5230\u6e38\u620f\u76f8\u5bf9\u7b80\u5355\u7684\u57fa\u8d28</p>"},{"location":"cs-life/reverse/game_hacks/#_3","title":"\u5bfb\u627e\u57fa\u8d28","text":"<p>\u4ee5\u4e0b\u4e3a\u8be2\u95eegpt\u7684\u56de\u7b54</p>"},{"location":"cs-life/reverse/game_hacks/#_4","title":"\u500d\u653b","text":"<p>\u5b9e\u73b0\u201c\u500d\u653b\u201d\u529f\u80fd\u5927\u7ea6\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>\u627e\u5230\u4ee3\u8868\u653b\u51fb\u529b\u7684\u5185\u5b58\u5730\u5740\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u53ef\u80fd\u6d89\u53ca\u5230\u4e00\u4e9b\u5185\u5b58\u67e5\u627e\u548c\u7f16\u8f91\u7684\u6b65\u9aa4\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u50cfCheat Engine\u8fd9\u6837\u7684\u5185\u5b58\u626b\u63cf\u5de5\u5177\u6765\u5e2e\u52a9\u4f60\u627e\u5230\u8fd9\u4e2a\u5730\u5740\u3002\u57fa\u672c\u7684\u505a\u6cd5\u5c31\u662f\u5728\u6e38\u620f\u4e2d\u6539\u53d8\u4f60\u7684\u653b\u51fb\u529b\uff0c\u7136\u540e\u5728Cheat Engine\u4e2d\u641c\u7d22\u6709\u53d8\u52a8\u7684\u6570\u503c\u3002\u91cd\u590d\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u76f4\u5230\u627e\u5230\u4ee3\u8868\u653b\u51fb\u529b\u7684\u5185\u5b58\u5730\u5740\u3002</li> <li>\u4fee\u6539\u8fd9\u4e2a\u5185\u5b58\u5730\u5740\u7684\u503c\u3002\u4e00\u65e6\u627e\u5230\u4e86\u6b63\u786e\u7684\u5185\u5b58\u5730\u5740\uff0c\u4f60\u5c31\u53ef\u4ee5\u4fee\u6539\u5176\u4e2d\u5b58\u50a8\u7684\u6570\u503c\u3002\u5c06\u539f\u59cb\u653b\u51fb\u529b\u4e58\u4ee5\u4e00\u4e2a\u500d\u6570\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0\u201c\u500d\u653b\u201d\u3002</li> </ol>"},{"location":"cs-life/reverse/game_hacks/#_5","title":"\u5982\u4f55\u627e\u5230\u6e38\u620f\u7684\u57fa\u8d28\uff1f","text":"<p>\u627e\u5230\u6e38\u620f\u7684\u57fa\u5740\u901a\u5e38\u6d89\u53ca\u5230\u4e00\u4e9b\u5185\u5b58\u7f16\u8f91\u548c\u8c03\u8bd5\u5de5\u5177\u3002</p> <p>\u8fd9\u91cc\u4ee5CE(Cheat Engine)\u4e3a\u4f8b\uff0c\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u8fd0\u884c\u4f60\u60f3\u627e\u57fa\u5740\u7684\u6e38\u620f\uff08\u786e\u4fdd\u6e38\u620f\u662f\u8fd0\u884c\u72b6\u6001\uff09\u3002\u6253\u5f00CE\u3002</li> <li>\u5728CE\u7684\u5de5\u5177\u680f\u4e0a\u9009\u62e9\u201c\u9009\u5b9a\u8fdb\u7a0b\u5217\u8868\u201d\uff0c\u627e\u5230\u4f60\u7684\u6e38\u620f\u8fdb\u7a0b\uff0c\u901a\u5e38\u5b83\u7684\u540d\u5b57\u4e0e\u6e38\u620f\u76f8\u540c\u6216\u8005\u5f88\u76f8\u4f3c\uff0c\u9009\u62e9\u5b83\u4e4b\u540e\u70b9\u51fb\u201c\u6253\u5f00\u201d\u3002</li> <li>\u56de\u5230\u6e38\u620f\uff0c\u627e\u4e00\u4e2a\u6570\u503c\u4f60\u80fd\u4fee\u6539\u7684\u5c5e\u6027\uff0c\u6bd4\u5982\u751f\u547d\u503c\u3001\u91d1\u94b1\u7b49\u3002\u8bb0\u4e0b\u8fd9\u4e2a\u6570\u503c\u3002</li> <li>\u5207\u56deCE\uff0c\u628a\u8fd9\u4e2a\u6570\u503c\u8f93\u5165\u5230\"\u503c\"\u7684\u6587\u672c\u6846\u4e2d\uff0c\u70b9\u51fb\u201c\u9996\u6b21\u626b\u63cf\u201d\u3002\u53ef\u80fd\u4f1a\u627e\u5230\u5927\u91cf\u7ed3\u679c\u3002</li> <li>\u56de\u5230\u6e38\u620f\uff0c\u6539\u53d8\u90a3\u4e2a\u6570\u503c\uff08\u6bd4\u5982\u66f4\u6539\u91d1\u5e01\u6570\u6216\u751f\u547d\u503c\u7b49\uff09\u3002</li> <li>\u5207\u56deCE\uff0c\u5c06\u65b0\u7684\u6570\u503c\u8f93\u5165\u5230\"\u503c\"\u7684\u6587\u672c\u6846\u4e2d\uff0c\u70b9\u51fb\u201c\u4e0b\u6b21\u626b\u63cf\u201d\u3002\u7ee7\u7eed\u4e0a\u8ff0\u7e41\u7410\u7684\u8fc7\u7a0b\uff0c\u76f4\u5230\u7b5b\u9009\u51fa\u4e00\u4e2a\u6216\u51e0\u4e2a\u5730\u5740\u3002</li> <li>\u8fd9\u4e9b\u5730\u5740\u5c31\u662f\u4f60\u8981\u627e\u7684\u57fa\u5740\u3002\u4f60\u53ef\u4ee5\u5728CE\u4e2d\u4fee\u6539\u6570\u503c\uff0c\u7136\u540e\u56de\u5230\u6e38\u620f\u4e2d\u68c0\u67e5\u662f\u5426\u751f\u6548\uff08\u5982\u91d1\u5e01\u6570\u91cf\u7684\u589e\u52a0\u6216\u751f\u547d\u503c\u7684\u589e\u52a0\uff09\uff0c\u4ece\u800c\u9a8c\u8bc1\u8fd9\u4e2a\u5730\u5740\u662f\u5426\u6b63\u786e\u3002 \u8fd9\u53ea\u662f\u4e00\u79cd\u6700\u57fa\u7840\u7684\u5bfb\u627e\u57fa\u5740\u7684\u65b9\u6cd5\u3002</li> </ol>"},{"location":"cs-life/reverse/game_hacks/#_6","title":"\u6709\u6ca1\u6709\u4e00\u4e9b\u66f4\u9ad8\u7ea7\u7684\u65b9\u6cd5\u53ef\u4ee5\u66f4\u5feb\u5730\u627e\u5230\u6e38\u620f\u7684\u57fa\u5740\uff1f","text":"<p>\u627e\u5230\u6e38\u620f\u57fa\u5740\u7684\u9ad8\u7ea7\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u63d0\u5230\u7684\u53ea\u60f3\u91cd\u70b9\u8bf4\u660e\u4e00\u4e9b\u601d\u8def\u548c\u6280\u5de7\uff0c\u56e0\u4e3a\u5177\u4f53\u4f7f\u7528\u7684\u5de5\u5177\u548c\u64cd\u4f5c\u53ef\u80fd\u56e0\u6e38\u620f\u548c\u7cfb\u7edf\u4e0d\u540c\u800c\u6709\u6240\u4e0d\u540c\u3002</p> <ol> <li>\u6307\u9488\u626b\u63cf: \u5982\u679c\u6e38\u620f\u57fa\u5740\u4f1a\u53d8\u52a8\uff0c\u6211\u4eec\u9700\u8981\u7528\u5230CE\u7684\u6307\u9488\u626b\u63cf\u529f\u80fd\u3002\u4e00\u5f00\u59cb\u7684\u6b65\u9aa4\u4e0e\u57fa\u7840\u7248\u672c\u76f8\u540c\uff0c\u4f46\u662f\u5728\u627e\u5230\u5019\u9009\u5730\u5740\u540e\uff0c\u4f60\u8981\u5bf9\u5176\u8fdb\u884c\u6307\u9488\u626b\u63cf\u4ee5\u627e\u5230\u6307\u5411\u8fd9\u4e2a\u5730\u5740\u7684\u6307\u9488\uff0c\u8fd9\u4e2a\u6307\u9488\u5c31\u662f\u57fa\u5740\u3002</li> <li>\u4f7f\u7528\u65ad\u70b9\u8c03\u8bd5: \u5148\u8ba9\u4f60\u7684\u6570\u503c\u53d1\u751f\u53d8\u5316\uff0c\u7136\u540e\u5728CE\u4e2d\u8bbe\u5b9a\u65ad\u70b9\uff0c\u770b\u54ea\u4e9b\u6307\u4ee4\u66f4\u6539\u4e86\u8be5\u6570\u636e\u3002\u8fd9\u6837\u53ef\u4ee5\u4ece\u540e\u7aef\u627e\u5230\u8d1f\u8d23\u66f4\u6539\u6570\u636e\u7684\u51fd\u6570\uff0c\u8fdb\u4e00\u6b65\u89c2\u5bdf\u5176\u884c\u4e3a\uff0c\u4ee5\u786e\u5b9a\u662f\u5426\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u8fd9\u4e2a\u51fd\u6570\u6216\u8005\u76f8\u5173\u4ee3\u7801\u6765\u8fbe\u5230\u6211\u4eec\u7684\u76ee\u7684\u3002</li> <li>\u6570\u636e\u7c7b\u578b\u548c\u6570\u7ec4\u7684\u626b\u63cf: CE\u53ef\u4ee5\u626b\u63cf\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5305\u62ec\u5b57\u7b26\u4e32\uff0c\u6d6e\u70b9\u6570\u548c\u6570\u7ec4\u7b49\u3002\u8fd9\u79cd\u7c7b\u578b\u7684\u626b\u63cf\u5728\u9762\u5bf9\u590d\u6742\u7684\u60c5\u51b5\u6216\u8005\u65e0\u6cd5\u76f4\u63a5\u7684\u53c2\u6570\u65f6\u5019\u5f88\u6709\u7528\u3002</li> </ol>"},{"location":"cs-life/reverse/game_hacks/#ce","title":"\u5982\u4f55\u4f7f\u7528CE\u8fdb\u884c\u6307\u9488\u626b\u63cf\uff1f","text":"<p>\u4f7f\u7528CE\u8fdb\u884c\u6307\u9488\u626b\u63cf\u8fc7\u7a0b\u6bd4\u8f83\u590d\u6742\uff0c\u9700\u8981\u4e00\u4e9b\u57fa\u672c\u7684\u6e05\u695a\u548c\u7406\u89e3\u3002\u4e0d\u8fc7\u6211\u4f1a\u8be6\u7ec6\u89e3\u91ca\u6b64\u8fc7\u7a0b\u3002\u4e0b\u9762\u662f\u4e00\u822c\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u8fd0\u884c\u4f60\u7684\u6e38\u620f\uff0c\u7136\u540e\u6253\u5f00CE\u3002</li> <li>\u5728CE\u7684\u83dc\u5355\u4e0a\u9009\u62e9\u201c\u9009\u5b9a\u8fdb\u7a0b\u201d\uff0c\u627e\u5230\u5e76\u70b9\u51fb\u4f60\u7684\u6e38\u620f\u8fdb\u7a0b\u3002</li> <li>\u5728\u6e38\u620f\u4e2d\u627e\u4e00\u4e2a\u6570\u503c\u5e76\u6539\u53d8\u5b83\uff0c\u5728CE\u4e2d\u4f7f\u7528\u201c\u626b\u63cf\u201d\u6765\u786e\u8be0\u5b9a\u6570\u503c\u6240\u5728\u7684\u5730\u5740\u3002</li> <li>\u5f53\u4f60\u627e\u5230\u8be5\u5730\u5740\u540e\uff0c\u5728CE\u7684\u5730\u5740\u5217\u8868\u4e2d\u70b9\u51fb\u53f3\u952e\uff0c\u9009\u62e9\u201c\u67e5\u627e\u4ec0\u4e48\u8bfb\u53d6/\u5199\u5165\u8fd9\u4e2a\u5730\u5740\u2026\u201d\u3002\u6b64\u65f6\u4f1a\u5f39\u51fa\u4e00\u4e2a\u65b0\u7684\u7a97\u53e3\u3002</li> <li>\u5728\u5f00\u542f\u540e\u7684\u7a97\u53e3\u4e2d\uff0c\u9009\u62e9\u6307\u5411\u8be5\u5730\u5740\u7684\u4e00\u4e2a\u6307\u4ee4\u6216\u7ebf\u7a0b\uff0c\u4e00\u822c\u9009\u62e9\u5199\u5165\u6307\u4ee4\u66f4\u597d\uff0c\u7136\u540e\u70b9\u51fb\u201c\u663e\u793a\u4e2d\u65ad\u6240\u5728\u4f4d\u7f6e\u201d\u6309\u94ae\u3002</li> <li>\u63d0\u793a\u65b0\u7a97\u53e3\uff0c\u8fd9\u662fCE\u7684\u53cd\u6c47\u7f16\u7a97\u53e3\u3002\u5728\u8fd9\u4e2a\u7a97\u53e3\u4e2d\uff0c\u70b9\u51fb\u53f3\u952e\uff0c\u7136\u540e\u9009\u62e9\"\u67e5\u627e\u6307\u9488\u626b\u63cf\u9002\u7528\u7684\u6307\u9488\"</li> <li>\u5728\u5f39\u51fa\u7684\u201c\u6307\u9488\u626b\u63cf\u201d\u7a97\u53e3\u4e2d\uff0c\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u6700\u5c0f\u548c\u6700\u5927\u7684\u504f\u79fb\u91cf\u548c\u5c42\u7ea7\u3002\u626b\u63cf\u5b8c\u6bd5\u540e\uff0cCE\u5c06\u663e\u793a\u4e00\u4e2a\u6216\u591a\u4e2a\u4e0e\u4e4b\u524d\u5730\u5740\u76f8\u5bf9\u5e94\u7684\u6307\u9488\u5730\u5740\u3002</li> </ol> <p>\u4ee5\u4e0a\u5c31\u662f\u4f7f\u7528CE\u8fdb\u884c\u6307\u9488\u626b\u63cf\u7684\u6b65\u9aa4\u3002\u8fd9\u4e2a\u6280\u672f\u901a\u5e38\u7528\u4e8e\u67e5\u627e\u52a8\u6001\u5730\u5740\uff0c\u5373\u6bcf\u6b21\u6e38\u620f\u542f\u52a8\u65f6\u90fd\u4f1a\u6539\u53d8\u7684\u5730\u5740\u3002\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6307\u9488\u626b\u63cf\u53ef\u80fd\u4f1a\u5360\u7528\u5927\u91cf\u7684\u8ba1\u7b97\u673a\u8d44\u6e90\uff0c\u56e0\u6b64\u4f60\u9700\u8981\u6709\u8010\u5fc3\u7b49\u5f85\u3002</p>"},{"location":"cs-life/reverse/game_hacks/#ceactive","title":"CE\u91cc\u9762\u5bf9\u57fa\u5740\u5bf9\u5e94\u7684\u503c\u8fdb\u884cactive\uff0c\u4e3a\u4ec0\u4e48\u6e38\u620f\u91cc\u7684\u6570\u636e\u5c31\u4e0d\u53d8\u4e86\uff1f","text":"<p>\u5728CE\u4e2d\uff0c\u6fc0\u6d3b\uff08Active\uff09\u4e00\u4e2a\u5730\u5740\u662f\u6307\u5c06\u6b64\u5730\u5740\u4e0a\u9501\uff0c\u4f7f\u5f97\u5176\u6570\u503c\u4e0d\u4f1a\u53d1\u751f\u6539\u53d8\u3002\u8fd9\u901a\u5e38\u7528\u4e8e\u5b9e\u73b0\u65e0\u9650\u751f\u547d\u3001\u65e0\u9650\u5f39\u836f\u7b49\u6548\u679c\u3002\u5177\u4f53\u6b65\u9aa4\u4e3a\uff1a</p> <ol> <li>\u626b\u63cf\u5230\u4f60\u60f3\u8981\u9501\u5b9a\u7684\u6570\u503c\u7684\u5730\u5740\u540e\uff0c\u70b9\u51fb\u590d\u9009\u6846 \"Active\"\uff0c\u8fd9\u5c06\u9501\u5b9a\u6b64\u5730\u5740\u7684\u6570\u503c\u3002</li> <li>\u5373\u4f7f\u6e38\u620f\u5b9e\u9645\u4e0a\u5728\u4fee\u6539\u8fd9\u4e2a\u503c\uff0c\u4f46\u5728CE\u7684\u5185\u5b58\u89c6\u56fe\u4e2d\u8fd9\u4e2a\u5730\u5740\u7684\u6570\u503c\u4f9d\u65e7\u7ef4\u6301\u4e0d\u53d8\u3002\u8fd9\u662f\u56e0\u4e3aCE\u6301\u7eed\u5c06\u6b64\u6570\u503c\u4fee\u6539\u56de\u4f60\u9501\u5b9a\u65f6\u7684\u6570\u503c\uff0c\u6240\u4ee5\u4f60\u5728\u6e38\u620f\u4e2d\u770b\u5230\u7684\u662f\u4e00\u4e2a\u6052\u5b9a\u4e0d\u53d8\u7684\u6570\u503c\u3002</li> </ol> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u64cd\u4f5c\u4e0d\u4e00\u5b9a\u5728\u6240\u6709\u7684\u6e38\u620f\u4e2d\u90fd\u80fd\u6210\u529f\uff0c\u56e0\u4e3a\u6709\u4e9b\u6e38\u620f\u4f1a\u6709\u53cd\u4f5c\u5f0a\u673a\u5236\uff0c\u5bf9\u4e00\u4e9b\u5173\u952e\u6570\u636e\u7684\u4fee\u6539\u9891\u7387\u3001\u4fee\u6539\u65b9\u5f0f\u751a\u81f3\u8fde\u7eed\u4fee\u6539\u7684\u6570\u91cf\u8fdb\u884c\u68c0\u6d4b\u3002\u6b64\u5916\uff0c\u8fd9\u79cd\u64cd\u4f5c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6e38\u620f\u4e0d\u7a33\u5b9a\u6216\u8005\u7981\u6b62\u4f60\u7684\u8d26\u6237\u3002</p>"},{"location":"cs-life/system_design/deep/","title":"\u4e1a\u52a1\u5f00\u53d1\u7684\u6280\u672f\u6210\u957f\u4e4b\u8def","text":""},{"location":"cs-life/system_design/deep/#_2","title":"\u5b66\u4e60\u73af\u5883","text":"<ul> <li>\u963f\u91cc\u4e91\u6548</li> <li></li> </ul>"},{"location":"cs-life/system_design/deep/#_3","title":"\u4ee3\u7801\u751f\u6210\u5668","text":"<ul> <li>request, response -&gt; vo \uff081\u5bf9\u591a\uff09</li> <li>vo -&gt; entity<ul> <li>entity\u901a\u8fc7creator\uff0cupdater\u6765\u4fee\u6539\u6570\u636e\uff0c\u907f\u514d\u72b6\u6001\u88ab\u4fee\u6539\u9519</li> <li>creator updater \u662f\u9488\u5bf9\u5b9e\u9645\u7684\u6570\u636e\u5e93\u8868\u7684\uff0c\u5b9e\u9645\u4e2d\u6570\u636e\u5e93\u8bbe\u8ba1\u7684\u67d0\u4e9b\u5b57\u6bb5\u662f\u4e0d\u9700\u8981\u521b\u5efa\u7684\uff0c\u6bd4\u5982\u72b6\u6001\u503c\uff0c\u6709\u7684\u662f\u4e0d\u80fd\u4fee\u6539\u7684\u3002\u5c06\u6765\u52a0\u51cf\u5b57\u6bb5\u5e0c\u671b\u8fd9\u4e9b\u52a8\u6001\u53bb\u53d8\u5316\uff0c\u6240\u4ee5\u8fd9\u4e2a\u53ea\u662f\u4e3a\u4e86\u4e0d\u7528\u6bcf\u6b21\u81ea\u5df1\u90fd\u53bb\u6539\u3002 \u53ef\u4ee5\u53bb\u6389\u8fd9\u4e2a\u4e0d\u751f\u6210\u3002\u81ea\u5df1\u624b\u5199\uff0c\u9762\u5bf9\u53d8\u5316\u7684\u65f6\u5019\u9700\u8981\u600e\u4e48\u505a\uff0c\u8fd9\u4e2a\u5c31\u662f\u89e3\u51b3\u90a3\u4e2a\u95ee\u9898\u7684\u3002</li> </ul> </li> <li>javapoet, mapstruct, lombok</li> </ul>"},{"location":"cs-life/system_design/deep/#_4","title":"\u57fa\u7840\u5c42","text":"<ul> <li>\u6743\u9650\u9274\u6743\uff0c\u94fe\u8def\u8ffd\u8e2a\uff0c\u65e5\u5fd7\u6536\u96c6\uff0c\u6253\u70b9\u76d1\u63a7</li> <li>\u64cd\u4f5c\u5ba1\u8ba1</li> <li>\u6587\u4ef6\u5b58\u50a8</li> <li>\u9650\u6d41\uff0c\u7194\u65ad\uff0c\u964d\u7ea7</li> </ul>"},{"location":"cs-life/system_design/deep/#_5","title":"\u670d\u52a1","text":""},{"location":"cs-life/system_design/deep/#_6","title":"\u8d44\u4ea7\u7ba1\u7406","text":"<p>\u901a\u8fc7\u4e8b\u4ef6\u53bb\u89e3\u8026\uff0c\u4f9b\u5e94\u94fe\u7ba1\u7406 \u51fa\u5e93\u548c\u5165\u5e93\uff0c\u5269\u4f59\u7684\u64cd\u4f5c\u901a\u8fc7\u4e8b\u4ef6\u53bb\u505a\u5904\u7406</p>"},{"location":"cs-life/system_design/principle/","title":"\u8bbe\u8ba1\u539f\u5219","text":""},{"location":"cs-life/system_design/principle/#_2","title":"\u4e1a\u52a1","text":"<ol> <li>\u505a\u4e00\u4e2a\u4ea7\u54c1\uff0c\u4e0d\u4ec5\u4ec5\u9700\u8981\u5b8c\u5584\u89c4\u5219\uff0c\u8fd8\u8981 \u628a\u552e\u540e\u670d\u52a1\u505a\u597d \u3002</li> </ol>"},{"location":"cs-life/system_design/principle/#_3","title":"\u6280\u672f","text":""},{"location":"cs-life/system_design/principle/#_4","title":"\u6280\u672f\u65b9\u6848","text":"<ol> <li>\u65b9\u6848\u53ef\u56de\u6eda\uff0c\u590d\u6742\u9700\u6c42\uff0c\u5237\u6570\u636e\u811a\u672c\u51c6\u5907\u597d\uff08\u810f\u6570\u636e\u5feb\u901f\u4fee\u590d\uff09</li> <li>\u5927\u6279\u91cf\u6570\u636e\u64cd\u4f5c\u7684\u98ce\u9669\uff0c\u907f\u514d\u8bef\u4f24\u5230\u4f18\u8d28\u7528\u6237</li> </ol>"},{"location":"cs-life/system_design/principle/#_5","title":"\u53c2\u6570\u6821\u9a8c","text":"<ol> <li>\u8981\u505a\u5fc5\u8981\u7684\u53c2\u6570\u6821\u9a8c</li> <li>\u9632\u5fa1\u6027\u7f16\u7a0b\uff08\u4e0d\u8981\u5b8c\u5168\u4fe1\u4efb\u4e0a\u6e38\u7684\u5165\u53c2\uff0c\u6bd4\u5982\u6307\u9488\u7c7b\u578b\uff09</li> </ol>"},{"location":"cs-life/system_design/principle/#_6","title":"\u6570\u636e\u5e93","text":"<ol> <li>\u4e3b\u952e\u8981\u7528 int64 \uff08int32\u4e0a\u9650\u662f42\u4ebf\uff09</li> <li>\u5b57\u6bb5\u6ce8\u91ca\u8981\u5199\u660e\uff0c\u65b9\u4fbf\u65b0\u540c\u5b66\u7406\u89e3\u5b58\u50a8\u7684\u6570\u636e</li> <li>\u67e5\u8be2SQL\u4e0a\u7ebf\u524d\u8981\u8fdb\u884c<code>explain</code>\uff0c\u5c3d\u91cf\u8981\u8d70\u7d22\u5f15</li> <li>\u907f\u514d\u4f7f\u7528<code>select *</code>\uff0c\u5c3d\u91cf<code>select field1, field2</code>\uff0c\u8d70\u7d22\u5f15\u67e5\u8be2\u5feb</li> <li>\u5bf9\u4e8e\u6d41\u6c34\u8868\uff0c\u5373\u4f7f\u547d\u4e2d\u7d22\u5f15\uff0c\u4e5f\u8981\u5c3d\u53ef\u80fdbatch\u67e5\u8be2</li> <li>\u626b\u8868\u64cd\u4f5c\u8981 <code>select * from table where id &gt; x and id &lt; y and \u5177\u4f53\u6761\u4ef6</code>\uff0c\u4e0d\u8981\u7528 <code>select * from table where \u5177\u4f53\u6761\u4ef6 limit x, y</code></li> <li>\u5237\u6570\u636e\u65f6\uff0c\u8981\u9650\u6d41\uff0c\u4e0a\u6e38\u4e0d\u80fd\u65e0\u9650\u91cd\u8bd5\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4 db\u8fde\u63a5\u6c60 \u7528\u5b8c\uff0c\u4ece\u800c\u6ca1\u6cd5\u83b7\u53d6\u5230\u65b0\u7684\u8fde\u63a5\u8fdb\u884c\u8bfb/\u5199\u64cd\u4f5c</li> </ol>"},{"location":"cs-life/system_design/principle/#_7","title":"\u7f13\u5b58","text":"<ol> <li>\u70edkey\u89e3\u51b3\u65b9\u6848<ul> <li>\u5ba2\u6237\u7aef\u52a0\u672c\u5730\u7f13\u5b58\uff0cLFU\u7f13\u5b58\u4e4b\u7c7b\u7684\uff0c\u9632\u4e00\u4e0b\u70edkey</li> <li>\u5c06\u70edkey\u6253\u6563\uff0c\u538b\u529b\u5206\u644a\u5230\u5b50key\u4e0a</li> </ul> </li> <li>Redis key\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\uff0c\u4e1a\u52a1\u4e0a\u4e5f\u8981\u505a\u65f6\u95f4\u5224\u5b9a<ul> <li>\u5185\u5b58\u5feb\u6ee1\u4e86\uff0c\u4f1a\u9010\u51fa\u90e8\u5206key</li> <li>\u6709\u5927key / \u64cd\u4f5c\u590d\u6742\u5ea6\u5927\uff0c\u6267\u884c\u5b8c\u64cd\u4f5c\u624d\u4f1a\u6e05\u9664\u8fc7\u671f\u7684key\uff0c\u4f1a\u6709\u5ef6\u8fdf</li> </ul> </li> </ol>"},{"location":"cs-life/system_design/principle/#_8","title":"\u6d88\u606f\u961f\u5217","text":"<ol> <li>\u6ce8\u610f\u5e42\u7b49\u5904\u7406</li> </ol>"},{"location":"cs-life/system_design/principle/#es","title":"\u68c0\u7d22ES","text":"<p>TODO</p>"},{"location":"cs-life/system_design/principle/#_9","title":"\u65e5\u5fd7","text":"<p>\u4f7f\u7528 <code>errors</code> \u5305\uff0c\u5c01\u88c5\u5806\u6808\u4fe1\u606f</p> <ol> <li>github.com/pkg/errors</li> </ol>"},{"location":"cs-life/system_design/principle/#_10","title":"\u62a5\u8b66","text":"<ol> <li>\u5bf9\u4e8e\u65e5\u5e38\u8bf7\u6c42\u91cf\u6ce2\u52a8\u6bd4\u8f83\u5927\u7684\uff0c\u5efa\u8bae\u5173\u95ed\u5c0f\u65f6\u7ea7/\u5929\u7ea7\u6ce2\u52a8\u62a5\u8b66\uff0c\u8f6c\u800c\u8bbe\u7f6e\u4e00\u4e2a\u5b89\u5168\u9608\u503c\u62a5\u8b66\uff0c\u8d85\u8fc7\u9608\u503c\u5219\u62a5\u8b66</li> <li>\u5bf9\u4e8e\u4e00\u4e9b <code>corner case</code> \u4f7f\u7528\u65e5\u5fd7\u62a5\u8b66\uff0c\u8fd8\u662f\u5f88\u4e0d\u9519\u7684\u3002</li> </ol>"},{"location":"cs-life/system_design/principle/#_11","title":"\u7a33\u5b9a\u6027\u6cbb\u7406","text":"<ol> <li>\u6d41\u7a0b\u7ba1\u63a7<ul> <li>\u4e0a\u7ebf\u6838\u5fc3\u76d1\u63a7\uff0c\u9759\u6001\u4ee3\u7801\u68c0\u6d4b</li> <li>\u6280\u672f\u65b9\u6848\u6a21\u677f\uff0c\u5f02\u5e38\u573a\u666f\u8003\u8651\uff0c\u6570\u636e/\u63a5\u53e3/\u72b6\u6001\u673a\u517c\u5bb9</li> <li>\u503c\u73ed\u673a\u5236\uff0concall/\u62a5\u8b66/\u6570\u636e\u4e00\u81f4\u6027\u8ddf\u8fdb</li> </ul> </li> <li>\u590d\u76d8\u603b\u7ed3<ul> <li>\u6545\u969c/\u7ebf\u4e0a\u95ee\u9898\u590d\u76d8</li> <li>\u9879\u76ee\u603b\u7ed3\uff08\u9ad8\u4f30\u5206\u6bd4/\u6838\u5fc3\u9879\u76ee\uff09</li> <li>\u503c\u73ed\u603b\u7ed3\uff0c\u5468\u7ef4\u5ea6oncall/\u62a5\u8b66\u6cbb\u7406/\u6570\u636e\u4e00\u81f4\u6027/SLO/\u6027\u80fd/\u9519\u8bef\u7801</li> </ul> </li> <li>\u4e13\u9879\u6cbb\u7406<ul> <li>\u5feb\u901f\u53d1\u73b0\u95ee\u9898\uff1a\u4ee3\u7801panic\uff0c\u62a5\u8b66\u6cbb\u7406\uff0c\u5168\u94fe\u8def\u6545\u969c\u611f\u77e5\uff0c\u6570\u636e\u4e00\u81f4\u6027\u5bf9\u8d26\uff08\u5b9e\u65f6/\u79bb\u7ebf\uff09</li> <li>\u4e1a\u52a1/\u7cfb\u7edf\u5bb9\u9519\uff1a\u72b6\u6001\u673a\u5bb9\u9519/\u65f6\u6548\u76d1\u63a7/\u6700\u7ec8\u4e00\u81f4\u6027</li> <li>\u4e1a\u52a1/\u7cfb\u7edfSLA\uff1a\u5355\u673a\u6545\u969c\uff0c\u8d85\u65f6\u91cd\u8bd5\uff0cmesh\u52a8\u6001\u8d1f\u8f7d\u5747\u8861\uff0c\u81ea\u52a8\u8fc1\u79fbPOD\uff0c\u9519\u8bef\u91cd\u8bd5\uff0c\u5f3a\u5f31\u4f9d\u8d56\uff0c\u9519\u8bef\u7801\u4e13\u9879\uff0c\u4e1a\u52a1\u6307\u6807</li> </ul> </li> <li>\u8d28\u91cf\u5ba3\u8d2f<ul> <li>\u603b\u7ed3\u5206\u4eab\uff1a\u8d28\u91cf\u57f9\u8bad\uff0c\u5c0f\u5587\u53ed\u5206\u4eab\uff0c\u8d28\u91cf\u63d0\u5347\u5efa\u8bae\u5206\u4eab</li> <li>\u8d28\u91cf\u8003\u6838\uff1a\u5c0f\u5587\u53ed/\u5b89\u5168/\u8d28\u91cf\u8003\u8bd5</li> </ul> </li> </ol>"},{"location":"cs-life/system_design/comment/comment/","title":"\u8bc4\u8bba\u8bbe\u8ba1","text":""},{"location":"cs-life/system_design/comment/comment/#_2","title":"\u6982\u89c8","text":"<p>\u8bc4\u8bba\u4e2d\u53f0\uff0c\u53ef\u4ee5\u63a5\u5165\u5404\u79cd\u4e1a\u52a1\u5f62\u6001\u3002</p> <ul> <li>\u53d1\u5e03\u8bc4\u8bba: \u652f\u6301\u56de\u590d\u697c\u5c42\u3001\u697c\u4e2d\u697c</li> <li>\u8bfb\u53d6\u8bc4\u8bba: \u6309\u7167\u65f6\u95f4\u3001\u70ed\u5ea6\u6392\u5e8f</li> <li>\u5220\u9664\u8bc4\u8bba: \u7528\u6237\u5220\u9664\u3001\u4f5c\u8005\u5220\u9664</li> <li>\u7ba1\u7406\u8bc4\u8bba: \u4f5c\u8005\u7f6e\u9876\u3001\u540e\u53f0\u8fd0\u8425\u7ba1\u7406\uff08\u641c\u7d22\u3001\u5220\u9664\u3001\u5ba1\u6838\u7b49\uff09</li> </ul> <p>\u8981\u8003\u8651\u70ed\u70b9\u7684\u60c5\u51b5\uff0c\u5982\u660e\u661f\u7ed3\u5a5a/\u51fa\u8f68\u7b49\u70ed\u70b9\u4e8b\u4ef6\u3002</p>"},{"location":"cs-life/system_design/comment/comment/#_3","title":"\u8bbe\u8ba1\u5206\u6790","text":"<p>Cache-Aside \u6a21\u5f0f\uff0c\u5148\u8bfb\u53d6\u7f13\u5b58\uff0c\u518d\u8bfb\u53d6\u5b58\u50a8\u3002</p> <p>\u7f13\u5b58\u548c\u6570\u636e \u4ea4\u7531 comment-job \u53bb build \uff08\u7531 Kafka \u53bb\u6297\u70ed\u70b9\u7684\u5199\u538b\u529b \uff09</p>"},{"location":"cs-life/system_design/comment/comment/#_4","title":"\u5b58\u50a8\u5206\u6790","text":""},{"location":"cs-life/system_design/comment/comment/#_5","title":"\u6570\u636e\u5199\u5165","text":"<p>\u4e8b\u52a1\u66f4\u65b0 comment_subject\uff0ccomment_index\uff0ccomment_content \u4e09\u5f20\u8868\uff0c\u5176\u4e2d content \u5c5e\u4e8e\u975e\u5f3a\u5236\u9700\u8981\u4e00\u81f4\u6027\u8003\u8651\u7684\u3002</p> <p>\u53ef\u4ee5\u5148\u5199\u5165 content\uff0c\u4e4b\u540e\u4e8b\u52a1\u66f4\u65b0\u5176\u4ed6\u8868\u3002\u5373\u4fbf content \u5148\u6210\u529f\uff0c\u540e\u7eed\u5931\u8d25\u4ec5\u4ec5\u5b58\u5728\u4e00\u6761 ghost \u6570\u636e\u3002</p>"},{"location":"cs-life/system_design/comment/comment/#_6","title":"\u6570\u636e\u8bfb\u53d6","text":"<p>\u57fa\u4e8e obj_id + obj_type \u5728 comment_index \u8868\u627e\u5230\u8bc4\u8bba\u5217\u8868\uff0cWHERE root = 0 ORDER BY floor\u3002</p> <p>\u4e4b\u540e\u6839\u636e comment_index \u7684 id \u5b57\u6bb5\u635e\u51fa comment_content \u7684\u8bc4\u8bba\u5185\u5bb9\u3002\u5bf9\u4e8e\u4e8c\u7ea7\u7684\u5b50\u697c\u5c42\uff0cWHERE parent/root IN (id...)\u3002</p>"},{"location":"cs-life/system_design/comment/comment/#_7","title":"\u7f13\u5b58","text":"<p>\u5173\u952e\u662f comment_index_cache\uff0c\u7f13\u5b58\u589e\u91cf\u52a0\u8f7d + lazy \u52a0\u8f7d \uff08\u5982\u679c\u8bbf\u95ee\u7684\u7b2c3\u9875\uff0c\u628a\u7b2c4\u9875\u7684\u8bc4\u8bba\u9884\u5148\u52a0\u8f7d\u8fdb\u7f13\u5b58\uff09</p>"},{"location":"cs-life/system_design/comment/comment/#_8","title":"\u53ef\u7528\u6027\u8bbe\u8ba1","text":""},{"location":"cs-life/system_design/comment/comment/#_9","title":"\u8bfb\u7a7f\u900f","text":"<p>\u5bf9\u4e8e\u70ed\u95e8\u7684\u4e3b\u9898\uff0c\u5982\u679c\u5b58\u5728\u7f13\u5b58\u7a7f\u900f\u7684\u60c5\u51b5\uff0c\u4f1a\u5bfc\u81f4\u5927\u91cf\u7684\u540c\u8fdb\u7a0b\u3001\u8de8\u8fdb\u7a0b\u7684\u6570\u636e\u56de\u6e90\u5230\u5b58\u50a8\u5c42\uff0c\u53ef\u80fd\u4f1a\u5f15\u8d77\u5b58\u50a8\u8fc7\u8f7d\u7684\u60c5\u51b5\uff0c\u5982\u4f55\u53ea\u4ea4\u7ed9\u540c\u8fdb\u7a0b\u5185\uff0c\u4e00\u4e2a\u4eba\u53bb\u505a\u52a0\u8f7d\u5b58\u50a8?</p> <p>\u4f7f\u7528\u5f52\u5e76\u56de\u6e90\u7684\u601d\u8def: https://pkg.go.dev/golang.org/x/sync/singleflight</p> <p>\u540c\u8fdb\u7a0b\u53ea\u4ea4\u7ed9\u4e00\u4e2a\u4eba\u53bb\u83b7\u53d6 mysql \u6570\u636e\uff0c\u7136\u540e\u6279\u91cf\u8fd4\u56de\u3002</p> <p>\u540c\u65f6\u8fd9\u4e2a lease owner \u6295\u9012\u4e00\u4e2a kafka \u6d88\u606f\uff0c\u505a index cache \u7684 recovery \u64cd\u4f5c\u3002 \u8fd9\u6837\u53ef\u4ee5\u5927\u5927\u51cf\u5c11 mysql \u7684\u538b\u529b\uff0c\u4ee5\u53ca\u5927\u91cf\u900f\u7a7f\u5bfc\u81f4\u7684\u5bc6\u96c6\u5199 kafka \u7684\u95ee\u9898\u3002</p> <p>\u66f4\u8fdb\u4e00\u6b65\u7684\uff0c\u540e\u7eed\u8fde\u7eed\u7684\u8bf7\u6c42\uff0c\u4ecd\u7136\u53ef\u80fd\u4f1a\u77ed\u65f6 cache miss\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u8fdb\u7a0b\u5185\u8bbe\u7f6e\u4e00\u4e2a short-lived flag\uff0c\u6807\u8bb0\u6700\u8fd1\u6709\u4e00\u4e2a\u4eba\u6295\u9012\u4e86 cache rebuild \u7684\u6d88\u606f\uff0c\u76f4\u63a5 drop\u3002</p>"},{"location":"cs-life/system_design/comment/comment/#_10","title":"\u70ed\u70b9\u8bfb","text":"<p>\u6d41\u91cf\u70ed\u70b9\u662f\u56e0\u4e3a\u7a81\u7136\u70ed\u95e8\u7684\u4e3b\u9898\uff0c\u88ab\u9ad8\u9891\u6b21\u7684\u8bbf\u95ee\uff0c\u56e0\u4e3a\u5e95\u5c42\u7684 cache \u8bbe\u8ba1\uff0c\u4e00\u822c\u662f\u6309\u7167\u4e3b\u9898 key \u8fdb\u884c\u4e00\u81f4\u6027 hash \u6765\u8fdb\u884c\u5206\u7247\uff0c\u4f46\u662f\u70ed\u70b9 key \u4e00\u5b9a\u547d\u4e2d\u67d0\u4e00\u4e2a\u8282\u70b9\uff0c\u8fd9\u65f6\u5019 remote cache \u53ef\u80fd\u4f1a\u53d8\u4e3a\u74f6\u9888\uff0c\u56e0\u6b64\u505a cache \u7684\u5347\u7ea7 local cache \u662f\u6709\u5fc5\u8981\u7684\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528\u5355\u8fdb\u7a0b\u81ea\u9002\u5e94\u53d1\u73b0\u70ed\u70b9\u7684\u601d\u8def\uff0c\u9644\u52a0\u4e00\u4e2a\u77ed\u65f6\u7684 ttl local cache\uff0c\u53ef\u4ee5\u5728\u8fdb\u7a0b\u5185\u541e\u6389\u5927\u91cf\u7684\u8bfb\u8bf7\u6c42\u3002</p> <p>\u5728\u5185\u5b58\u4e2d\u4f7f\u7528 hashmap \u7edf\u8ba1\u6bcf\u4e2a key \u7684\u8bbf\u95ee\u9891\u6b21\uff0c\u8fd9\u91cc\u53ef\u4ee5\u4f7f\u7528\u6ed1\u52a8\u7a97\u53e3\u7edf\u8ba1\uff0c\u5373\u6bcf\u4e2a\u7a97\u53e3\u4e2d\uff0c\u7ef4\u62a4\u4e00\u4e2a hashmap\uff0c\u4e4b\u540e\u7edf\u8ba1\u6240\u6709\u672a\u8fc7\u53bb\u7684 bucket\uff0c\u6c47\u603b\u6240\u6709 key \u7684\u6570\u636e\u3002</p> <p>\u4e4b\u540e\u4f7f\u7528\u5c0f\u5806\u8ba1\u7b97 TopK \u7684\u6570\u636e\uff0c\u81ea\u52a8\u8fdb\u884c\u70ed\u70b9\u8bc6\u522b\u3002</p> <p>\u4e5f\u53ef\u4ee5\u5176\u4ed6\u7f13\u5b58\u65b9\u5f0f LFU \u8fd9\u79cd</p>"},{"location":"cs-life/system_design/configuration/configuration/","title":"\u914d\u7f6e\u5316","text":"<p>B\u7aef\u4e1a\u52a1\u53d1\u5c55\u8fc5\u901f\uff0c\u6709\u5f88\u591a\u4e2a\u6027\u5316\u7684\u8bc9\u6c42\uff0c\u4f46\u662f\u90e8\u5206\u529f\u80fd\u662f\u53ef\u4ee5\u6c89\u6dc0\u4e0b\u6765\u7684\uff0c\u914d\u7f6e\u5316\u7684\u7ed3\u679c\u3002</p> <p>\u50cf\u73b0\u5728\u54e8\u5175\u63d0\u4f9b\u7684\uff0c\u5c31\u662f\u901a\u7528\u7684\u80fd\u529b</p> <ul> <li>\u79bb\u7ebf\u6570\u636e\u56de\u626b\uff0c\u8fc7\u54e8\u5175\u7b56\u7565\uff0c\u6267\u884c\u52a8\u4f5c</li> <li>\u5728\u7ebf\u4e8b\u4ef6\uff0c\u6570\u636e\u6e90\uff0c\u56e0\u5b50\uff0c\u7b56\u7565\uff0c\u6267\u884c\u52a8\u4f5c</li> <li>\u7b56\u7565\u547d\u4e2d\u76d1\u63a7</li> </ul> <p>\u914d\u7f6e\u5316\u7684\u7ed3\u679c\u5c31\u662f\uff0c\u4e0a\u4e0b\u6e38\u4ece\u539f\u5148\u7684\u5f3aIDL\u5b57\u6bb5\u5b9a\u4e49\uff0c\u8fc7\u6e21\u4e3a <code>map[key][ interface{} | json ]</code>  \uff08\u6709\u70b9\u513f\u50cf\u5f3a\u7c7b\u578b \u5f31\u5316\u6210 \u5f31\u7c7b\u578b\u7684\u6570\u636e\uff09</p>"},{"location":"cs-life/system_design/configuration/configuration/#_2","title":"\u5b9e\u73b0","text":""},{"location":"cs-life/system_design/configuration/configuration/#_3","title":"\u57fa\u7840\u6570\u636e\u52a0\u8f7d","text":"<p>\u4e0a\u4e0b\u6e38\u6570\u636e\u4ea4\u4e92\u6709\u5927\u6982\u51e0\u79cd\u65b9\u5f0f</p> <ul> <li>Rpc</li> <li>http</li> <li>MQ</li> <li>Redis</li> <li>Mysql</li> </ul> <p>Rpc:</p> <p>\u6cdb\u5316\u8c03\u7528\u4e0d\u9700\u8981\u4f9d\u8d56\u4e8c\u65b9\u5305\uff0c\u4f7f\u7528\u5176\u7279\u5b9a\u7684GenericService\u63a5\u53e3\uff0c\u4f20\u5165\u9700\u8981\u8c03\u7528\u7684\u65b9\u6cd5\u540d\u3001\u65b9\u6cd5\u7b7e\u540d\u548c\u53c2\u6570\u503c\u8fdb\u884c\u8c03\u7528\u670d\u52a1\u3002</p> <p>\u9700\u8981\u5982\u4e0b\u4fe1\u606f <code>psm</code>, <code>idl-branch</code>, <code>idl-version</code>, <code>method</code>, <code>cluster</code> \u4ee5\u53ca <code>request</code></p> <p>MQ:</p> <p>\u9700\u8981\u5982\u4e0b\u4fe1\u606f <code>topic</code>, <code>cluster</code>, <code>mq type</code>, <code>partition key</code>, <code>msgBody</code>, <code>duration</code>\uff08\u5ef6\u65f6\u65f6\u95f4\uff09</p> <ul> <li>\u66f9\u5927\uff1a\u4e00\u52b3\u6c38\u9038\u63a5\u5165\u4e0b\u6e38\u7cfb\u7edf</li> </ul> <pre><code>type RpcTengoAdapter interface {\n    Call(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    CallWithOption(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    BatchRpc(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    SingleBatchRpc(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    Init(psm string, initiator generic.InitiatorType) error\n    // Refresh(psm string, initiator generic.InitiatorType) error\n}\n\ntype RpcCompatAdapter interface {\n    Call(ctx context.Context, args ...ecom_tengo.Object) (ret ecom_tengo.Object, err error)\n    CallWithOptions(ctx context.Context, args ...ecom_tengo.Object) (ret ecom_tengo.Object, err error)\n    BatchCall(ctx context.Context, args ...ecom_tengo.Object) (result ecom_tengo.Object, err error)\n    SingleBatchCall(ctx context.Context, args ...ecom_tengo.Object) (result ecom_tengo.Object, err error)\n}\n\ntype MqTengoAdapter interface {\n    SendRocketMq(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    SendEventbus(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n}\n\ntype MetricsAdapter interface {\n    CtxCounter(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    CtxRateCounter(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    CtxTimer(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    CtxMeter(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n}\n\ntype BatchAdapter interface {\n    CallEx(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n}\n\ntype CacheAdapter interface {\n    Get(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    Del(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    HGet(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    HDel(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    BatchHGet(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    MGet(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    LPop(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    LLen(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    SPop(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    SCard(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    GeoRadius(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    ZScore(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    Set(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    MSet(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    SetNX(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    HSet(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    HMSet(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    HIncrBy(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    Incr(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n    IncrBy(ctx context.Context, args ...ecom_tengo.Object) (r ecom_tengo.Object, err error)\n}\n</code></pre>"},{"location":"cs-life/system_design/configuration/configuration/#_4","title":"\u6570\u636e\u7ec4\u88c5\u7f16\u6392","text":"<ul> <li><code>DAG</code> \u7f16\u6392</li> </ul>"},{"location":"cs-life/system_design/configuration/configuration/#_5","title":"\u5f15\u7528\u6587\u6863","text":"<ul> <li>https://tech.meituan.com/2018/07/26/sep-service-arrange.html</li> </ul>"},{"location":"cs-life/system_design/design/design/","title":"\u7cfb\u7edf\u8bbe\u8ba1","text":""},{"location":"cs-life/system_design/design/design/#_2","title":"\u8bbe\u8ba1\u6d41\u7a0b","text":""},{"location":"cs-life/system_design/design/design/#1","title":"1. \u7ea6\u675f\u548c\u7528\u4f8b","text":"<p>\u8ba1\u7b97\u5982\u4e0b\u9700\u6c42</p> <ul> <li>\u6bcf\u79d2\u7684QPS <ul> <li>\u8bfb\u5199QPS\uff0c\u6d41\u91cf\u7684\u8ba1\u7b97</li> </ul> </li> <li>\u672a\u6765\u51e0\u5e74\u7684\u5b58\u50a8\u5bb9\u91cf <ul> <li>\u6570\u636e\u4f1a\u5360\u7528\u7684\u78c1\u76d8\u7a7a\u95f4</li> </ul> </li> <li>Hash\u6240\u9700\u7684\u4f4d\u6570</li> </ul>"},{"location":"cs-life/system_design/design/design/#2","title":"2. \u62bd\u8c61\u8bbe\u8ba1","text":"<ul> <li>application service<ul> <li>\u63d0\u4f9b\u54ea\u4e9b\u63a5\u53e3\u548c\u670d\u52a1</li> </ul> </li> <li>data storage<ul> <li>\u6570\u636e\u5e95\u5c42\u5b58\u50a8</li> </ul> </li> </ul>"},{"location":"cs-life/system_design/design/design/#3","title":"3. \u74f6\u9888\u5206\u6790","text":"<ul> <li>\u4f18\u5316<ul> <li>LoadBalancer</li> <li>Scale storage</li> <li>Cache</li> <li>Message queue</li> </ul> </li> <li>\u6ca1\u6709\u6700\u597d\u7684\u8bbe\u8ba1<ul> <li>\u8868\u660e\u7cfb\u7edf\u4e2d\u5b58\u5728\u7684trade off</li> </ul> </li> </ul>"},{"location":"cs-life/system_design/design/design/#4","title":"4. \u62bd\u8c61\u8bbe\u8ba1\u7684\u62d3\u5c55","text":""},{"location":"cs-life/system_design/design/diff_script/","title":"Diff\u811a\u672c","text":""},{"location":"cs-life/system_design/design/diff_script/#_1","title":"\u80cc\u666f","text":"<p>\u7ecf\u5e38\u9700\u8981\u6bd4\u5bf9\u65b0\u65e7\u7248\u672c\u7684\u6570\u636e</p>"},{"location":"cs-life/system_design/design/diff_script/#_2","title":"\u5b9e\u73b0","text":"<pre><code>\"\"\"\n    diff\u6570\u636e\n\"\"\"\nimport csv\n\n# \u8bfb\u53d6excel\u7b2c\u51e0\u5217\u6570\u636e\uff0c\u5e76\u505a\u53bb\u91cd\u5904\u7406\uff0c\u8fd4\u56de\u7684\u662f list(str)\ndef read(file, col):\n    contents = []\n    with open(file, \"r\") as f:\n        f_csv = csv.reader(f)\n        headers = next(f_csv)\n        for csv_line in f_csv:\n            s = str(csv_line[col]).strip()\n            contents.append(s)\n\n    contents = list(set(contents))\n    return contents\n\n# \u5728ori_data\uff0c\u4e0d\u5728dest_data\u7684\u6570\u636e\ndef diff(ori_data, dest_data):\n    return list(set([x for x in ori_data if x not in dest_data]))\n\n# diff\u6570\u636e\u5199\u5165\ndef write_diff(file, not_in_tcs_data):\n    headers = [\"not_in_tcs\"]\n    rows = [(data,) for data in not_in_tcs_data]\n    # print(rows[:3])\n    with open(file,'w') as f:\n        f_csv = csv.writer(f, headers)\n        f_csv.writerow(headers)\n        f_csv.writerows(rows)\n\n# dates = [\"09-19\",\"09-20\",\"09-21\"]\n# dates = [\"09-23\"]\n# for date in dates:\n#     ecqc_data = read(\"./{}/ecqc.csv\".format(date), 1)\n#     tcs_data = read(\"./{}/tcs.csv\".format(date), 1)\n#     not_in_tcs_data = diff(ecqc_data, tcs_data)\n#     print(\"date:{} len: {}\".format(date, len(not_in_tcs_data)))\n#     write_diff(\"./{}/not_in_tcs.csv\".format(date), not_in_tcs_data)\n</code></pre>"},{"location":"cs-life/system_design/design/grafana/","title":"grafana","text":"<p>\u4e3b\u8981\u662f\u5e38\u7528\u7684\u4e00\u4e9b\u76d1\u63a7/\u62a5\u8b66</p>"},{"location":"cs-life/system_design/design/grafana/#_1","title":"\u5f15\u7528","text":"<ul> <li>wildcard/literal_or/regex\u4f7f\u7528</li> </ul>"},{"location":"cs-life/system_design/design/gray_control/","title":"\u7070\u5ea6\u63a7\u5236","text":""},{"location":"cs-life/system_design/design/gray_control/#_2","title":"\u9700\u6c42","text":"<p>\u597d\u7528\u7684\u7070\u5ea6\u903b\u8f91\u5fc5\u7136\u5c11\u4e0d\u4e86\u4ee5\u4e0b\u51e0\u70b9</p> <ol> <li>\u662f\u5426\u5f00\u542f\uff0c\u53ea\u6709\u5728\u5f00\u542f\u7684\u60c5\u51b5\u4e0b\u624d\u4f1a\u8d70\u540e\u7eed\u903b\u8f91</li> <li>\u9ed1\u540d\u5355\uff0c\u547d\u4e2d\u9ed1\u540d\u5355\u7684\u76f4\u63a5\u8d70\u8001\u903b\u8f91<ul> <li>\u515c\u5e95\u4f7f\u7528\uff0c\u9632\u6b62\u65b0\u903b\u8f91\u5728\u67d0\u79cd\u60c5\u51b5\u4e0b\u6709\u95ee\u9898\uff0c\u53ca\u65f6\u6b62\u635f\uff0c\u5148\u52a0\u5165\u5230\u9ed1\u540d\u5355\uff0c\u540e\u7eed\u4ee3\u7801\u4fee\u590d\u5b8c\uff0c\u7ee7\u7eed\u8d70\u65b0\u903b\u8f91</li> </ul> </li> <li>\u767d\u540d\u5355\uff0c\u547d\u4e2d\u767d\u540d\u5355\u7684\u76f4\u63a5\u901a\u8fc7\uff0c\u8d70\u65b0\u903b\u8f91</li> <li>\u6309\u6bd4\u4f8b\u7070\u5ea6\uff0c\u6bd4\u5982 productId, shopId, holderId</li> </ol>"},{"location":"cs-life/system_design/design/gray_control/#_3","title":"\u4ee3\u7801\u6b23\u8d4f","text":"<pre><code>type GrayConfig struct {\n    Switch    bool    `json:\"switch\"`\n    Range     int64   `json:\"range\"`\n    WhiteList []int64 `json:\"white_list,omitempty\"`\n    BlockList []int64 `json:\"block_list,omitempty\"`\n}\n\nfunc IsGray(ctx context.Context, grayKey string, id int64) bool {\n    key := grayKey\n\n    val, err := tccClient.Get(ctx, key)\n    if err != nil {\n        logs.CtxError(ctx, \"[%s] tccClient.Get fail, err: %v\", key, err)\n        return false\n    }\n    grayConfig := &amp;GrayConfig{}\n    if err = json.Unmarshal([]byte(val), &amp;grayConfig); err != nil {\n        logs.CtxError(ctx, \"[%s] json.Unmarshal fail, err: %v\", key, err)\n        return false\n    }\n    if !grayConfig.Switch {\n        return false\n    }\n\n    for _, blockObj := range grayConfig.BlockList {\n        if id == blockObj {\n            return false\n        }\n    }\n\n    for _, whiteObj := range grayConfig.WhiteList {\n        if id == whiteObj {\n            return true\n        }\n    }\n\n    return id%10000 &lt; grayConfig.Range\n}\n</code></pre>"},{"location":"cs-life/system_design/design/lab_6.824/","title":"MIT 6.824","text":""},{"location":"cs-life/system_design/design/lab_6.824/#lab1-map-and-reduce","title":"Lab1. Map and Reduce","text":"<p>\u76ee\u6807: \u5b9e\u73b0\u4e00\u4e2a<code>Map Reduce</code>\u7a0b\u5e8f\uff0c\u6709\u5f88\u591a\u6d4b\u8bd5\uff0c\u5bf9\u6211\u6765\u8bf4\u5f88\u53cb\u597d</p> <ul> <li>\u5b9e\u73b0 <code>mapper/reducer</code></li> <li>\u8003\u8651RPC\u8bf7\u6c42\uff0c\u6211\u8bbe\u8ba1\u4e86\u4e24\u4e2aRPC\u8bf7\u6c42<ul> <li><code>AssignRpc</code> worker\u5411coordinator\u7533\u9886\u4efb\u52a1</li> <li><code>CompleteRpc</code> worker\u5b8c\u6210\u4efb\u52a1\u540e\uff0c\u544a\u77e5coordinator</li> </ul> </li> <li>\u8fd9\u91cc\u8fd8\u6d89\u53ca\u5230\u4e86\u5206\u914d\u4efb\u52a1\u7684\u72b6\u6001</li> <li><code>coordiantor</code>\u5b9e\u73b0\uff0c\u91cd\u70b9\u5c31\u5728\u4e8e\u5224\u65admap/reduce\u4efb\u52a1\u7684\u72b6\u6001</li> </ul>"},{"location":"cs-life/system_design/design/lab_6.824/#_1","title":"\u72b6\u6001\u8bbe\u8ba1","text":"<pre><code>type AssignType int\nconst (\n    TypeWait     AssignType = iota // \u7b49\u5f85\u4efb\u52a1\u5206\u914d\u72b6\u6001(map/reduce\u5206\u914d\u4e86\uff0c\u8fd8\u672a\u6267\u884c\u5b8c; \u6240\u4ee5\u6709\u7b49\u5f85\u72b6\u6001)\n    TypeMap                        // \u5206\u914d\u4efb\u52a1\u4e3amap\n    TypeReduce                     // \u5206\u914d\u4efb\u52a1\u4e3areduce\n    TypeComplete                   // \u5206\u914d\u4efb\u52a1\u4e3ashutdown\n)\n\n// State \u4e00\u4e2aJob\u7684\u72b6\u6001\ntype State int64\n\nconst (\n    MapAssign    State = iota // map\u5206\u914d/\u6267\u884c\u4e2d\n    ReduceAssign              // reduce\u5206\u914d/\u6267\u884c\u4e2d\n    Done                      // \u5b8c\u6210\n)\n\n// TaskState \u5355\u72ec\u4e00\u4e2amap/reduce\u4efb\u52a1\u7684\u72b6\u6001\ntype TaskState int64\n\nconst (\n    Idle     TaskState = iota // \u7a7a\u95f2\u4e2d\n    Running                   // \u8fd0\u884c\u4e2d\n    Abort                     // \u8d85\u65f6\u88ab\u5e9f\u5f03\n    Finished                  // \u5b8c\u6210\n)\n</code></pre>"},{"location":"cs-life/system_design/design/lab_6.824/#_2","title":"\u5b9e\u4f53\u8bbe\u8ba1","text":"<pre><code>type Coordinator struct {\n    mux               *sync.RWMutex // \u4fdd\u62a4\u5171\u4eab\u53d8\u91cf\n    inputFiles        []string      // \u8f93\u5165\u6587\u4ef6\n    nReduce           int64         // nReduce \u4e2areducer\n    State                           // \u6574\u4f53\u72b6\u6001\n    intermediateFiles [][]string    // \u4e2d\u95f4\u6587\u4ef6\n    *idGenerator                    // workerId\u751f\u6210\u5668\n    taskQueue         chan *task    // \u4efb\u52a1\u961f\u5217\uff0c\u5b58\u6709 map \u548c reduce \u4efb\u52a1\n    taskMetas         []*taskMeta   // \u4efb\u52a1\u643a\u5e26\u7684meta\u4fe1\u606f\uff0c\u7528\u6765\u5224\u65ad\u8fd0\u884c\u72b6\u6001\uff0c\u4ee5\u53ca\u8d85\u65f6\u5904\u7406\n}\n\ntype Mapper struct {\n    Id        int64\n    filenames []string // \u76ee\u524d\u4e00\u4e2amapper\u53ea\u6709\u4e00\u4e2afilename\uff0c\u65b9\u4fbf\u540e\u7eed\u62d3\u5c55\n    mapf      func(string, string) []KeyValue\n    nReduce   int64\n}\n\ntype Reducer struct {\n    Id        int64\n    filenames []string // reducer\u4f1a\u63a5\u53d7\u591a\u4e2afile\n    reducef   func(string, []string) string\n}\n</code></pre>"},{"location":"cs-life/system_design/design/lab_6.824/#rpc","title":"RPC\u8bf7\u6c42","text":"<pre><code>// AssignRequest \u5206\u914d\u8bf7\u6c42\ntype AssignRequest struct {\n}\n\n// AssignResponse \u5206\u914d\u54cd\u5e94\ntype AssignResponse struct {\n    Id         int64    // WorkerId\uff0c\u6bcf\u4e2aworker\u8bf7\u6c42\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5168\u5c40\u4e0d\u540c\u7684Id\n    AssignType          // \u4efb\u52a1\u7c7b\u578b\n    Filenames  []string // \u6587\u4ef6\u540d\uff0cmap \u9700\u89811\u4e2a\u6587\u4ef6\uff0creduce\u9700\u8981\u591a\u4e2a\u6587\u4ef6\n    NReduce    int64    // reduce worker num, mapWorker need\n}\n\n// CompleteRequest \u4efb\u52a1\u5b8c\u6210\ntype CompleteRequest struct {\n    Id        int64    // \u5b8c\u6210\u4efb\u52a1\u7684id\n    Filenames []string // \u4efb\u52a1\u751f\u6210\u7684\u6587\u4ef6\u540d\n}\n\n// CompleteResponse \u4efb\u52a1\u5b8c\u6210\u54cd\u5e94\ntype CompleteResponse struct {\n}\n</code></pre>"},{"location":"cs-life/system_design/design/lab_6.824/#_3","title":"\u611f\u53d7","text":"<ul> <li><code>log</code>\u5199\u7684\u6807\u51c6\uff0c\u8010\u5fc3\u6d4b\u8bd5\uff0c\u5f88\u5bb9\u6613\u770b\u5230\u4ee3\u7801\u5b58\u5728\u7684\u6f0f\u6d1e</li> </ul>"},{"location":"cs-life/system_design/design/lab_6.824/#lab-2-raft-kv","title":"Lab 2. Raft KV","text":"<p>TODO </p>"},{"location":"cs-life/system_design/design/ugly_code/","title":"\u4ee3\u7801\u4e4b\u4e11","text":"<p>\u7c97\u8bfb\u4e86\u6781\u5ba2\u65f6\u95f4\u7684\u300a\u4ee3\u7801\u4e4b\u4e11\u300b\uff0c\u5927\u6982\u6709\u5982\u4e0b\u539f\u5219</p> <ol> <li>\u547d\u540d</li> <li>\u91cd\u590d\u4ee3\u7801\uff08Don't repeat yourself.\uff09</li> <li>\u957f\u51fd\u6570</li> <li>\u5927\u7c7b</li> <li>\u957f\u53c2\u6570\u5217\u8868\uff08\u52a8\u6001\u53c2\u6570\u7528\u4f20\u5165\u7684\u65b9\u5f0f\uff0c\u4e0d\u53d8\u53c2\u6570\u653e\u5230\u7c7b\u7684\u5185\u90e8\uff09</li> <li>\u5d4c\u5957if\uff0c\u63d0\u524d\u8fd4\u56de</li> <li>\u76f8\u540c\u7684switch\u6761\u4ef6\u5224\u65ad\uff0c\u8fdb\u884c\u63a5\u53e3\u62bd\u8c61</li> <li>\u7f3a\u4e4f\u5c01\u88c5\uff0c\u5bfc\u81f4\u91cd\u590d\u4ee3\u7801\u4e71\u98de</li> <li>\u9650\u5236\u53ef\u53d8\u7684\u6570\u636e</li> <li>\u4e00\u6b21\u6027\u5b8c\u6210\u53d8\u91cf\u7684\u521d\u59cb\u5316</li> </ol> <p>--- \u6ca1\u7406\u89e3\u6df1\u523b\u7684\u539f\u5219 ---</p> <ol> <li>\u4f9d\u8d56\u6df7\u4e71\uff0c\u63a5\u53e3\u8981\u7a33\u5b9a\uff0c\u5b9e\u73b0\u53ef\u4ee5\u53d8</li> <li>\u4fdd\u6301\u4ee3\u7801\u5728\u5404\u4e2a\u5c42\u9762\u4e0a\u7684\u4e00\u81f4\u6027</li> <li>\u4e0d\u65ad\u5b66\u4e60\u201c\u65b0\u201d\u7684\u4ee3\u7801\u98ce\u683c\uff0c\u4e0d\u65ad\u6539\u5584\u81ea\u5df1\u7684\u4ee3\u7801</li> <li>\u4ee3\u7801\u8bc4\u5ba1\u66b4\u9732\u7684\u95ee\u9898\u8d8a\u591a\u8d8a\u597d\uff0c\u9891\u7387\u8d8a\u9ad8\u8d8a\u597d</li> </ol>"},{"location":"cs-life/system_design/goim/go_im/","title":"go im","text":""},{"location":"cs-life/system_design/goim/go_im/#_1","title":"\u6982\u89c8","text":"<p>go im \u9879\u76ee\u5b9e\u73b0\u4e86 \u5728\u7ebf\u901a\u8baf \uff08\u6c9f\u901a\u7684\u53cc\u65b9\u90fd\u5728\u7ebf\uff09\uff0c\u79bb\u7ebf\u7684\u90e8\u5206\u9700\u8981\u81ea\u884c\u8bbe\u8ba1\u5b9e\u73b0\u3002</p> <p>\u4e0b\u6e38\u4f9d\u8d56\u6709 <code>Redis</code> \u548c <code>Kafka</code></p> <p>\u540d\u8bcd\u89e3\u91ca</p> / \u540d\u8bcd\u89e3\u91ca roomId \u623f\u95f4id\uff0c\u5f53\u505a\u7fa4\u804a\uff0c\u76f4\u64ad\u95f4\u8fd9\u79cd mId memberId \u7528\u6237Id channel \u7528\u6237\u4e0ecomet\u7684\u94fe\u63a5\u88ab\u62bd\u8c61\u6210\u4e86channel \uff08\u53ef\u80fd\u662ftcp\uff0cwebsocket\u94fe\u63a5\uff09 room \u7fa4\u804a\uff0c\u88abbucket\u6240\u7ba1\u7406 bucket \u5bf9\u4e00\u90e8\u5206 channel \u548c room \u8fdb\u884c\u7ba1\u7406\u3002 \u6bcf\u4e2amember \u53ea\u4f1a\u5728\u4e00\u4e2abucket\u4e2d\uff0c\u4e00\u4e2aroom\u7684\u4fe1\u606f\u4f1a\u5206\u5e03\u5728\u591a\u4e2acomet\u8282\u70b9\u7684\u591a\u4e2abucket\u4e2d\u3002\u8fd9\u4e48\u505a\u7684\u76ee\u7684\u662f\u9501\u62c6\u5206\u3002 <p>\u5b9e\u73b0\u4e0a\uff0c\u9760\u4e09\u90e8\u5206</p> <p>comet\uff1a\u957f\u94fe\u63a5\u5c42\uff0c\u7528\u6237\u76f4\u8fde\u7684\u662fcomet\u8282\u70b9\u3002</p> <p>logic\uff1a\u903b\u8f91\u5904\u7406\u5c42\uff0c\u63a5\u53d7\u7528\u6237\u4f20\u6765\u7684\u6d88\u606f\uff0c\u901a\u8fc7 job \u8fdb\u884c\u524a\u5cf0\uff0c\u53d1\u7ed9comet\u5c42\u7684\u5bf9\u5e94\u94fe\u63a5\u5177\u4f53\u7684\u6d88\u606f\u3002</p> <p>job\uff1a\u63a5\u6536logic\u4e0b\u53d1\u7684\u6d88\u606f\uff08Message\uff09\uff0c\u7136\u540e\u5206\u53d1\u7ed9\u5bf9\u5e94\u7684comet\u8282\u70b9\u3002</p> <p></p>"},{"location":"cs-life/system_design/goim/go_im/#_2","title":"\u8bbe\u8ba1\u5206\u6790","text":""},{"location":"cs-life/system_design/goim/go_im/#comet","title":"comet","text":"<ul> <li>\u548c logic \u4ea4\u4e92\u7684rpc<ul> <li>Connect / DisConnect / Heartbeat</li> <li>RenewOnline {serverId, roomCount}</li> <li>Receive {mId\uff0copBody}</li> </ul> </li> <li>\u5bf9\u5916\u63d0\u4f9b\u7684rpc        <ul> <li>PushMsg {channelKey, op, body}</li> <li>Broadcast \u5e7f\u64ad\u5168\u670d</li> <li>BroadcastRoom  \u76f4\u64ad\u95f4\u5e7f\u64ad</li> <li>Rooms  \u6d3b\u8dc3\u76f4\u64ad\u95f4</li> </ul> </li> </ul>"},{"location":"cs-life/system_design/goim/go_im/#logic","title":"logic","text":"<ul> <li>\u6d88\u606f\u4f7f\u7528<ul> <li>PushMsg\uff0c\u5206\u7247key\u4e3a\u79c1\u804amemberId\u6240\u5728\u7684server</li> <li>BroadcastRoomMsg\uff0c\u5206\u7247key\u4e3aroom</li> <li>BroadcastMsg\uff0c\u5206\u7247key\u4e3a \u5e7f\u64ad\u7c7b\u578b op</li> </ul> </li> <li>http\u63a5\u53e3<ul> <li>PushMids \u79c1\u804a</li> <li>PushRoom \u7fa4\u804a</li> <li>PushAll \u5168\u5458\u5e7f\u64ad</li> </ul> </li> </ul>"},{"location":"cs-life/system_design/goim/go_im/#job","title":"job","text":"<p>\u5f00\u56fa\u5b9a\u6570\u91cf\u7684goroutine\u53bb\u5904\u7406</p> <ul> <li>\u6d88\u8d39\u5168\u5458\u5e7f\u64ad\u6d88\u606f<ul> <li>broadcast(pushMsg.Operation, pushMsg.Msg, pushMsg.Speed)</li> </ul> </li> <li>\u6d88\u8d39\u79c1\u804a\u6d88\u606f <ul> <li>pushKeys(pushMsg.Operation, pushMsg.Server, pushMsg.Keys, pushMsg.Msg)</li> </ul> </li> <li>\u6d88\u8d39\u7fa4\u804a\u6d88\u606f<ul> <li>getRoom(pushMsg.Room).Push(pushMsg.Operation, pushMsg.Msg)</li> </ul> </li> </ul>"},{"location":"cs-life/system_design/goim/go_im/#_3","title":"\u7591\u95ee","text":""},{"location":"cs-life/system_design/goim/go_im/#1-partitionpartition","title":"1. \u5e7f\u64ad\u5168\u5458\u3001\u7fa4\u7ec4\u6d88\u606f\u7684\u8bdd\uff0c\u662f\u53d1\u9001\u5230\u5355\u4e2apartition\uff0c\u8fd8\u662f\u591a\u4e2apartition\u3002","text":"<pre><code>- \u6bcf\u4e2ajob\u8282\u70b9\u901a\u8fc7\u6ce8\u518c\u4e2d\u5fc3\u83b7\u53d6\u4e86\u5168\u91cf\u7684 comet \u8282\u70b9\n- so \u53d1\u9001\u5230\u5355\u4e2apartition\uff0c\u4ea4\u7531job\u8282\u70b9\u540c\u6b65\u8c03\u7528\u6240\u6709\u7684 comet \u8282\u70b9\n</code></pre>"},{"location":"cs-life/system_design/history/history/","title":"\u89c6\u9891\u64ad\u653e\u8fdb\u5ea6\u540c\u6b65\u8bbe\u8ba1","text":""},{"location":"cs-life/system_design/history/history/#_2","title":"\u6982\u89c8","text":"<p>\u529f\u80fd\u6982\u8ff0\uff1a</p> <ol> <li>\u89c6\u9891\u64ad\u653e\u8fdb\u5ea6\u540c\u6b65\uff1a\u5047\u60f3\u4f5c\u4e3ab\u7ad9\u7684\u7528\u6237\uff0c\u7528\u624b\u673a\u767b\u5f55b\u7ad9\u5237\u89c6\u9891\uff0c\u63a5\u7740\u5207\u6362\u5230\u5e73\u677f\u4e0a\uff0c\u80fd\u540c\u6b65\u8bfb\u53d6\u5230\u89c6\u9891\u7684\u6700\u65b0\u8fdb\u5ea6\u3002</li> <li>\u63d0\u4f9b\u5386\u53f2\u89c6\u9891\u89c2\u770b\u7684\u65f6\u95f4\u7ebf\uff0c\u652f\u6301\u8be5\u7528\u6237\u6309\u7167\u65f6\u95f4\u5012\u5e8f\u67e5\u770b\u6240\u64ad\u653e\u8fc7\u7684\u89c6\u9891\u3002<ul> <li>https://www.bilibili.com/account/history</li> </ul> </li> </ol> <p>\u5047\u60f3b\u7ad9\u65e5\u6d3b\u8dc3\u7528\u6237\u4e3a 50w\uff0c\u6bcf\u5206\u949f\u5927\u698210w\u4e2a\u7528\u6237\u8bbf\u95ee\u4e0d\u540c\u7684\u89c6\u9891\uff0c\u5e73\u5747\u4e0a\u62a5\u89c6\u9891\u8fdb\u5ea6\u4e3a5s\u4e00\u6b21\u3002\u8fd9\u662f\u591a\u4e48\u5bc6\u96c6\u7684\u5199\u64cd\u4f5c\u554a\uff0c\u5982\u679c\u76f4\u63a5\u66f4\u65b0\u6570\u636e\u5e93\u7684\u8bdd\uff0c\u52bf\u5fc5\u4f1a\u6253\u6302DB\u3002</p> <p>\u6240\u4ee5\u8be5\u573a\u666f\u4e3a \u5199\u591a\u8bfb\u591a \u7684\u573a\u666f\uff0c\u4e3a\u4e86\u9ad8\u53ef\u7528\u7684\u8bbe\u8ba1\uff0c\u53ef\u4ee5\u63a5\u53d7\u4e22\u5931\u5c0f\u90e8\u5206\u6570\u636e\u3002</p> <p>\u6309\u7167\u6bdb\u8001\u5e08\u7684\u8bb2\u89e3\uff0c\u4f9d\u8d56\u7684\u4e2d\u95f4\u4ef6\u4e3a <code>Kafka</code>, <code>Redis</code>, <code>HBase</code></p>"},{"location":"cs-life/system_design/history/history/#_3","title":"\u8bbe\u8ba1\u5206\u6790","text":"<p>\u5206\u573a\u666f\u5206\u6790</p>"},{"location":"cs-life/system_design/history/history/#1","title":"1. \u89c6\u9891\u64ad\u653e\u8fdb\u5ea6\u540c\u6b65","text":"<p>\u7531\u4e8e\u7528\u6237\u591a\uff0c\u5bfc\u81f4\u7684\u8bfb/\u5199\u8bf7\u6c42\u975e\u5e38\u591a\uff0cdb\u5f88\u96be\u6297\u4f4f\u3002\u6240\u4ee5\u4f7f\u7528\u4e86Redis\u6765\u4f5c\u4e3a\u8be5\u573a\u666f\u7684\u4e3b\u8981\u8bfb\u5199\u4e2d\u95f4\u4ef6\u3002</p> <p>\u9488\u5bf9\u5199\u573a\u666f</p> <ol> <li>\u7528\u6237\u53d1\u8d77\u8fdb\u5ea6\u540c\u6b65\uff08\u5982A\u89c6\u9891\uff0c\u8fdb\u5ea6\u4ece5%\u63a8\u8fdb\u523015%\uff09</li> <li> <p>\u66f4\u65b0Redis\u7f13\u5b58\u4fe1\u606f</p> <ul> <li>\u5c06 <code>timestamp, {itemId, itemType}</code> \u8ffd\u52a0\u5230 \u6700\u8fd1\u8bbf\u95ee\u8bb0\u5f55 <code>key(uid)</code> \uff08\u91c7\u7528sorted set\u7ed3\u6784\uff09</li> <li>\u5c06 <code>key(uid, itemId, itemType)</code> \u66f4\u65b0 Redis \u4e2d\u7684\u64ad\u653e\u8fdb\u5ea6\u4ee5\u53ca\u5176\u4ed6\u9644\u52a0\u4fe1\u606f\uff08\u8be6\u89c1\u4e0b\u56fe\uff09</li> </ul> </li> <li> <p>\u5728 history-service \u8fdb\u884c\u5185\u5b58\u805a\u5408\uff0c\u6309\u7167 <code>uid, List&lt;{itemId,itemType}&gt;</code> \u53bb\u805a\u5408</p> </li> <li>\u5c06\u4e0a\u9762\u805a\u5408\u7684\u4fe1\u606f\u53d1\u9001\u5230Kafka\u4e2d</li> <li>Kafka \u6d88\u8d39\u8005 history-job \u83b7\u53d6 uid \u4ee5\u53ca <code>{itemId, itemType}</code>\uff0c\u5b9e\u65f6\u8bfb\u53d6 Redis \u7684\u503c\uff0c\u5c06\u5176\u5199\u5165\u5230 HBase \u4e2d</li> </ol> <p>\u9488\u5bf9\u8bfb\u573a\u666f</p> <ol> <li>\u7528\u6237\u8bf7\u6c42\u6700\u65b0\u7684\u8fdb\u5ea6</li> <li>\u6309\u7167 <code>key(uid, itemId, itemType)</code> \u8bfb\u53d6 Redis \u64ad\u653e\u8fdb\u5ea6</li> </ol> <p>\u4f18\u5316\u539f\u5219\uff1a \u5c3d\u53ef\u80fd\u4f18\u5316\u5199\u5165\u64cd\u4f5c\uff0c\u5c06\u4e00\u6279\u5199\u8bf7\u6c42\u5c3d\u53ef\u80fd\u805a\u5408\u3002</p> <p>\u7531\u4e8e\u540c\u4e00\u4e2auid\uff0c\u5176\u5b9e\u77ed\u65f6\u95f4\u5185\u8bbf\u95ee\u7684\u89c6\u9891\u6709\u9650\uff0c\u56e0\u6b64\u805a\u5408\u7684\u6548\u679c\u5e76\u4e0d\u662f\u7279\u522b\u597d</p> <p>\u518d\u5c01\u88c5\u4e00\u5c42 region\uff0cregion\u7684\u5206\u914d\u53ef\u4ee5\u6309\u7167 uid % 100\uff0c\u5c06region\u53d1\u5f80kafka\u3002</p> <p>\u56e0\u6b64\u4f18\u5316\u540e\u7684 Kafka \u7684\u5355\u4e2a\u5b58\u50a8\u7ed3\u6784 region \u4e3a <code>List&lt;{uid, List&lt;itemId, itemType&gt;}&gt;</code>\u3002</p> <p>\u80fd\u4fdd\u8bc1\u6709\u5e8f\u4e48\uff1f</p> <ul> <li>uid % region \u4e0d\u4f1a\u53d8\uff0c\u56e0\u6b64\u4f1a\u9001\u5230 kafka\u7684\u540c\u4e00\u4e2a partition\uff0c\u4e5f\u5c31\u4fdd\u8bc1\u4e86 uid \u7684\u6d88\u606f\u662f\u6709\u5e8f\u7684\u3002</li> </ul> <p></p>"},{"location":"cs-life/system_design/history/history/#2","title":"2. \u64ad\u653e\u5386\u53f2\u8bbe\u8ba1","text":"<p>\u9488\u5bf9\u8bfb\u573a\u666f</p> <ol> <li>\u7528\u6237\u8bf7\u6c42\u64ad\u653e\u5386\u53f2</li> <li>\u6309\u7167 key(uid) \u53bb\u83b7\u53d6 redis \u91cc\u7684\u62c9\u94fe\u4fe1\u606f\u3002\uff08\u62c9\u94fe\u4fe1\u606f\u4fdd\u5b58\u4e00\u5929\u7684\uff0cRedis\u96c6\u7fa4\u7684\u5185\u5b58 \u548c \u7f13\u5b58\u547d\u4e2d\u7387\u7684trade off\uff09</li> <li>\u62c9\u94fe\u4fe1\u606f\u627e\u4e0d\u5230\uff0c\u4ece HBase \u83b7\u53d6\u6570\u636e\u3002\uff08\u7531\u4e8e\u8be5\u64cd\u4f5c\u5e76\u4e0d\u9891\u7e41\uff0c\u56e0\u6b64\u65e0\u9700\u5c06HBase\u7684\u6570\u636e\u56de\u5237 \u5230 Redis\uff09</li> </ol> <p></p>"},{"location":"cs-life/system_design/history/history/#3","title":"3. \u7528\u6237\u7b2c\u4e00\u6b21\u767b\u5f55\u7f13\u5b58\u5982\u4f55\u8bbe\u8ba1","text":"<p>\u7ecf\u5e38\u6709\u5f53\u6708\u7b2c\u4e00\u6b21\u767b\u5f55\uff0c\u6709xxx\u5956\u52b1\u7684\u6d3b\u52a8\u3002</p> <p>\u5982\u679c\u5224\u5b9a\u5f53\u6708\u7b2c\u4e00\u6b21\u767b\u5f55\u5462\uff1f\u7b80\u5355\u7684\u60f3</p> <ol> <li>\u7528\u6237\u9996\u6b21\u767b\u5f55\uff0csetnx key(uid)\uff0c\u8bbe\u7f6e\u6210\u529f\uff0c\u5c31\u6807\u8bc6\u5f53\u5929\u662f\u7b2c\u4e00\u6b21\u767b\u5f55\uff0c\u5e76\u5199\u5165\u7f13\u5b58 key(uid, date)</li> <li>\u540e\u7eed\u8bf7\u6c42\uff0c\u901a\u901a\u8bfb\u7f13\u5b58 key(uid, date) \u5224\u65ad\u662f\u5426\u7b2c\u4e00\u6b21\u767b\u5f55\uff0c\u5e76\u505a\u9010\u7ea7\u672c\u5730\u7f13\u5b58</li> </ol> <p>\u4f18\u5316\u601d\u8def\uff0c\u6570\u636e\u4e0b\u6c89\u5230\u4e0a\u6e38\uff0c\u51cf\u5c11\u6700\u4e0a\u6e38\u7684\u65e0\u6548\u8bf7\u6c42\u662f\u6700\u6709\u6548\u7684\u3002</p> <ol> <li>\u5199\u7f13\u5b58key(uid, date) \u6210\u529f\u540e\uff0c\u5c06\u8be5\u6570\u636e\u53d1\u5f80\u5ba2\u6237\u7aef\uff0c\u5e76\u5199\u5165cookie</li> <li>\u7528\u6237\u8bfb\u53d6\u5230cookie\u540e\uff0c\u540e\u7eed\u5c06\u8be5 flag \u901a\u8fc7 http header \u7684\u65b9\u5f0f\u900f\u4f20</li> </ol> <p>\u53ef\u8fd9\u6837\u5b58\u5728\u5b89\u5168\u95ee\u9898... \u4e07\u4e00\u88ab\u9ed1\u7070\u4ea7\u7ed9\u63a7\u5236\u4e86\uff0c\u8585\u4e86\u7f8a\u6bdb..</p>"},{"location":"cs-life/system_design/history/history/#_4","title":"\u5f15\u7528","text":"<ul> <li>https://blog.csdn.net/jiaomeng/article/details/1495500</li> <li>https://blog.csdn.net/yizishou/article/details/78342499</li> </ul>"},{"location":"cs-life/system_design/micro_services/disaster_tolerance/","title":"DNS &amp; CDN &amp; \u5f02\u5730\u591a\u6d3b","text":""},{"location":"cs-life/system_design/micro_services/disaster_tolerance/#_1","title":"\u6982\u5ff5","text":"<ul> <li>DNS</li> <li>CDN</li> <li>\u591a\u6d3b\u67b6\u6784</li> </ul>"},{"location":"cs-life/system_design/micro_services/disaster_tolerance/#_2","title":"\u8bbe\u8ba1","text":""},{"location":"cs-life/system_design/micro_services/disaster_tolerance/#dns","title":"DNS","text":"<p>DNS\uff08Domain Name System\uff0c\u57df\u540d\u7cfb\u7edf\uff09\uff0cDNS \u670d\u52a1\u7528\u4e8e\u5728\u7f51\u7edc\u8bf7\u6c42\u65f6\uff0c\u5c06\u57df\u540d\u8f6c\u4e3a IP \u5730\u5740\u3002\u80fd\u591f\u4f7f\u7528\u6237\u66f4\u65b9\u4fbf\u7684\u8bbf\u95ee\u4e92\u8054\u7f51\uff0c\u800c\u4e0d\u7528\u53bb\u8bb0\u4f4f\u80fd\u591f\u88ab\u673a\u5668\u76f4\u63a5\u8bfb\u53d6\u7684 IP \u6570\u4e32\u3002</p> <p>\u4f20\u7edf\u7684\u57fa\u4e8e UDP \u534f\u8bae\u7684\u516c\u5171 DNS \u670d\u52a1\u6781\u6613\u53d1\u751f DNS \u52ab\u6301\uff0c\u4ece\u800c\u9020\u6210\u5b89\u5168\u95ee\u9898\u3002</p> <p></p> <p>HTTPDNS \u5229\u7528 HTTP \u534f\u8bae\u4e0e DNS \u670d\u52a1\u5668\u4ea4\u4e92\uff0c\u4ee3\u66ff\u4e86\u4f20\u7edf\u7684\u57fa\u4e8e UDP \u534f\u8bae\u7684 DNS \u4ea4\u4e92\uff0c\u7ed5\u5f00\u4e86\u8fd0\u8425\u5546\u7684 Local DNS\uff0c\u6709\u6548\u9632\u6b62\u4e86\u57df\u540d\u52ab\u6301\uff0c\u63d0\u9ad8\u57df\u540d\u89e3\u6790\u6548\u7387\u3002</p> <p>\u53e6\u5916\uff0c\u7531\u4e8e DNS \u670d\u52a1\u5668\u7aef\u83b7\u53d6\u7684\u662f\u771f\u5b9e\u5ba2\u6237\u7aef IP \u800c\u975e Local DNS \u7684 IP\uff0c\u80fd\u591f\u7cbe\u786e\u5b9a\u4f4d\u5ba2\u6237\u7aef\u5730\u7406\u4f4d\u7f6e\u3001\u8fd0\u8425\u5546\u4fe1\u606f\uff0c\u4ece\u800c\u6709\u6548\u6539\u8fdb\u8c03\u5ea6\u7cbe\u786e\u6027\u3002</p> <p></p> <p>\u5982\u679c\u53ea\u6709\u4e00\u4e2a VIP\uff0c\u5373\u53ef\u4ee5\u589e\u52a0 DNS \u8bb0\u5f55\u7684 TTL\uff0c\u51cf\u5c11\u89e3\u6790\u7684\u5ef6\u8fdf\u3002</p> <p>Anycast \u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a IP\uff0c\u5c06\u6570\u636e\u8def\u7531\u5230\u6700\u8fd1\u7684\u4e00\u7ec4\u670d\u52a1\u5668\uff0c\u901a\u8fc7 BGP \u5ba3\u544a\u8fd9\u4e2a IP\uff0c\u4f46\u662f\u8fd9\u5b58\u5728\u4e24\u4e2a\u95ee\u9898\uff1a - \u5982\u679c\u67d0\u4e2a\u8282\u70b9\u627f\u8f7d\u8fc7\u591a\u7684\u7528\u6237\u4f1a\u8fc7\u8f7d - BGP \u8def\u7531\u8ba1\u7b97\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8fde\u63a5\u91cd\u7f6e</p> <p></p>"},{"location":"cs-life/system_design/micro_services/disaster_tolerance/#cdn","title":"CDN","text":""},{"location":"cs-life/system_design/micro_services/disaster_tolerance/#_3","title":"\u529f\u80fd","text":"<p>\u7f13\u5b58\u4ee3\u7406</p> <ul> <li>\u901a\u8fc7\u667a\u80fd DNS \u7684\u7b5b\u9009\uff0c\u7528\u6237\u7684\u8bf7\u6c42\u88ab\u900f\u660e\u5730\u6307\u5411\u79bb\u4ed6\u6700\u8fd1\u7684\u7701\u5185\u9aa8\u5e72\u8282\u70b9\uff0c\u6700\u5927\u9650\u5ea6\u7684\u7f29\u77ed\u7528\u6237\u4fe1\u606f\u7684\u4f20\u8f93\u8ddd\u79bb\u3002</li> </ul> <p>\u8def\u7531\u52a0\u901f</p> <ul> <li>\u5229\u7528\u63a5\u5165\u8282\u70b9\u548c\u4e2d\u7ee7\u8282\u70b9\u6216\u8005\u591a\u7ebf\u8282\u70b9\u4e92\u8054\u4e92\u901a\u3002</li> </ul> <p>\u5b89\u5168\u4fdd\u62a4</p> <ul> <li>\u65e0\u8bba\u9762\u5bf9\u662f\u6e17\u900f\u8fd8\u662f DDoS\u653b\u51fb\uff0c\u653b\u51fb\u7684\u76ee\u6807\u5927\u90fd\u4f1a\u88ab\u6307\u5411\u5230\u4e86 CDN\uff0c\u8fdb\u800c\u4fdd\u62a4\u4e86\u7528\u6237\u6e90\u7ad9\u3002</li> </ul> <p>\u8282\u7701\u6210\u672c</p> <ul> <li>CDN \u8282\u70b9\u673a\u623f\u53ea\u9700\u8981\u5728\u5f53\u5730\u8fd0\u8425\u5546\u7684\u5355\u7ebf\u673a\u623f\uff0c\u6216\u8005\u5e26\u5bbd\u76f8\u5bf9\u4fbf\u5b9c\u7684\u57ce\u5e02\uff0c\u91c7\u8d2d\u6210\u672c\u4f4e\u3002</li> </ul>"},{"location":"cs-life/system_design/micro_services/disaster_tolerance/#_4","title":"\u65b9\u5f0f","text":"<p>\u5185\u5bb9\u8def\u7531</p> <ul> <li>DNS\u7cfb\u7edf\u3001\u5e94\u7528\u5c42\u91cd\u5b9a\u5411\uff0c\u4f20\u8f93\u5c42\u91cd\u5b9a\u5411\u3002</li> </ul> <p>\u5185\u5bb9\u5206\u53d1</p> <ul> <li>PUSH\uff1a\u4e3b\u52a8\u5206\u53d1\uff0c\u5185\u5bb9\u7ba1\u7406\u7cfb\u7edf\u53d1\u8d77\uff0c\u5c06\u5185\u5bb9\u4ece\u6e90\u5206\u53d1\u5230 CDN \u7684 Cache \u8282\u70b9\u3002</li> <li>PULL\uff1a\u88ab\u52a8\u5206\u53d1\u6280\u672f\uff0c\u7528\u6237\u8bf7\u6c42\u9a71\u52a8\uff0c\u7528\u6237\u8bf7\u6c42\u5185\u5bb9\u4e2d miss\uff0c\u4ece\u6e90\u4e2d\u6216\u8005\u5176\u4ed6 CDN \u8282\u70b9\u4e2d\u5b9e\u65f6\u83b7\u53d6\u5185\u5bb9\u3002</li> </ul> <p>\u5185\u5bb9\u5b58\u50a8</p> <ul> <li>\u968f\u673a\u8bfb\u3001\u987a\u5e8f\u5199\u3001\u5c0f\u6587\u4ef6\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\u3002</li> </ul> <p>\u5185\u5bb9\u7ba1\u7406</p> <ul> <li>\u63d0\u9ad8\u5185\u5bb9\u670d\u52a1\u7684\u6548\u7387\uff0c\u63d0\u9ad8 CDN \u7684\u7f13\u5b58\u5229\u7528\u7387\u3002</li> </ul>"},{"location":"cs-life/system_design/micro_services/disaster_tolerance/#_5","title":"\u4e00\u81f4\u6027","text":"<p>Expires</p> <ul> <li>\u5373\u5728 HTTP \u5934\u4e2d\u6307\u660e\u5177\u4f53\u5931\u6548\u7684\u65f6\u95f4(HTTP/1.0)</li> </ul> <p>Cache Control</p> <ul> <li>max-age \u5728 HTTP \u5934\u4e2d\u6309\u79d2\u6307\u5b9a\u5931\u6548\u7684\u65f6\u95f4\uff0c\u4f18\u5148\u7ea7\u9ad8\u4e8eExpires(HTTP/1.1)</li> </ul> <p>Last-Modified / If-Modified-Since</p> <ul> <li>\u6587\u4ef6\u6700\u540e\u4e00\u6b21\u4fee\u6539\u7684\u65f6\u95f4\uff08\u7cbe\u5ea6\u662f\u79d2\uff0cHTTP/1.0\uff09\uff0c\u9700\u8981 Cache-Control \u8fc7\u671f\u3002 Etag</li> <li>\u5f53\u524d\u8d44\u6e90\u5728\u670d\u52a1\u5668\u7684\u552f\u4e00\u6807\u8bc6\uff08\u751f\u6210\u89c4\u5219\u7531\u670d\u52a1\u5668\u51b3\u5b9a\uff09\u4f18\u5148\u7ea7\u9ad8\u4e8e Last-Modified</li> </ul>"},{"location":"cs-life/system_design/micro_services/disaster_tolerance/#_6","title":"\u591a\u6d3b\u67b6\u6784","text":"<p>\u901a\u4fd7\u8bb2\uff0c\u5c31\u662f\u591a\u673a\u623f\u627f\u8f7d\u6240\u6709\u7528\u6237\u7684\u6d41\u91cf</p> <p>\u591a\u6d3b\u4e0d\u662f\u6574\u4e2a\u4f53\u7cfb\u4e1a\u52a1\u7684\u591a\u6d3b\uff0c\u800c\u662f\u5206\u6210\u4e0d\u540c\u7ef4\u5ea6\uff0c\u4e0d\u540c\u91cd\u8981\u6027\u7684\u591a\u6d3b\uff0c\u6bd4\u5982\u6211\u4eec\u4e1a\u52a1\u89c2\u770b\u4f53\u9a8c\u4e3a\u4e3b\uff08\u6dd8\u5b9d\u4ee5\u4ea4\u6613\u5355\u5143\uff0c\u4e70\u5bb6\u4e3a\u7ef4\u5ea6\uff09\uff0c\u90a3\u4e48\u7b2c\u4e00\u5927\u524d\u63d0\u5c31\u662f\u6d4f\u89c8\u3001\u89c2\u770b\u4e0a\u7684\u591a\u6d3b\u3002\u6211\u4eec\u5c06\u8d44\u6e90\u5206\u4e3a\u4e09\u7c7b\uff1a - Global \u8d44\u6e90\uff1a\u591a\u4e2a Zone\uff08\u673a\u623f\uff09\u5171\u4eab\u8bbf\u95ee\u7684\u8d44\u6e90\uff0c\u6bcf\u4e2a Zone \u8bbf\u95ee\u672c Zone \u7684\u8d44\u6e90\uff0c\u4f46\u662f Global \u5c42\u9762\u6765\u8bf4\u662f\u5355\u5199 Core Zone\uff08\u6838\u5fc3\u673a\u623f\uff09\uff0c\u5373\uff1a\u5355\u5199+\u591a\u8bfb\u3001\u5229\u7528\u6570\u636e\u590d\u5236\uff08\u5199Zone \u5355\u5411\uff09\u5b9e\u73b0\u6700\u7ec8\u4e00\u81f4\u6027\u65b9\u6848\u5b9e\u73b0\uff1b - Multi Zone \u8d44\u6e90\uff1a\u591a\u4e2a Zone \u5206\u7247\u90e8\u7f72\uff0c\u6bcf\u4e2a Zone \u62e5\u6709\u90e8\u5206\u7684 Shard \u6570\u636e\uff0c\u6bd4\u5982\u6211\u4eec\u6309\u7167\u7528\u6237\u7ef4\u5ea6\u62c6\u5206\uff0c\u7528\u6237 A \u53ef\u80fd\u5728 ZoneA\uff0c\u7528\u6237 B \u53ef\u80fd\u5728 ZoneB\uff0c\u5373\uff1a\u591a\u5199+\u591a\u8bfb\u3001\u5229\u7528\u6570\u636e\u590d\u5236\uff08\u5199 Zone \u53cc\u5411\u590d\u5236\uff09\u65b9\u6848\u5b9e\u73b0\uff1b - Single Zone \u8d44\u6e90\uff1a\u5355\u673a\u623f\u90e8\u7f72\u4e1a\u52a1\uff1b</p> <p>\u6838\u5fc3\u4e3b\u8981\u56f4\u7ed5\uff1aPC/APP \u9996\u9875\u53ef\u89c2\u770b\u3001\u89c6\u9891\u8be6\u60c5\u9875\u53ef\u6253\u5f00\u3001\u8d26\u53f7\u53ef\u767b\u9646\u3001\u9274\u6743\u6765\u5f00\u5c55</p> <ul> <li>\u5bf9\u4e8e\u89c2\u770b\u7c7b\u4e1a\u52a1\uff0c\u53ef\u80fd\u91c7\u7528 Global \u8d44\u6e90\u7b56\u7565</li> <li>\u5bf9\u4e8e\u793e\u533a\u7c7b\uff08\u8bc4\u8bba\u3001\u5f39\u5e55\uff09\u53ef\u80fd\u4f1a\u91c7\u7528 Multi Zone \u7684\u7b56\u7565</li> </ul>"},{"location":"cs-life/system_design/micro_services/disaster_tolerance/#_7","title":"\u8682\u8681\u591a\u6d3b","text":"<p>\u6574\u4f53\u67b6\u6784\u5305\u542bRZone\u3001GZone\u548cCZone\u3002</p> <p>\u5176\u4e2dGZone\u90e8\u7f72\u7684\u662f\u65e0\u6cd5\u62c6\u5206\u7684\u6570\u636e\u548c\u4e1a\u52a1\uff0cGZone\u7684\u6570\u636e\u548c\u4e1a\u52a1\u88abRZone\u4f9d\u8d56\uff0cGZone\u5168\u5c40\u53ea\u90e8\u7f72\u4e00\u4efd\uff0c\u800cRZone\u90e8\u7f72\u7684\u662f\u53ef\u62c6\u5206\u7684\u4e1a\u52a1\u548c\u5bf9\u5e94\u7684\u6570\u636e\u3002\u6bcf\u4e2aRZone\u5185\u7684\u6570\u636e\u5206\u7247\u5982\u56fe\u6240\u793a\u6709\u4e94\u526f\u672c\uff0c\u5b9e\u73b0\u4e09\u5730\u4e94\u4e2d\u5fc3\u90e8\u7f72\uff0c\u6bcf\u4e2a\u5206\u7247\u5185\u53ea\u6709\u4e00\u4e2a\u53ef\u5199\u5165\u7684\u4e3b\u526f\u672c\uff0c\u5176\u4f59\u526f\u672c\u6309\u7167Paxos\u534f\u8bae\u505a\u6570\u636e\u5f3a\u4e00\u81f4\u3002</p> <p>\u6bcf\u4e2aRZone\u5185\u5b9e\u73b0\u4e1a\u52a1\u5355\u5143\u5c01\u95ed\uff0c\u72ec\u7acb\u5b8c\u6210\u81ea\u5df1\u7684\u6240\u6709\u4e1a\u52a1\u3002\u800cCZone\u7684\u51fa\u73b0\u662f\u56e0\u4e3aGZone\u5168\u5c40\u53ea\u6709\u4e00\u4efd\uff0c\u4e0d\u540c\u57ce\u5e02\u7684RZone\u53ef\u80fd\u4f9d\u8d56GZone\u670d\u52a1\u548c\u6570\u636e\u7684\u65f6\u5019\u9700\u8981\u8fdc\u8ddd\u79bb\u8c03\u7528\uff0c\u5ef6\u8fdf\u6bd4\u8f83\u5927\uff0c\u6240\u4ee5\u5728\u6bcf\u4e2a\u57ce\u5e02\u90e8\u7f72\u4e00\u4e2aCZone\u4f5c\u4e3aGZone\u7684\u53ea\u8bfb\u526f\u672c\uff0c\u4e3a\u672c\u57ce\u5e02\u7684RZone\u63d0\u4f9b\u670d\u52a1\u3002</p>"},{"location":"cs-life/system_design/micro_services/disaster_tolerance/#_8","title":"\u997f\u4e86\u4e48\u591a\u6d3b","text":""},{"location":"cs-life/system_design/micro_services/disaster_tolerance/#_9","title":"\u5f15\u7528","text":"<p>\u997f\u4e86\u4e48</p> <p>http://afghl.github.io/2018/02/11/distributed-system-multi-datacenter-1.html https://zhuanlan.zhihu.com/p/32009822 https://zhuanlan.zhihu.com/p/32587960 https://zhuanlan.zhihu.com/p/33430869 https://zhuanlan.zhihu.com/p/34958596</p> <p>OPPO</p> <p>https://mp.weixin.qq.com/s/RQiurTi_pLkmIg_PSpZtvA https://mp.weixin.qq.com/s/LCn71j3hgm5Ij5tHYe8uoA</p> <p>Facebook</p> <p>https://zhuanlan.zhihu.com/p/20827183</p> <p>\u963f\u91cc</p> <p>https://www.cnblogs.com/davidwang456/articles/8192860.html https://mp.weixin.qq.com/s/ty5GltO9M648OXSWgLe_Sg https://developer.aliyun.com/article/57715 https://toutiao.io/posts/y8qekd/preview https://tech.antfin.com/community/articles/922</p> <p>\u82cf\u5b81</p> <p>https://mp.weixin.qq.com/s/WK8N4xFxCoUvSpXOwCVIXw https://mp.weixin.qq.com/s/ooPLV039BAGBsiDZagWNHw https://mp.weixin.qq.com/s/VPkQhJLl_ULwklP1sqF79g https://mp.weixin.qq.com/s/ty5GltO9M648OXSWgLe_Sg https://mp.weixin.qq.com/s/GdfYsuUajWP-OWo6lbmjVQ https://developer.aliyun.com/article/57715 https://mp.weixin.qq.com/s/RQiurTi_pLkmIg_PSpZtvA https://mp.weixin.qq.com/s/LCn71j3hgm5Ij5tHYe8uoA http://afghl.github.io/2018/02/11/distributed-system-multi-datacenter-1.html https://zhuanlan.zhihu.com/p/42150666 https://zhuanlan.zhihu.com/p/20827183 https://myslide.cn/slides/733 https://blog.csdn.net/u012422829/article/details/83718296 https://blog.csdn.net/u012422829/article/details/83932829 https://www.cnblogs.com/king0101/p/11908305.html https://mp.weixin.qq.com/s/WK8N4xFxCoUvSpXOwCVIXw https://mp.weixin.qq.com/s/jd9Os1OAyCXZ8rXw8ZIQmg https://cloud.tencent.com/developer/article/1441455 https://mp.weixin.qq.com/s/RQiurTi_pLkmIg_PSpZtvA https://help.aliyun.com/document_detail/72721.html https://mp.weixin.qq.com/s/h_KWwzPzszrdGq5kcCudRA https://www.cnblogs.com/davidwang456/articles/8192860.html https://mp.weixin.qq.com/s/GdfYsuUajWP-OWo6lbmjVQ https://www.cnblogs.com/king0101/p/11908305.html https://zhuanlan.zhihu.com/p/42150666 https://help.aliyun.com/document_detail/72721.html https://blog.csdn.net/u012422829/article/details/83718296 https://blog.csdn.net/u012422829/article/details/83932829 https://mp.weixin.qq.com/s/jd9Os1OAyCXZ8rXw8ZIQmg</p> <p>https://mp.weixin.qq.com/s?__biz=MzI3MDA2OTE0Nw==&amp;mid=2247483726&amp;idx=1&amp;sn=a086311f82f24ca704286dfde97d23f9&amp;chksm=ead7fdbadda074ac90d5603ee005ffd60660e84cf0cf795981c4ce22ec622aaeeff101e1b66f&amp;scene=21#wechat_redirect https://cloud.tencent.com/developer/article/1042081?from=article.detail.1441455</p>"},{"location":"cs-life/system_design/micro_services/micro_services/","title":"\u5fae\u670d\u52a1","text":""},{"location":"cs-life/system_design/micro_services/micro_services/#_2","title":"\u6982\u89c8","text":"<p>kit\uff1a\u4e00\u4e2a\u5fae\u670d\u52a1\u7684\u57fa\u7840\u5e93\uff08\u6846\u67b6\uff09</p> <p>service\uff1a\u4e1a\u52a1\u4ee3\u7801 + kit \u4f9d\u8d56 + \u7b2c\u4e09\u65b9\u4f9d\u8d56\u7ec4\u6210\u7684\u4e1a\u52a1\u5fae\u670d\u52a1</p> <p>RPC + message queue\uff1a\u8f7b\u91cf\u7ea7\u901a\u8baf</p> <p>\u672c\u8d28\u4e0a\u7b49\u540c\u4e8e\uff0c\u591a\u4e2a\u5fae\u670d\u52a1\u7ec4\u5408\uff08compose\uff09\u5b8c\u6210\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684\u7528\u6237\u573a\u666f\uff08usecase\uff09\u3002</p> <p>\u6bcf\u4e2a\u670d\u52a1\u72ec\u4eab\u81ea\u8eab\u7684\u6570\u636e\u5b58\u50a8\u8bbe\u65bd\uff08\u7f13\u5b58\uff0c\u6570\u636e\u5e93\u7b49\uff09\uff0c\u4e0d\u50cf\u4f20\u7edf\u5e94\u7528\u5171\u4eab\u4e00\u4e2a\u7f13\u5b58\u548c\u6570\u636e\u5e93\uff0c\u8fd9\u6837\u6709\u5229\u4e8e\u670d\u52a1\u7684\u72ec\u7acb\u6027\uff0c\u9694\u79bb\u76f8\u5173\u5e72\u6270\u3002</p>"},{"location":"cs-life/system_design/micro_services/micro_services/#_3","title":"\u53ef\u7528\u6027 &amp; \u517c\u5bb9\u6027\u8bbe\u8ba1","text":"<ul> <li>\u9694\u79bb</li> <li>\u8d85\u65f6\u63a7\u5236</li> <li>\u8d1f\u8f7d\u4fdd\u62a4 </li> <li>\u9650\u6d41</li> <li>\u964d\u7ea7</li> <li>\u91cd\u8bd5</li> <li>\u8d1f\u8f7d\u5747\u8861</li> </ul>"},{"location":"cs-life/system_design/micro_services/micro_services/#_4","title":"\u5fae\u670d\u52a1\u8bbe\u8ba1","text":""},{"location":"cs-life/system_design/micro_services/micro_services/#_5","title":"\u94fe\u8def\u4ea4\u4e92","text":"<p>\u79fb\u52a8\u7aef / \u524d\u7aef -&gt; Load Balancer -&gt; API Gateway -&gt; HTTP Server -&gt; Microservices</p> <ul> <li>Load Balancer \u8d1f\u8d23\u8d1f\u8f7d\u5747\u8861</li> <li>API Gateway \u8d1f\u8d23\u6a2a\u5207\u9762\u7684\u903b\u8f91\uff0c\u6bd4\u5982\u5b89\u5168\u8ba4\u8bc1\uff0c\u65e5\u5fd7\u76d1\u63a7\uff0c\u9650\u6d41\u7194\u65ad\u7b49</li> <li>HTTP Server \u8d1f\u8d23\u5bf9\u5916\u63a5\u53e3\u6570\u636e\u8fd4\u56de</li> <li>Microservices \u4e1a\u52a1\u903b\u8f91\u7f16\u6392</li> </ul>"},{"location":"cs-life/system_design/micro_services/micro_services/#microservices","title":"Microservices \u5b89\u5168","text":"<p>\u5bf9\u4e8e\u670d\u52a1\u5185\u90e8\uff0c\u4e00\u822c\u8981\u533a\u5206\u8eab\u4efd\u8ba4\u8bc1\u548c\u6388\u6743\u3002</p> <p>\u8ba4\u8bc1\uff1a\u670d\u52a1A \u662f\u5426\u53ef\u8bbf\u95ee\u670d\u52a1B \u6388\u6743\uff1a\u670d\u52a1A \u662f\u5426\u53ef\u8bbf\u95ee\u670d\u52a1B\u7684\u67d0\u4e9b\u5177\u4f53\u65b9\u6cd5\uff08\u6bd4\u5982\u4fee\u6539\u6296\u97f3\u8d26\u6237\u7684\u4fe1\u606f\uff0c\u662f\u4e2a\u9ad8\u5371\u64cd\u4f5c\uff0c\u9700\u8981\u52a0\u5f3a\u6388\u6743\u7ba1\u7406\uff09</p> <ul> <li>Full Trust</li> <li>Half Trust</li> <li>Zero Trust \uff08\u4e0a\u6e38\u670d\u52a1\u4e0e\u4e0b\u6e38\u670d\u52a1\u91c7\u7528\u7c7b\u4f3cHTTPS\u52a0\u5bc6\u65b9\u5f0f\u8fdb\u884c\u901a\u4fe1\uff09</li> </ul>"},{"location":"cs-life/system_design/micro_services/micro_services/#grpc","title":"grpc &amp; \u670d\u52a1\u53d1\u73b0","text":""},{"location":"cs-life/system_design/micro_services/micro_services/#grpc_1","title":"grpc","text":"<ul> <li>\u670d\u52a1\u4e0a\u7ebf\u65f6\uff0c\u65e7\u5b9e\u4f8b\u5148\u6ce8\u9500\u6ce8\u518c\u4e2d\u5fc3\uff0c\u6682\u505c\u65b0\u7684\u94fe\u63a5\uff0c\u6b63\u5e38\u94fe\u63a5\u6267\u884c\u5b8c\uff0c\u518d\u505c\u6389\u5bb9\u5668</li> </ul>"},{"location":"cs-life/system_design/micro_services/micro_services/#_6","title":"\u6ce8\u518c\u4e2d\u5fc3","text":"<p>\u6ce8\u518c\u4e2d\u5fc3\u5c3d\u53ef\u80fd\u4fdd\u8bc1\u810f\u5b9e\u4f8b\uff0c\u4e5f\u4e0d\u8981\u6ca1\u6709\u5b9e\u4f8b\u4fe1\u606f\uff0c\u6ca1\u6709\u5b9e\u4f8b\u4fe1\u606f\u7684\u8bdd\uff0c\u4f1a\u53d1\u751f\u5927\u7684\u6545\u969c\u3002</p> <ul> <li>consumer\u4f1a\u7f13\u5b58\u90e8\u5206provider\u5b9e\u4f8b\u5730\u5740\uff0c\u5728\u6ce8\u518c\u4e2d\u5fc3\u5927\u9762\u79ef\u6545\u969c\u7684\u65f6\u5019\uff0c\u6682\u505c\u6240\u6709\u7684\u670d\u52a1\u53d1\u5e03\uff0c\u7ebf\u4e0a\u4e5f\u4e0d\u4f1a\u6709\u592a\u5927\u7684\u5f71\u54cd\u3002</li> <li>\u6ce8\u518c\u4e2d\u5fc3\uff0c\u4fdd\u8bc1\u9ad8\u53ef\u7528\u3002</li> <li>\u4e0d\u597d\u7684\u662f\uff0c\u8282\u70b9\u540c\u6b65\u4fe1\u606f\u662f\u5168\u91cf\u540c\u6b65\u7684\uff0c\u5199\u538b\u529b\u8f83\u5927\u3002\u53ef\u4ee5\u8fdb\u884c\u8bfb\u5199\u5206\u79bb/\u53ea\u66f4\u65b0\u90e8\u5206\u4e2d\u5fc3/\u6570\u636eshard\u3002</li> <li>pull\u6a21\u578b \u5fc3\u8df3\u6bd4\u8f83\u591a\uff0cpush\u6a21\u578b\uff1f</li> </ul>"},{"location":"cs-life/system_design/micro_services/micro_services/#_7","title":"\u591a\u96c6\u7fa4 &amp; \u591a\u79df\u6237","text":""},{"location":"cs-life/system_design/micro_services/micro_services/#_8","title":"\u67d3\u8272\u53d1\u5e03","text":"<p>\u67d3\u8272\u53d1\u5e03\uff0c\u4e5f\u5373\u6211\u4eec\u7684\u591a\u73af\u5883\u53d1\u5e03\u3002</p> <p>\u90e8\u7f72\u65b9\u5f0f\uff1a</p> <ol> <li>k8s\u90e8\u7f72\u5bb9\u5668\uff0c\u5e26\u4e0a\u6807\u7b7e\u201cboe_bing\u201d</li> <li>\u670d\u52a1\u5b9e\u4f8b\u542f\u52a8\u65f6\uff0c\u52a0\u8f7d\u73af\u5883\u53d8\u91cf\u201cenv: boe_bing\u201d</li> <li>\u670d\u52a1\u6ce8\u518c\u5230\u6ce8\u518c\u4e2d\u5fc3\uff0cmeta\u4fe1\u606f\u586b\u4e0aenv\uff0c\u5982\u4e0b\u6240\u793a</li> </ol> <p>10.xx.yy.zz  8888  {u'cluster': u'default', u'env': u'boe_bing'}</p> <p>\u8bbf\u95ee\u65b9\u5f0f\uff1a</p> <ol> <li>\u8bbf\u95ee\u8005\u5e26\u4e0ahttp header\uff0c \"x-env: boe_bing\"</li> <li>http\u6846\u67b6\u6355\u83b7\u5230 header\u7684\u201cx-env\u201d\u503c\uff0c\u8bbe\u7f6e\u5230ctx\u4e0a</li> <li>\u8bbf\u95ee\u4e0b\u6e38\u670d\u52a1\u65f6\uff0c\u7531\u4e8ectx\u5e26\u6709\u201cx-env\u201d\u7279\u6b8a\u53d8\u91cf\uff0c\u56e0\u6b64\u8d1f\u8f7d\u5747\u8861\u4f18\u5148\u9009\u62e9 \u4e0b\u6e38\u670d\u52a1meta\u4fe1\u606f\u5339\u914d\u7684\uff0c\u5982\u679c\u6ca1\u627e\u5230\uff0c\u5219fallback\u5230 prod \u73af\u5883</li> <li>ctx \u900f\u4f20\uff0c\u7f51\u7edc\u4f20\u8f93\u65f6\uff0c\u5c06 \"x-env\" \u5e8f\u5217\u5316\u5230 protocal \u534f\u8bae\u7684header or body\u91cc\uff08\u5e26\u4e0a\u8be5\u4fe1\u606f\uff09</li> <li>rpc\u6846\u67b6\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u89e3\u6790 protocal \u534f\u8bae\uff0c\u62ff\u5230\u201cx-env\u201d\u503c\uff0c\u8bbe\u7f6e\u5230ctx \uff08\u8fd9\u4e00\u6b65logId\uff0ctraceId\u4e5f\u662f\u7c7b\u4f3c\u7684\u505a\u6cd5\uff09</li> </ol>"},{"location":"cs-life/system_design/micro_services/micro_services/#_9","title":"\u591a\u96c6\u7fa4","text":"<p>\u591a\u96c6\u7fa4\uff0c\u610f\u5473\u7740\u5b58\u50a8/\u7f13\u5b58\u4e5f\u662f\u9694\u79bb\u7684\uff0c\u4e92\u4e0d\u5f71\u54cd\u3002</p> <p>\uff08\u8fd9\u91cc\u662f\u6307\u5355\u673a\u623f\u5185\u90e8\u7684\u7b56\u7565\uff09</p> <ul> <li>\u4e3a\u4e86\u9632\u6b62\u7ebf\u4e0a\u67d0\u4e2a\u96c6\u7fa4\u51fa\u95ee\u9898\uff0c\u6d41\u91cf\u9700\u8981\u8c03\u5ea6\u5230\u5176\u4ed6\u96c6\u7fa4\uff0c\u5207\u6362\u7684\u65f6\u5019\u4f1a\u5bfc\u81f4\u5176\u4ed6\u96c6\u7fa4\u7684\u7f13\u5b58\u547d\u4e2d\u7387\u53d8\u4f4e<ul> <li>\u6240\u4ee5\u5b9e\u4f8b\u9ed8\u8ba4\u9009\u62e9\u94fe\u63a5\u6240\u6709\u96c6\u7fa4</li> </ul> </li> <li>\u4f46\u94fe\u63a5\u4e86\u6240\u6709\u96c6\u7fa4\uff0c\u4f1a\u5bfc\u81f4\u8fde\u63a5\u6570\u53d8\u591a\uff0c\u4e1a\u52a1\u5b9e\u4f8b\u4f4e\u5cf0\u671f\u4e5f\u5360\u7528\u4e86\u5927\u91cf\u7684\u94fe\u63a5\uff0ccpu\u4f7f\u7528\u7387\u6bd4\u8f83\u9ad8\uff08service consumer\u5728\u5f80service provider \u53d1\u9001\u5fc3\u8df3\uff09\uff0c\u53c8\u4f7f\u7528\u4e86\u5b50\u96c6\u7b97\u6cd5\uff0c\u9009\u90e8\u5206\u5b9e\u4f8b\u53bb\u94fe\u63a5\u3002</li> </ul>"},{"location":"cs-life/system_design/micro_services/micro_services/#_10","title":"\u5f15\u7528 \uff08\u5f85\u770b\uff09","text":"<ul> <li>https://microservices.io/index.html</li> <li> <p>https://blog.csdn.net/mindfloating/article/details/51221780</p> </li> <li> <p>https://www.cnblogs.com/dadadechengzi/p/9373069.html</p> </li> <li>https://www.cnblogs.com/viaiu/archive/2018/11/24/10011376.html</li> <li>https://www.cnblogs.com/lfs2640666960/p/9543096.html</li> <li>https://mp.weixin.qq.com/s/L6OKJK1ev1FyVDu03CQ0OA</li> <li>https://www.bookstack.cn/read/API-design-guide/API-design-guide-02-\u9762\u5411\u8d44\u6e90\u7684\u8bbe\u8ba1.md</li> <li>https://www.programmableweb.com/news/how-to-design-great-apis-api-first-design-and-raml/how-to/2015/07/10</li> <li>http://www.dockone.io/article/394</li> <li>https://www.jianshu.com/p/3c7a0e81451a</li> <li>https://www.jianshu.com/p/6e539caf662d</li> <li>https://my.oschina.net/CraneHe/blog/703173</li> <li>https://my.oschina.net/CraneHe/blog/703169</li> <li>https://my.oschina.net/CraneHe/blog/703160</li> </ul>"},{"location":"cs-life/system_design/micro_services/service_governance/","title":"\u670d\u52a1\u6cbb\u7406","text":""},{"location":"cs-life/system_design/micro_services/service_governance/#_2","title":"\u6982\u89c8","text":"<ul> <li>\u65e5\u5fd7</li> <li>\u94fe\u8def\u8ffd\u8e2a</li> <li>\u6307\u6807</li> </ul>"},{"location":"cs-life/system_design/micro_services/service_governance/#_3","title":"\u65e5\u5fd7","text":""},{"location":"cs-life/system_design/micro_services/service_governance/#_4","title":"\u65e5\u5fd7\u7ea7\u522b","text":"<ul> <li>Trace / Debug / Notice / Info</li> <li>Warn</li> <li>Error</li> <li>Fatal </li> </ul> <p>Fatal</p> <p>\u8bb0\u5f55\u6d88\u606f\u540e\uff0c\u76f4\u63a5\u8c03\u7528 os.Exit(1)\uff0c\u8fd9\u610f\u5473\u7740\uff1a</p> <ul> <li>\u5728\u5176\u4ed6 goroutine defer \u8bed\u53e5\u4e0d\u4f1a\u88ab\u6267\u884c\uff1b</li> <li>\u5404\u79cd buffers \u4e0d\u4f1a\u88ab flush\uff0c\u5305\u62ec\u65e5\u5fd7\u7684\uff1b</li> <li>\u4e34\u65f6\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u4e0d\u4f1a\u88ab\u79fb\u9664\uff1b</li> </ul> <p>Warn</p> <p>\u6ca1\u4eba\u770b\u8b66\u544a\uff0c\u56e0\u4e3a\u4ece\u5b9a\u4e49\u4e0a\u8bb2\uff0c\u6ca1\u6709\u4ec0\u4e48\u51fa\u9519\u3002\u4e5f\u8bb8\u5c06\u6765\u4f1a\u51fa\u95ee\u9898\uff0c\u4f46\u8fd9\u542c\u8d77\u6765\u50cf\u662f\u522b\u4eba\u7684\u95ee\u9898\u3002</p>"},{"location":"cs-life/system_design/micro_services/service_governance/#_5","title":"\u65e5\u5fd7\u9009\u578b","text":"<p>\u4e00\u4e2a\u5b8c\u6574\u7684\u96c6\u4e2d\u5f0f\u65e5\u5fd7\u7cfb\u7edf\uff0c\u9700\u8981\u5305\u542b\u4ee5\u4e0b\u51e0\u4e2a\u4e3b\u8981\u7279\u70b9\uff1a</p> <ul> <li>\u6536\u96c6\uff0d\u80fd\u591f\u91c7\u96c6\u591a\u79cd\u6765\u6e90\u7684\u65e5\u5fd7\u6570\u636e\uff1b</li> <li>\u4f20\u8f93\uff0d\u80fd\u591f\u7a33\u5b9a\u7684\u628a\u65e5\u5fd7\u6570\u636e\u4f20\u8f93\u5230\u4e2d\u592e\u7cfb\u7edf\uff1b</li> <li>\u5b58\u50a8\uff0d\u5982\u4f55\u5b58\u50a8\u65e5\u5fd7\u6570\u636e\uff1b</li> <li>\u5206\u6790\uff0d\u53ef\u4ee5\u652f\u6301 UI \u5206\u6790\uff1b</li> <li>\u8b66\u544a\uff0d\u80fd\u591f\u63d0\u4f9b\u9519\u8bef\u62a5\u544a\uff0c\u76d1\u63a7\u673a\u5236\uff1b</li> </ul> <p></p> <p>\u5927\u6982\u7684\u94fe\u8def\u662f </p> <p>\u5e94\u7528\u5b9e\u4f8b\u5199\u65e5\u5fd7 -&gt; \u7269\u7406\u673aagent -&gt; mq\uff08\u907f\u514dgateway\u6d41\u91cf\u592a\u5927\uff09 -&gt; logstash\uff08\u6570\u636e\u683c\u5f0f\u8f6c\u6362\uff09-&gt; elasticSearch</p> <p>\u7531\u4e8e Error \u548c Warn \u7684\u65e5\u5fd7\u4ef7\u503c\u6bd4\u8f83\u5927\uff0c\u5355\u72ec\u641e\u96c6\u7fa4\u548c\u5176\u4ed6\u7c7b\u578b\u65e5\u5fd7\u9694\u79bb\u5f00\u3002</p>"},{"location":"cs-life/system_design/micro_services/service_governance/#_6","title":"\u94fe\u8def\u8ffd\u8e2a","text":"<p>\u76ee\u6807 - \u65e0\u5904\u4e0d\u5728\u7684\u90e8\u7f72 - \u6301\u7eed\u7684\u76d1\u63a7 - \u4f4e\u6d88\u8017 - \u5e94\u7528\u7ea7\u7684\u900f\u660e - \u5ef6\u5c55\u6027 - \u4f4e\u5ef6\u8fdf</p> <p></p> <ul> <li>TraceID</li> <li>SpanID</li> <li>ParentID</li> <li>Family &amp; Title</li> </ul> <p>\u56fa\u5b9a\u91c7\u6837\uff0c1/1024</p> <pre><code>\u8fd9\u4e2a\u7b80\u5355\u7684\u65b9\u6848\u662f\u5bf9\u6211\u4eec\u7684\u9ad8\u541e\u5410\u91cf\u7684\u7ebf\u4e0a\u670d\u52a1\u6765\u8bf4\u662f\u975e\u5e38\u6709\u7528\uff0c\u56e0\u4e3a\u90a3\u4e9b\u611f\u5174\u8da3\u7684\u4e8b\u4ef6(\u5728\u5927\u541e\u5410\u91cf\u7684\u60c5\u51b5\u4e0b)\u4ecd\u7136\u5f88\u6709\u53ef\u80fd\u7ecf\u5e38\u51fa\u73b0\uff0c\u5e76\u4e14\u901a\u5e38\u8db3\u4ee5\u88ab\u6355\u6349\u5230\u3002\u7136\u800c\uff0c\u5728\u8f83\u4f4e\u7684\u91c7\u6837\u7387\u548c\u8f83\u4f4e\u7684\u4f20\u8f93\u8d1f\u8f7d\u4e0b\u53ef\u80fd\u4f1a\u5bfc\u81f4\u9519\u8fc7\u91cd\u8981\u4e8b\u4ef6\uff0c\u800c\u60f3\u7528\u8f83\u9ad8\u7684\u91c7\u6837\u7387\u5c31\u9700\u8981\u80fd\u63a5\u53d7\u7684\u6027\u80fd\u635f\u8017\u3002\u5bf9\u4e8e\u8fd9\u6837\u7684\u7cfb\u7edf\u7684\u89e3\u51b3\u65b9\u6848\u5c31\u662f\u8986\u76d6\u9ed8\u8ba4\u7684\u91c7\u6837\u7387\uff0c\u8fd9\u9700\u8981\u624b\u52a8\u5e72\u9884\u7684\uff0c\u8fd9\u79cd\u60c5\u51b5\u662f\u6211\u4eec\u8bd5\u56fe\u907f\u514d\u5728 Dapper \u4e2d\u51fa\u73b0\u7684\u3002\n</code></pre> <p>\u5e94\u5bf9\u79ef\u6781\u91c7\u6837</p> <pre><code>\u6211\u4eec\u7406\u89e3\u4e3a\u5355\u4f4d\u65f6\u95f4\u671f\u671b\u91c7\u96c6\u6837\u672c\u7684\u6761\u76ee\uff0c\u5728\u9ad8 QPS \u4e0b\uff0c\u91c7\u6837\u7387\u81ea\u7136\u4e0b\u964d\uff0c\u5728\u4f4e QPS \u4e0b\uff0c\u91c7\u6837\u7387\u81ea\u7136\u589e\u52a0\uff1b\u6bd4\u59821s\u5185\u67d0\u4e2a\u63a5\u53e3\u91c7\u96c61\u6761\u3002\n</code></pre>"},{"location":"cs-life/system_design/micro_services/service_governance/#_7","title":"\u6307\u6807","text":"<p>\u6d89\u53ca\u5230 net\u3001cache\u3001db\u3001rpc \u7b49\u8d44\u6e90\u7c7b\u578b\u7684\u57fa\u7840\u5e93\uff0c\u9996\u5148\u76d1\u63a7\u7ef4\u5ea64\u4e2a\u9ec4\u91d1\u6307\u6807\uff1a</p> <ul> <li>\u5ef6\u8fdf\uff08\u8017\u65f6\uff0c\u9700\u8981\u533a\u5206\u6b63\u5e38\u8fd8\u662f\u5f02\u5e38\uff09</li> <li>\u6d41\u91cf\uff08\u9700\u8981\u8986\u76d6\u6765\u6e90\uff0c\u5373\uff1acaller\uff09</li> <li>\u9519\u8bef\uff08\u8986\u76d6\u9519\u8bef\u7801\u6216\u8005 HTTP Status Code\uff09</li> <li>\u9971\u548c\u5ea6\uff08\u670d\u52a1\u5bb9\u91cf\u6709\u591a\u201c\u6ee1\u201d\uff09</li> </ul> <p>\u7cfb\u7edf\u5c42\u9762\uff1a</p> <ul> <li>CPU\uff0cMemory\uff0cIO\uff0cNetwork\uff0cTCP/IP \u72b6\u6001\u7b49\uff0cFD\uff08\u7b49\u5176\u4ed6\uff09\uff0cKernel\uff1aContext Switch</li> <li>Runtime\uff1a\u5404\u7c7b GC\u3001Mem \u5185\u90e8\u72b6\u6001\u7b49</li> </ul> <p>\u7ebf\u4e0a\u6253\u5f00 Profiling \u7684\u7aef\u53e3</p> <ul> <li>\u4f7f\u7528\u670d\u52a1\u53d1\u73b0\u627e\u5230\u8282\u70b9\u4fe1\u606f\uff0c\u4ee5\u53ca\u63d0\u4f9b\u5feb\u6377\u7684\u65b9\u5f0f\u5feb\u901f\u53ef\u4ee5 WEB \u5316\u67e5\u770b\u8fdb\u7a0b\u7684 Profiling \u4fe1\u606f\uff08\u706b\u7130\u56fe\u7b49\uff09\uff1b</li> <li>watchdog\uff0c\u4f7f\u7528\u5185\u5b58\u3001CPU \u7b49\u4fe1\u53f7\u91cf\u89e6\u53d1\u81ea\u52a8\u91c7\u96c6\uff1b</li> </ul>"},{"location":"cs-life/system_design/micro_services/service_governance/#_8","title":"\u5f15\u7528","text":"<p>https://dave.cheney.net/2015/11/05/lets-talk-about-logging https://www.ardanlabs.com/blog/2013/11/using-log-package-in-go.html https://www.ardanlabs.com/blog/2017/05/design-philosophy-on-logging.html https://dave.cheney.net/2017/01/23/the-package-level-logger-anti-pattern https://help.aliyun.com/document_detail/28979.html?spm=a2c4g.11186623.2.10.3b0a729amtsBZe https://developer.aliyun.com/article/703229 https://developer.aliyun.com/article/204554 https://developer.aliyun.com/article/251629 https://www.elastic.co/cn/what-is/elk-stack https://my.oschina.net/itblog/blog/547250 https://www.cnblogs.com/aresxin/p/8035137.html https://www.elastic.co/cn/products/beats/filebeat https://www.elastic.co/guide/en/beats/filebeat/5.6/index.html https://www.elastic.co/cn/products/logstash https://www.elastic.co/guide/en/logstash/5.6/index.html https://www.elastic.co/cn/products/kibana https://www.elastic.co/guide/en/kibana/5.5/index.html https://www.elastic.co/guide/en/elasticsearch/reference/5.6/index.html https://elasticsearch.cn/ https://blog.aliasmee.com/post/graylog-log-system-architecture/</p>"},{"location":"cs-life/system_design/perception_judge/perception_summary/","title":"\u611f\u77e5\u7814\u5224\u603b\u7ed3","text":""},{"location":"cs-life/system_design/perception_judge/perception_summary/#_2","title":"\u80cc\u666f","text":"<p>\u8bc6\u522b\u5ba1\u6838\u94fe\u8def</p> <ul> <li>\u8bc6\u522b\uff1a\u7b49\u540c\u4e8e\u201c\u673a\u5ba1\u201d\uff0c\u901a\u8fc7\u6a21\u578b\u3001\u89c4\u5219\u7684\u65b9\u5f0f\u53ec\u56de\u7ebf\u4e0a\u95ee\u9898</li> <li>\u5ba1\u6838\uff1a\u673a\u5ba1\u51b3\u7b56\u7ed3\u679c\u5206\u4e3a\u9ed1\u3001\u767d\u3001\u7070\uff0c\u5bf9\u4e8e\u7070\u7684\u90e8\u5206\u8fdb\u884c\u4eba\u5ba1\u786e\u8ba4</li> </ul> <p>\u611f\u77e5\u7814\u5224\u94fe\u8def</p> <ul> <li>\u611f\u77e5\uff1a\u901a\u8fc7\u7528\u6237\u8d1f\u5411\u53cd\u9988\u3001\u5ba1\u6838\u540c\u5b66\u4e3e\u624b\u7b49\u53ec\u56de\u95ee\u9898</li> <li>\u7814\u5224\uff1a\u5bf9\u611f\u77e5\u5230\u7684\u95ee\u9898\uff0c\u8fdb\u884c\u95ee\u9898\u5224\u5b9a\uff0c\u6d41\u8f6c\u6cbb\u7406\uff0c\u8fdb\u884c\u7ba1\u63a7\u548c\u89c4\u5219\u8fed\u4ee3</li> </ul>"},{"location":"cs-life/system_design/perception_judge/perception_summary/#_3","title":"\u6f14\u53d8\u8fc7\u7a0b","text":"<p>\u63a5\u624b\u524d</p> <ul> <li>\u65e7\u611f\u77e5\u7814\u5224\u4ea7\u54c1\uff1a\u6c89\u6dc0\u4e86\u4e00\u5957\u901a\u7528\u5316\u7684\u611f\u77e5\u7814\u5224\u5e73\u53f0\uff0c\u4f46\u6280\u672f\u4ef7\u503c\u9ad8\uff0c\u4e1a\u52a1\u4f7f\u7528\u8f83\u5c11</li> </ul> <p>\u63a5\u624b\u540e</p> <ul> <li>\u7fa4\u4f53\u611f\u77e5\u7b56\u7565\uff1a\u5e73\u53f0\u5185\u56e2\u4f19\u95ee\u9898\u9891\u53d1\uff0c\u9020\u6210\u8f83\u4e3a\u6076\u52a3\u7684\u95ee\u9898\uff0c\u5c1d\u8bd5\u901a\u8fc7\u7fa4\u4f53X\u6307\u6807\u5f02\u52a8\u7684\u65b9\u5f0f\u53ec\u56de\u56e2\u4f19Case</li> <li>\u7fa4\u4f53\u611f\u77e5\u5e73\u53f0\uff1a\u8bbe\u8ba1\u5e76\u843d\u5730\u4e86\u7fa4\u4f53X\u6307\u6807\u5f02\u52a8\u7684\u5e73\u53f0\uff0c\u5e38\u6001\u5316\u53ec\u56de\u95ee\u9898\u7ecf\u7814\u53d1\u7814\u5224\u540e\u63a8\u9001\u7ed9\u6cbb\u7406\u4e1a\u52a1\u7ba1\u63a7</li> <li>\u7814\u5224\u5de5\u4f5c\u53f0\uff1a\u8bbe\u8ba1\u5e76\u843d\u5730\u4e86\u7814\u5224\u5de5\u4f5c\u53f0\uff0c\u63d0\u5347\u7814\u5224\u95ee\u9898\u6548\u7387\uff0c\u6536\u655b\u7ebf\u4e0a\u4e1a\u52a1\u95ee\u9898\u7814\u5224</li> <li>\u667a\u80fd\u5316\u7814\u5224\uff1a\u4e3a\u8fdb\u4e00\u6b65\u63d0\u5347\u7814\u5224\u95ee\u9898\u6548\u7387\uff0c\u8d34\u5408\u5ba1\u6838\u57fa\u5730\u4eba\u5de5\u7814\u5224\u94fe\u8def\uff0c\u901a\u8fc7\u5927\u6a21\u578b\u52a9\u529b\u667a\u80fd\u5316\u7814\u5224</li> </ul> <p>\u672a\u6765\u89c4\u5212</p> <ul> <li>\u667a\u80fd\u5316\u611f\u77e5\uff1a\u5e73\u53f0\u91cd\u5fc3\u8c03\u6574\u4e3a\u7ba1\u63a7\u5e95\u7ebf\u95ee\u9898\uff0c\u5bfc\u81f4\u98ce\u9669\u655e\u53e3\u8f83\u591a\uff0c\u63a2\u7d22\u57fa\u4e8e\u5927\u6a21\u578b\u6316\u6398Cpo\u3001\u62c9\u94c3\u3001\u552e\u540e\u5de5\u5355\u4e2d\u7a81\u51fa\u95ee\u9898\uff0c\u63d0\u5347\u95ee\u9898\u611f\u77e5\u65f6\u6548</li> </ul>"},{"location":"cs-life/system_design/perception_judge/perception_summary/#_4","title":"\u4e1a\u52a1\u4f7f\u7528","text":""},{"location":"cs-life/system_design/perception_judge/perception_summary/#_5","title":"\u611f\u77e5","text":"<p>\u5e38\u89c1\u7684\u611f\u77e5\u7b56\u7565</p> <ul> <li>\u6307\u6807\u5f02\u52a8\u5927\uff1a\u53ec\u56de\u4e3b\u4f53\uff08\u5546\u54c1\u3001\u76f4\u64ad\u95f4\u3001\u77ed\u89c6\u9891\uff09\u8d1f\u5411\u6307\u6807\u73af\u6bd4\u6ce2\u52a8\u5927\u7684</li> <li>Top\u95ee\u9898\uff1a\u8d1f\u5411\u6307\u6807Top\u884c\u4e1a\uff0c\u5bf9\u5e94\u7684\u8d1f\u5411\u6307\u6807Top\u4e3b\u4f53\uff08\u4f5c\u8005\u3001\u5e97\u94fa\u3001\u76f4\u64ad\u95f4\u3001\u5546\u54c1\uff09</li> <li>\u9ed1Case\u6269\u6e90\uff1a\u57fa\u4e8e\u4e3b\u4f53\u3001\u7fa4\u4f53\u7ef4\u5ea6\u76f8\u4f3c\u6269\u6e90\uff1b\u57fa\u4e8e\u9ed1Case\u7684\u7279\u5f81\u56de\u626b</li> </ul>"},{"location":"cs-life/system_design/perception_judge/perception_summary/#_6","title":"\u7814\u5224","text":"<p>\u5e38\u89c1\u7684\u7814\u5224\u6a21\u5f0f</p> <ul> <li>\u5355Case\u7814\u5224\uff1a\u4e00\u4e2a\u4e3b\u4f53\u7684\u7814\u5224</li> <li>\u56e2\u4f19\u7814\u5224\uff1a\u4e00\u7c7b\u76f8\u4f3c\u4e3b\u4f53\u7684\u7814\u5224</li> <li>\u5f52\u56e0\u7814\u5224\uff1a\u5148\u7531A\u56e2\u961f\u7814\u5224\uff0c\u7814\u5224\u5b8c\u7684\u63a8\u9001B\u56e2\u961f\u8fdb\u884c\u590d\u6838\u786e\u8ba4</li> </ul>"},{"location":"cs-life/system_design/perception_judge/perception_summary/#_7","title":"\u7cfb\u7edf\u67b6\u6784","text":""},{"location":"cs-life/system_design/perception_judge/perception_summary/#_8","title":"\u7fa4\u4f53\u611f\u77e5\u5e73\u53f0","text":"<p>\u6838\u5fc3\u5efa\u8bbe</p> <ul> <li>\u7fa4\u4f53\u5173\u7cfb\u5efa\u8bbe\uff1a\u57fa\u4e8e\u8bc1\u53f7\uff0cip/did\uff0c\u552e\u540e\u5730\u5740\u7b49\u7269\u7406\u4ecb\u8d28\uff0c\u5b8c\u6210\u7fa4\u4f53\u5173\u7cfb\u6784\u5efa\uff0c\u4e3a\u7fa4\u4f53\u7b56\u7565\u843d\u5730\u63d0\u4f9b\u57fa\u7840\u3002</li> <li>\u7fa4\u4f53\u7b56\u7565\u5e73\u53f0\uff1a\u7fa4\u4f53\u7b56\u7565\u5e73\u53f0\u4ea7\u54c1\u5316\uff0c\u652f\u6301\u7fa4\u4f53\u5708\u9009\u3001\u7fa4\u4f53\u7279\u5f81\u52a0\u5de5\u3001\u7fa4\u4f53\u7b56\u7565\u914d\u7f6e\u7b49\u3002\u76ee\u524d\u5df2\u5728\u8be5\u5e73\u53f0\u843d\u5730\u591a\u4e2a\u7fa4\u4f53\u7b56\u7565\uff0c\u7814\u5224\u5206\u6790\u591a\u4e2a\u5178\u578bcase\u3002</li> </ul> <p></p> \u7b56\u7565\u793a\u4f8b \u7b56\u7565\u901a\u77e5"},{"location":"cs-life/system_design/perception_judge/perception_summary/#_9","title":"\u7814\u5224\u5de5\u4f5c\u53f0","text":"<p>\u7814\u5224\u5e73\u53f0\u627f\u8f7d\u4e86\u5546\u5bb6\uff0c\u5546\u54c1\uff0c\u8fbe\u4eba\uff0c\u5185\u5bb9\u7684\u4fe1\u606f\u805a\u5408\u80fd\u529b\uff0c\u5305\u542b\u4e86Case\u751f\u6210-\u5206\u6790-\u6d41\u8f6c-\u5904\u7f6e\u7b49\u9636\u6bb5</p> <p>\u7814\u5224\u5de5\u4f5c\u53f0\u67b6\u6784\u56fe</p> <p></p> \u7c7b\u578b \u4e3b\u4f53 \u5bf9\u8c61 \u5546\u5bb6\u56e2\u4f19\u7814\u5224 \u8fbe\u4eba\u56e2\u4f19\u7814\u5224"},{"location":"cs-life/system_design/perception_judge/perception_summary/#_10","title":"\u667a\u80fd\u5316\u7814\u5224","text":"<p>\u591a\u4fe1\u6e90\u7814\u5224\u94fe\u8def</p> <p></p> <p>\u667a\u80fd\u5316\u7814\u5224\u65b9\u6848\u8bbe\u8ba1\uff0c\u4ee5\u865a\u5047\u5ba3\u4f20\u573a\u666f\u4e3a\u4f8b</p> \u9636\u6bb5 \u7c7b\u578b \u4ecb\u7ecd \u5355Case\u7814\u5224 \u521d\u5224 \u7528\u6237\u53cd\u9988\u6709\u6548\u6027\u5224\u5b9a\uff08\u7ed3\u5408\u57fa\u7840\u4fe1\u606f\u6838\u5b9e\u7528\u6237\u53cd\u9988\u662f\u5426\u5c5e\u5b9e\u3001\u63d0\u53d6\u5171\u6027\u95ee\u9898\u70b9\uff09 \u5355Case\u7814\u5224 \u7cbe\u5224 \u8fdd\u89c4\u624b\u6cd5\u5224\u5b9a\uff08\u7ed3\u5408\u521d\u5224\u6709\u6548\u7684\u7528\u6237\u53cd\u9988\u4fe1\u606f\u3001\u7814\u5224\u76f4\u64ad\u95f4\u4fe1\u606f\u7684\u8fdd\u89c4\u624b\u6cd5 \u805a\u7c7b\u7814\u5224 Case\u6bd4\u5bf9 \u540c\u884c\u4e1a\u4e0b\u5355Case\u4e24\u4e24\u6bd4\u5bf9\uff0c\u751f\u6210\u76f8\u4f3c\u5206\u3002\u901a\u8fc7\u5212\u5206\u76f8\u4f3c\u5206\u9608\u503c\uff0c\u5c06\u76f8\u4f3cCase\u805a\u7c7b \u805a\u7c7b\u7814\u5224 \u805a\u7c7b\u62a5\u544a \u5bf9\u805a\u7c7b\u540e\u7684\u76f8\u4f3cCase\u8fdb\u884c\u805a\u7c7b\u624b\u6cd5\u63cf\u8ff0 <p></p>"},{"location":"cs-life/system_design/sentry/sentry/","title":"\u54e8\u5175","text":""},{"location":"cs-life/system_design/sentry/sentry/#_2","title":"\u8f6e\u8be2\u89c4\u5219","text":"<p>(\u6761\u4ef61 = true &amp;&amp; \u6761\u4ef62 = false) || (\u6761\u4ef63 = false || \u6761\u4ef64 = true)</p> <p>\u6761\u4ef6\u662f\u901a\u8fc7\u5e76\u53d1\u52a0\u8f7d\u7684\u3002</p> <p>\u7406\u8bba\u4e0a \u6761\u4ef64=true \u52a0\u8f7d\u5b8c\uff0c\u6574\u4e2a\u89c4\u5219\u8868\u8fbe\u5f0f\u5c31\u4e3atrue\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fd4\u56de\u4e0a\u6e38\u4e86\uff0c\u4e0d\u9700\u8981\u7ee7\u7eed\u7b49\u5f85\u6761\u4ef61\uff0c\u6761\u4ef62\uff0c\u6761\u4ef63\u7684\u60c5\u51b5</p> <p>\u8fd9\u91cc\u662f\u901a\u8fc7\u52a0\u4e86\u4e2a unkown \u7684\u8fd0\u7b97\u7b26\uff0c</p> <p>unkown &amp;&amp; unkown = unkown unkown &amp;&amp; true = unkown unkown || true = true unkown || false = unkown</p>"},{"location":"cs-life/system_design/sturnus/sturnus/","title":"\u6027\u80fd\u6d4b\u8bd5\u5e73\u53f0","text":""},{"location":"cs-life/system_design/sturnus/sturnus/#_2","title":"\u6982\u89c8","text":"<p>\u6027\u80fd\u6d4b\u8bd5\u5e73\u53f0\u7ecf\u5386\u4e86\u4e24\u4e2a\u5927\u7248\u672c\u8fed\u4ee3</p> <ul> <li>sturnus\uff0c\u652f\u6491\u516c\u53f8\u5404\u4ea7\u54c1\u7ebf\u7684\u6027\u80fd\u6d4b\u8bd5\uff0c\u964d\u4f4e\u4f7f\u7528\u95e8\u69db\uff0c\u63d0\u5347\u6d4b\u8bd5\u6548\u7387\u3002</li> <li>arcus\uff0c\u501f\u52a9 k8s \u80fd\u529b\uff0c\u90e8\u7f72\u4e3a\u5de5\u5177\uff0c\u8d44\u6e90\u5206\u914d\u66f4\u5408\u7406\u3002</li> </ul> <p>\u538b\u6d4b\u5e73\u53f0\uff0c\u6700\u6838\u5fc3\u7684\u529f\u80fd\u4e3b\u8981\u6709\uff1a\u6570\u636e\u6784\u9020\u3001\u4efb\u52a1\u8c03\u5ea6\u3001\u538b\u6d4b\u7194\u65ad\u3001\u538b\u6d4b\u5f15\u64ce\u3001\u538b\u6d4b\u76d1\u63a7\u7b49\u3002</p> / \u540d\u8bcd\u89e3\u91ca coordinator \u8c03\u5ea6\u8005\uff0c\u52a0\u8f7d\u6027\u80fd\u573a\u666f\u6570\u636e\uff0c\u53d1\u8d77\u6574\u4e2a\u6027\u80fd\u6d4b\u8bd5\u4efb\u52a1\u3002 worker \u538b\u529b\u5f15\u64ce\uff0c\u652f\u6301 HTTP / SDK \u534f\u8bae collector \u63d0\u4f9b\u672c\u6b21\u4efb\u52a1\u6240\u6709worker\u7684\u6570\u636e\u6c47\u603b\u8ba1\u7b97\uff0c\u751f\u6210\u66f2\u7ebf\u56fe\u6570\u636e\u5e76\u5c06\u8be6\u7ec6\u6570\u636e\u5b58\u5165mongodb\u548cinfluxdb project \u7ba1\u7406\u7528\u6237\u7684\u6570\u636e\uff0c\u5305\u62ec\u53d8\u91cf\uff0c\u811a\u672c\uff0c\u7528\u4f8b\uff0c\u573a\u666f <p>\u4f9d\u8d56\u7684\u4e2d\u95f4\u4ef6\u6709 <code>Kafka</code>, <code>Redis</code>, <code>Mysql</code>, <code>MongoDB</code>, <code>ElasticSearch</code></p> <p></p>"},{"location":"cs-life/system_design/sturnus/sturnus/#_3","title":"\u670d\u52a1\u8bbe\u8ba1","text":""},{"location":"cs-life/system_design/sturnus/sturnus/#_4","title":"\u65f6\u5e8f\u56fe","text":"<p>\u6574\u4f53\u7684\u65f6\u5e8f\u56fe</p> <p></p>"},{"location":"cs-life/system_design/sturnus/sturnus/#coordinator","title":"Coordinator","text":""},{"location":"cs-life/system_design/sturnus/sturnus/#_5","title":"\u8981\u89e3\u51b3\u7684\u95ee\u9898","text":"<ol> <li>\u901a\u8fc7\u6ce8\u518c\u4e2d\u5fc3\uff0c\u83b7\u53d6\u5230\u6240\u6709\u540c\u4efb\u52a1\u7ec4\u7684workers\u7684\u72b6\u6001<ul> <li>\u5b9e\u65f6\u83b7\u53d6\u5404\u4e2aworker\u7684qps\uff0c\u5bf9\u65b0\u4efb\u52a1\u5206\u914d\u5b50\u4efb\u52a1\u5230\u591a\u4e2aworker\u4e0a\uff08\u8c03\u5ea6\uff09</li> </ul> </li> <li>\u901a\u8fc7 Quartz \u8fdb\u884c\u5b9a\u65f6\u4efb\u52a1\u7684\u8c03\u5ea6\uff0c\u4f9d\u8d56 MySQL \u6301\u4e45\u5316\u5b9a\u65f6\u4efb\u52a1\u3002</li> <li>\u8fd0\u884c\u573a\u666f\u65f6\uff0c\u5c06worker\u9700\u8981\u7684\u914d\u7f6e\u4fe1\u606f\u51c6\u5907\u597d\uff0c\u53d1\u5f80worker\uff08\u51cf\u5c11worker\u7684\u4f9d\u8d56\uff0c\u589e\u52a0worker\u7684\u7a33\u5b9a\u6027\uff09</li> </ol>"},{"location":"cs-life/system_design/sturnus/sturnus/#http","title":"\u5bf9\u5916\u63d0\u4f9bHTTP\u63a5\u53e3","text":"<ul> <li>\u8fd0\u884c\u573a\u666f\u3001\u505c\u6b62\u573a\u666f startScene / stopScene</li> <li>\u573a\u666f\u589e\u52a0\u3001\u51cf\u5c11 \u538b\u529b increase / reduce</li> <li>\u83b7\u53d6\u573a\u666f\u8fd0\u884c\u76d1\u63a7\u6570\u636e sceneSummary \uff08\u901a\u8fc7collector\u6765\u83b7\u53d6\u6570\u636e\uff09</li> </ul>"},{"location":"cs-life/system_design/sturnus/sturnus/#worker","title":"Worker","text":""},{"location":"cs-life/system_design/sturnus/sturnus/#_6","title":"\u8981\u89e3\u51b3\u7684\u95ee\u9898","text":"<ol> <li>\u6784\u9020\u6570\u636e\uff0c\u5bf9 request header / body \u8fdb\u884c\u66ff\u6362\u3002<ul> <li>\u4f9d\u8d56 Redis \u751f\u6210\u5168\u5c40\u3001\u6301\u4e45\u53d8\u91cf\u3002(\u7528\u6237\u7ec4\u95f4\u5171\u4eab\u4f7f\u7528)</li> </ul> </li> <li>\u901a\u8fc7 BIO \u7684\u65b9\u5f0f\uff0c\u8c03\u7528http / rpc client \u53d1\u51fa\u538b\u529b \uff08\u8fde\u63a5\u6c60\u4f18\u5316\uff09</li> <li>\u5c06\u6027\u80fd\u6d4b\u8bd5\u8fc7\u7a0b\u6570\u636e\u53d1\u5f80collector\uff0c\u7531collector\u8fdb\u884c\u6c47\u603b\u8ba1\u7b97</li> <li>\u63d0\u4f9b\u7a33\u5b9aQPS \u548c \u975e\u7a33\u5b9aQPS</li> </ol>"},{"location":"cs-life/system_design/sturnus/sturnus/#_7","title":"\u5bf9\u5916\u63d0\u4f9b\u63a5\u53e3","text":"<ul> <li>\u5f53\u524dworker\u5269\u4f59QPS qpsRemain</li> <li>\u5355\u4efb\u52a1\u8fd0\u884c\uff0c\u6682\u505c\uff0c\u72b6\u6001\uff0cstart / stop / status <ul> <li>\u4efb\u52a1\u751f\u547d\u5468\u671f\u7ba1\u7406</li> <li>/pre/start, /pre/stop,/pre/status</li> <li>/post/start, /post/stop, /post/status</li> </ul> </li> <li>\u670d\u52a1\u8c03\u8bd5\uff0c\u72b6\u6001\u5feb\u7167  debug</li> <li>\u5065\u5eb7\u68c0\u67e5  liveness\uff0creadness</li> </ul>"},{"location":"cs-life/system_design/sturnus/sturnus/#qps","title":"\u7a33\u5b9a/\u975e\u7a33\u5b9aQPS","text":"<p>\u975e\u7a33\u5b9aQPS </p> <p>QPS\u4e0e\u54cd\u5e94\u65f6\u95f4\u7684\u6ce2\u52a8\u76f8\u53cd\uff0c\u5373pct99\u8d8a\u9ad8\uff0cQPS\u8d8a\u4f4e\uff0cpct99 \u8d8a\u4f4e\uff0cQPS\u8d8a\u9ad8</p> <pre><code>for req in reqs {\n    resp, err := client.Send(req) // block until resp received\n}\n</code></pre> <p>\u7a33\u5b9aQPS\uff0c\u56fa\u5b9a\u65f6\u95f4\u6bb5\u53d1\u51fa\u56fa\u5b9a\u7684\u8bf7\u6c42\uff0c\u6bd4\u5982\u4e00\u79d2\u53ea\u53d11000\u7684\u8bf7\u6c42\u3002</p> <pre><code>for req in reqs {\n    go send(req)\n}\n\nfunc send(req) {\n    limiter.Acquire() // \u83b7\u53d6\u4ee4\u724c\u6876\u7684\u4ee4\u724c\uff08\u6bd4\u59821s\u53ea\u53d11000\u8bf7\u6c42\uff0c\u53d1\u52301001\u4e2a\u8bf7\u6c42\uff0c\u5f53\u524d\u65f6\u523b\u5c31\u83b7\u53d6\u4e0d\u5230\uff09\n    resp, err := client.Send(req) // block until resp received\n}\n</code></pre>"},{"location":"cs-life/system_design/sturnus/sturnus/#collector","title":"Collector","text":""},{"location":"cs-life/system_design/sturnus/sturnus/#_8","title":"\u8981\u89e3\u51b3\u7684\u95ee\u9898","text":"<ul> <li>\u63a5\u6536worker\u53d1\u6765\u7684\u6570\u636e\uff0c\u8fdb\u884c\u6c47\u603b\uff0c\u6301\u4e45\u5316\u5230 influxdb \u548c mongoDB <ul> <li>\u6570\u636e\u91cf\u592a\u5927\u7684\u60c5\u51b5\u4e0b influxdb \u7b97\u51fa\u7684\u6570\u636e\u5feb\u7167\u5b58 mongoDB \u4e00\u4efd</li> </ul> </li> <li>\u5c06\u5168\u91cf\u7684\u6027\u80fd\u6570\u636e\u5168\u90e8\u843d\u5230 influxdb\uff0c\u4f1a\u625b\u4e0d\u4f4f\u3002<ul> <li>\u672c\u5730merge\u6027\u80fd\u6570\u636e\uff0c\u591a\u8282\u70b9\u6570\u636e\u901a\u8fc7redis\u8fdb\u884cmerge\uff0c\u6700\u7ec8\u5c06\u6bcf\u79d2\u7684\u6570\u636e\u843d\u5230 influxdb</li> </ul> </li> </ul>"},{"location":"cs-life/system_design/sturnus/sturnus/#_9","title":"\u5bf9\u5916\u63a5\u53e3","text":"<ul> <li>\u83b7\u53d6qps\uff0cqps</li> <li>\u65f6\u5ef6\u6570\u636e\uff0clatency</li> <li>\u865a\u62df\u7528\u6237\u6570\u636e\uff0cvuser</li> </ul>"},{"location":"cs-life/system_design/sturnus/sturnus/#_10","title":"\u6570\u636e\u7edf\u8ba1\u65b9\u5f0f","text":"<ul> <li>QPS\u8ba1\u7b97\u89c4\u5219<ul> <li>\u7edf\u8ba1\u6bcf\u79d2\u8fd4\u56de\u7684\u54cd\u5e94\u6570</li> </ul> </li> <li>Latency\u8ba1\u7b97\u89c4\u5219<ul> <li>\u6c47\u603b1\u79d2\u5185\u6240\u6709\u7684Latency\u6570\u636e\uff0c\u4f7f\u7528\u6876\u6392\u5e8f\u7b97\u6cd5\u5206\u522b\u8ba1\u7b97\u6700\u5927\uff0c\u6700\u5c0f\uff0c\u5747\u503c\u548c\u767e\u5206\u6bd4\u503c\u3002</li> </ul> </li> <li>\u65f6\u5e8f\u56fe\u6570\u636e\u70b9\u5408\u5e76<ul> <li>\u5f53\u56fe\u4e2d\u7684\u6570\u636e\u70b9\u8d85\u8fc7\u4e00\u5b9a\u6570\u91cf\u65f6\uff0c\u9700\u8981\u7f29\u51cf\u6570\u636e\u70b9\u7684\u89c4\u6a21\uff0c\u9632\u6b62\u6570\u636e\u81a8\u80c0\uff0c\u5f71\u54cd\u524d\u540e\u7aef\u6027\u80fd\u3002\u4e0e\u76f8\u90bb\u7684\u70b9\u8fdb\u884c\u5408\u5e76\uff0c\u540c\u65f6\u52a0\u5927\u65b0\u589e\u70b9\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u66f2\u7ebf\u4f1a\u53d8\u7684\u5e73\u6ed1\uff0c\u4f46\u4f9d\u7136\u80fd\u53cd\u5e94\u51fa\u6574\u4f53\u53d8\u5316\u8d8b\u52bf\u3002</li> </ul> </li> </ul> <p>\u5408\u5e76\uff08merge\uff09\u65b9\u5f0f <code>avg_latency * size + this_latency / (size + 1)</code></p>"},{"location":"cs-life/system_design/sturnus/sturnus/#_11","title":"\u7591\u95ee","text":""},{"location":"cs-life/system_design/sturnus/sturnus/#1-collectorpct99","title":"1. collector\u5982\u4f55\u8ba1\u7b97pct99\uff1f","text":"<p>\u6876\u6392\u5e8f</p> <p>\u6bd4\u5982\u8ba1\u7b97pct99\uff0c\u4f2a\u4ee3\u7801\u5982\u4e0b</p> <pre><code>sortedMap := desendMap&lt;int, int&gt;  \n// key\u4e3alantency\uff0c\u6bd4\u598299\uff0c\u8868\u793a0.099\u79d2\n// val\u4e3a\u5f53\u524dlantency \u51fa\u73b0\u6b21\u6570\n// map\u662f\u4ee5key\u4e3a\u964d\u5e8f\u7684\uff0ceg. {1000:1, 999:2, 100:3}\n\npct := 99  // \u4f8b\u5982\u8981\u8ba1\u7b97 pct99\nfunc calc(sortedMap, pct) int {\n    pos = (mp.count() * (100 - 99)) / 100   // =&gt; \u83b7\u53d6 1% \u7684\u4f4d\u7f6e\n    index := 0\n    for k, v in sortedMap {\n        index += v\n        if index == pos {\n            return k\n        }\n    }\n    return -1\n}\n</code></pre>"},{"location":"cs-life/system_design/sturnus/sturnus/#2-qps","title":"2. \u6027\u80fd\u76d1\u63a7 \u548c  \u88ab\u538b\u670d\u52a1\u7684QPS\u5bf9\u4e0d\u4e0a\uff0c\u5b58\u5728\u4e22\u6570\u636e","text":"<ol> <li>\u751f\u4ea7\u8005\uff0cworker\u5c06\u6027\u80fd\u8fc7\u7a0b\u6570\u636e\u653e\u5165\u5230\u672c\u5730\u961f\u5217\u4e2d\uff0c\u540e\u53f0\u542f\u52a8\u5b88\u62a4\u7ebf\u7a0b\u53bb\u628a\u672c\u5730\u961f\u5217\u91cc\u6570\u636e\u63d0\u4ea4kafka\u4e2d\uff08\u7531\u4e8eactive\u8fc7\u9ad8\uff0c\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u8f83\u6162\uff0c\u5bfc\u81f4\u53d1\u9001\u6162\uff09</li> <li>\u7531\u4e8ekafka\u8fd8\u88ab\u7528\u6765\u505a\u65e5\u5fd7\u91c7\u96c6\uff0c\u5728\u8bf7\u6c42\u51fa\u9519\u65f6\uff0c\u5927\u91cf\u9519\u8bef\u5806\u6808\u8fdbkafka\u4f1a\u5bfc\u81f4kafka\u538b\u529b\u592a\u5927 \uff08\u4f18\u5316\u5206\u79bbkafka\u65e5\u5fd7\u7edf\u8ba1 \u548c \u8ba1\u7b97\u529f\u80fd\uff09</li> <li>\u6d88\u8d39\u8005\uff0ccollector\u6d88\u8d39\u5806\u79ef<ul> <li>\u53ef\u80fd\u672c\u5730merge\u8ba1\u7b97\u6570\u636e\u8f83\u591a\uff0c\u5bfc\u81f4\u90e8\u5206\u6162\u8282\u70b9\u6ca1\u7b97\u5b8c\uff0c\u6570\u636e\u5df2\u7ecfmerge\u8fdb influxdb \u4e86</li> <li>\u7f51\u7edc\u6296\u52a8\uff0ccollector\u63a5\u6536\u5230\u6d88\u606f\u65f6\uff0c\u6570\u636e\u4e5f\u53ef\u80fd\u5df2\u7ecf\u88abmerge\u5230 influxdb \u4e86</li> </ul> </li> </ol>"},{"location":"cs-life/system_design/sturnus/sturnus/#3-qps","title":"3. QPS\u8c03\u5ea6\u7b97\u6cd5","text":"<p>\u7406\u60f3\u60c5\u51b5</p> <ol> <li>\u6bcf\u53f0\u673a\u5668\u901a\u8fc7 \u7f51\u5361IO\u3001\u78c1\u76d8\u4f7f\u7528\u7387\u3001\u5185\u5b58\u3001cpu\u4f7f\u7528\u7387\u3001\u7ebf\u7a0b\u6c60\u5f53\u524d\u6d3b\u8dc3\u7ebf\u7a0b\u6570\u3001\u8ba1\u7b97\u5f53\u524d\u53ef\u652f\u6301\u7684QPS \uff08\u62bd\u8c61\u6210\u4e00\u4e2a\u4e00\u7ef4\u6307\u6807\uff09</li> <li>coordinator \u83b7\u53d6\u5230\u6240\u6709 workers \u7684 \u5269\u4f59QPS\uff0c<code>sort(workers, func(i, j) {return worker[i].Qps &gt; worker[j].Qps})</code></li> <li>\u5047\u8bbe\u9700\u8981qps <code>N</code>, \u5bfb\u627e\u4f4d\u7f6e<code>i</code>\uff0c\u6ee1\u8db3<code>(i * qps[i]) &gt;= N</code>\uff0c\u7136\u540e <code>{0,1,2..i}</code>\u7684worker\u5404\u81ea\u6263\u9664 <code>qps[i]</code></li> </ol>"},{"location":"cs-life/system_design/sturnus/sturnus/#4-worker-redis","title":"4. worker \u6784\u9020\u6570\u636e\u5bf9 Redis \u538b\u529b\u5f88\u5927","text":""},{"location":"cs-life/system_design/sturnus/sturnus/#41","title":"4.1 \u81ea\u589e\u53d8\u91cf","text":"<p>\u6700\u521d\u65b9\u6848</p> <ul> <li>\u6bd4\u5982\u81ea\u589e\u53d8\u91cf\uff0c\u6bcf\u6b21\u8c03\u7528redis <code>incr key</code>\uff0c\u5728\u9ad8qps\u7684\u60c5\u51b5\u4e0b\uff0credis\u7ecf\u5e38\u5bb9\u6613\u51fa\u73b0 Timeout</li> </ul> <p>\u4f18\u5316\u65b9\u6848 batch io\u64cd\u4f5c</p> <ul> <li>\u91c7\u7528batch\u64cd\u4f5c\uff0c\u6bcf\u6b21\u8c03\u7528redis <code>incr key 100</code>\u3002\u5177\u4f53\u8981\u52a0\u591a\u5c11\uff0c\u4f9d\u8d56\u8fc7\u53bb\u7684qps\uff0c\u548c\u88ab\u538b\u670d\u52a1\u7684\u8d1f\u8f7d\u3002</li> </ul>"},{"location":"cs-life/system_design/sturnus/sturnus/#42","title":"4.2 \u6301\u4e45\u53d8\u91cf","text":"<p>\u573a\u666f\uff1a\u538b\u6d4b kv \u670d\u52a1\uff0c\u4f1a\u6709worker\u6267\u884c\u5b58\u56fe\u7247\uff0c\u5c06\u56fe\u7247\u7684key\u5199\u5165\u5230redis\u4e2d\uff0c\u53e6\u5916\u6709worker\u6267\u884c\u6839\u636ekey\u8bfb\u53d6\u56fe\u7247\u5185\u5bb9\uff0c\u5224\u65ad\u80fd\u5426\u8bfb\u51fa\u3002</p> <p>\u6700\u521d\u65b9\u6848</p> <ul> <li>\u5c06\u56fe\u7247\u7684key \u5b58\u4e3a list\uff0c\u6bcf\u6b21\u5199\u5165\uff0c\u4e3a<code>append key</code>, \u6bcf\u6b21\u8bfb\u53d6\uff0c\u4e3a<code>pop key</code>\u3002</li> </ul> <p>\u5f88\u5bb9\u6613\u51fa\u73b0\u5927key\uff0c\u5bfc\u81f4 Timeout</p> <p>\u4f18\u5316\u65b9\u6848 \u5efa\u7acb\u4e8c\u7ea7\u7d22\u5f15</p> <ol> <li>\u4e00\u7ea7\u7d22\u5f15 <code>{timestamp, batch_keys}</code> \u6bcf\u79d2\u5b58\u4e00\u4e2astring\uff0c\u8fd9\u4e2a string \u4e3a\u4e8c\u7ea7\u7d22\u5f15\u7684key</li> <li>\u4e8c\u7ea7\u7d22\u5f15 <code>batch_keys</code> -&gt; <code>{obj_1, obj_2, ... obj_n }</code>\uff0c\u53d6\u5230 obj_xx\uff0c\u8bbf\u95eekv\u670d\u52a1\u80fd\u62ff\u5230\u56fe\u7247\u7684\u5185\u5bb9</li> </ol>"},{"location":"cs-life/system_design/sturnus/sturnus/#43-csv","title":"4.3 CSV \u53d8\u91cf","text":"<p>\u6700\u521d\u65b9\u6848</p> <ul> <li>\u5c06csv\u6587\u4ef6\u5185\u5bb9\u653e\u5230redis\u4e2d\uff0c\u907f\u514d\u52a0\u8f7dcsv\u592a\u8017\u65f6\uff0c\u4f46\u662f\u8bfb\u53d6csv\u6587\u4ef6\u5185\u5bb9 \u4e5f\u5f88\u5bb9\u6613timeout</li> </ul> <p>\u4f18\u5316\u65b9\u6848 </p> <ul> <li>\u540c\u81ea\u589e\u53d8\u91cf\uff0c\u589e\u52a0\u4e86 <code>dataPool</code>\uff0c\u91c7\u7528\u751f\u4ea7\u8005-\u6d88\u8d39\u8005\u6a21\u578b\uff0c\u63d0\u524d\u9884\u52a0\u8f7d csv\u90e8\u5206\u884c\u5185\u5bb9\uff0c</li> </ul> <p>\u7406\u60f3\u65b9\u6848</p> <ul> <li>\u6240\u6709worker\u5171\u4eab\u4e00\u4e2a\u5206\u5e03\u5f0f\u5b58\u50a8\uff0c\u573a\u666f\u521d\u59cb\u5316\u4e2d\uff0c\u672c\u5730\u7f13\u5b58\u8be5csv\u6587\u4ef6\uff0credis\u53ea\u7ef4\u62a4\u8ba1\u6570\u5668\u3002</li> </ul>"},{"location":"enjoy/work_feature/","title":"Work feature","text":"<p>\u7b51\u57fa\u671f</p> <ul> <li>\u9ad8\u8d28\u9ad8\u6548\u4ea4\u4ed8\u9700\u6c42</li> <li>\u8d44\u6e90\u603b\u662f\u6709\u9650\u7684\uff0c\u6240\u6709\u4eba\u7684\u53d1\u5c55\u8bc9\u6c42\u4e0e\u8d44\u6e90\u7684\u6709\u9650\u6027\u662f\u59cb\u7ec8\u5b58\u5728\u7684\u77db\u76fe\u3002\u90a3\u4e48\u6709\u9650\u7684\u8d44\u6e90leader\u4f1a\u5982\u4f55\u5206\u914d\u5462\uff1f\u5f53\u7136\u662f\u5206\u914d\u7ed9\u90a3\u4e9b\u624b\u5934\u5de5\u4f5c\u5b8c\u6210\u5ea6\u8d85\u9884\u671f\u7684\u4eba\u554a</li> </ul> <p>\u600e\u4e48\u8d85\u9884\u671f\u4ea4\u4ed8\u5462\uff1f</p> <p>\u6838\u5fc3\u4e24\u70b9\uff1a1.\u4ea4\u4ee3\u7684\u4e8b\u60c5\u662f\u5426\u505a\u5230\u4e86100\u5206\uff1f2.\u4ea4\u4ee3\u4e8b\u60c5\u4e4b\u5916\u6211\u80fd\u505a\u4ec0\u4e48\uff1f</p> <p>\u4ec0\u4e48\u53eb\u505a\u5230100\u5206\uff1f100\u5206\u5c31\u662f\u4f60\u628a\u81ea\u5df1\u4ee3\u5165\u4e00\u4e2a\u8ddf\u4f60\u6709\u8fc7\u8282\u7684\u4eba\uff0c\u4ece\u4ed6\u7684\u89d2\u5ea6\u770b\uff0c\u5b8c\u5168\u6311\u4e0d\u51fa\u4f60\u5de5\u4f5c\u7684\u6bdb\u75c5\uff0c\u8fd9\u5c31\u53eb100\u5206\u3002</p> <p>\u8fd9\u91cc\u5305\u62ec\u4e86\u9700\u6c42\u7684\u6c9f\u901a/\u7cfb\u7edf\u7684\u8bbe\u8ba1/\u6392\u671f\u7684\u534f\u8c03/\u4ee3\u7801\u7684\u7f16\u5199/\u8054\u8c03\u548c\u6d4b\u8bd5\u7684\u534f\u4f5c/\u4e0a\u7ebf\u7684\u6d41\u7a0b/\u4e0a\u7ebf\u540e\u7684\u7ef4\u62a4/\u6570\u636e\u7684\u89c2\u6d4b\u548c\u8ddf\u8e2a\u7b49\u7b49\u6574\u4e2a DevOps \u5168\u94fe\u8def\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u4ea4\u4ee3\u7684\u4e8b\u60c5\u4e4b\u5916\u6211\u53c8\u80fd\u505a\u4ec0\u4e48\u5462\uff1f\u8fd9\u4e2a\u5c31\u9700\u8981\u6211\u4eec\u505a\u300c\u6709\u5fc3\u4eba\u300d\u4e86\u3002\u6211\u4eec\u5728\u5de5\u4f5c\u4e2d\uff0c\u4e0d\u592a\u53ef\u80fd\u6240\u6709\u73af\u5883\u90fd\u662f\u7406\u60f3\u7684\u3002\u65e0\u8bba\u662f\u6c9f\u901a\u8fc7\u7a0b/\u534f\u4f5c\u8fc7\u7a0b\u8fd8\u662f\u5199\u4ee3\u7801\u7684\u8fc7\u7a0b\uff0c\u4e00\u5b9a\u4f1a\u9047\u5230\u5404\u79cd\u5404\u6837\u7684\u95ee\u9898\u3002\u53ef\u80fd\u662f\u6d41\u7a0b\u7684\u95ee\u9898/\u53ef\u80fd\u662f\u57fa\u5efa\u7684\u95ee\u9898\u7b49\u7b49\u3002\u8fd9\u4e9b\u95ee\u9898\uff0c\u4f60\u9047\u5230\u540e\u662f\u62b1\u6028\u4e00\u53e5\uff0c\u8fd8\u662f\u4f1a\u6df1\u5165\u601d\u8003\uff1f\u6709\u5fc3\u4eba\u603b\u662f\u4f1a\u7559\u610f\u5230\u8fd9\u4e9b\u95ee\u9898\uff0c\u5e76\u4e14\u4e0d\u65ad\u601d\u8003\uff0c\u4e0e\u540c\u5b66/\u670b\u53cb\u4ea4\u6d41\u8ba8\u8bba\uff0c\u751a\u81f3\u7f51\u4e0a\u641c\u7d22\u76f8\u5173\u7684\u95ee\u9898/\u8ba4\u8bc6\u548c\u89e3\u6cd5\u3002\u66f4\u8fdb\u4e00\u6b65\uff0c\u4f5c\u51fa\u4e00\u4e2a\u53ef\u80fd\u7684\u89e3\u6cd5\u4e0eleader\u8ba8\u8bba\uff0c\u5c1d\u8bd5\u843d\u5730\u4f18\u5316\u73b0\u6709\u7684\u6d41\u7a0b/\u57fa\u5efa\u3002\u4f60\u6362\u4f4d\u601d\u8003\u4e0b\uff0c\u4f60\u662fleader\uff0c\u4f60\u4f1a\u4e0d\u4f1a\u89c9\u5f97\u8d85\u9884\u671f\uff1f\u4ee5\u540e\u8d44\u6e90\u8981\u4e0d\u8981\u503e\u659c\uff1f</p> <p>\u505a\u5230\u8fd9\u4e00\u6b65\uff0c\u4f60\u4e8b\u4e1a\u53d1\u5c55\u5e94\u8be5\u662f\u6bd4\u8f83\u7a33\u59a5\u4e86\u3002\u4f46\u662f\u6211\u4eec\u8bf4\u7b51\u57fa\u671f\u6700\u91cd\u8981\u7684\u662f\u6253\u57fa\u7840\u561b\u3002\u9664\u4e86\u4e8b\u4e1a\u65b9\u9762\u7684\u57fa\u7840\uff0c\u8fd8\u6709\u4e00\u4e2a\u66f4\u52a0\u91cd\u8981\u7684\u57fa\u7840\uff0c\u5c31\u662f\u300c\u6280\u672f\u5e95\u5b50\u300d\uff0c\u4e5f\u662f\u8fd9\u4e2a\u65f6\u671f\u7684\u91cd\u4e2d\u4e4b\u91cd\u3002\u6211\u4eec\u5e38\u8bf4\uff1a\u6bd5\u4e1a\u540e3-5\u5e74\u662f\u6280\u672f\u63d0\u5347\u7684\u5173\u952e\u65f6\u671f\uff0c\u8bf4\u7684\u5c31\u662f\u8fd9\u4e2a\u7b51\u57fa\u671f\u3002</p> <p>\u90a3\u7b51\u57fa\u671f\u5982\u4f55\u6253\u8fd9\u4e2a\u300c\u6280\u672f\u5e95\u5b50\u300d\u5462\uff1f\u5176\u5b9e\u5927\u5bb6\u6216\u591a\u6216\u5c11\u90fd\u4f1a\u6709\u4e9b\u601d\u8def\uff0c\u4e0a\u7f51\u8bfe/\u770b\u4e66\u7c4d/\u641e\u5f00\u6e90\u9879\u76ee/\u770b\u535a\u5ba2/\u770b\u6587\u6863\u7b49\u7b49\u7b49\u3002\u8fd9\u4e9b\u90fd\u662f\u597d\u7684\u3002</p> <p>\u6211\u53ea\u9700\u63d0\u4e00\u70b9\uff1a\u6253\u57fa\u7840\u5207\u5fcc\u8d2a\u5feb\u3002\u6211\u9762\u8bd5\u4e2d\u89c1\u8fc7\u592a\u591a\u540c\u5b66\u82b1\u4e86\u5927\u91cf\u65f6\u95f4\uff0c\u4e1c\u5b66\u4e00\u70b9\u897f\u5b66\u4e00\u70b9\u3002\u6240\u5b66\u7684\u4e1c\u897f\u8fc7\u773c\u4e91\u70df\uff0c\u4ec0\u4e48\u540d\u8bcd\u90fd\u719f\u6089\uff0c\u4ec0\u4e48\u4e1c\u897f\u90fd\u4e0d\u771f\u7684\u4f1a\u3002\u8fd9\u4e2a\u65f6\u671f\u4e00\u5b9a\u8981\u628a\u773c\u5149\u653e\u957f\u8fdc\u4e00\u4e9b\uff0c\u4f60\u60f3\u60f3\u81ea\u5df1\u662f\u8981\u505a\u4e00\u8f88\u5b50\u8ba1\u7b97\u673a\u7684\uff0c20\u5e74\u8d77\u6b65\u7684\uff0c\u8fd9\u4e00\u4e24\u5e74\u7684\u65f6\u95f4\u7b97\u4ec0\u4e48\uff1f\u53ea\u8981\u6240\u5b66\u771f\u7684\u80fd\u6210\u4e3a\u81ea\u5df1\u7684\u77e5\u8bc6\uff0c\u4e00\u6b65\u4e00\u811a\u5370\uff0c\u603b\u662f\u80fd\u5b66\u5b8c\u7684\u3002\u7bc7\u5e45\u6709\u9650\uff0c\u5177\u4f53\u7684\u5b66\u4e60\u65b9\u6cd5\u6211\u5c31\u4e0d\u5728\u8fd9\u7bc7\u6587\u7ae0\u8be6\u7ec6\u804a\u4e86\uff0c\u6211\u63a8\u8350\u51e0\u672c\u4e66\u5427\u3002</p> <p>\u9996\u5148\uff0c\u4f60\u6700\u597d\u628a\u300aCSAPP\u300b\u770b\u5b8c\uff0c\u4e66\u5f88\u5927\uff0c\u6162\u6162\u770b\uff0c\u4e0d\u7740\u6025\u3002\u6709\u6761\u4ef6\u7684\u628a\u4e60\u9898\u90fd\u505a\u4e86\u3002\u8fd9\u672c\u4e66\u5403\u900f\uff0c\u4f60\u5bf9\u8ba1\u7b97\u673a\u8fd9\u4e2a\u4e1c\u897f\u4f1a\u6709\u771f\u6b63\u6df1\u5165\u4e14\u5e95\u5c42\u7684\u7406\u89e3\uff0c\u770b\u4f3c\u6ca1\u5565\u7528\uff0c\u5bf9\u540e\u7eed\u957f\u8fdc\u53d1\u5c55\u4f1a\u5927\u6709\u88e8\u76ca\u3002</p> <p>\u7136\u540e\uff0c\u628a\u300aDDIA\u300b\u7ec6\u8bfb\u4e00\u904d\uff0c\u8fd9\u672c\u4e66\u4e0e\u4e92\u8054\u7f51\u4e1a\u52a1\u5173\u7cfb\u6781\u5927\uff0c\u5f88\u591a\u62bd\u8c61\u5bf9\u5177\u4f53\u5de5\u4f5c\u5f88\u6709\u4ef7\u503c\u3002\u8bfb\u8fd9\u672c\u4e66\u7684\u65f6\u5019\u5982\u679c\u80fd\u81ea\u5df1\u6f14\u7ec3\u4e00\u756a\u90a3\u5c31\u66f4\u597d\u4e86\u3002\u6f14\u7ec3\u5565\u5462\uff1f\u5047\u8bbe\u81ea\u5df1\u662f\u67b6\u6784\u5e08\uff0c\u8bbe\u8ba1\u8d85\u5927\u4f53\u91cf\u7684\u4e00\u4e9b\u7cfb\u7edf\uff0c\u6bd4\u5982\u8bf4\uff1a\u670b\u53cb\u5708\uff1fFeed\u6d41\uff1f\u7b49\u7b49\u3002\u4e66\u91cc\u53ea\u6709\u4e00\u4e2a\u4e2d\u5fc3\u601d\u60f3\uff0c\u5305\u4e0d\u4f4f\u592a\u591a\u7ec6\u8282\u3002\u800c\u7ec6\u8282\u53c8\u592a\u91cd\u8981\u3002\u505a\u8fd9\u4e9b\u6f14\u7ec3\u7684\u65f6\u5019\uff0c\u91cd\u70b9\u5c31\u5728\u7ec6\u8282\u7684\u5904\u7406\u3002\u5bf9\u5185\u591a\u601d\u8003\uff0c\u5bf9\u5916\u591a\u4ea4\u6d41\uff0c\u4e0d\u8981\u8f7b\u6613\u653e\u8fc7\u81ea\u5df1\u3002</p> <p>\u6700\u540e\uff0c\u628a\u300aSICP\u300b\u8bfb\u4e86\uff0c\u8bfb\u5b8c\u4f60\u4f1a\u5bf9\u300c\u8ba1\u7b97\u300d\u548c\u300c\u8bed\u8a00\u300d\u8fd9\u4e2a\u4e24\u4e2a\u6982\u5ff5\u6709\u65b0\u7684\u7406\u89e3\uff0c\u4e5f\u662f\u7740\u773c\u4e8e\u672a\u6765\uff0c\u77ed\u671f\u786e\u5b9e\u6ca1\u5565\u7528\u3002\u7b51\u57fa\u561b\u3002</p> <p>\u7b51\u57fa\u671f\u4e00\u822c\u4e5f\u4f1a\u6301\u7eed\u4e2a3\u5e74\u5de6\u53f3\uff0c\u8fd9\u4f1a\u513f\u4f60\u5e94\u8be5\u662f\u963f\u91ccP6\uff0c\u817e\u8baf7/8/9\u7ea7\uff0c\u5b57\u82822-1\uff08\u540c\u4e00\u516c\u53f8\u4e0d\u540c\u90e8\u95e8\u804c\u7ea7\u542b\u91d1\u91cf\u76f8\u5dee\u6781\u5927\uff0c\u8fd9\u91cc\u4e5f\u5c31\u4e2a\u5927\u6982\u793a\u610f\uff0c\u5177\u4f53\u804c\u7ea7\u4e0d\u91cd\u8981\uff0c\u4fee\u4e3a\u7684\u63d0\u5347\u66f4\u91cd\u8981\uff09</p>"},{"location":"enjoy/backup/life_feature/","title":"\u672a\u6765","text":"<p>\u540e\u7eed\u7528\u4e2aexcel \u6765\u7edf\u8ba1\u5206\u6790\u5427\u3002</p>"},{"location":"enjoy/backup/life_feature/#_2","title":"\u4e70\u623f\u539f\u5219","text":"<ol> <li>\u9996\u4ed8 55w\uff0c\u6708\u4f9b7k-8k\uff0c\u516c\u79ef\u91d1\u8d37\u6b3e80w\uff08\u6700\u591a\u8d3780w\uff09</li> <li>\u5927\u6982110-140\u5e73\uff0c\u4e09\u5ba4/\u56db\u5ba4 \u4e24\u5385\u4e24\u536b\u3002</li> </ol> <p>\u516c\u79ef\u91d1\u8d37\u6b3e\u989d\u5ea6\uff1amin(\u8fde\u7eed\u7f34\u5b58\u6708\u6570*5000+\u516c\u79ef\u91d1\u4f59\u989d*10, 80w)</p>"},{"location":"enjoy/backup/life_feature/#_3","title":"\u623f\u5b50","text":"<p>\u4e1c\u533a\u7684\u89c4\u5212</p> <p></p> <p>\u6309\u7167\u770b\u7684\u987a\u5e8f\u6765\u5c55\u793a</p> <ol> <li>\u5750\u6807\uff0c\u4ef7\u683c\uff0c\u516c\u644a\uff0c\u9762\u79ef\uff0c\u6237\u578b</li> <li>\u662f\u5426\u73b0\u623f</li> <li>\u914d\u5957</li> <li>\u5730\u4e0b\u5ba4/\u505c\u8f66\u4f4d</li> </ol>"},{"location":"enjoy/backup/life_feature/#_4","title":"\u4fdd\u5229 \u00b7 \u548c\u5149\u5c18\u6a3e","text":"<p>\u5750\u6807\u90af\u90f8\u4e1c\u533a\uff0c\u5747\u4e3a\u6bdb\u576f\uff08\u9884\u552e\u8bc1\u8fd8\u672a\u4e0b\u6765\uff0c2022.10\u6708\u5e95\u4e0b\uff0c\u5df2\u7ecf\u51fa\u552e\u4e86\u90e8\u5206\u4e86\uff09 \u4e0d\u7ed1\u5b9a\u8f66\u4f4d\uff0c\u8f66\u4f4d\u5927\u69828w</p> <ul> <li>125\u5e73\uff0c\u5b9e\u9645\u9762\u79ef99.84\u5e73\uff0c\u4ef7\u683c123w<ul> <li>\u4e09\u5ba4\u4e24\u536b</li> <li>\u6237\u578b\u56fe\uff1ahttp://www.ljia.net/tu/20220208/5741644281664.html</li> <li>\u4f18\u70b9<ul> <li>\u843d\u5730\u7a97\uff0c\u7a97\u6237\u8f83\u539a\uff0c\u9694\u97f3\u6700\u597d\uff0c\u5c42\u9ad82.9m</li> <li>\u5f00\u653e\u5f0f\u53a8\u623f</li> </ul> </li> <li>\u4e00\u68af\u4e24\u6237</li> </ul> </li> <li>138\u5e73\uff0c\u5b9e\u9645\u9762\u79ef105.63\u5e73\uff0c\u4ef7\u683c135w<ul> <li>\u4e09\u5ba4\u4e24\u536b</li> <li>\u6237\u578b\u56fe\uff1ahttp://www.ljia.net/tu/20220208/5151644281721.html</li> <li>\u4f18\u70b9<ul> <li>\u843d\u5730\u7a97\uff0c\u7a97\u6237\u8f83\u539a\uff0c\u9694\u97f3\u6700\u597d</li> <li>\u88ab\u52a8\u623f\uff08\u5e26\u4e2d\u592e\u7a7a\u8c03\uff0c\u8c03\u8282\u6c14\u6e29/\u6e7f\u5ea6/\u51c0\u5316\u7a7a\u6c14\uff09</li> <li>\u5c42\u9ad8\uff0c3.1m</li> <li>\u5f00\u653e\u5f0f\u53a8\u623f</li> </ul> </li> <li>\u4e00\u68af\u4e00\u6237</li> </ul> </li> </ul>"},{"location":"enjoy/backup/life_feature/#_5","title":"\u534e\u6da6 \u00b7 \u516c\u56ed\u4e5d\u91cc","text":"<p>\u4e0d\u662f\u7279\u522b\u611f\u5174\u8da3\uff0c\u6574\u4f53\u611f\u89c9\u88c5\u4fee\u4e0b\u6765\u623f\u5b50\u4e0d\u5927</p> <p>\u5750\u6807\u90af\u90f8\u4e1c\u533a</p> <p>\u4e0d\u7ed1\u5b9a\u8f66\u4f4d\uff0c\u8f66\u4f4d\u6ca1\u95ee</p> <p>http://www.ljia.net/tu/20210428/2641619591965.html</p> <ul> <li>134\u5e73\uff0c\u6bdb\u576f\uff0c136w</li> <li>133\u5e73\uff0c\u7cbe\u88c5\uff0c127w<ul> <li>\u56db\u5ba4\u4e24\u536b</li> </ul> </li> <li>100\u5e73\uff0c\u7cbe\u88c5<ul> <li>\u4e09\u5ba4\u4e00\u536b</li> <li>\u7f3a\u70b9<ul> <li>\u53a8\u623f\u8f83\u5c0f</li> </ul> </li> </ul> </li> </ul>"},{"location":"enjoy/backup/life_feature/#_6","title":"\u7f8e\u7684 \u00b7 \u5251\u6865\u90e1","text":"<p>23\u5e74\u5e95\u4ea4\u623f\uff0c\u552e\u697c\u5904\u4eba\u6700\u591a</p> <p>\u7ed1\u5b9a\u8f66\u4f4d\uff0c\u8f66\u4f4d10w \u542c\u522b\u4eba\u90fd\u8bf4\u7f8e\u7684 \u7684\u697c\u54c1\u8d28\u597d</p> <ul> <li>125\u5e73\uff0c\u7cbe\u88c5\uff0c126w\uff0c\u5747\u4ef79981\u5143/\u5e73<ul> <li>\u7f8e\u7684\u7cbe\u88c5\u4fee\u770b\u7740\u8fd8\u4e0d\u9519</li> </ul> </li> <li>125\u5e73\uff0c\u6bdb\u576f\uff0c113w\uff0c\u5747\u4ef78943\u5143/\u5e73</li> </ul>"},{"location":"enjoy/backup/life_feature/#_7","title":"\u4fdd\u5229 \u00b7 \u65f6\u5149\u5370\u8c61","text":"<p>\u73b0\u623f\uff0c\u4e0d\u7ed1\u5b9a\u8f66\u4f4d\uff0c\u8f66\u4f4d8w\uff0c\u5904\u4e8e\u590d\u5174\u533a\uff08\u90af\u90f8\u897f\u90e8\uff09 \u6574\u4f53\u914d\u5957\u5065\u5168\uff0c1\u4e2a\u6708\u540e\u4ea4\u623f</p> <ul> <li>140\u5e73\uff0c136w<ul> <li>\u73b0\u623f\uff0c\u79bb\u6b66\u5b89\u8fd1</li> </ul> </li> </ul> <p>http://www.ljia.net/new/778.html</p>"},{"location":"enjoy/backup/life_feature/#_8","title":"\u8f66\u5b50","text":"<p>20w\u5de6\u53f3\u7684\u8f66</p> <ul> <li>\u7ea2\u65d7hs5</li> </ul> <p></p> <ul> <li>\u672c\u7530crv</li> </ul> <p></p>"},{"location":"enjoy/book/the_book_read/","title":"\u8fc7\u5f80\u8bfb\u8fc7\u7684\u4e66","text":""},{"location":"enjoy/book/the_book_read/#_2","title":"\u7406\u8d22","text":"<ul> <li>\u65f6\u52bf\uff1a\u5468\u671f\u6ce2\u52a8\u4e0b\u7684\u56fd\u5bb6\u3001\u793e\u4f1a\u548c\u4e2a\u4eba</li> <li>\u7a77\u7238\u7238\uff0c\u5bcc\u7238\u7238</li> <li>\u5c0f\u72d7\u94b1\u94b1</li> <li>\u7a00\u7f3a\uff1a\u6211\u4eec\u662f\u5982\u4f55\u9677\u5165\u8d2b\u7a77\u4e0e\u5fd9\u788c\u7684</li> <li>\u5b9a\u6295\u6539\u53d8\u547d\u8fd0</li> <li>\u97ed\u83dc\u7684\u81ea\u6211\u4fee\u517b</li> <li>\u8d22\u5bcc\u81ea\u7531\u4e4b\u8def</li> <li>\u8d27\u5e01\u672a\u6765\uff1a\u4ece\u91d1\u672c\u4f4d\u5230\u533a\u5757\u94fe</li> <li>\u91d1\u94b1\u5fc3\u7406\u5b66\uff1a\u8d22\u5bcc\u3001\u4eba\u6027\u548c\u5e78\u798f\u7684\u6c38\u6052\u771f\u76f8</li> </ul>"},{"location":"enjoy/book/the_book_read/#_3","title":"\u65f6\u95f4","text":"<ul> <li>\u628a\u65f6\u95f4\u5f53\u505a\u670b\u53cb</li> </ul>"},{"location":"enjoy/book/the_book_read/#_4","title":"\u5386\u53f2","text":"<ul> <li>\u660e\u671d\u90a3\u4e9b\u4e8b</li> </ul>"},{"location":"enjoy/book/the_book_read/#_5","title":"\u4eba\u6587","text":"<ul> <li>\u6587\u5316\u82e6\u65c5</li> <li>\u4fdd\u91cd</li> </ul>"},{"location":"enjoy/book/the_book_read/#_6","title":"\u60c5\u611f","text":"<ul> <li>\u4eba\u95f4\u544a\u767d</li> </ul>"},{"location":"enjoy/book/the_book_read/#_7","title":"\u6280\u672f","text":"<ul> <li>GPT\u56fe\u89e3\uff1a\u5927\u6a21\u578b\u662f\u600e\u6837\u6784\u5efa\u7684</li> </ul>"},{"location":"enjoy/book/think_practice/","title":"\u601d\u8003\u4e0e\u5b9e\u8df5","text":""},{"location":"enjoy/book/think_practice/#_2","title":"\u80cc\u666f","text":"<p>\u60f3\u8fdb\u6b65\u8981\u4e0d\u65ad\u50cf\u4f18\u79c0\u7684\u4eba\u5b66\u4e60\uff0c\u5f62\u6210\u81ea\u5df1\u7684\u65b9\u6cd5\u8bba\uff08\u601d\u8003\u4e0e\u5b9e\u8df5\uff09</p>"},{"location":"enjoy/book/think_practice/#_3","title":"\u601d\u8003\u4e0e\u63d0\u5347","text":"<p>\u5173\u4e8e\u7406\u8bba\u4e0e\u5b9e\u8df5</p> <p>\u611f\u6027\u8ba4\u77e5-&gt;\u7406\u6027\u8ba4\u77e5-&gt;\u5b9e\u8df5-&gt;\u53cd\u601d-&gt;\u65b0\u7684\u8ba4\u77e5-&gt;\u4e0d\u65ad\u5faa\u73af..</p> <p>\u5173\u4e8e\u62bd\u8c61</p> <p>\u62bd\u8c61 = \u611f\u6027\u7ecf\u9a8c * \u8ba4\u77e5\u7387 * \u62bd\u8c61\u80fd\u529b</p> <ol> <li>\u611f\u6027\u7ecf\u9a8c\uff1a\u901a\u8fc7\u8bfb\u4e66or\u4e0e\u6709\u7ecf\u9a8c\u7684\u4eba\u6c9f\u901a</li> <li>\u8ba4\u77e5\u7387\uff1a\u4e3b\u52a8\u601d\u8003\uff0c\u4e3b\u52a8\u5b66\u4e60</li> <li>\u62bd\u8c61\u80fd\u529b\uff1a\u7ec4\u6210+\u8fd0\u52a8\u5173\u7cfb <ul> <li>\u516c\u53f8\u53ef\u4ee5\u5206\u4e3a \u90e8\u95e8+\u90e8\u95e8\u5173\u7cfb\uff08\u7ec4\u7ec7\u6d41\u7a0b\u4e0e\u5236\u5ea6\uff09</li> </ul> </li> </ol> <p>\u5173\u4e8e\u5206\u6790\u95ee\u9898\u7684\u65b9\u6cd5\u8bba</p> <ol> <li>\u5b9a\u4e49\u95ee\u9898\u8303\u7574<ul> <li>\u5bf9\u4e8e\u4e2a\u4f53\uff0c\u53ef\u91c7\u7528\u7ecf\u6d4e\u5b66\u7684\u65b9\u5f0f\u601d\u8003</li> <li>\u5bf9\u4e8e\u7fa4\u4f53\uff0c\u53ef\u91c7\u7528\u793e\u4f1a\u5b66\u7684\u65b9\u5f0f\u601d\u8003</li> </ul> </li> <li>\u627e\u5230\u77db\u76fe<ul> <li>\u4ece\u6b63\u53cd\u4e24\u9762\u51fa\u53d1\uff0c\u601d\u8003\u95ee\u9898</li> <li>\u6bd4\u5982\u6211\u8981\u6c47\u62a5\uff0c\u4e0d\u4ec5\u8981\u601d\u8003\u6c47\u62a5\u7684\u5185\u5bb9\uff0c\u8fd8\u8981\u601d\u8003\u88ab\u6c47\u62a5\u4eba\u60f3\u542c\u4ec0\u4e48</li> <li>\u6bd4\u5982\u6211\u8981\u664b\u5347\uff0c\u4e0d\u4ec5\u8981\u601d\u8003\u81ea\u5df1\u8be5\u5982\u4f55\u52aa\u529b\uff0c\u8fd8\u8981\u601d\u8003\u8001\u677f\u7684\u8bc4\u4ef7\u4f53\u7cfb\u662f\u5982\u4f55 </li> </ul> </li> <li>\u6293\u4e3b\u8981\u77db\u76fe<ul> <li>\u5206\u6790\u95ee\u9898\u7684\u5185\u56e0\uff08\u6839\u672c\u539f\u56e0\uff09\u548c\u5916\u56e0\uff0c\u627e\u5230\u4e3b\u8981\u77db\u76fe\u70b9\u53bb\u89e3\u51b3</li> </ul> </li> </ol> <p>\u5173\u4e8e\u8bfb\u4e66</p> <ol> <li>\u5e26\u6709\u76ee\u7684\u7684\u8bfb\u4e66\uff0c\u6df1\u5165\u6d45\u51fa</li> <li>\u7ed3\u5408\u81ea\u5df1\u7684\u9886\u57df\u6c34\u5e73\uff0c\u53bb\u770b\u4e66\uff0c\u5faa\u5e8f\u6e10\u8fdb\uff0c\u7531\u6d45\u5165\u6df1</li> <li>\u5e26\u7740\u95ee\u9898\u53bb\u8bfb\u4e66\u548c\u601d\u8003\uff0c\u7528\u6b63\u53cd\u4e24\u9762\u65b9\u5f0f\u7ad9\u5728\u66f4\u9ad8\u7ef4\u5ea6\u53bb\u601d\u8003\u4f5c\u8005\u7684\u89c2\u70b9\u6709\u6ca1\u6709\u5386\u53f2\u5c40\u9650\u6027</li> <li>\u8bfb\u4e66\u4e0d\u8981\u56fe\u5feb\uff0c\u603b\u7ed3\u5f62\u6210\u81ea\u5df1\u7684\u89c2\u5ff5</li> </ol> <p>\u5173\u4e8e\u7406\u8d22</p> <p>\u770bv2ex\u4e0a\uff0c\u76ee\u524d\u6d45\u663e\u7684\u7ed3\u8bba\u662f\uff0c\u9002\u5408\u5927\u4f17\u7a0b\u5e8f\u5458\u7684\u526f\u4e1a\u662f\u7406\u8d22\uff0c\u901a\u8fc7996\u79ef\u7d2f\u7684\u8840\u6c57\u94b1\uff0c\u901a\u8fc7\u6295\u80a1/\u503a\uff0c\u8fdb\u800c\u5b9e\u73b0\u8d22\u5bcc\u7684\u589e\u503c</p> <ul> <li>\u522b\u4eba\u6050\u614c\u6211\u8d2a\u5a6a\uff08\u7559\u597d\u751f\u6d3b\u8d39\uff0c\u4e70\u4e86\u62ff\u7740\u5c31\u884c\u4e86\uff09</li> <li>\u4eca\u5e74\u76ee\u6807\u662f\u6708\u5747\u7a33\u5b9a\u589e\u503c\u6536\u51655k\uff08\u77ed\u671f\u76ee\u6807\u671f\u98ce\u9669\u6295\u8d44\u5728\u3010-2000~1000\u3011\u5143\u4e4b\u95f4\uff09</li> <li>\u94b1\u4ea4\u7ed9\u65f6\u95f4\u548c\u4f18\u79c0\u7684\u53d1\u5c55\u529b\u4e0a\uff1b\u4e2a\u4eba\u8981\u5173\u6ce8\u81ea\u5df1\u7684\u6301\u7eed\u6210\u957f</li> </ul> <p>\u4eba\u751f\u4e09\u5927\u5751</p> <ol> <li>\u83ab\u540d\u5176\u5999\u51d1\u70ed\u95f9</li> <li>\u5fc3\u6025\u706b\u71ce\u968f\u5927\u6d41</li> <li>\u4e3a\u522b\u4eba\u64cd\u788e\u4e86\u5fc3</li> </ol> <p>\u4eba\u751f\u7684\u8d44\u4ea7</p> <ol> <li>\u5065\u5eb7</li> <li>\u6ce8\u610f\u529b</li> <li>\u65f6\u95f4</li> <li>\u91d1\u94b1</li> </ol> <p>\u505a\u91cd\u8981\u7684\u4e8b</p> <ul> <li>\u5148\u82b1\u4e0a\u76f8\u5f53\u7684\u65f6\u95f4\u548c\u7cbe\u529b\u53bb\u9501\u5b9a\u4e00\u4e2a\u65b9\u5411\u6216\u8005\u76ee\u6807\u3002</li> <li>\u786e\u5b9a\u5b83\u73b0\u5b9e\u53ef\u884c\u4e4b\u540e\uff0c\u8fd0\u7528\u5fc3\u667a\u7684\u529b\u91cf\uff0c\u5728\u8fd9\u4e2a\u65b9\u5411\u4e0a\u6295\u5165\u66f4\u591a\u7684\u65f6\u95f4\uff0c\u6bd4\u66f4\u591a\u518d\u591a\u4e00\u70b9\u7684\u65f6\u95f4\u3002</li> <li>\u628a\u65f6\u95f4\u5f53\u4f5c\u670b\u53cb\uff0c\u4e00\u8def\u524d\u884c\u3002</li> <li>\u5f53\u65f6\u95f4\u966a\u4f34\u4f60\u8db3\u591f\u4e45\u7684\u65f6\u5019\uff0c\u5b83\u81ea\u4f1a\u7ed9\u4f60\u7684\u8010\u5fc3\u76f8\u5e94\u7684\u56de\u62a5\u3002</li> <li>\u4e0d\u77e5\u5176\u6240\u4ee5\u7136\u7684\u4eba\u4f1a\u8bf4\uff0c\u90a3\u662f\u201c\u8fd0\u6c14\u201d\uff0c\u6216\u8005\u662f\u8d70\u4e86\u201c\u72d7\u5c4e\u8fd0\u201d\u7684\u4eba\u624d\u4f1a\u6709\u7684\u201c\u5929\u8d50\u7075\u611f\u201d\uff0c\u800c\u6211\u4eec\u77e5\u9053\u7684\u662f\uff0c\u5982\u679c\u90a3\u56de\u62a5\u771f\u7684\u6765\u4e86\uff0c\u5b83\u53ea\u6709\u4e00\u4e2a\u540d\u5b57\uff0c\u53eb\u505a\u201c\u5fc5\u7136\u201d\u3002</li> </ul>"},{"location":"enjoy/book/think_practice/#_4","title":"\u9644\u5f55","text":"<ul> <li>riba\u7684\u6295\u8d44\u601d\u8003</li> </ul>"},{"location":"enjoy/book/%E4%BA%BA%E9%97%B4%E5%91%8A%E7%99%BD/","title":"\u4eba\u95f4\u544a\u767d","text":"<p>\u4f5c\u8005\uff1a\u91d1\u9c7c\u9171</p> <p>\u8bb2\u8ff0\u4e86\u91d1\u9c7c\u9171\u4e0e\u7231\u4eba\u5c0f\u5ffd\u4ece\u5b66\u751f\u65f6\u4ee3\u7684\u76f8\u7231\uff0c\u5206\u5f00\uff0c\u53c8\u518d\u6b21\u9047\u89c1\uff0c\u5230\u751f\u4e0b\u5c0f\u82b1\u751f\uff0c\u6700\u540e\u5c0f\u5ffd\u56e0\u4e3a\u764c\u75c7\u79bb\u53bb\uff0c\u91d1\u9c7c\u9171\u548c\u5bb6\u4eba\u4e00\u8d77\u966a\u4f34\u5c0f\u82b1\u751f\u957f\u5927\u7684\u6545\u4e8b\u3002</p>"},{"location":"enjoy/book/%E4%BA%BA%E9%97%B4%E5%91%8A%E7%99%BD/#_2","title":"\u6458\u6284","text":"<p>\u76f8\u7231\u7684\u60c5\u4fa3\u90fd\u6709\u7740\u76f8\u4f3c\u7684\u5e78\u798f\uff0c\u5206\u5f00\u7684\u60c5\u4fa3\u5374\u5404\u6709\u5404\u7684\u4e0d\u5e78\u3002</p> <p>\u7231\u4e00\u4e2a\u4eba\u4e0d\u8be5\u53bb\u505a\u6bd4\u8f83\uff0c\u4ed6\u5e76\u6ca1\u6709\u505a\u9519\u4ec0\u4e48\uff0c\u6bcf\u4e2a\u4eba\u90fd\u80fd\u9009\u62e9\u81ea\u5df1\u559c\u6b22\u7684\u751f\u6d3b\u65b9\u5f0f\u3002</p> <p>\u6211\u77e5\u9053\u4f60\u8eab\u6750\u597d\uff0c\u4e0d\u80fd\u53ea\u7ed9\u6211\u4e00\u4e2a\u4eba\u6b23\u8d4f\u5417\uff1f\u6211\u4e0d\u559c\u6b22\u522b\u4eba\u770b\u4f60\u7a7f\u90a3\u4e48\u5c11\u7684\u6837\u5b50\uff0c\u8981\u4e0d\u4f60\u5e26\u6761\u6d74\u5dfe\u906e\u4f4f\uff0c\u8fd9\u6837\u4f60\u4e5f\u6ee1\u8db3\u4e86\uff0c\u6211\u4e5f\u4e0d\u7528\u62c5\u5fc3\u4f60\u88ab\u522b\u4eba\u770b\u5230\u4e86\u3002</p> <p>\u53ef\u80fd\u5728\u522b\u7684\u5973\u751f\u770b\u6765\uff0c\u6211\u559c\u6b22\u7a7f\u4ec0\u4e48\u662f\u6211\u81ea\u5df1\u7684\u4e8b\uff0c\u53ef\u6211\u771f\u7684\u5f88\u5728\u610f\u4ed6\u3002\u56e0\u4e3a\u6211\u77e5\u9053\u4ed6\u4e5f\u4f1a\u5f88\u5728\u610f\u6211\uff0c\u6240\u4ee5\u6211\u4eec\u80fd\u6109\u5feb\u5730\u5904\u7406\u597d\u751f\u6d3b\u4e2d\u7684\u5404\u79cd\u5c0f\u4e8b\uff0c\u5373\u4f7f\u662f\u8fd9\u6837\u7684\u5c0f\u8da3\u4e8b\uff0c\u4e5f\u662f\u6211\u4eec\u5bf9\u5f7c\u6b64\u7684\u5c0a\u91cd\u3002</p> <p>\u6211\u7ed9\u5b69\u5b50\u53d6\u540d\u82b1\u751f\uff0c\u662f\u5e0c\u671b\u4ed6\u5c06\u6765\u80fd\u82b1\u70b9\u65f6\u95f4\u4eab\u53d7\u4eba\u751f\u3002\u4ed6\u6210\u957f\u7684\u65f6\u4ee3\uff0c\u4e00\u5b9a\u662f\u4e2a\u538b\u529b\u5f88\u5927\u7684\u65f6\u4ee3\u3002\u6211\u4e0d\u5e0c\u671b\u4ed6\u6210\u4e3a\u73b0\u5b9e\u751f\u6d3b\u7684\u5974\u96b6\uff0c\u66f4\u4e0d\u5e0c\u671b\u4ed6\u662f\u4e2a\u8d5a\u94b1\u7684\u673a\u5668\u3002\u6211\u5e0c\u671b\u4ed6\u80fd\u61c2\u5f97\u4eab\u53d7\u751f\u6d3b\uff0c\u4eba\u751f\u662f\u4ed6\u81ea\u5df1\u7684\uff0c\u4e0d\u7528\u53bb\u5411\u4efb\u4f55\u4eba\u8bc1\u660e\u6210\u529f\u548c\u4e0d\u6210\u529f\u3002</p> <p>\u7236\u6bcd\u4e00\u573a\u5b50\u5973\u4e00\u573a\uff0c\u6bcf\u79cd\u8eab\u4efd\u90fd\u5e94\u8be5\u4eb2\u81ea\u53bb\u611f\u53d7\uff0c\u624d\u77e5\u5176\u4e2d\u7684\u5e78\u798f\u548c\u4e0d\u6613\uff0c\u624d\u4f1a\u66f4\u52a0\u61c2\u5f97\u73cd\u60dc\u548c\u611f\u6069\u3002</p> <p>\u6700\u5e78\u798f\u7684\u4eba\u751f\uff0c\u5c31\u662f\u8fd9\u4e9b\u5e73\u51e1\u65e5\u5b50\u7684\u5ef6\u7eed\u5427\u3002\u6211\u4eec\u4e0d\u5962\u671b\u80fd\u5927\u5bcc\u5927\u8d35\uff0c\u53ea\u5e0c\u671b\u80fd\u8fd9\u6837\u5e73\u5e73\u6de1\u6de1\u5730\u8fc7\u5b8c\u4e00\u8f88\u5b50\u3002</p> <p>\u5728\u751f\u6b7b\u9762\u524d\uff0c\u4eba\u6027\u5c55\u9732\u5f97\u6dcb\u6f13\u5c3d\u81f4\u3002\u88c5\u4e0d\u6765\u9a97\u4e0d\u4e86\uff0c\u6709\u7684\u4eba\u770b\u91cd\u91d1\u94b1\u3001\u6709\u7684\u4eba\u770b\u91cd\u9762\u5b50\u3001\u6709\u7684\u4eba\u770b\u91cd\u5c0a\u4e25\u3001\u6709\u7684\u4eba\u770b\u91cd\u522b\u4eba\u7684\u773c\u5149\uff0c\u8fd8\u6709\u4e00\u4e9b\u4eba\u5c31\u50cf\u6211\u4eec\u4fe9\u8fd9\u6837\u53ea\u770b\u91cd\u611f\u60c5\u3001\u770b\u91cd\u7231\u3002</p> <p>\u6211\u8ba4\u4e3a\u4e00\u4e2a\u4eba\u4e00\u65e6\u4eb2\u81ea\u7ecf\u5386\u8fc7\u82e6\u96be\uff0c\u4ed6\u5fc5\u7136\u4f1a\u4ece\u4e2d\u5f97\u5230\u4e00\u79cd\u6210\u957f\u3002\u7b49\u5230\u82e6\u96be\u518d\u6765\u65f6\uff0c\u81ea\u5df1\u80fd\u66f4\u597d\u5730\u9762\u5bf9\u548c\u5316\u89e3\uff0c\u6216\u8bb8\u8fd9\u4e2a\u65f6\u5019\u624d\u4f1a\u9886\u609f\u5230\uff0c\u5176\u5b9e\u5e76\u4e0d\u662f\u4e16\u754c\u4e3a\u81ea\u5df1\u6539\u53d8\u4e86\u4ec0\u4e48\uff0c\u800c\u662f\u81ea\u5df1\u7684\u7ecf\u5386\u548c\u906d\u9047\u6539\u53d8\u4e86\u6211\u4eec\u7684\u5185\u5fc3\uff0c\u8ba9\u5b83\u53d8\u5f97\u66f4\u575a\u5f3a\u3001\u66f4\u52c7\u6562\uff0c\u8ba9\u5b83\u5728\u9762\u5bf9\u65b0\u9006\u5883\u548c\u56f0\u82e6\u65f6\uff0c\u80fd\u66f4\u52c7\u6562\u5730\u53bb\u4e0e\u4e4b\u6297\u8861\u4e86\u3002\u5f69\u8679\u4e00\u5b9a\u4f1a\u6709\u7684\uff0c\u4f46\u4e0d\u662f\u4e0a\u82cd\u7684\u8d4f\u8d50\uff0c\u800c\u662f\u6211\u4eec\u81ea\u5df1\u4e89\u53d6\u56de\u6765\u7684\u3002</p> <p>\u5bab\u5d0e\u9a8f\u7684\u6240\u6709\u4f5c\u54c1\u91cc\u6211\u6700\u559c\u6b22\u7684\u5c31\u662f\u300a\u4fa7\u8033\u503e\u542c\u300b\u3002\u5b83\u8bb2\u8ff0\u7684\u662f\u4e00\u4e2a\u5973\u751f\u60f3\u8981\u52aa\u529b\u6210\u4e3a\u4f18\u79c0\u7684\u4eba\uff0c\u8fd9\u6837\u624d\u914d\u5f97\u4e0a\u5979\u559c\u6b22\u7684\u4eba\u7684\u6545\u4e8b\u3002\u5f88\u6b63\u80fd\u91cf\u3001\u5f88\u6e29\u99a8\u7684\u4e00\u90e8\u52a8\u753b\u7535\u5f71\u3002\u7231\u60c5\u8be5\u6709\u7684\u6a21\u6837\u4e0d\u5c31\u662f\u4e24\u4e2a\u4eba\u4e00\u8d77\u8ba4\u771f\u52aa\u529b\u65f6\u7684\u6837\u5b50\u5417\uff1f</p> <p>\u6211\u80fd\u627e\u5230\u5feb\u4e50\u7684\u65b9\u5f0f\uff0c\u6211\u4e5f\u77e5\u9053\u7f8e\u5473\u4f73\u80b4\u662f\u8ba9\u5403\u996d\u7684\u4eba\u5fc3\u60c5\u53d8\u597d\u7684\u4e8b\u60c5\u3002\u5e38\u6000\u611f\u6069\u4e4b\u5fc3\uff0c\u6240\u6709\u7684\u906d\u9047\u5c31\u4e0d\u4f1a\u90a3\u4e48\u574f\uff0c\u603b\u6709\u5149\u80fd\u7167\u8fdb\u9ed1\u6697\u7684\u5939\u7f1d\u4e2d\u3002</p> <p>\u601d\u5ff5\u5982\u9a6c\uff0c\u81ea\u522b\u79bb\uff0c\u672a\u505c\u8e44\u3002\u76f8\u601d\u82e5\u67f3\uff0c\u98d8\u6ee1\u57ce\uff0c\u5c3d\u98de\u7d6e\u3002</p> <p>\u8981\u597d\u597d\u73cd\u60dc\u4f60\u6700\u7f8e\u7684\u9752\u6625\u5e74\u534e\uff0c\u4e00\u4e2a\u5973\u751f\u5728\u7cbe\u795e\u4e16\u754c\u7684\u6295\u5165\uff0c\u4e00\u5b9a\u4f1a\u6bd4\u7269\u8d28\u7684\u6295\u5165\u8981\u66f4\u4fdd\u503c\u3002\u77e5\u8bc6\u4f1a\u5e26\u7ed9\u4f60\u5bbd\u5e7f\u7684\u773c\u754c\uff0c\u4e5f\u4f1a\u8ba9\u4f60\u66f4\u660e\u767d\u81ea\u5df1\u60f3\u8981\u7684\u751f\u6d3b\u662f\u4ec0\u4e48\u3002\u51fa\u95e8\u65f6\u8bb0\u5f97\u8981\u597d\u597d\u5730\u6253\u626e\u81ea\u5df1\uff0c\u4e0d\u662f\u4e3a\u4e86\u53d6\u60a6\u522b\u4eba\uff0c\u53ea\u662f\u4e3a\u4e86\u5728\u6700\u7f8e\u7684\u5e74\u534e\u91cc\u6d3b\u51fa\u6700\u7f8e\u597d\u7684\u81ea\u5df1\u3002</p> <p>\u597d\u597d\u73cd\u60dc\u4f60\u73b0\u5728\u62e5\u6709\u7684\u4e00\u5207\u3002\u56e0\u4e3a\u8fd9\u4e00\u5207\u5e76\u4e0d\u662f\u7406\u6240\u5f53\u7136\u6c38\u8fdc\u5c5e\u4e8e\u4f60\u7684\u3002\u4e0a\u82cd\u5bf9\u4f60\u8fd9\u4e48\u597d\uff0c\u8ba9\u4f60\u62e5\u6709\u4e86\u522b\u4eba\u7fa1\u6155\u548c\u5411\u5f80\u7684\u751f\u6d3b\uff0c\u90a3\u4e48\u4f60\u5c31\u4e00\u5b9a\u8981\u6bd4\u522b\u4eba\u66f4\u52a0\u61c2\u5f97\u62e5\u6709\u7684\u96be\u80fd\u53ef\u8d35\u3002\u4e00\u4e2a\u4eba\u5bf9\u53e6\u4e00\u4e2a\u4eba\u597d\uff0c\u662f\u56e0\u4e3a\u4ed6\u89c9\u5f97\u503c\u5f97\uff0c\u6240\u4ee5\u4ed6\u613f\u610f\u4ed8\u51fa\uff0c\u53ef\u662f\u4e00\u5473\u5730\u4ed8\u51fa\u4e5f\u9700\u8981\u5c06\u5fc3\u6bd4\u5fc3\u7684\u56de\u62a5\u3002</p> <p>\u613f\u4f60\u5e38\u6000\u611f\u6069\u4e4b\u5fc3\uff0c\u5728\u5e78\u798f\u65f6\u597d\u597d\u73cd\u60dc\uff0c\u5728\u4e0d\u5e78\u65f6\u4e5f\u522b\u57cb\u6028\u3002\u54c1\u5c1d\u4eba\u751f\u82e6\u96be\u5e76\u4e0d\u662f\u4ec0\u4e48\u574f\u4e8b\uff0c\u6240\u6709\u7684\u7ecf\u5386\u548c\u906d\u9047\u90fd\u662f\u547d\u4e2d\u6ce8\u5b9a\uff0c\u4f46\u751f\u6d3b\u7684\u672a\u77e5\u548c\u60ca\u559c\u5374\u662f\u6211\u4eec\u81ea\u5df1\u4eb2\u624b\u521b\u9020\u7684\u3002\u76f8\u4fe1\u6211\uff0c\u5f53\u4f60\u6709\u4e86\u7edd\u5883\u9022\u751f\u7684\u529b\u91cf\u65f6\uff0c\u4fbf\u662f\u4f60\u6b65\u5165\u5168\u65b0\u751f\u6d3b\u8f68\u9053\u7684\u5f00\u59cb\u3002</p> <p>\u597d\u7684\u7231\u60c5\u3001\u5bf9\u7684\u4eba\uff0c\u4f1a\u4e3a\u6211\u4eec\u5f00\u542f\u751f\u6d3b\u7684\u4e00\u6247\u7a97\u3002\u6bcf\u4e2a\u4eba\u5bf9\u7231\u60c5\u548c\u5bf9\u7684\u4eba\u90fd\u6709\u81ea\u5df1\u7684\u5b9a\u4e49\uff0c\u5728\u6211\u770b\u6765\uff0c\u8fd9\u4e2a\u4eba\u4e0d\u4e00\u5b9a\u8981\u6709\u591a\u9ad8\u7684\u5b66\u5386\u3001\u591a\u9ad8\u7684\u804c\u4f4d\u3001\u591a\u4e30\u539a\u7684\u85aa\u6c34\uff0c\u800c\u662f\u90a3\u4e2a\u4eba\u613f\u610f\u548c\u4f60\u643a\u624b\uff0c\u671d\u66f4\u597d\u7684\u65b9\u5411\u524d\u884c\u3002</p> <p>\u56de\u5fc6\u5f88\u751c\uff0c\u4f46\u672a\u6765\u4e5f\u4f1a\u5f88\u7f8e\u3002</p> <p>\u4eba\u751f\u5f88\u77ed\uff0c\u9178\u751c\u82e6\u8fa3\u4e00\u4e2a\u4e5f\u4e0d\u4f1a\u5c11\uff0c\u8be5\u6765\u7684\u90fd\u4f1a\u6765\uff0c\u63d0\u524d\u7ecf\u5386\u6216\u8bb8\u4e5f\u4e0d\u662f\u4ec0\u4e48\u574f\u4e8b\u3002\u4eba\u751f\u4e00\u573a\uff0c\u5982\u70df\u82b1\u707f\u70c2\u540e\u4e5f\u7ec8\u5f52\u662f\u8981\u5b64\u72ec\u8001\u53bb\u7684\uff0c\u4e0d\u7559\u9057\u61be\u3001\u4e0d\u8ba9\u81ea\u5df1\u540e\u6094\u624d\u662f\u6700\u597d\u7684\u4e00\u751f\u3002</p> <p>\u7231\u60c5\u771f\u50cf\u4e00\u5757\u8d85\u5927\u7684\u62fc\u56fe\u3002\u4e24\u4e2a\u4eba\u5728\u4e00\u8d77\u65f6\uff0c\u6bcf\u4e00\u6bb5\u770b\u4f3c\u5e73\u51e1\u7684\u8bb0\u5fc6\u90fd\u4f1a\u53d8\u6210\u4e00\u5757\u5c0f\u5c0f\u7684\u62fc\u56fe\uff0c\u7136\u540e\u8fd9\u65e0\u6570\u4e2a\u5c0f\u5c0f\u7684\u62fc\u56fe\u91cc\uff0c\u6bcf\u4e00\u5757\u4e0a\u9762\u53c8\u90fd\u7559\u4e0b\u4e86\u4e00\u4e9b\u8bb0\u5fc6\u70b9\u7684\u8272\u5f69\uff0c\u5c31\u8fd9\u6837\u4e00\u76f4\u521b\u9020\u4e00\u76f4\u62fc\u3002\u5982\u679c\u80fd\u76f8\u4f34\u7ec8\u8001\uff0c\u90a3\u4e48\u4e00\u5b9a\u80fd\u770b\u5230\u6700\u540e\u90a3\u5e45\u53eb\u4f5c\u201c\u767d\u5934\u5055\u8001\u201d\u7684\u7231\u60c5\u56fe\u3002</p>"},{"location":"enjoy/book/%E4%BA%BA%E9%97%B4%E5%91%8A%E7%99%BD/#_3","title":"\u540e\u8bb0","text":"<p>2022.04.02 \u9605\u8bfb\u4e8e \u5317\u4eac\u6d77\u6dc0\u7d2b\u91d1\u5e84\u56ed\u3002</p> <p>04.02\u8fd8\u987a\u5e26\u770b\u4e86\u4f5c\u8005\u63d0\u53ca\u7684\u300a\u4fa7\u8033\u503e\u542c\u300b\uff0c\u5bab\u5d0e\u9a8f\u521b\u4f5c\u7684\uff0c\u6574\u4e2a\u6545\u4e8b\u8282\u594f\u6162\u6162\u7684\u3002</p> <p>\u8bb2\u8ff0\u7684\u662f\u5973\u5b69\u6708\u5c9b\u96ef\uff0c\u53d1\u73b0\u81ea\u5df1\u8bfb\u8fc7\u7684\u4e66\u90fd\u6709\u7740\u5929\u6cfd\u5723\u53f8\u7684\u540d\u5b57\uff0c\u4e8e\u662f\u4ece\u4e0d\u8ba4\u8bc6\u5230\u76f8\u4e92\u4e86\u89e3\uff0c\u5230\u76f8\u4e92\u4e3a\u4e86\u5bf9\u65b9\u5954\u8d74\u81ea\u5df1\u7684\u68a6\u60f3\uff08\u6708\u5c9b\u96ef\u60f3\u6210\u4e3a\u4e00\u540d\u4f5c\u5bb6\uff0c\u5929\u6cfd\u5723\u53f8\u60f3\u6210\u4e3a\u5236\u4f5c\u5c0f\u63d0\u7434\u7684\u5de5\u5320\uff09</p> <p>\u4e24\u4e2a\u4eba\u6700\u540e\u5728\u6e05\u6668\u770b\u7740\u671d\u9633\u521d\u4e0a\uff0c\u8bb8\u4e0b\u957f\u5927\u4e4b\u540e\u7ed3\u5a5a\u7684\u613f\u671b\u3002</p>"},{"location":"enjoy/book/%E6%96%87%E5%8C%96%E8%8B%A6%E6%97%85/","title":"\u6587\u5316\u82e6\u65c5","text":"<p>\u4ee5\u6211\u6d45\u663e\u7684\u8ba4\u77e5\uff0c\u9610\u8ff0\u4f5c\u8005\uff08\u4f59\u79cb\u96e8\uff09\u60f3\u4f20\u8fbe\u7ed9\u6211\u7684</p> <ul> <li>\u4ef7\u503c\u89c2</li> </ul> <p>\u4f5c\u8005\u628a\u4e2d\u534e\u6587\u5316\u5f97\u4ee5\u6d41\u4f20\u5f52\u6839\u4e8e \u5730\u7406\u4f4d\u7f6e\uff0c\u5112\u5bb6\u6cd5\u5bb6\u878d\u5408\u7684\u601d\u60f3\uff0c\u7edf\u4e00\u7684\u6c49\u5b57\uff0c\u79d1\u4e3e\u5236\u5ea6\u3002</p> <p>\u4e5f\u901a\u8fc7\u5386\u53f2\u7684\u53d1\u5c55\uff0c\u53d9\u8ff0\u4e86\u4e00\u4e2a\u4e2a\u540d\u80dc\u53e4\u8ff9\uff08\u7684\u5174\u76db\u4e0e\u8870\u8d25\uff09\uff0c\u6709\u7684\u4ecd\u6e90\u8fdc\u6d41\u957f (\u6566\u714c\u3001\u90fd\u6c5f\u5830\u3001\u897f\u6e56\u94b1\u5858\u3001\u627f\u5fb7\u907f\u6691\u5c71\u5e84\u3001\u5c71\u897f\u5546\u8d3e)</p> <ul> <li>\u4e16\u754c\u89c2</li> </ul> <p>\u5e94\u8be5\u5171\u540c\u5b88\u62a4\u5404\u81ea\u7684\u6587\u660e\uff0c\u6587\u660e\u6ca1\u6709\u6c11\u65cf\u548c\u56fd\u5bb6\u7684\u754c\u9650\u3002</p> <p>\u8981\u5171\u540c\u9762\u5bf9\u4e00\u5207\u975e\u6587\u660e\u7684\u529b\u91cf\uff0c\u4f8b\u5982\u6050\u6016\u4e3b\u4e49\u3001\u6838\u7ade\u8d5b\u3001\u73af\u5883\u6c61\u67d3\u3001\u81ea\u7136\u707e\u5bb3\u2026\u2026</p> <ul> <li>\u4eba\u751f\u89c2</li> </ul> <p>let them say.</p> <p>\u7b80\u5355\u7684\u53d9\u8ff0\u4e86\u4f5c\u8005\u7684\u51e0\u4e2a\u53cb\u4eba\u5728\u6587*\u9769\u524d\u540e\u7684\u5883\u9047\u3002 \u544a\u8beb\u6211\u4eec\u8981\u575a\u6301\u7740\u81ea\u5df1\u7684\u826f\u77e5\u3002</p>"},{"location":"enjoy/book/%E6%98%8E%E6%9C%9D%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/","title":"\u660e\u671d\u90a3\u4e9b\u4e8b\u513f","text":"<p>\u5386\u53f2\u672c\u5e94\u67af\u71e5\u4e4f\u5473\u3001\u5f53\u5e74\u660e\u6708\u7528\u73b0\u4ee3\u5e7d\u9ed8\u7684\u624b\u6cd5\u9610\u8ff0\u4e86\u4e00\u4e2a\u671d\u4ee3\u7684\u5174\u8d77\u4e0e\u706d\u4ea1\u3001\u8ba9\u4eba\u8bfb\u7740\u610f\u72b9\u672a\u5c3d</p> <p>\u660e\u671d\u5171\u4f2016\u5e1d\u3001\u4eab\u56fd276\u5e74\u3001\u6709\u7684\u52e4\u4e8e\u653f\u52a1\u3001\u6709\u7684\u660f\u5eb8\u65e0\u80fd\u3001\u6709\u7684\u9519\u4fe1\u5c0f\u4eba\u3001\u6709\u7684\u4e0d\u52a1\u6b63\u4e1a</p> <p>\u7b80\u5355\u7684\u505a\u4e86\u4e0b\u603b\u7ed3</p> <ul> <li> <p>\u6731\u5143\u748b\uff08\u6d2a\u6b66\u592a\u7956\uff0971\u5c81\u85a8 \u5728\u4f4d31\u5e74</p> <p>\u6982\u62ec\uff1a\u5efa\u7acb\u5e1d\u56fd\u3001\u7559\u540d\u9752\u53f2</p> </li> <li> <p>\u6731\u5141\u7086\uff08\u5efa\u6587\u60e0\u5e1d\uff0926\u5c81\u85a8\uff1f \u5728\u4f4d5\u5e74</p> <p>\u6982\u62ec\uff1a\u4e66\u751f\u8bef\u56fd\u3001\u751f\u6b7b\u6210\u8ff7</p> </li> <li> <p>\u6731\u68e3    \uff08\u6c38\u4e50\u6210\u7956\uff0965\u5c81\u85a8  \u5728\u4f4d23\u5e74</p> <p>\u6982\u62ec\uff1a\u6a2a\u626b\u6b8b\u5143\u3001\u7eb5\u6a2a\u5927\u6f20</p> </li> <li> <p>\u6731\u9ad8\u70bd \uff08\u6d2a\u7199\u4ec1\u5b97\uff0948\u5c81\u85a8 \u5728\u4f4d1\u5e74</p> <p>\u6982\u62ec\uff1a\u4ec1\u539a\u5bbd\u4eba\u3001\u8eab\u6b8b\u5fd7\u575a</p> </li> <li> <p>\u6731\u77bb\u57fa\uff08\u5ba3\u5fb7\u5ba3\u5b97\uff0938\u5c81\u85a8 \u5728\u4f4d11\u5e74</p> <p>\u6982\u62ec\uff1a\u5bbd\u539a\u4ec1\u9053\u3001\u4e00\u4ee3\u82f1\u4e3b</p> </li> <li> <p>\u6731\u7941\u9547\uff08\u6b63\u7edf\u82f1\u5b97\uff0938\u5c81\u85a8 \u5728\u4f4d23\u5e74\uff08\u6b63\u7edf15\u5e74\u2795\u5929\u987a8\u5e74\uff09 </p> <p>\u6982\u62ec\uff1a\u6253\u9519\u4e00\u4ed7\u3001\u6740\u9519\u4e00\u4eba</p> </li> <li> <p>\u6731\u7941\u7389\uff08\u666f\u6cf0\u4ee3\u5b97\uff0930\u5c81\u85a8 \u5728\u4f4d8\u5e74</p> <p>\u6982\u62ec\uff1a\u7687\u6743\u6210\u763e\u3001\u6b32\u7f62\u4e0d\u80fd</p> </li> <li> <p>\u6731\u89c1\u6df1\uff08\u6210\u5316\u5baa\u5b97\uff0941\u5c81\u85a8 \u5728\u4f4d23\u5e74</p> <p>\u6982\u62ec\uff1a\u6027\u683c\u61e6\u5f31\u3001\u604b\u6bcd\u60c5\u7ed3</p> </li> <li> <p>\u6731\u7950\u6a18\uff08\u5f18\u6cbb\u5b5d\u5b97\uff0936\u5c81\u85a8 \u5728\u4f4d18\u5e74</p> <p>\u6982\u62ec\uff1a\u52e4\u52e4\u6073\u6073\u3001\u4e00\u4ee3\u660e\u541b</p> </li> <li> <p>\u6731\u539a\u7167\uff08\u6b63\u5fb7\u6b66\u5b97\uff0931\u5c81\u85a8 \u5728\u4f4d16\u5e74</p> <p>\u6982\u62ec\uff1a\u6e38\u5c71\u73a9\u6c34\u3001\u4e0d\u52a1\u6b63\u4e1a</p> </li> <li> <p>\u6731\u539a\u719c\uff08\u5609\u9756\u4e16\u5b97\uff0960\u5c81\u85a8 \u5728\u4f4d45\u5e74</p> <p>\u6982\u62ec\uff1a\u6c89\u8ff7\u9053\u6559\u3001\u81ea\u4f5c\u806a\u660e</p> </li> <li> <p>\u6731\u8f7d\u5795\uff08\u9686\u5e86\u7a46\u5b97\uff0936\u5c81\u85a8 \u5728\u4f4d6\u5e74</p> <p>\u6982\u62ec\uff1a\u5faa\u89c4\u8e48\u77e9\u3001\u61e6\u5f31\u80c6\u5c0f</p> </li> <li> <p>\u6731\u7fca\u94a7\uff08\u4e07\u5389\u795e\u5b97\uff0958\u5c81\u85a8 \u5728\u4f4d48\u5e74</p> <p>\u6982\u62ec\uff1a\u524d\u671f\u52e4\u4e8e\u653f\u52a1\u3001\u540e\u671f\u4e0d\u7406\u671d\u653f</p> </li> <li> <p>\u6731\u5e38\u6d1b\uff08\u6cf0\u660c\u5149\u5b97\uff0939\u5c81\u85a8 \u5728\u4f4d1\u6708</p> <p>\u6982\u62ec\uff1a\u62c5\u60ca\u53d7\u6015\u3001\u6b7b\u4e8e\u88d9\u4e0b</p> </li> <li> <p>\u6731\u7531\u6821\uff08\u5929\u542f\u71b9\u5b97\uff0923\u5c81\u85a8 \u5728\u4f4d7\u5e74</p> <p>\u6982\u62ec\uff1a\u7687\u5e1d\u6728\u5320\u3001\u660f\u5eb8\u65e0\u80fd</p> </li> <li> <p>\u6731\u7531\u68c0\uff08\u5d07\u796f\u601d\u5b97\uff0935\u5c81\u85a8 \u5728\u4f4d17\u5e74</p> <p>\u6982\u62ec\uff1a\u6536\u62fe\u5996\u81e3\u3001\u9971\u7ecf\u5fe7\u60a3\u3001\u6536\u62fe\u70c2\u8d26\u3001\u4eba\u7a77\u5fd7\u9ad8\u3001\u81ea\u7f22\u800c\u4ea1\u3001\u4ea1\u56fd\u4e4b\u541b</p> </li> </ul>"},{"location":"enjoy/book/biography/%E4%B9%94%E5%B8%83%E6%96%AF%E4%BC%A0/","title":"\u4e54\u5e03\u65af\u4f20","text":""},{"location":"enjoy/book/biography/%E4%B9%94%E5%B8%83%E6%96%AF%E4%BC%A0/#_2","title":"\u4e8b\u8ff9","text":"<p>\u82f9\u679c\u516c\u53f8\u672c\u8eab\uff0c\u4e54\u5e03\u65af\u8ba4\u4e3a\u8fd9\u662f\u4ed6\u6700\u4f1f\u5927\u7684\u521b\u4f5c\u3002\u5728\u8fd9\u91cc\uff0c\u60f3\u8c61\u529b\u88ab\u57f9\u80b2\u3001\u5e94\u7528\u548c\u6267\u884c\u7684\u65b9\u5f0f\u6781\u5177\u521b\u9020\u529b\uff0c\u8fd9\u4f7f\u82f9\u679c\u6210\u4e3a\u5168\u7403\u6700\u6709\u4ef7\u503c\u7684\u516c\u53f8</p> <ul> <li>Apple II\uff1a\u91c7\u7528\u6c83\u5179\u5c3c\u4e9a\u514b\u7684\u7535\u8def\u677f\u5e76\u628a\u5b83\u53d8\u6210\u7b2c\u4e00\u53f0\u4e0d\u518d\u4ec5\u4f9b\u4e1a\u4f59\u7231\u597d\u8005\u4f7f\u7528\u7684\u4e2a\u4eba\u8ba1\u7b97\u673a\u3002</li> <li>Mac\uff1a\u5f15\u53d1\u4e86\u5bb6\u7528\u7535\u8111\u9769\u547d\u5e76\u666e\u53ca\u4e86\u56fe\u5f62\u7528\u6237\u754c\u9762\u3002</li> <li>\u76ae\u514b\u65af\uff1a\u300a\u73a9\u5177\u603b\u52a8\u5458\u300b\u548c\u52a8\u753b\u5927\u7247\uff0c\u5f00\u521b\u4e86\u6570\u5b57\u5f71\u50cf\u7684\u5947\u8ff9\u3002</li> <li>\u82f9\u679c\u96f6\u552e\u5e97\uff1a\u91cd\u65b0\u5851\u9020\u4e86\u5546\u5e97\u5728\u54c1\u724c\u5b9a\u4e49\u4e2d\u7684\u89d2\u8272\u3002</li> <li>iPod\uff1a\u6539\u53d8\u4e86\u6211\u4eec\u6d88\u8d39\u97f3\u4e50\u7684\u65b9\u5f0f\u3002</li> <li>iTunes\u5546\u5e97\uff1a\u8ba9\u97f3\u4e50\u4ea7\u4e1a\u91cd\u83b7\u65b0\u751f\u3002</li> <li>iPhone\uff1a\u628a\u79fb\u52a8\u7535\u8bdd\u53d8\u6210\u4e86\u97f3\u4e50\u3001\u7167\u7247\u3001\u89c6\u9891\u3001\u90ae\u4ef6\u548c\u7f51\u7edc\u8bbe\u5907\u3002</li> <li>\u5e94\u7528\u5546\u5e97\uff08App Store\uff09\uff1a\u751f\u6210\u65b0\u7684\u5185\u5bb9\u521b\u9020\u4ea7\u4e1a\u3002</li> <li>iPad\uff1a\u63a8\u51fa\u5e73\u677f\u8ba1\u7b97\u6280\u672f\uff0c\u4e3a\u6570\u5b57\u62a5\u7eb8\u3001\u6742\u5fd7\u3001\u4e66\u7c4d\u548c\u89c6\u9891\u63d0\u4f9b\u4e86\u5e73\u53f0\u3002</li> <li>iCloud\uff1a\u4f7f\u8ba1\u7b97\u673a\u4e0d\u518d\u62c5\u4efb\u7ba1\u7406\u6211\u4eec\u5185\u5bb9\u7684\u4e2d\u5fc3\u89d2\u8272\uff0c\u5e76\u8ba9\u6211\u4eec\u7684\u7535\u5b50\u8bbe\u5907\u65e0\u7f1d\u540c\u6b65\u3002</li> </ul>"},{"location":"enjoy/book/biography/%E4%B9%94%E5%B8%83%E6%96%AF%E4%BC%A0/#_3","title":"\u601d\u8003\u4e0e\u5b9e\u8df5","text":""},{"location":"enjoy/book/biography/%E4%B9%94%E5%B8%83%E6%96%AF%E4%BC%A0/#_4","title":"\u4e13\u6ce8\u8fc7\u7a0b","text":"<ul> <li>\u8fc7\u7a0b\u5c31\u662f\u5956\u52b1\uff08The journey is the reward.\uff09</li> <li>\u76f4\u5230\u4e0a\u5e02\uff0c\u4ea7\u54c1\u624d\u80fd\u7b97\u662f\u5b8c\u5de5\u3002\uff08It\u2019s not done until it ships.\uff09</li> <li>\u771f\u6b63\u4e13\u6ce8\u4e8e\u90a3\u4e9b\u5bf9\u6211\u4eec\u6765\u8bf4\u786e\u5b9e\u91cd\u8981\u548c\u6709\u610f\u4e49\u7684\u5c11\u6570\u9879\u76ee</li> </ul>"},{"location":"enjoy/book/biography/%E4%B9%94%E5%B8%83%E6%96%AF%E4%BC%A0/#_5","title":"\u8ffd\u6c42\u7b80\u5355","text":"<ul> <li>\u4e54\u5e03\u65af\u5c31\u4ee5\u8ffd\u6c42\u7b80\u6d01\u4e3a\u76ee\u6807\u3002\u8ffd\u6c42\u7b80\u6d01\u4e0d\u662f\u8981\u5ffd\u89c6\u590d\u6742\u6027\uff0c\u800c\u662f\u8981\u5316\u7e41\u4e3a\u7b80\u3002\u201c\u8981\u628a\u4e00\u4ef6\u4e1c\u897f\u53d8\u5f97\u7b80\u5355\uff0c\u8fd8\u8981\u771f\u6b63\u5730\u8ba4\u8bc6\u5230\u6f5c\u5728\u7684\u6311\u6218\uff0c\u5e76\u627e\u51fa\u6f02\u4eae\u7684\u89e3\u51b3\u65b9\u6848\u3002\u201d\u4ed6\u8bf4\uff0c\u201c\u8fd9\u9700\u8981\u4ed8\u51fa\u5f88\u591a\u52aa\u529b\u3002\u201d</li> </ul>"},{"location":"enjoy/book/biography/%E4%B9%94%E5%B8%83%E6%96%AF%E4%BC%A0/#_6","title":"\u5b64\u6ce8\u4e00\u63b7","text":"<ul> <li>\u201c\u4f60\u5df2\u662f\u4e00\u65e0\u6240\u6709\uff0c\u6ca1\u7406\u7531\u4e0d\u8ffd\u968f\u5185\u5fc3\u3002\u201d</li> <li>\u201c\u5b64\u6ce8\u4e00\u63b7\u201d\u662f\u4ed6\u6700\u559c\u6b22\u7684\u8bcd\u4e4b\u4e00\uff0c\u4ed6\u4e5f\u613f\u610f\u628a\u8fd9\u4e2a\u8bcd\u7528\u5728\u4ed6\u7684\u65b0\u6784\u60f3\u4e0a\u3002\u4e92\u8054\u7f51\u6ce1\u6cab\u7684\u7834\u88c2\u5bfc\u81f4\u5176\u4ed6\u79d1\u6280\u516c\u53f8\u51cf\u5c11\u4e86\u5bf9\u65b0\u4ea7\u54c1\u7684\u6295\u5165\u3002\u4ed6\u56de\u5fc6\u8bf4\uff1a\u201c\u5f53\u6240\u6709\u4eba\u90fd\u5728\u524a\u51cf\u5f00\u652f\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53cd\u800c\u51b3\u5b9a\u8981\u5728\u60c5\u51b5\u4f4e\u8ff7\u65f6\u7ee7\u7eed\u6295\u8d44\u3002\u6211\u4eec\u4e3b\u8981\u4f1a\u6295\u8d44\u5728\u7814\u53d1\u4e0a\u9762\uff0c\u53d1\u660e\u51fa\u4e00\u4e9b\u65b0\u4e1c\u897f\uff0c\u4e00\u65e6\u4f4e\u6f6e\u671f\u8fc7\u53bb\uff0c\u6211\u4eec\u5c31\u5df2\u7ecf\u9886\u5148\u4e8e\u7ade\u4e89\u5bf9\u624b\u4e86\u3002\u201d\u8fd9\u79cd\u6295\u5165\u9020\u5c31\u4e86\u82f9\u679c\u516c\u53f8\u6301\u7eed\u521b\u65b0\u6700\u8f89\u714c\u7684\u5341\u5e74\u3002\u201d</li> </ul>"},{"location":"enjoy/book/biography/%E4%B9%94%E5%B8%83%E6%96%AF%E4%BC%A0/#_7","title":"\u5173\u4e8e\u7231\u60c5","text":"<ul> <li>\u201c20\u5e74\u524d\u6211\u4eec\u76f8\u77e5\u4e0d\u591a\u3002\u6211\u4eec\u8ddf\u7740\u611f\u89c9\u8d70\uff0c\u4f60\u8ba9\u6211\u7740\u8ff7\u5f97\u98de\u4e0a\u4e86\u5929\u3002\u5f53\u6211\u4eec\u5728\u963f\u74e6\u5c3c\u4e3e\u884c\u5a5a\u793c\u65f6\u5929\u5728\u4e0b\u96ea\u3002\u5f88\u591a\u5e74\u8fc7\u53bb\u4e86\uff0c\u6709\u4e86\u5b69\u5b50\u4eec\uff0c\u6709\u7f8e\u597d\u7684\u65f6\u5019\uff0c\u6709\u8270\u96be\u7684\u65f6\u5019\uff0c\u4f46\u4ece\u6765\u6ca1\u6709\u8fc7\u7cdf\u7cd5\u7684\u65f6\u5019\u3002\u6211\u4eec\u7684\u7231\u548c\u5c0a\u656c\u7ecf\u5386\u4e86\u65f6\u95f4\u7684\u8003\u9a8c\u800c\u4e14\u4e0e\u65e5\u4ff1\u589e\u3002\u6211\u4eec\u4e00\u8d77\u7ecf\u5386\u4e86\u90a3\u4e48\u591a\uff0c\u73b0\u5728\u6211\u4eec\u56de\u523020\u5e74\u524d\u5f00\u59cb\u7684\u5730\u65b9\u2014\u2014\u8001\u4e86\uff0c\u4e5f\u66f4\u6709\u667a\u6167\u4e86\u2014\u2014\u6211\u4eec\u7684\u8138\u4e0a\u548c\u5fc3\u4e0a\u90fd\u6709\u4e86\u76b1\u7eb9\u3002\u6211\u4eec\u73b0\u5728\u4e86\u89e3\u4e86\u5f88\u591a\u751f\u6d3b\u7684\u6b22\u4e50\u3001\u75db\u82e6\u3001\u79d8\u5bc6\u548c\u5947\u8ff9\uff0c\u6211\u4eec\u4f9d\u7136\u5728\u4e00\u8d77\u3002\u6211\u611f\u89c9\u4f9d\u7136\u50cf\u5728\u5929\u4e0a\u98d8\u7740\uff0c\u53cc\u811a\u4ece\u672a\u843d\u56de\u5730\u9762\u3002\u201d</li> </ul>"},{"location":"enjoy/book/biography/%E4%B9%94%E5%B8%83%E6%96%AF%E4%BC%A0/#_8","title":"\u7279\u7acb\u72ec\u884c","text":"<ul> <li>\u201c\u81f4\u75af\u72c2\u7684\u4eba\u3002\u4ed6\u4eec\u7279\u7acb\u72ec\u884c\u3002\u4ed6\u4eec\u6840\u9a9c\u4e0d\u9a6f\u3002\u4ed6\u4eec\u60f9\u662f\u751f\u975e\u3002\u4ed6\u4eec\u683c\u683c\u4e0d\u5165\u3002\u4ed6\u4eec\u7528\u4e0e\u4f17\u4e0d\u540c\u7684\u773c\u5149\u770b\u5f85\u4e8b\u7269\u3002\u4ed6\u4eec\u4e0d\u559c\u6b22\u58a8\u5b88\u6210\u89c4\u3002\u4ed6\u4eec\u4e5f\u4e0d\u613f\u5b89\u4e8e\u73b0\u72b6\u3002\u4f60\u53ef\u4ee5\u8ba4\u540c\u4ed6\u4eec\uff0c\u53cd\u5bf9\u4ed6\u4eec\uff0c\u9882\u626c\u6216\u662f\u8bcb\u6bc1\u4ed6\u4eec\u3002\u4f46\u552f\u72ec\u4e0d\u80fd\u6f20\u89c6\u4ed6\u4eec\u3002\u56e0\u4e3a\u4ed6\u4eec\u6539\u53d8\u4e86\u5bfb\u5e38\u4e8b\u7269\u3002\u4ed6\u4eec\u63a8\u52a8\u4eba\u7c7b\u5411\u524d\u8fc8\u8fdb\u3002\u6216\u8bb8\u4ed6\u4eec\u662f\u522b\u4eba\u773c\u91cc\u7684\u75af\u5b50\uff0c\u4f46\u4ed6\u4eec\u5374\u662f\u6211\u4eec\u773c\u4e2d\u7684\u5929\u624d\u3002\u56e0\u4e3a\u53ea\u6709\u90a3\u4e9b\u75af\u72c2\u5230\u4ee5\u4e3a\u81ea\u5df1\u80fd\u591f\u6539\u53d8\u4e16\u754c\u7684\u4eba\uff0c\u624d\u80fd\u771f\u6b63\u6539\u53d8\u4e16\u754c\u3002\u201d</li> </ul>"},{"location":"enjoy/book/biography/%E9%A9%AC%E6%96%AF%E5%85%8B%E4%BC%A0/","title":"\u9a6c\u65af\u514b\u4f20","text":""},{"location":"enjoy/book/biography/%E9%A9%AC%E6%96%AF%E5%85%8B%E4%BC%A0/#_2","title":"\u4e8b\u8ff9","text":"<ul> <li>Zip2\uff1a\u63d0\u4f9b\u4e86\u5728\u7ebf\u5730\u56fe\u670d\u52a1\uff0c\u8d5a\u5f97\u4e86\u7b2c\u4e00\u6876\u91d1</li> <li>PayPal(X.com)\uff1a\u901a\u8fc7\u4e92\u8054\u7f51\u5b9e\u73b0\u5b9e\u65f6\u8d44\u91d1\u6d41\u8f6c</li> <li>SpaceX\uff1a\u4e3a\u964d\u4f4e\u592a\u7a7a\u65c5\u884c\u6210\u672c\uff0c\u5b9e\u73b0\u4eba\u7c7b\u591a\u661f\u7403\u751f\u5b58</li> <li>Tesla\uff1a\u52a0\u901f\u4e16\u754c\u5411\u53ef\u6301\u7eed\u80fd\u6e90\u7684\u8f6c\u53d8</li> <li>Boring Company\uff1a\u4e13\u6ce8\u4e8e\u89e3\u51b3\u57ce\u5e02\u4ea4\u901a\u62e5\u5835</li> <li>Neuralink\uff1a\u8111\u673a\u63a5\u53e3\u6280\u672f\uff0c\u5b9e\u73b0\u4eba\u673a\u5171\u751f</li> <li>X(Twitter)\uff1a\u7528\u6237\u7684\u8a00\u8bba\u81ea\u7531\uff08\u5206\u53d1\u81ea\u7531\uff09</li> <li>xAI\uff1a\u901a\u8fc7\u524d\u6cbf\u7684 AI \u6280\u672f\u63a8\u52a8\u4eba\u7c7b\u5bf9\u5b87\u5b99\u7684\u7406\u89e3</li> </ul>"},{"location":"enjoy/book/biography/%E9%A9%AC%E6%96%AF%E5%85%8B%E4%BC%A0/#_3","title":"\u601d\u8003\u4e0e\u5b9e\u8df5","text":""},{"location":"enjoy/book/biography/%E9%A9%AC%E6%96%AF%E5%85%8B%E4%BC%A0/#_4","title":"\u7b2c\u4e00\u6027\u539f\u7406","text":"<p>\u6838\u5fc3\uff1a\u4ece\u57fa\u672c\u7269\u7406\u5b9a\u5f8b\u51fa\u53d1\uff0c\u5265\u79bb\u6240\u6709\u5047\u8bbe\u548c\u60ef\u4f8b\uff0c\u91cd\u65b0\u6784\u5efa\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u4f8b\u5982\uff0c\u9a6c\u65af\u514b\u5728 SpaceX \u4e2d\u901a\u8fc7\u5206\u6790\u706b\u7bad\u6750\u6599\u6210\u672c\uff0c\u53d1\u73b0\u4f20\u7edf\u4f9b\u5e94\u5546\u7684\u5b9a\u4ef7\u8fdc\u8d85\u539f\u6750\u6599\u4ef7\u503c\uff0c\u4ece\u800c\u51b3\u5b9a\u81ea\u4e3b\u751f\u4ea7</p>"},{"location":"enjoy/book/biography/%E9%A9%AC%E6%96%AF%E5%85%8B%E4%BC%A0/#_5","title":"\u4e94\u6b65\u5de5\u4f5c\u6cd5","text":"<p>\u8d28\u7591\u9700\u6c42 -&gt; \u5220\u9664\u5197\u4f59 -&gt; \u7b80\u5316\u6d41\u7a0b -&gt; \u52a0\u901f\u8fed\u4ee3 -&gt; \u81ea\u52a8\u5316</p>"},{"location":"enjoy/book/biography/%E9%A9%AC%E6%96%AF%E5%85%8B%E4%BC%A0/#_6","title":"\u884c\u52a8\u5b9e\u8df5","text":"<ul> <li>\u5feb\u901f\u8bd5\u9519\u4e0e\u8fed\u4ee3</li> <li>\u5782\u76f4\u6574\u5408\u4e0e\u95ed\u73af\u751f\u6001 </li> <li>\u65f6\u95f4\u7ba1\u7406\u4e0e\u4e13\u6ce8\u529b</li> <li>\u5371\u673a\u5904\u7406\u4e0e\u6297\u538b\u80fd\u529b</li> </ul>"},{"location":"enjoy/book/biography/%E9%A9%AC%E6%96%AF%E5%85%8B%E4%BC%A0/#_7","title":"\u4ef7\u503c\u89c2","text":"<ul> <li>\u957f\u671f\u4e3b\u4e49\u4e0e\u4f7f\u547d\u9a71\u52a8</li> <li>\u6781\u7b80\u4e0e\u805a\u7126</li> </ul>"},{"location":"enjoy/book/finance/%E7%BA%B3%E7%93%A6%E5%B0%94%E5%AE%9D%E5%85%B8/","title":"\u7eb3\u74e6\u5c14\u5b9d\u5178","text":"<p>\u4eba\u751f\u7684\u4e09\u5927\u8981\u7d20\u662f\u8d22\u5bcc\u3001\u5065\u5eb7\u548c\u5e78\u798f\u3002</p> <p>\u6211\u4eec\u4f9d\u6b21\u8ffd\u6c42\u8d22\u5bcc\u3001\u5065\u5eb7\u548c\u5e78\u798f\uff0c\u4f46\u6309\u91cd\u8981\u6027\u6392\u5e8f\uff0c\u5219\u662f\u53cd\u8fc7\u6765\u7684\u3002</p>"},{"location":"enjoy/book/finance/%E7%BA%B3%E7%93%A6%E5%B0%94%E5%AE%9D%E5%85%B8/#_2","title":"\u7b14\u8bb0\u6458\u6284","text":""},{"location":"enjoy/book/finance/%E7%BA%B3%E7%93%A6%E5%B0%94%E5%AE%9D%E5%85%B8/#_3","title":"\u8d22\u5bcc","text":""},{"location":"enjoy/book/finance/%E7%BA%B3%E7%93%A6%E5%B0%94%E5%AE%9D%E5%85%B8/#_4","title":"\u79ef\u7d2f\u8d22\u5bcc","text":"<p>\u6760\u6746</p> <p>\u4e0d\u8981\u505a\u53ef\u80fd\u4f1a\u8ba9\u4f60\u5168\u76d8\u7686\u8f93\u7684\u4e8b\u60c5\u3002\u4e0d\u8981\u5b64\u6ce8\u4e00\u63b7\u3001\u94e4\u800c\u8d70\u9669\u3002\u76f8\u53cd\uff0c\u8981\u628a\u8d4c\u6ce8\u62bc\u5728\u90a3\u4e9b\u80dc\u7b97\u8f83\u5927\u3001\u80fd\u5e26\u6765\u5de8\u5927\u5229\u76ca\u7684\u4e8b\u60c5\u4e0a\u3002</p> <ul> <li>\u4ee3\u7801\u6760\u6746\uff1a\u516c\u53f8\u4f1a\u8058\u7528\u5927\u91cf\u5f00\u53d1\u4eba\u5458</li> <li>\u8d44\u672c\u6760\u6746\uff1a\u6295\u8d44\u548c\u521b\u4e1a\u8005\u521d\u59cb\u6295\u5165\u7684\u8d44\u672c</li> <li>\u52b3\u52a8\u529b\u6760\u6746\uff1a\u516c\u53f8\u540c\u65f6\u96c7\u7528\u4e86\u884c\u4e1a\u9876\u5c16\u4eba\u624d\uff0c\u4f8b\u5982\u4f18\u79c0\u7684\u5de5\u7a0b\u5e08\u3001\u8bbe\u8ba1\u5e08\u548c\u8425\u9500\u4e13\u5bb6\u7b49</li> </ul> <p>\u5206\u6e05\u4e3b\u6b21\u3001\u805a\u7126\u91cd\u70b9</p> <ul> <li>\u627e\u5230\u81ea\u5df1\u64c5\u957f\u7684\u9886\u57df\uff0c\u7136\u540e\u7528\u81ea\u5df1\u7684\u6280\u80fd\u53bb\u5e2e\u52a9\u4ed6\u4eba\u3002</li> <li>\u63d0\u4f9b\u514d\u8d39\u7684\u4ea7\u54c1\u6216\u670d\u52a1\uff0c\u4e3b\u52a8\u5411\u4e16\u754c\u4f20\u9012\u5584\u610f\u3002</li> <li>\u597d\u4eba\u7ec8\u6709\u597d\u62a5\u3002\u53ea\u8981\u59cb\u7ec8\u5982\u4e00\uff0c\u5047\u4ee5\u65f6\u65e5\uff0c\u4ed8\u51fa\u5c31\u4e00\u5b9a\u80fd\u83b7\u5f97\u76f8\u5e94\u7684\u56de\u62a5\u3002\u4f46\u4e0d\u8981\u8ba1\u8f83\u81ea\u5df1\u4ed8\u51fa\u4e86\u591a\u5c11\u2014\u2014\u4e00\u65e6\u5f00\u59cb\u8ba1\u8f83\uff0c\u8010\u5fc3\u5c31\u4f1a\u88ab\u6d88\u8017\u6b86\u5c3d\u3002</li> </ul> <p>\u5982\u73a9\u800d\u822c\u7684\u5de5\u4f5c</p> <p>\u4e00\u4e2a\u4eba\u4e0d\u65ad\u6210\u957f\uff0c\u4ece\u5c0f\u5230\u5927\u73a9\u4e0a\u5b66\u6e38\u620f\uff0c\u73a9\u793e\u4ea4\u6e38\u620f\uff0c\u73a9\u8d5a\u94b1\u6e38\u620f\uff0c\u73a9\u5730\u4f4d\u6e38\u620f\u3002\u770b\u900f\u6e38\u620f\uff0c\u5c31\u4f1a\u538c\u5026\u6e38\u620f\u3002\u6211\u8ba4\u4e3a\u6ca1\u6709\u4ec0\u4e48\u7ec8\u6781\u76ee\u6807\u6216\u76ee\u7684\u3002\u6211\u53ea\u662f\u9075\u4ece\u5185\u5fc3\u7684\u611f\u53d7\u548c\u60f3\u6cd5\uff0c\u8fc7\u597d\u6bcf\u4e00\u5929\u3002\u6211\u662f\u771f\u7684\u53ea\u6d3b\u5728\u5f53\u4e0b\u3002</p> <p>\u4f60\u5bf9\u9000\u4f11\u7684\u5b9a\u4e49\u662f\u4ec0\u4e48\uff1f\u9000\u4f11\u5c31\u662f\u4e0d\u518d\u4e3a\u4e86\u60f3\u8c61\u4e2d\u7684\u660e\u5929\u800c\u727a\u7272\u4eca\u5929\u3002\u5f53\u4f60\u80fd\u6d3b\u5728\u5f53\u4e0b\uff0c\u5185\u5fc3\u5145\u76c8\u5730\u5ea6\u8fc7\u6bcf\u4e00\u5929\u65f6\uff0c\u4f60\u5c31\u8fbe\u5230\u4e86\u9000\u4f11\u7684\u72b6\u6001\u3002</p> <p>\u5982\u4f55\u8fbe\u5230\u9000\u4f11\u72b6\u6001\uff1f</p> <ol> <li>\u5b58\u94b1\u3002\u53ea\u8981\u5b58\u6b3e\u591f\u591a\uff0c\u88ab\u52a8\u6536\u5165\uff08\u4e0d\u7528\u52a8\u4e00\u6839\u624b\u6307\uff09\u5c31\u80fd\u6ee1\u8db3\u5f00\u9500</li> <li>\u662f\u628a\u5f00\u9500\u964d\u4e3a\u96f6\u2014\u2014\u51fa\u5bb6\u4fee\u884c</li> <li>\u505a\u81ea\u5df1\u70ed\u7231\u7684\u4e8b\u60c5\uff0c\u5b8c\u5168\u4e50\u5728\u5176\u4e2d\uff0c\u6709\u94b1\u6ca1\u94b1\u65e0\u6240\u8c13\u3002</li> </ol> <p>\u8fd0\u6c14</p> <ol> <li>\u8fd0\u6c14\u662f\u4e0d\u671f\u800c\u9047\u7684\u8fd0\u6c14\uff0c\u4e00\u4e2a\u4eba\u7684\u597d\u8fd0\u5b8c\u5168\u6e90\u4e8e\u4ed6\u63a7\u5236\u8303\u56f4\u4e4b\u5916\u3001\u610f\u6599\u4e4b\u5916\u7684\u4e8b\u60c5\uff0c\u6bd4\u5982\u83b7\u5f97\u610f\u5916\u4e4b\u8d22\u3001\u9047\u5230\u8d35\u4eba\u7b49\u7b49</li> <li>\u6e90\u4e8e\u575a\u6301\u4e0d\u61c8\u3001\u5b5c\u5b5c\u4e0d\u5026\u3001\u5c61\u8d25\u5c61\u6218\u3001\u4e0d\u65ad\u5c1d\u8bd5\uff0c\u662f\u9760\u4e2a\u4eba\u4e3b\u52a8\u521b\u9020\u673a\u4f1a\u83b7\u5f97\u7684\u3002\u4f60\u91ca\u653e\u4e86\u5927\u91cf\u80fd\u91cf\uff0c\u4f7f\u51fa\u6d51\u8eab\u89e3\u6570\uff0c\u79fb\u5c71\u5012\u6d77\uff0c\u4e00\u5f80\u65e0\u524d\u3002\u5c31\u597d\u50cf\u5728\u505a\u79d1\u5b66\u5b9e\u9a8c\uff0c\u628a\u4e0d\u540c\u7684\u8bd5\u5242\u6df7\u5408\u5728\u4e00\u8d77\uff0c\u770b\u770b\u80fd\u4ea7\u751f\u4ec0\u4e48\u7ed3\u679c\u3002\u56e0\u4e3a\u4f60\u4e0d\u61c8\u5730\u52aa\u529b\uff0c\u4e0d\u505c\u5730\u594b\u8fdb\uff0c\u4e0d\u65ad\u5730\u91ca\u653e\u80fd\u91cf\u3001\u79ef\u84c4\u529b\u91cf\uff0c\u6240\u4ee5\u597d\u8fd0\u627e\u5230\u4e86\u4f60\u3002</li> <li>\u5584\u4e8e\u53d1\u73b0\u597d\u8fd0\u3002\u5982\u679c\u4f60\u5728\u67d0\u4e2a\u9886\u57df\u6280\u827a\u5a34\u719f\u3001\u7ecf\u9a8c\u4e30\u5bcc\uff0c\u90a3\u4e48\u5f53\u8fd9\u4e2a\u9886\u57df\u5b9e\u73b0\u4e86\u610f\u5916\u7a81\u7834\u65f6\uff0c\u4f60\u5c31\u4f1a\u5728\u7b2c\u4e00\u65f6\u95f4\u6d1e\u6089\uff0c\u8fd9\u65f6\uff0c\u5176\u4ed6\u4e0d\u719f\u6089\u8fd9\u4e2a\u9886\u57df\u7684\u4eba\u4f1a\u65e0\u52a8\u4e8e\u8877\u3002\u8fd9\u5c31\u662f\u589e\u52a0\u5bf9\u597d\u8fd0\u7684\u654f\u611f\u6027\uff0c\u5e78\u8fd0\u4f1a\u7737\u987e\u6709\u51c6\u5907\u7684\u5927\u8111\u3002</li> <li>\u6253\u9020\u72ec\u7279\u7684\u4e2a\u6027\u3001\u72ec\u7279\u7684\u54c1\u724c\u3001\u72ec\u7279\u7684\u5fc3\u6001\uff0c\u8ba9\u8fd0\u6c14\u627e\u5230\u4f60\u3002</li> </ol> <p>\u4fdd\u6301\u8010\u5fc3</p> <p>\u5bf9\u81ea\u5df1\u70ed\u7231\u7684\u4e8b\u7269\u5b5c\u5b5c\u4e0d\u5026\uff0c\u4e50\u6b64\u4e0d\u75b2\uff0c\u4e0d\u65ad\u7cbe\u8fdb\uff0c\u65e5\u79ef\u6708\u7d2f\u3002\u4e0d\u8981\u53bb\u8ba1\u7b97\u81ea\u5df1\u6295\u5165\u7684\u65f6\u95f4\u548c\u7cbe\u529b\uff0c\u56e0\u4e3a\u4e00\u65e6\u5f00\u59cb\u8ba1\u7b97\uff0c\u4f60\u5c31\u4f1a\u5931\u53bb\u8010\u5fc3\u3002</p> <p>\u201c\u4f46\u884c\u597d\u4e8b\uff0c\u83ab\u95ee\u524d\u7a0b\u201d\u4e0d\u5bb9\u6613\uff0c\u4e0d\u4ec5\u4e0d\u5bb9\u6613\uff0c\u800c\u4e14\u96be\u4e8e\u4e0a\u9752\u5929\u3002</p>"},{"location":"enjoy/book/finance/%E7%BA%B3%E7%93%A6%E5%B0%94%E5%AE%9D%E5%85%B8/#_5","title":"\u5224\u65ad\u529b","text":"<p>\u4e00\u4e2a\u667a\u6167\u800c\u5bcc\u6709\u5224\u65ad\u529b\u7684\u4eba\uff0c\u9996\u5148\u8981\u77e5\u9053\u4e2a\u4eba\u884c\u4e3a\u7684\u957f\u671f\u540e\u679c\uff0c\u7136\u540e\u505a\u51fa\u6b63\u786e\u7684\u51b3\u7b56\u5e76\u4ed8\u8bf8\u884c\u52a8\u3002</p> <p>\u6e05\u6670\u601d\u8003</p> <p>\u53ea\u6709\u5b9e\u4e8b\u6c42\u662f\uff0c\u624d\u80fd\u4e0d\u65ad\u6539\u8fdb\uff0c\u4e0d\u65ad\u524d\u884c\u3002</p> <p>\u6446\u8131\u675f\u7f1a</p> <p>\u4ece\u957f\u8fdc\u770b\uff0c\u627f\u53d7\u75db\u82e6\u4e5f\u662f\u4eba\u751f\u7684\u5fc5\u4fee\u8bfe\uff0c\u5b83\u53ef\u4ee5\u5e26\u6765\u4e24\u5927\u6536\u83b7</p> <ol> <li>\u75db\u82e6\u53ef\u4ee5\u8ba9\u4eba\u63a5\u53d7\u4e16\u754c\u7684\u672c\u6765\u9762\u76ee</li> <li>\u75db\u82e6\u53ef\u4ee5\u5927\u5927\u6539\u53d8\u4e00\u4e2a\u4eba\u7684\u81ea\u6211\uff0c\u867d\u7136\u8fc7\u7a0b\u975e\u5e38\u714e\u71ac</li> </ol> <p>\u5982\u679c\u9762\u5bf9\u4e24\u4e2a\u9009\u62e9\uff0c\u5229\u5f0a\u5404\u536050%\uff0c\u4f60\u5c31\u5e94\u8be5\u9009\u62e9\u77ed\u671f\u5185\u66f4\u8270\u96be\u3001\u66f4\u75db\u82e6\u7684\u9053\u8def\u3002\u4ece\u672c\u8d28\u4e0a\u770b\uff0c\u4e24\u6761\u9053\u8def\u4e2d\u7684\u4e00\u6761\u4f1a\u5e26\u6765\u77ed\u671f\u75db\u82e6\uff0c\u800c\u53e6\u4e00\u6761\u4f1a\u5728\u672a\u6765\u5f15\u53d1\u66f4\u957f\u4e45\u7684\u75db\u82e6\u3002\u4e3a\u4e86\u56de\u907f\u77db\u76fe\uff0c\u5927\u8111\u4f1a\u672c\u80fd\u5730\u9009\u62e9\u6446\u8131\u77ed\u671f\u75db\u82e6\u3002</p> <p>\u524d\u63d0\u6761\u4ef6\u662f\uff0c\u4e24\u4e2a\u9009\u62e9\u5229\u5f0a\u76f8\u5f53\uff0c\u4f46\u5982\u679c\u4e00\u6761\u9053\u8def\u4f1a\u5e26\u6765\u77ed\u671f\u75db\u82e6\uff0c\u90a3\u4e48\u5b83\u4e5f\u4f1a\u5e26\u6765\u957f\u671f\u6536\u76ca\u3002\u800c\u6839\u636e\u590d\u5229\u6548\u5e94\uff0c\u957f\u671f\u6536\u76ca\u624d\u662f\u4f60\u60f3\u8981\u7684\u3002</p> <p>\u907f\u514d\u52a0\u5165\u4efb\u4f55\u6240\u8c13\u7684\u201c\u8bfb\u4e66\u4ff1\u4e50\u90e8\u201d\uff0c\u907f\u514d\u8ffd\u6c42\u4efb\u4f55\u7684\u793e\u7fa4\u8ba4\u540c\u3002\u628a\u771f\u7406\u7f6e\u4e8e\u793e\u7fa4\u8ba4\u540c\u4e4b\u4e0a\u3002</p> <p>\u4e00\u9897\u5e73\u9759\u7684\u5fc3\uff0c\u4e00\u4e2a\u5065\u5eb7\u7684\u8eab\u4f53\uff0c\u4e00\u4e2a\u5145\u6ee1\u7231\u7684\u5bb6\u3002\u8fd9\u4e9b\u4e1c\u897f\u662f\u91d1\u94b1\u4e70\u4e0d\u5230\u7684\uff0c\u5fc5\u987b\u901a\u8fc7\u52aa\u529b\u624d\u80fd\u83b7\u5f97\u3002</p>"},{"location":"enjoy/book/finance/%E7%BA%B3%E7%93%A6%E5%B0%94%E5%AE%9D%E5%85%B8/#_6","title":"\u5e78\u798f","text":"<ul> <li>\u4eba\u751f\u7684\u5927\u8d62\u5bb6\u5c31\u662f\u540c\u65f6\u62e5\u6709\u65f6\u95f4\u3001\u5065\u5eb7\u548c\u91d1\u94b1\u3002</li> <li>\u201c\u7b49\u5f97\u5230\u90a3\u4e2a\u4e1c\u897f\uff0c\u6211\u5c31\u5feb\u4e50\u4e86\u201d\u3002\u8fd9\u5c31\u662f\u4e00\u4e2a\u6211\u4eec\u65f6\u65f6\u523b\u523b\u90fd\u5728\u72af\u7684\u6839\u672c\u9519\u8bef\u3002</li> </ul> <p>\u6539\u53d8\u4e60\u60ef\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u77e5\u9053\u81ea\u5df1\u8981\u505a\u4ec0\u4e48</li> <li>\u77e5\u9053\u8be5\u600e\u4e48\u505a</li> <li>\u628a\u89c4\u5212\u544a\u8bc9\u670b\u53cb\uff0c\u8ba9\u4e00\u81f4\u6027\u504f\u89c1\u53d1\u6325\u4f5c\u7528</li> <li>\u4e25\u683c\u81ea\u5f8b\uff0c\u77e5\u884c\u5408\u4e00\uff0c\u8fdb\u884c\u81ea\u6211\u91cd\u5851\uff0c\u76f4\u81f3\u8715\u53d8\u6210\u5168\u65b0\u7684\u81ea\u5df1</li> </ol> <p>\u4eba\u56fa\u6709\u4e00\u6b7b\uff0c\u6b7b\u540e\u4e07\u4e8b\u7686\u7a7a\u3002\u6240\u4ee5\uff0c\u597d\u597d\u4eab\u53d7\u751f\u547d\u5427\u3002\u5bf9\u793e\u4f1a\u505a\u4e00\u4e9b\u79ef\u6781\u7684\u8d21\u732e\u3002\u5411\u4e16\u754c\u4e3b\u52a8\u91ca\u653e\u548c\u4f20\u64ad\u7231\u3002\u7ed9\u4ed6\u4eba\u5e26\u6765\u5feb\u4e50\u548c\u5e78\u798f\u3002\u8ba9\u751f\u6d3b\u591a\u4e00\u4e9b\u7b11\u58f0\u3002\u73cd\u89c6\u773c\u524d\u7684\u6bcf\u4e2a\u77ac\u95f4\u3002\u627f\u62c5\u4f7f\u547d\uff0c\u5c3d\u804c\u5c3d\u8d23\uff0c\u4e0d\u6789\u6b64\u751f\u3002</p>"},{"location":"enjoy/book/finance/%E8%81%AA%E6%98%8E%E7%9A%84%E6%8A%95%E8%B5%84%E8%80%85/","title":"\u806a\u660e\u7684\u6295\u8d44\u8005","text":""},{"location":"enjoy/book/finance/%E8%81%AA%E6%98%8E%E7%9A%84%E6%8A%95%E8%B5%84%E8%80%85/#_2","title":"\u4e66\u7c4d\u6458\u6284","text":"<p>\u6295\u8d44\u4e0e\u6295\u673a</p> <ul> <li>\u5df4\u83f2\u7279\u591a\u6b21\u5ba3\u79f0\uff1a\u5728\u522b\u4eba\u8d2a\u5a6a\u65f6\u6050\u60e7\uff0c\u5728\u522b\u4eba\u6050\u60e7\u65f6\u8d2a\u5a6a</li> <li>\u683c\u96f7\u5384\u59c6\u8bf4\u7684\u201d\u806a\u660e\u7684\u6295\u8d44\u8005\u201c\uff0c\u786e\u5207\u542b\u4e49\u662f\uff1a\u8981\u6709\u8010\u5fc3\uff0c\u8981\u6709\u7ea6\u675f\uff0c\u5e76\u6e34\u671b\u5b66\u4e60\uff0c\u6b64\u5916\uff0c\u8fd8\u5fc5\u987b\u80fd\u9a7e\u9a6d\u60c5\u7eea\uff0c\u8fdb\u884c\u81ea\u6211\u53cd\u601d</li> <li>\u5e02\u573a\u5c31\u50cf\u4e00\u53ea\u949f\u6446\uff0c\u6c38\u8fdc\u5728\u77ed\u547d\u7684\u4e50\u89c2\uff08\u4f7f\u5f97\u80a1\u7968\u8fc7\u4e8e\u6602\u8d35\uff09\u548c\u4e0d\u5408\u7406\u7684\u60b2\u89c2\uff08\u4f7f\u5f97\u80a1\u7968\u8fc7\u4e8e\u5ec9\u4ef7\uff09\u4e4b\u95f4\u6446\u52a8\u3002\u806a\u660e\u7684\u6295\u8d44\u8005\u5219\u662f\u73b0\u5b9e\u4e3b\u4e49\u8005\uff0c\u4ed6\u4eec\u5411\u4e50\u89c2\u4e3b\u4e49\u5356\u51fa\u80a1\u7968\uff0c\u5e76\u4ece\u60b2\u89c2\u4e3b\u4e49\u8005\u624b\u4e2d\u4e70\u8fdb\u80a1\u7968\u3002</li> </ul> <p>\u6295\u8d44\u8005\u4e0e\u901a\u8d27\u81a8\u80c0</p> <ul> <li>\u7531\u4e8e\u672a\u6765\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u6295\u8d44\u8005\u624d\u4e0d\u80fd\u628a\u5176\u5168\u90e8\u8d44\u91d1\u90fd\u653e\u5165\u4e00\u4e2a\u7bee\u5b50\u91cc<ul> <li>\u65e2\u4e0d\u80fd\u5b8c\u5168\u653e\u5165\u503a\u5238\u7bee\u5b50\u91cc\u2014\u2014\u5c3d\u7ba1\u6700\u8fd1\u5229\u606f\u8fbe\u5230\u4e86\u524d\u6240\u672a\u6709\u7684\u9ad8\u5ea6</li> <li>\u4e5f\u4e0d\u80fd\u5b8c\u5168\u653e\u5165\u80a1\u7968\u7bee\u5b50\u91cc\uff0c\u5c3d\u7ba1\u901a\u8d27\u81a8\u80c0\u6709\u671b\u7ee7\u7eed\u4e0b\u53bb</li> </ul> </li> </ul> <p>\u80a1\u4ef7\u6c34\u5e73</p> <ul> <li>\u5386\u53f2\u544a\u8bc9\u6211\u4eec\u7684\u60df\u4e00\u65e0\u53ef\u4e89\u8bae\u7684\u771f\u7406\uff0c\u5c31\u662f\u672a\u6765\u603b\u4f1a\u51fa\u4e4e\u6211\u4eec\u7684\u610f\u6599\uff0c\u6c38\u8fdc\u662f\u8fd9\u6837</li> </ul> <p>\u6295\u8d44\u7ec4\u5408\u7b56\u7565</p> <ul> <li>\u6295\u8d44\u8005\u5e94\u5728\u5176\u5b9e\u9645\u64cd\u4f5c\u4e2d\uff0c\u4fdd\u6301\u5bf9\u503a\u5238\u548c\u80a1\u7968\u7684\u5747\u7b49\u6295\u8d44<ul> <li>\u5982\u679c\u80a1\u4ef7\u6c34\u5e73\u4f7f\u80a1\u7968\u6295\u8d44\u7684\u6bd4\u4f8b\u63d0\u9ad8\u523055%\uff0c\u4ed6\u4eec\u5c31\u5e94\u51c6\u5907\u5356\u51fa\u5341\u4e00\u5206\u4e4b\u4e00\u7684\u80a1\u7968\uff0c\u5e76\u5c06\u8be5\u7b14\u8d44\u91d1\u6295\u5165\u503a\u5238\uff0c\u4ee5\u6062\u590d\u4e24\u8005\u4e4b\u95f4\u7684\u5747\u8861</li> <li>\u5982\u679c\u5176\u6301\u80a1\u6bd4\u4f8b\u4ec5\u4e3a\u8d44\u91d1\u603b\u989d\u768445%\uff0c\u4ed6\u5c31\u5e94\u5f53\u8003\u8651\u62ff\u51fa\u5341\u4e00\u5206\u4e4b\u4e00\u7684\u503a\u5238\uff0c\u5c06\u5176\u8f6c\u4e3a\u80a1\u7968\u6295\u8d44</li> </ul> </li> <li>\u9762\u5bf9\u6240\u6709\u76f8\u5173\u5e02\u573a\u95ee\u9898\u65f6\uff0c\u201c\u6211\u4e0d\u77e5\u9053\uff0c\u4e5f\u4e0d\u5728\u4e4e\u201d\u3002\u627f\u8ba4\u81ea\u5df1\u5bf9\u672a\u6765\u6240\u77e5\u751a\u5c11\uff0c\u4ee5\u53ca\u5bf9\u8fd9\u79cd\u65e0\u77e5\u7684\u5fc3\u5b89\u7406\u5f97\uff0c\u6b63\u662f\u9632\u5fa1\u578b\u6295\u8d44\u8005\u6700\u5f3a\u5927\u7684\u6b66\u5668\u3002</li> <li>\u9e21\u86cb\u653e\u5230\u591a\u4e2a\u7bee\u5b50\u91cc</li> <li>\u8bf7\u5c06\u4e09\u5206\u4e4b\u4e00\u7684\u80a1\u7968\u8d44\u91d1\u7528\u4e8e\u8d2d\u4e70\u5916\u56fd\uff08\u5305\u62ec\u65b0\u5174\u5e02\u573a\uff09\u80a1\u7968\u7684\u5171\u540c\u57fa\u91d1\uff0c\u8fd9\u4e00\u5b9a\u6709\u52a9\u4e8e\u9632\u8303\u98ce\u9669\uff0c\u56e0\u4e3a\u672c\u56fd\u5e02\u573a\u4e0d\u4e00\u5b9a\u662f\u5168\u7403\u6700\u597d\u7684\u6295\u8d44\u5e02\u573a\u3002</li> </ul> <p>\u6295\u8d44\u8005\u4e0e\u5e02\u573a\u6ce2\u52a8</p> <ul> <li>\u4ece\u6839\u672c\u4e0a\u8bb2\uff0c\u4ef7\u683c\u6ce2\u52a8\u5bf9\u771f\u6b63\u7684\u6295\u8d44\u8005\u53ea\u6709\u4e00\u4e2a\u91cd\u8981\u610f\u4e49\uff0c\u5373\u5f53\u4ef7\u683c\u5927\u5e45\u4e0b\u8dcc\u540e\uff0c\u7ed9\u6295\u8d44\u8005\u4e70\u5165\u7684\u673a\u4f1a\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002\u5728\u9664\u6b64\u4e4b\u5916\u7684\u5176\u4ed6\u65f6\u95f4\u91cc\uff0c\u6295\u8d44\u8005\u6700\u597d\u5fd8\u8bb0\u80a1\u5e02\u7684\u5b58\u5728\uff0c\u66f4\u591a\u5730\u5173\u6ce8\u81ea\u5df1\u7684\u80a1\u606f\u56de\u62a5\u548c\u4f01\u4e1a\u7684\u7ecf\u8425\u7ed3\u679c\u3002</li> <li>\u603b\u4f53\u4e0a\u8bb2\uff0c\u6295\u8d44\u8005\u8f83\u597d\u7684\u529e\u6cd5\u662f\uff0c\u53ea\u8981\u6709\u94b1\u6295\u8d44\u4e8e\u80a1\u7968\uff0c\u5c31\u4e0d\u8981\u63a8\u8fdf\u8d2d\u4e70\u2014\u2014\u9664\u975e\u6574\u4f53\u5e02\u573a\u6c34\u5e73\u592a\u9ad8\uff0c\u800c\u4e0d\u7b26\u5408\u957f\u671f\u4ee5\u6765\u6240\u4f7f\u7528\u7684\u4ef7\u503c\u6807\u51c6\u3002\u7cbe\u660e\u7684\u6295\u8d44\u8005\u53ef\u4ee5\u5728\u5404\u79cd\u8bc1\u5238\u5f53\u4e2d\uff0c\u5bfb\u627e\u5230\u4ea7\u751f\u5ec9\u4ef7\u4ea4\u6613\u7684\u673a\u4f1a\u3002</li> <li>\u6295\u8d44\u7684\u5168\u90e8\u610f\u4e49\u5e76\u4e0d\u5728\u4e8e\u6240\u8d5a\u53d6\u7684\u94b1\u6bd4\u4e00\u822c\u4eba\u8981\u591a\uff0c\u800c\u5728\u4e8e\u6240\u8d5a\u53d6\u7684\u94b1\u8db3\u4ee5\u6ee1\u8db3\u81ea\u5df1\u7684\u9700\u8981\u3002</li> <li>\u8861\u91cf\u81ea\u5df1\u7684\u6295\u8d44\u662f\u5426\u6210\u529f\u7684\u6700\u597d\u529e\u6cd5\uff0c\u4e0d\u662f\u770b\u4f60\u662f\u5426\u80dc\u8fc7\u4e86\u5e02\u573a\uff0c\u800c\u662f\u770b\u4f60\u662f\u5426\u62e5\u6709\u4e00\u4e2a\u6709\u53ef\u80fd\u4f7f\u81ea\u5df1\u8fbe\u5230\u76ee\u6807\u7684\u8d22\u52a1\u8ba1\u5212\u548c\u884c\u4e3a\u89c4\u8303\u3002</li> </ul> <p>\u57fa\u91d1\u6295\u8d44</p> <ul> <li>\u4ece\u957f\u8fdc\u770b\uff0c\u6307\u6570\u57fa\u91d1\uff08\u5b83\u59cb\u7ec8\u62e5\u6709\u5e02\u573a\u4e0a\u6240\u6709\u80a1\u7968\uff0c\u800c\u4ece\u4e0d\u58f0\u79f0\u81ea\u5df1\u80fd\u591f\u6311\u9009\u201c\u6700\u597d\u7684\u201d\u80a1\u7968\u548c\u907f\u514d\u201c\u6700\u574f\u7684\u201d\u80a1\u7968\uff09\u5c06\u80dc\u8fc7\u5927\u591a\u6570\u57fa\u91d1\u3002</li> <li>\u6307\u6570\u57fa\u91d1\u53ea\u6709\u4e00\u4e2a\u663e\u8457\u7684\u7f3a\u9677\uff1a\u6bd4\u8f83\u4ee4\u4eba\u4e4f\u5473\u3002\u4f60\u5c06\u65e0\u6cd5\u5728\u91ce\u9910\u684c\u4e0a\u5411\u4eba\u4eec\u5439\u5618\uff0c\u81ea\u5df1\u5982\u4f55\u62e5\u6709\u5168\u56fd\u6700\u597d\u7684\u57fa\u91d1\u3002\u4f60\u4e5f\u4e0d\u80fd\u53bb\u5439\u5618\u81ea\u5df1\u4ece\u5e02\u573a\u4e2d\u80dc\u51fa\uff0c\u56e0\u4e3a\u8d2d\u4e70\u6307\u6570\u57fa\u91d1\u662f\u4e3a\u4e86\u4e0e\u5e02\u573a\u56de\u62a5\u6301\u5e73\uff0c\u800c\u4e0d\u662f\u4e3a\u4e86\u8d85\u8fc7\u5e02\u573a\u56de\u62a5\u3002</li> <li>\u8010\u5fc3\u662f\u57fa\u91d1\u6295\u8d44\u8005\u552f\u4e00\u91cd\u8981\u7684\u4f19\u4f34\u3002</li> </ul> <p>\u6295\u8d44\u8005\u4e0e\u6295\u8d44\u987e\u95ee</p> <ul> <li>\u806a\u660e\u7684\u6295\u8d44\u8005\u4e0d\u4f1a\u5b8c\u5168\u4f9d\u8d56\u91d1\u878d\u670d\u52a1\u516c\u53f8\u63d0\u4f9b\u7684\u5efa\u8bae\u6765\u4ece\u4e8b\u4e70\u5356\u4ea4\u6613\u3002</li> <li>\u6295\u8d44\u987e\u95ee\u7684\u7cfb\u7edf\u89c4\u5212<ul> <li>\u5236\u5b9a\u4e00\u9879\u7efc\u5408\u8d22\u52a1\u8ba1\u5212\uff0c\u4ee5\u4fbf\u5b89\u6392\u597d\u4f60\u7684\u6536\u5165\u3001\u50a8\u84c4\u3001\u652f\u51fa\u3001\u501f\u6b3e\u548c\u6295\u8d44\u7b49\u4e8b\u9879\u3002</li> <li>\u63d0\u4f9b\u4e00\u4efd\u6295\u8d44\u7b56\u7565\u62a5\u544a\uff0c\u4ee5\u8868\u660e\u4f60\u7684\u57fa\u672c\u6295\u8d44\u65b9\u6cd5\u3002</li> <li>\u5236\u5b9a\u4e00\u9879\u8d44\u4ea7\u5206\u914d\u8ba1\u5212\uff0c\u4ee5\u8be6\u7ec6\u8bf4\u660e\u4f60\u5728\u5404\u79cd\u4e0d\u540c\u7684\u6295\u8d44\u7c7b\u522b\u4e2d\u5982\u4f55\u5206\u914d\u8d44\u91d1\u3002</li> </ul> </li> </ul> <p>\u6295\u8d44\u8005\u8bc1\u5238\u5206\u6790\u7684\u4e00\u822c\u65b9\u6cd5</p> <p>\u54ea\u4e9b\u56e0\u7d20\u51b3\u5b9a\u4f60\u8d2d\u4e70\u80a1\u7968\u65f6\u613f\u610f\u652f\u4ed8\u7684\u4ef7\u683c\uff1f</p> <ul> <li>\u4f01\u4e1a\u7684\u957f\u671f\u524d\u666f<ul> <li>\u8fd9\u4e2a\u4f01\u4e1a\u589e\u957f\u7684\u539f\u56e0\u662f\u4ec0\u4e48\uff1f</li> <li>\u4f01\u4e1a\u73b0\u5728\uff08\u4ee5\u53ca\u5c06\u6765\uff09\u7684\u5229\u6da6\u6765\u81ea\u4f55\u65b9\uff1f</li> </ul> </li> <li>\u4f01\u4e1a\u7ba1\u7406\u5c42\u7684\u6c34\u5e73<ul> <li>\u4ed6\u4eec\u662f\u5426\u5728\u4e3a\u81ea\u5df1\u8c0b\u6c42\u6700\u5927\u5229\u76ca\uff1f</li> <li>\u4f01\u4e1a\u9ad8\u7ba1\u662f\u7ba1\u7406\u8005\u8fd8\u662f\u63a8\u9500\u5458\uff1f</li> </ul> </li> <li>\u4f01\u4e1a\u7684\u8d22\u52a1\u5b9e\u529b\u548c\u8d44\u672c\u7ed3\u6784<ul> <li>\u4f18\u826f\u4f01\u4e1a\u6700\u57fa\u672c\u7684\u5b9a\u4e49\uff1a\u6240\u83b7\u53d6\u7684\u8d44\u91d1\u8981\u591a\u4e8e\u6240\u6d88\u8017\u7684\u8d44\u91d1\u3002\u4f18\u79c0\u7684\u7ba1\u7406\u8005\u4e0d\u65ad\u5bfb\u627e\u5404\u79cd\u65b9\u6cd5\uff0c\u4ee5\u5c06\u8fd9\u4e9b\u8d44\u91d1\u6295\u5165\u751f\u4ea7\u6d3b\u52a8\u3002</li> </ul> </li> <li>\u4f01\u4e1a\u7684\u80a1\u606f\u8bb0\u5f55 / \u5f53\u671f\u7684\u80a1\u606f\u652f\u4ed8\u7387<ul> <li>\u5982\u679c\u4e0d\u652f\u4ed8\u80a1\u606f\uff0c\u80a1\u4e1c\u7684\u7ed3\u679c\u4f1a\u66f4\u597d\u3002\u65e0\u8bba\u5e02\u573a\u597d\u4e0e\u574f\uff0c\u5982\u679c\u4f01\u4e1a\u90fd\u59cb\u7ec8\u80fd\u591f\u5728\u7ade\u4e89\u4e2d\u83b7\u80dc</li> <li>\u4f01\u4e1a\u5e94\u8be5\u5728\u80a1\u4ef7\u4fbf\u5b9c\u65f6\u56de\u8d2d\u5176\u80a1\u4efd\uff0c\u800c\u4e0d\u5e94\u8be5\u5728\u80a1\u4ef7\u5904\u4e8e\u6216\u63a5\u8fd1\u4e8e\u6700\u9ad8\u4f4d\u65f6\u56de\u8d2d\u80a1\u4efd\u3002 <p>\u8fd1\u51e0\u5e74\u5e38\u89c1\u7684\u73b0\u8c61\u662f\uff0c\u4f01\u4e1a\u5728\u80a1\u4ef7\u88ab\u9ad8\u4f30\u65f6\u56de\u8d2d\u5176\u80a1\u4efd\uff0c\u8fd9\u79cd\u64cd\u4f5c\u7684\u771f\u5b9e\u610f\u56fe\u662f\u4f7f\u4f01\u4e1a\u9ad8\u7ba1\u80fd\u591f\u4ee5\u201c\u63d0\u5347\u80a1\u4e1c\u4ef7\u503c\u201d\u4e3a\u540d\u4e49\u51fa\u552e\u81ea\u5df1\u7684\u80a1\u7968\u671f\u6743\uff0c\u4ee5\u83b7\u53d6\u4e0a\u767e\u4e07\u7f8e\u5143\u7684\u4e30\u539a\u56de\u62a5\u3002</p> </li> </ul> </li> </ul> <p>\u5bf9\u6bcf\u80a1\u6536\u76ca\u7684\u601d\u8003</p> <ul> <li>\u5bf9\u6295\u8d44\u8005\u7684\u4e24\u6761\u5efa\u8bae<ul> <li>\u4e0d\u8981\u8fc7\u4e8e\u770b\u91cd\u67d0\u4e00\u5e74\u7684\u6536\u76ca</li> <li>\u5982\u679c\u786e\u5b9e\u5173\u6ce8\u77ed\u671f\u6536\u76ca\uff0c\u8bf7\u5f53\u5fc3\u6bcf\u80a1\u6536\u76ca\u6570\u636e\u4e2d\u5b58\u5728\u7684\u9677\u9631</li> </ul> </li> <li>\u7ed9\u6295\u8d44\u8005\u7684\u51e0\u70b9\u5fe0\u544a<ul> <li>\u4ece\u540e\u5f80\u524d\u770b<ul> <li>\u51e1\u662f\u4f01\u4e1a\u4e0d\u613f\u610f\u4f60\u770b\u5230\u7684\u4e1c\u897f\u90fd\u653e\u5728\u540e\u9762</li> </ul> </li> <li>\u67e5\u770b\u8bf4\u660e<ul> <li>\u901a\u5e38\u5728\u201c\u91cd\u8981\u4f1a\u8ba1\u653f\u7b56\u603b\u7ed3\u201d\u8fd9\u4e00\u680f\u4e2d\uff0c\u6709\u4e00\u4e2a\u5173\u952e\u6027\u7684\u8bf4\u660e\u4f1a\u544a\u8bc9\u4f60\uff0c\u8be5\u516c\u53f8\u5982\u4f55\u786e\u8ba4\u6536\u5165\uff0c\u5982\u4f55\u8bb0\u5f55\u5b58\u8d27\uff0c\u5982\u4f55\u5bf9\u5f85\u5206\u671f\u4ed8\u6b3e\u6216\u5408\u7ea6\u9500\u552e\uff0c\u5982\u4f55\u5206\u644a\u8425\u9500\u6210\u672c\uff0c\u4ee5\u53ca\u5982\u4f55\u8bb0\u5f55\u5176\u4ed6\u4e00\u4e9b\u4e3b\u8981\u7684\u4e1a\u52a1\u3002</li> <li>\u5728\u5176\u4ed6\u6ce8\u91ca\u4e2d\uff0c\u6ce8\u610f\u5230\u516c\u53f8\u7684\u8d44\u4ea7\u8d1f\u503a\u8868\u4e2d\u67e5\u770b\u5173\u4e8e\u503a\u52a1\u3001\u80a1\u7968\u671f\u6743\u3001\u5ba2\u6237\u8d37\u6b3e\u3001\u635f\u5931\u51c6\u5907\u4ee5\u53ca\u5176\u4ed6\u201c\u98ce\u9669\u56e0\u7d20\u201d\u7684\u4fe1\u606f\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u56e0\u7d20\u5c06\u541e\u98df\u6389\u5927\u91cf\u7684\u5229\u6da6</li> </ul> </li> <li>\u9605\u8bfb\u66f4\u591a\u7684\u5185\u5bb9<ul> <li>\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u79ef\u6781\u6295\u8d44\u8005\uff0c\u613f\u610f\u5728\u8bc1\u5238\u7ec4\u5408\u4e2d\u82b1\u5927\u91cf\u7684\u65f6\u95f4\u548c\u7cbe\u529b\uff0c\u90a3\u4e48\u4f60\u5c31\u5e94\u8be5\u66f4\u591a\u5730\u4e86\u89e3\u8d22\u52a1\u62a5\u544a\u7684\u5185\u5bb9\u3002</li> </ul> </li> </ul> </li> </ul> <p>\u9632\u5fa1\u578b\u6295\u8d44\u8005\u7684\u80a1\u7968\u9009\u62e9</p> <p>\u80a1\u7968\u9009\u62e9\u6807\u51c6</p> <ol> <li>\u9002\u5f53\u7684\u4f01\u4e1a\u89c4\u6a21</li> <li>\u8db3\u591f\u5f3a\u52b2\u7684\u8d22\u52a1\u72b6\u51b5</li> <li>\u5229\u6da6\u7684\u7a33\u5b9a\u6027</li> <li>\u80a1\u606f\u8bb0\u5f55</li> <li>\u5229\u6da6\u589e\u957f</li> <li>\u9002\u5ea6\u7684\u5e02\u76c8\u7387</li> <li>\u9002\u5ea6\u7684\u80a1\u4ef7\u8d44\u4ea7\u6bd4</li> </ol> <p>\u79ef\u6781\u578b\u6295\u8d44\u8005\u7684\u80a1\u7968\u9009\u62e9</p> <p>\u80a1\u7968\u9009\u62e9\u6807\u51c6</p> <ol> <li>\u8d22\u52a1\u72b6\u6001<ul> <li>\u6d41\u52a8\u8d44\u4ea7\u4e0e\u6d41\u52a8\u8d1f\u503a\u4e4b\u6bd4\u81f3\u5c11\u81f3\u5c11\u8fbe\u52301.5</li> <li>(\u5bf9\u5de5\u4e1a\u4f01\u4e1a\u800c\u8a00)\u503a\u52a1\u5360\u51c0\u6d41\u52a8\u8d44\u4ea7\u7684\u6bd4\u4f8b\u4e0d\u9ad8\u4e8e110%</li> </ul> </li> <li>\u76c8\u5229\u7a33\u5b9a\uff1a\u8fd15\u5e74\u7684\u6570\u636e\u4e2d\u6ca1\u6709\u51fa\u73b0\u8fc7\u8d64\u5b57</li> <li>\u80a1\u606f\u8bb0\u5f55\uff1a\u76ee\u524d\u6709\u4e00\u4e9b\u80a1\u606f\u652f\u4ed8</li> <li>\u5229\u6da6\u589e\u957f\uff1a\u53bb\u5e74\u7684\u5229\u6da6\u9ad8\u4e8e1966\u5e74\u7684\u5229\u6da6</li> <li>\u80a1\u4ef7\uff1a\u4e0d\u9ad8\u4e8e\u6709\u5f62\u8d44\u4ea7\u51c0\u503c\u7684120%</li> </ol> <p>\u5df4\u83f2\u7279\u559c\u6b22\u5728\u516c\u53f8\u4e11\u95fb\u3001\u5de8\u989d\u4e8f\u635f\u548c\u5176\u4ed6\u574f\u6d88\u606f\u4f3c\u4e4c\u4e91\u98d8\u8fc7\u65f6\u8fc5\u901f\u4e0b\u624b\u8d2d\u4e70\u5176\u80a1\u7968</p> <p>\u6bd4\u5982\uff0c1987\u5e74\u53ef\u53e3\u53ef\u4e50\u516c\u53f8\u63a8\u51fa\u7684\u201c\u65b0\u53ef\u4e50\u201d\u906d\u5230\u60e8\u8d25\u3001\u516c\u53f8\u80a1\u4ef7\u5d29\u76d8\u540e\uff0c\u4ed6\u8fc5\u901f\u4e70\u5165\u4e86\u8be5\u516c\u53f8\u7684\u80a1\u7968\u3002</p> <p>\u4ed6\u8fd8\u559c\u6b22\u516c\u53f8\u7684\u7ecf\u7406\u5177\u5907\u4e0b\u5217\u884c\u4e3a\uff1a</p> <ul> <li>\u5236\u5b9a\u5e76\u5b9e\u73b0\u5408\u7406\u7684\u76ee\u6807</li> <li>\u4ece\u81ea\u5df1\u5185\u90e8\u800c\u4e0d\u662f\u901a\u8fc7\u5e76\u8d2d\u6765\u62d3\u5c55\u4e1a\u52a1</li> <li>\u660e\u667a\u5730\u8fdb\u884c\u8d44\u672c\u5206\u914d</li> <li>\u4e0d\u7ed9\u81ea\u5df1\u6d3e\u9001\u4e0a\u767e\u4e07\u7f8e\u5143\u7684\u80a1\u7968\u671f\u6743\u5956\u91d1</li> </ul> <p>\u5df4\u83f2\u7279\u575a\u6301\u8ba4\u4e3a\uff0c\u5229\u6da6\u7684\u589e\u957f\u5e94\u8be5\u662f\u7a33\u6b65\u548c\u6301\u4e45\u7684\uff0c\u8fd9\u6837\uff0c\u516c\u53f8\u672a\u6765\u7684\u4ef7\u503c\u4f1a\u6bd4\u4eca\u5929\u66f4\u5927\u3002</p> <p>\u53ef\u8f6c\u6362\u503a\u5238\u53ca\u8ba4\u8bc1\u6743\u8bc1</p> <p>\u53ef\u8f6c\u6362\u503a\u5238</p> <ul> <li>\u53ef\u4ee5\u7ee7\u7eed\u6301\u6709\u8be5\u503a\u5238\u5e76\u83b7\u53d6\u5229\u606f</li> <li>\u53ef\u4ee5\u6309\u4e8b\u5148\u89c4\u5b9a\u7684\u4ef7\u683c\u7528\u5b83\u6765\u6362\u53d6\u503a\u5238\u53d1\u884c\u516c\u53f8\u7684\u666e\u901a\u80a1</li> </ul> <p>\u770b\u6da8\u671f\u6743\uff0c\u9884\u671f\u672a\u6765\u4ef7\u683c\u4f1a\u6da8\uff0c\u5b9e\u9645\u60c5\u51b5\uff0c\u65e0\u8bba\u5982\u4f55\u90fd\u6323\u4e86\u4e70\u65b9\u7684\u4e00\u90e8\u5206\u56fa\u5b9a\u7684\u671f\u6743\u8d39</p> <ul> <li>\u80a1\u7968\u4e0b\u8dcc\uff0c\u4e70\u65b9\u56e0\u4e3a\u8d35\u9009\u62e9\u4e0d\u4e70</li> <li>\u80a1\u7968\u4e0a\u6da8\uff0c\u4e70\u65b9\u56e0\u4e3a\u4fbf\u5b9c\u9009\u62e9\u4e70 -- \u6b64\u65f6\u4e0a\u6da8\u8d8a\u591a\uff0c\u5356\u65b9\u8d8a\u96be\u53d7\uff0c\u56e0\u4e3a\u8d85\u989d\u7684\u6536\u76ca\u7ed9\u5230\u4e70\u65b9\u4e86</li> </ul> <p>\u770b\u8dcc\u671f\u6743\u540c\u7406\uff0c\u9884\u671f\u672a\u6765\u4ef7\u683c\u4f1a\u8dcc\uff0c\u5b9e\u9645\u60c5\u51b5\uff0c\u65e0\u8bba\u5982\u4f55\u90fd\u6323\u4e86\u4e70\u65b9\u7684\u4e00\u90e8\u5206\u56fa\u5b9a\u7684\u671f\u6743\u8d39</p> <ul> <li>\u80a1\u7968\u4e0a\u6da8\uff0c\u5356\u65b9\u4f1a\u56e0\u4e3a\u4f4e\u4e8e\u5e02\u573a\u7684\u4ef7\u683c\u5356\u51fa\u4e8f\u672c\u800c\u4e0d\u4e70</li> <li>\u80a1\u7968\u4e0b\u8dcc\uff0c\u4e70\u65b9\u4f1a\u56e0\u4e3a\u4ee5\u9ad8\u4e8e\u5e02\u573a\u7684\u4ef7\u683c\u5356\u51fa\u83b7\u5229\u800c\u4e70 -- \u6b64\u65f6\u4e0b\u8dcc\u8d8a\u591a\uff0c\u5356\u65b9\u8d8a\u96be\u53d7\uff0c\u56e0\u4e3a\u8d85\u989d\u7684\u6536\u76ca\u7ed9\u5230\u4e70\u65b9\u4e86</li> </ul> <p>\u5728\u534e\u5c14\u8857\uff0c\u53ef\u7231\u4e0e\u590d\u6742\u603b\u662f\u5f62\u5f71\u4e0d\u79bb\uff0c\u4e0d\u8d2d\u4e70\u8bbe\u8ba1\u590d\u6742\u7684\u8bc1\u5238\uff0c\u5b8c\u5168\u80fd\u907f\u514d\u906d\u53d7\u635f\u5931\u3002</p> <p>\u505a\u6cd5\u662f\u7406\u667a\u5730\u5c06\u81ea\u5df1\u7684\u6574\u4e2a\u8bc1\u5238\u7ec4\u5408\u5206\u6563\u4e8e\u73b0\u91d1\u3001\u503a\u5238\u3001\u80a1\u7968\u548c\u56fd\u5916\u80a1\u7968\u4e4b\u4e2d</p> <p>\u5b89\u5168\u8fb9\u9645</p> <ul> <li>\u9996\u5148\uff0c\u4e0d\u8981\u9677\u5165\u4e8f\u635f</li> <li>\u98ce\u9669\u4e0d\u5728\u4e8e\u6211\u4eec\u7684\u80a1\u7968\uff0c\u800c\u5728\u4e8e\u6211\u4eec\u81ea\u8eab<ul> <li>\u975e\u5e38\u51c6\u786e\u5730\u628a\u63e1\u4fe1\u5fc3</li> <li>\u6b63\u786e\u9884\u77e5\u5c06\u6765\u7684\u9057\u61be</li> </ul> </li> <li>\u6211\u4eec\u6c38\u8fdc\u65e0\u6cd5\u77e5\u9053\u672a\u6765\u7684\u60c5\u51b5<ul> <li>\u5728\u5e78\u8fd0\u6216\u5173\u952e\u51b3\u7b56\u7684\u80cc\u540e\uff0c\u4e00\u822c\u90fd\u5fc5\u987b\u5b58\u5728\u7740\u6709\u51c6\u5907\u548c\u5177\u5907\u4e13\u4e1a\u80fd\u529b\u7b49\u6761\u4ef6\u3002</li> <li>\u4eba\u4eec\u5fc5\u987b\u5177\u5907\u4e00\u5b9a\u7684\u624b\u6bb5\u3001\u5224\u65ad\u529b\u548c\u52c7\u6c14\uff0c\u624d\u80fd\u53bb\u5229\u7528\u8fd9\u4e9b\u673a\u4f1a\u3002</li> </ul> </li> </ul>"},{"location":"enjoy/book/finance/%E8%B4%A2%E5%AF%8C%E7%9A%84%E7%9C%9F%E7%9B%B8/","title":"\u8d22\u5bcc\u7684\u771f\u76f8","text":"<p>\u7a3b\u76db\u548c\u592b\u8bf4\uff1a\u552f\u6709\u8bfb\u4e66\u548c\u8d5a\u94b1\uff0c\u662f\u4e00\u4e2a\u6700\u597d\u7684\u4fee\u884c\uff0c\u524d\u8005\u4f7f\u4eba\u4e0d\u60d1\uff0c\u540e\u8005\u4f7f\u4eba\u4e0d\u5c48</p> <p></p> <p>\u300a\u8d22\u5bcc\u7684\u771f\u76f8\u300b\u6240\u6709\u7684\u5185\u5bb9\uff0c\u90fd\u57fa\u4e8e\u4ee5\u4e0b\u51e0\u4e2a\u4e8b\u5b9e</p> <ul> <li>\u8d22\u5bcc\u6765\u81ea\u751f\u4ea7\uff0c\u4e5f\u51fa\u81ea\u81ea\u8eab</li> <li>\u65f6\u95f4\u662f\u7ec8\u6781\u7684\u751f\u4ea7\u8d44\u6599</li> <li>\u94b1\u662f\u4e07\u7269\u7684\u5b58\u50a8</li> <li>\u94b1\u662f\u6700\u7075\u6d3b\u7684\u751f\u4ea7\u8d44\u6599</li> </ul> <p>\u7528\u4e00\u53e5\u8bdd\u8bb2\uff1a\u5728\u8fd9\u4e2a\u8d8a\u6765\u8d8a\u597d\u7684\u65f6\u4ee3\u91cc\uff0c\u53ea\u8981\u628a\u65f6\u95f4\u82b1\u5230\u81ea\u5b66\u3001\u751f\u4ea7\u3001\u9500\u552e\u3001\u6295\u8d44\u4e2d\u5c31\u80fd\u8d5a\u5230\u94b1\uff0c\u7136\u540e\u8fd8\u6709\u5f88\u591a\u7684\u4e8b\u60c5\u503c\u5f97\u505a</p>"},{"location":"enjoy/book/finance/%E8%B4%A2%E5%AF%8C%E7%9A%84%E7%9C%9F%E7%9B%B8/#_2","title":"\u4e66\u7c4d\u6458\u6284","text":"<ul> <li>\u94b1\u6709\u4e24\u4e2a\u7528\u9014\uff1a1. \u6d88\u8d39 2. \u79ef\u7d2f-&gt;\u8d44\u91d1-&gt;\u6295\u8d44</li> <li>\u6295\u8d44\u7684\u672c\u8d28\u662f\u653e\u8d37\u6536\u606f\uff0c\u91d1\u878d\u7684\u6838\u5fc3\u4e5f\u662f\u5229\u606f</li> <li>\u6295\u673a\u8005\u53c2\u4e0e\u7684\u662f\u201c\u96f6\u548c\u6e38\u620f\u201d\uff0c\u8d5a\u5230\u7684\u94b1\u662f\u522b\u4eba\u4e8f\u6389\u7684\u94b1\uff1b\u6295\u8d44\u8005\u8d5a\u5230\u7684\u662f\u201c\u53d1\u5c55\u7684\u7ed3\u679c\u201d</li> <li>\u6709\u673a\u4f1a\u8d2d\u4e70\u5168\u4e16\u754c\u6700\u4f73\u4f01\u4e1a\u7684\u80a1\u7968\uff0c\u8fd9\u79cd\u6295\u8d44\u592a\u7f8e\u597d\u4e86\uff0c\u4ec5\u201c\u5b83\u80af\u5b9a\u80fd\u8dd1\u8d62\u6211\u4f5c\u4e3a\u666e\u901a\u4eba\u7684\u751f\u4ea7\u6548\u7387\u201d\uff0c\u4e00\u4e2a\u7406\u7531\u8db3\u77e3</li> <li>\u65e0\u8bba\u5982\u4f55\uff0c\u660e\u5929\u4f1a\u66f4\u597d\u3002\u5c31\u7b97\u5076\u7136\u4e0d\u597d\uff0c\u6062\u590d\u5f97\u4e5f\u8d8a\u6765\u8d8a\u5feb\u3002</li> <li>\u6301\u7eed\u5b66\u4e60\u3001\u957f\u671f\u8df5\u884c\u3001\u4e13\u6ce8\u5185\u90e8</li> <li>\u5982\u4f55\u505a\u5230\u505a\u66f4\u591a\u7684\u4e8b\uff1f\u505a\u4e2a\u66f4\u6709\u7528\u7684\u4eba<ul> <li>\u5bf9\u81ea\u5df1\u6709\u7528\uff0c\u61c2\u5f97\u4ece\u81ea\u5df1\u7684\u65f6\u95f4\u91cc\u6316\u6398\u4e00\u5207\uff0c\u65e0\u8bba\u662f\u7269\u8d28\u8d22\u5bcc\u8fd8\u662f\u7cbe\u795e\u8d22\u5bcc</li> <li>\u5bf9\u5bb6\u4eba\u6709\u7528\uff0c\u80fd\u517b\u5bb6\u7cca\u53e3\uff0c\u80fd\u8ba9\u5bb6\u4eba\u5b89\u5fc3\u5feb\u4e50\uff0c\u80fd\u6559\u5b50\u5973\u6b63\u5e38\u6210\u957f</li> <li>\u8fd8\u6709\u4f59\u529b\uff0c\u5bf9\u670b\u53cb\u6709\u7528</li> <li>\u8fd8\u6709\u4f59\u529b\uff0c\u5bf9\u793e\u7fa4\u4e43\u81f3\u793e\u4f1a\u6709\u7528</li> </ul> </li> <li>\u793e\u4ea4\u7f51\u7edc\u524d\u6240\u672a\u6709\u5730\u5c55\u793a\u5e76\u653e\u5927\u4e86\u771f\u5b9e\u7684\u8d2b\u5bcc\u5dee\u8ddd</li> <li>\u7ecf\u6d4e\u5371\u673a\u662f\u53d1\u5c55\u8fc7\u7a0b\u4e2d\u5fc5\u7136\u7ecf\u5386\u7684\u9636\u6bb5\uff0c\u4ee4\u4eba\u9ad8\u5174\u7684\u662f\uff0c\u4ece\u5386\u53f2\u8d8b\u52bf\u6765\u770b\uff0c\u7ecf\u6d4e\u5371\u673a\u7684\u6301\u7eed\u65f6\u957f\u6b63\u5728\u4e0d\u65ad\u5730\u7f29\u77ed\uff0c\u56e0\u4e3a\u8d8a\u6765\u8d8a\u9ad8\u7684\u751f\u4ea7\u6548\u7387\u6b63\u5728\u53d1\u6325\u8d8a\u6765\u8d8a\u5f3a\u7684\u7ecf\u6d4e\u8c03\u8282\u4f5c\u7528</li> </ul>"},{"location":"enjoy/book/finance/%E9%87%91%E9%92%B1%E5%BF%83%E7%90%86%E5%AD%A6/","title":"\u91d1\u94b1\u5fc3\u7406\u5b66","text":"<p>\u9000\u51fa\u65e0\u8c13\u7684\u6fc0\u70c8\u7ade\u4e89\uff0c\u4ee5\u83b7\u5f97\u5185\u5fc3\u5e73\u9759\u4e3a\u76ee\u6807\u6765\u8c03\u8282\u4f60\u7684\u884c\u4e3a\uff0c\u624d\u662f\u771f\u6b63\u7684\u6210\u529f\u3002</p> <p>\u6211\u7684\u6295\u8d44\u7b56\u7565\u5e76\u4e0d\u4f9d\u9760\u9009\u62e9\u6b63\u786e\u7684\u884c\u4e1a\u6216\u8005\u628a\u63e1\u4e0b\u4e00\u6b21\u7ecf\u6d4e\u8870\u9000\u7684\u673a\u4f1a\uff0c\u800c\u662f\u4f9d\u9760\u9ad8\u50a8\u84c4\u7387\u3001\u8010\u5fc3\u548c\u8ba4\u4e3a\u63a5\u4e0b\u6765\u51e0\u5341\u5e74\u91cc\u5168\u7403\u7ecf\u6d4e\u5c06\u4e0d\u65ad\u521b\u9020\u4ef7\u503c\u7684\u4e50\u89c2\u6001\u5ea6\u3002\u6211\u628a\u51e0\u4e4e\u5168\u90e8\u6295\u8d44\u7cbe\u529b\u90fd\u6295\u5165\u4e86\u8fd9\u4e09\u65b9\u9762\u2014\u2014\u5c24\u5176\u662f\u524d\u4e24\u4e2a\uff0c\u56e0\u4e3a\u5b83\u4eec\u662f\u6211\u80fd\u638c\u63a7\u7684\u3002</p>"},{"location":"enjoy/book/finance/%E9%87%91%E9%92%B1%E5%BF%83%E7%90%86%E5%AD%A6/#_2","title":"\u4e66\u7c4d\u6458\u6284","text":"<ul> <li>\u5f53\u4e8b\u6001\u671d\u6b63\u786e\u7684\u65b9\u5411\u53d1\u5c55\u65f6\uff0c\u8981\u4fdd\u6301\u8c26\u900a\uff1b\u5f53\u4e8b\u6001\u671d\u9519\u8bef\u65b9\u5411\u53d1\u5c55\u65f6\uff0c\u8981\u5fc3\u6000\u8c05\u89e3\u6216\u540c\u60c5\u3002</li> <li>\u865a\u8363\u8d8a\u5c11\uff0c\u8d22\u5bcc\u8d8a\u591a\u3002</li> <li>\u7528\u80fd\u8ba9\u4f60\u7761\u8e0f\u5b9e\u7684\u65b9\u5f0f\u6765\u7406\u8d22\u3002</li> <li>\u5982\u679c\u4f60\u60f3\u63d0\u9ad8\u6295\u8d44\u56de\u62a5\uff0c\u6700\u7b80\u5355\u800c\u6709\u6548\u7684\u65b9\u6cd5\u5c31\u662f\u62c9\u957f\u65f6\u95f4\u3002</li> <li> <p>\u5c31\u7b97\u5f88\u591a\u4e8b\u51fa\u4e86\u9519\uff0c\u4e5f\u4e0d\u8981\u5fc3\u6001\u5931\u8861\u3002</p> <p>\u4f60\u5c31\u7b97\u9519\u4e86\u4e00\u534a\uff0c\u4f9d\u7136\u80fd\u79ef\u7d2f\u8d22\u5bcc\uff0c\u56e0\u4e3a\u662f\u5c11\u6570\u7684\u51e0\u4ef6\u4e8b\u51b3\u5b9a\u4e86\u6574\u4f53\u7684\u7ed3\u679c\u3002</p> </li> <li> <p>\u5229\u7528\u8d22\u5bcc\u6765\u83b7\u53d6\u5bf9\u65f6\u95f4\u7684\u638c\u63a7\u3002</p> <p>\u4efb\u4f55\u65f6\u5019\u548c\u559c\u6b22\u7684\u4eba\u53bb\u505a\u559c\u6b22\u7684\u4e8b\u800c\u4e14\u60f3\u505a\u591a\u4e45\u5c31\u505a\u591a\u4e45\u7684\u80fd\u529b\uff0c\u624d\u662f\u8d22\u5bcc\u80fd\u5e26\u7ed9\u4f60\u7684\u6700\u5927\u7ea2\u5229\u3002</p> </li> <li> <p>\u591a\u4e00\u4e9b\u5584\u610f\uff0c\u5c11\u4e00\u4e9b\u5962\u4f88\u3002</p> <p>\u6bd4\u8d77\u4f9d\u9760\u8c6a\u8f66\u548c\u540d\u8868\uff0c\u4f60\u53ef\u80fd\u66f4\u5bb9\u6613\u901a\u8fc7\u5584\u826f\u548c\u8c26\u900a\u83b7\u5f97\u522b\u4eba\u7684\u5c0a\u91cd\u548c\u8d5e\u8d4f\u3002</p> </li> <li> <p>\u5b58\u94b1\u3002\u5b58\u5c31\u662f\u4e86\u3002\u5b58\u94b1\u4e0d\u9700\u8981\u4ec0\u4e48\u7279\u5b9a\u7406\u7531\u3002</p> </li> <li> <p>\u660e\u786e\u6210\u529f\u9700\u8981\u4ed8\u51fa\u7684\u4ee3\u4ef7\u3002</p> <p>\u7406\u8d22\u4e2d\u8981\u4ed8\u51fa\u7684\u5927\u90e8\u5206\u6210\u672c\u662f\u6ca1\u6709\u6807\u4ef7\u7684\u3002\u4e0d\u786e\u5b9a\u6027\u3001\u7591\u8651\u548c\u540e\u6094\u662f\u91d1\u878d\u4e16\u754c\u91cc\u7684\u5e38\u89c1\u4ee3\u4ef7\u3002</p> </li> <li> <p>\u91cd\u89c6\u5bb9\u9519\u7a7a\u95f4\u3002</p> </li> <li>\u907f\u514d\u8bbe\u5b9a\u6781\u7aef\u7684\u8d22\u52a1\u76ee\u6807\u3002</li> <li>\u4f60\u5e94\u8be5\u559c\u6b22\u98ce\u9669\uff0c\u56e0\u4e3a\u957f\u671f\u770b\u5b83\u80fd\u5e26\u7ed9\u4f60\u56de\u62a5\u3002</li> <li>\u660e\u786e\u4f60\u6240\u73a9\u7684\u6e38\u620f\u7684\u6027\u8d28\u3002</li> <li> <p>\u5c0a\u91cd\u6bcf\u4e00\u4e2a\u4eba\u3002</p> <p>\u5728\u91d1\u878d\u6295\u8d44\u9886\u57df\uff0c\u806a\u660e\u3001\u6709\u89c1\u8bc6\u3001\u6709\u60f3\u6cd5\u7684\u4eba\u4eec\u53ef\u80fd\u51fa\u73b0\u610f\u89c1\u5206\u6b67\u3002\u56e0\u4e3a\u4e0d\u540c\u4eba\u7684\u76ee\u6807\u548c\u613f\u671b\u662f\u622a\u7136\u4e0d\u540c\u7684\uff0c\u6240\u4ee5\u5e76\u4e0d\u5b58\u5728\u7edf\u4e00\u7684\u6b63\u786e\u7b54\u6848\u3002\u9002\u5408\u81ea\u5df1\u7684\u5c31\u662f\u6700\u597d\u7684\u3002</p> </li> </ul>"},{"location":"enjoy/book/relationship/%E4%BA%BA%E6%80%A7%E7%9A%84%E5%BC%B1%E7%82%B9/","title":"\u4eba\u6027\u7684\u5f31\u70b9","text":"<p>\u4eba\u751f\u5176\u5b9e\u6709\u4e00\u4e2a\u5f88\u6709\u610f\u601d\u7684\u5730\u65b9\uff0c\u90a3\u5c31\u662f\u6ede\u540e\u53cd\u5e94\u3002\u4f60\u73b0\u5728\u5b66\u5230\u7684\u4e1c\u897f\uff0c\u6700\u4f73\u7684\u6548\u679c\u4e0d\u4f1a\u7acb\u523b\u663e\u73b0\u51fa\u6765\uff0c\u800c\u662f\u4f1a\u6c89\u6dc0\u3001\u79ef\u7d2f\uff0c\u5728\u4e09\u5e74\u3001\u4e94\u5e74\u4e4b\u540e\u6e10\u6e10\u5448\u73b0\uff0c\u5e76\u51b3\u5b9a\u4f60\u6700\u7ec8\u80fd\u8d70\u591a\u8fdc\u3002</p> <p>\u4f60\u5f53\u7136\u53ef\u4ee5\u7528\u8fd9\u4e9b\u6280\u5de7\u6765\u5347\u5b98\u3001\u53d1\u8d22\u3001\u628a\u59b9\uff0c\u4f46\u6700\u91cd\u8981\u7684\u662f\uff0c\u4f60\u4f1a\u9047\u5230\u4e00\u4e2a\u66f4\u597d\u7684\u81ea\u5df1\uff0c\u5728\u51a5\u51a5\u4e4b\u4e2d\u9006\u5929\u6539\u547d\u3002</p> <p>\u6bcf\u4e2a\u4eba\u90fd\u6709\u81ea\u5df1\u8981\u8d70\u7684\u9053\u8def\uff0c\u800c\u6211\u6700\u5927\u7684\u5174\u8da3\u5c31\u662f\u603b\u7ed3\u548c\u5b66\u4e60\u8fd9\u4e9b\u201c\u9053\u201d\uff0c\u6700\u540e\u5f62\u6210\u6211\u81ea\u5df1\u7684\uff0c\u7b80\u800c\u8a00\u4e4b\uff0c\u5c31\u662f\u63a2\u5bfb\u771f\u7406\u548c\u89c4\u5f8b\u3002 \u4e0d\u662f\u8bf4\u8981\u9760\u8fd9\u4e9b\u8fc7\u7684\u591a\u597d\uff0c\u800c\u662f\u4e30\u5bcc\u81ea\u5df1\u7684\u601d\u60f3\uff0c\u5145\u5b9e\u81ea\u5df1\u7684\u4eba\u751f\u3002</p>"},{"location":"enjoy/book/relationship/%E4%BA%BA%E6%80%A7%E7%9A%84%E5%BC%B1%E7%82%B9/#_2","title":"\u7b14\u8bb0\u6458\u6284","text":""},{"location":"enjoy/book/relationship/%E4%BA%BA%E6%80%A7%E7%9A%84%E5%BC%B1%E7%82%B9/#_3","title":"\u57fa\u672c\u6280\u5de7","text":"<ol> <li>\u4e0d\u8981\u6279\u8bc4\u3001\u6307\u8d23\u6216\u62b1\u6028\u4efb\u4f55\u4eba\u3002</li> <li>\u8bf7\u4e0d\u8981\u541d\u556c\u53d1\u81ea\u5185\u5fc3\u7684\u3001\u4e0d\u505a\u4f5c\u7684\u8d5e\u7f8e\u3002</li> <li>\u8bc9\u8bf8\u5bf9\u65b9\u7684\u5185\u5728\u9700\u8981</li> </ol>"},{"location":"enjoy/book/relationship/%E4%BA%BA%E6%80%A7%E7%9A%84%E5%BC%B1%E7%82%B9/#_4","title":"\u8ba9\u5927\u5bb6\u559c\u6b22\u4f60","text":"<ol> <li>\u771f\u7684\u559c\u6b22\u522b\u4eba</li> <li>\u4f60\uff0c\u4e00\u7b11\u503c\u5343\u91d1</li> <li>\u8bb0\u4f4f\u5bf9\u65b9\u7684\u540d\u5b57\uff0c\u540d\u5b57\u662f\u6700\u60a6\u8033\u548c\u6700\u91cd\u8981\u7684\u58f0\u97f3</li> <li>\u503e\u542c\uff0c\u9f13\u52b1\u5bf9\u65b9\u591a\u804a\u81ea\u5df1</li> <li>\u804a\u5bf9\u65b9\u611f\u5174\u8da3\u7684\u8bdd\u9898</li> <li>\u4f7f\u5bf9\u65b9\u611f\u5230\u81ea\u5df1\u662f\u91cd\u8981\u7684\uff0c\u8981\u771f\u5fc3\u8bda\u610f</li> </ol>"},{"location":"enjoy/book/relationship/%E4%BA%BA%E6%80%A7%E7%9A%84%E5%BC%B1%E7%82%B9/#_5","title":"\u6709\u903b\u8f91\u5730\u8bf4\u670d\u4ed6\u4eba","text":"<ol> <li>\u8d62\u5f97\u4e89\u8bba\u7684\u552f\u4e00\u65b9\u6cd5\u662f\u907f\u514d\u4e89\u8bba</li> <li>\u5c0a\u91cd\u5bf9\u65b9\u7684\u89c2\u70b9\uff0c\u6c38\u8fdc\u522b\u8bf4\u201c\u4f60\u4e0d\u5bf9\u201d</li> <li>\u5047\u5982\u4f60\u9519\u4e86\uff0c\u7acb\u523b\u771f\u5fc3\u8bda\u610f\u5730\u627f\u8ba4</li> <li>\u5148\u8bf4\u53cb\u5584\u7684\u8bdd\uff0c\u6c14\u6c1b\u5bf9\u4e86\u518d\u8bf4\u522b\u7684</li> <li>\u5148\u8ba9\u5bf9\u65b9\u56de\u7b54 \u5bf9\uff0c\u662f\u7684</li> <li>\u5c3d\u91cf\u8ba9\u5bf9\u65b9\u591a\u8bf4</li> <li>\u8ba9\u5bf9\u65b9\u611f\u89c9\uff0c\u90a3\u662f\u4ed6\u7684\u4e3b\u610f</li> <li>\u52aa\u529b\u4ece\u5bf9\u65b9\u7684\u89c6\u89d2\u770b\u95ee\u9898\uff0c\u8981\u8bda\u5b9e</li> <li>\u771f\u6b63\u4f53\u4f1a\u548c\u611f\u53d7\u5bf9\u65b9\u7684\u89c2\u70b9\u548c\u6e34\u671b</li> <li>\u8bc9\u8bf8\u9ad8\u5c1a\u7684\u60c5\u64cd</li> <li>\u628a\u4f60\u7684\u89c2\u70b9\uff0c\u6f14\u6210\u6545\u4e8b</li> <li>\u629b\u51fa\u6311\u6218\uff0c\u5982\u679c\u5de5\u4f5c\u6709\u8da3\u53c8\u6fc0\u52a8\u4eba\u5fc3\uff0c\u4eba\u4eec\u5c31\u4f1a\u6e34\u671b\u505a</li> </ol>"},{"location":"enjoy/book/relationship/%E4%BA%BA%E6%80%A7%E7%9A%84%E5%BC%B1%E7%82%B9/#_6","title":"\u6210\u4e3a\u4e00\u4e2a\u9886\u8896","text":"<ol> <li>\u5148\u8981\u61c2\u5f97\u6b23\u8d4f\uff0c\u4e0d\u505a\u4f5c\u5730\u79f0\u8d5e</li> <li>\u8ba9\u4eba\u4eec\u6ce8\u610f\u81ea\u5df1\u7684\u9519\u8bef\u65f6\uff0c\u95f4\u63a5\u4e00\u70b9\u513f</li> <li>\u6279\u8bc4\u5bf9\u65b9\u4e4b\u524d\uff0c\u4e0d\u5982\u5148\u8bf4\u8bf4\u81ea\u5df1\u72af\u8fc7\u7684\u9519</li> <li>\u4e0d\u8981\u76f4\u63a5\u4e0b\u547d\u4ee4\uff0c\u800c\u8981\u5229\u7528\u95ee\u53e5</li> <li>\u8ba9\u5bf9\u65b9\u4fdd\u5168\u989c\u9762</li> <li>\u79f0\u8d5e\u6bcf\u4e00\u4e2a\u8fdb\u6b65\uff0c\u4e0d\u8981\u541d\u556c\u4f60\u7684\u5609\u8bb8\u548c\u8d5e\u626c\uff0c\u8981\u771f\u8bda</li> <li>\u7ed9\u4eba\u4e00\u4e2a\u65e0\u6cd5\u6297\u62d2\uff0c\u65e0\u6cd5\u8f9c\u8d1f\u7684\u597d\u8bc4</li> <li>\u5b66\u4f1a\u9f13\u52b1\u4eba\uff0c\u9f13\u52b1\u4f1a\u4f7f\u6539\u53d8\u770b\u8d77\u6765\u5f88\u5bb9\u6613</li> <li>\u4f7f\u4eba\u4eec\u4e50\u610f\u53bb\u505a\u4f60\u8981\u4ed6\u4eec\u505a\u7684\u4e8b</li> </ol>"},{"location":"enjoy/book/relationship/%E9%AB%98%E6%95%88%E8%83%BD%E4%BA%BA%E5%A3%AB%E7%9A%84%E4%B8%83%E4%B8%AA%E4%B9%A0%E6%83%AF/","title":"\u9ad8\u6548\u80fd\u4eba\u58eb\u7684\u4e03\u4e2a\u4e60\u60ef","text":"<p>\u4e60\u60ef\u4e00\uff1a\u79ef\u6781\u4e3b\u52a8 \u4e60\u60ef\u4e8c\uff1a\u4ee5\u7ec8\u4e3a\u59cb \u4e60\u60ef\u4e09\uff1a\u8981\u4e8b\u7b2c\u4e00 \u4e60\u60ef\u56db\uff1a\u53cc\u8d62\u601d\u7ef4 \u4e60\u60ef\u4e94\uff1a\u77e5\u5f7c\u89e3\u5df1 \u4e60\u60ef\u516d\uff1a\u7edf\u5408\u7efc\u6548 \u4e60\u60ef\u4e03\uff1a\u4e0d\u65ad\u66f4\u65b0</p>"},{"location":"enjoy/driver/license/","title":"\u8003\u9a7e\u7167\u4e4b\u65c5","text":""},{"location":"enjoy/driver/license/#_2","title":"\u65f6\u95f4\u7ebf","text":"\u65f6\u95f4 \u4e8b\u4ef6 2025.02.09 \u6d77\u6dc0\u9a7e\u6821app\u4e0a\u62a5\u540d 2025.02.15 1. \u5b66\u9662\u8def\u6d77\u6dc0\u9a7e\u6821\u62a5\u540d\u4e2d\u5fc3\u4f53\u68c0  2. \u79d1\u4e0012\u5b66\u65f6\u5237\u5b8c + \u521d\u6b21\u5b8c\u62101600\u9053\u9898 2025.02.22 \u79d1\u76ee\u4e00\u8003\u8bd5\u901a\u8fc7 2025.03.17 \u79d1\u76ee\u4e8c\u8003\u8bd5\u901a\u8fc7 2025.05.17 \u79d1\u76ee\u4e09\u548c\u79d1\u76ee\u56db\u901a\u8fc7"},{"location":"enjoy/driver/license/#_3","title":"\u79d1\u76ee\u4e00","text":"<p>\u91cd\u70b9\u5148\u8bb0\u5fc6\u6263\u5206\uff0c\u8d85\u8f7d/\u91cd\uff0c\u7f5a\u6b3e\uff0c\u6807\u5fd7</p> <p>\u6263\u5206\u9898</p> <ul> <li>\u62631\u5206\u573a\u666f<ol> <li>\u8fdd\u53cd\u7981\u4ee4\u6807\u5fd7\u3001\u7981\u6b62\u6807\u7ebf</li> <li>\u4e0d\u6309\u89c4\u5b9a\u4f1a\u8f66</li> <li>\u666e\u901a\u9053\u8def\u4e0d\u6309\u89c4\u5b9a\u6389\u5934\u3001\u5012\u8f66</li> <li>\u4e0d\u6309\u89c4\u5b9a\u4f7f\u7528\u706f\u5149</li> <li>\u4e0d\u6309\u89c4\u5b9a\u5e74\u68c0</li> <li>\u4e0d\u7cfb\u5b89\u5168\u5e26</li> </ol> </li> <li>\u62633\u5206\u573a\u666f<ol> <li>\u4e0d\u8ba9\u6821\u8f66\uff0c\u4e0d\u8ba9\u884c\u4eba\uff0c\u8d85\u8f66\u4e0d\u8ba9\u884c</li> <li>\u666e\u901a\u9053\u8def\u9006\u5411\u884c\u9a76</li> <li>\u9ad8\u901f\u4f4e\u4e8e\u89c4\u5b9a\u6216\u4e0d\u6309\u89c4\u5b9a\u884c\u9a76</li> <li>\u9047\u524d\u65b9\u505c\u8f66\u6392\u961f\u3001\u501f\u9053\u8d85\u8f66\u3001\u7a7f\u63d2\u7b49\u5019\u8f66\u8f86\uff08\u52a0\u585e\uff09</li> <li>\u5f00\u8f66\u6253\u7535\u8bdd</li> <li>\u53d1\u751f\u6545\u969c\u672a\u6309\u89c4\u5b9a\u4f7f\u7528\u5371\u9669\u62a5\u8b66\u95ea\u5149\u706f\u548c\u8b66\u544a\u6807\u5fd7</li> <li>\u4e0d\u6309\u89c4\u5b9a\u5b89\u88c5\u53f7\u724c</li> </ol> </li> <li>\u62636\u5206\u573a\u666f<ol> <li>\u8fdd\u53cd\u4fe1\u53f7\u706f\u3001\u8fdd\u6cd5\u5360\u7528\u5e94\u6025\u8f66\u9053</li> <li>\u81f4\u4eba\u8f7b\u5fae\u4f24\u6216\u8d22\u4ea7\u635f\u5931\u7684\u4e8b\u6545\u540e\u9003\u9038</li> <li>\u9a7e\u9a76\u8bc1\u88ab\u6682\u6263\u671f\u95f4\u9a7e\u9a76\u673a\u52a8\u8f66</li> </ol> </li> <li>\u62639\u5206\u573a\u666f<ol> <li>\u6c61\u635f\u3001\u906e\u6321\u3001\u672a\u60ac\u6302\u53f7\u724c</li> <li>\u9a7e\u9a76\u4e0e\u51c6\u9a7e\u4e0d\u7b26</li> <li>\u9ad8\u901f\u516c\u8def\u8fdd\u6cd5\u505c\u8f66</li> </ol> </li> <li>\u626312\u5206\u573a\u666f<ol> <li>\u996e\u9152\u3001\u9189\u9152\u9a7e\u9a76\u673a\u52a8\u8f66</li> <li>\u4f2a\u9020\u53f7\u724c\u3001\u884c\u9a76\u8bc1\u3001\u9a7e\u9a76\u8bc1</li> <li>\u9ad8\u901f\u516c\u8def\u5012\u8f66\u3001\u9006\u884c\u3001\u6389\u5934 \uff08\u9ad8\u901f\u73a9\u547d\uff09</li> <li>\u4e70\u5356\u5206\u6570\u8c0b\u53d6\u5229\u76ca</li> <li>\u81f4\u4eba\u8f7b\u4f24\u4ee5\u4e0a\u6216\u6b7b\u4ea1\u7684\u4e8b\u6545\u540e\u9003\u9038</li> </ol> </li> </ul> <p>\u8d85\u8f7d</p> <ul> <li>\u672a\u8fbe30%\uff1a\u62631\u5206</li> <li>30% - 50%: \u62633\u5206</li> <li>50%\u4ee5\u4e0a\uff1a\u62636\u5206</li> </ul> <p>\u8d85\u5458</p> <p>\u7279\u6b8a\uff1a\u6821\u5ba2\u65c5\u8d85\u5458\uff0c\u672a\u8fbe20%\u62636\u5206\uff0c\u8d85\u8fc720%\u626312\u5206\uff0820%\u51b3\u751f\u6b7b\uff09 \u666e\u901a\u8f66\u8d85\u5458</p> \u8d85\u5458 \u4e03\u5ea7\u4ee5\u4e0a \u4e03\u5ea7\u4ee5\u4e0b 20%-50% 6 3 50%-100% 9 6 100%\u4ee5\u4e0a 12 12 <p>\u8d85\u901f</p> \u666e\u901a\u5c0f\u8f66 20%-50% 50%\u4ee5\u4e0a \u666e\u901a\u8def 3 6 \u9ad8\u901f\u8def 6 12 <p>\u7279\u6b8a\uff1a\u6821\u5ba2\u5371\u8f66</p> \u9ad8\u901f\u672a\u8fbe20% \u9ad8\u901f20%\u4ee5\u4e0a \u666e\u901a\u8def 10%-20% \u666e\u901a\u8def20%-50% \u666e\u901a\u8def50%\u4ee5\u4e0a 6 12 1 6 9 <p>\u7f5a\u6b3e</p> <ul> <li>200\u5143\u4ee5\u4e0b<ol> <li>\u8f6c\u8ba9\u540e\uff0c30\u65e5\u5185\u672a\u529e\u7406\u8f6c\u8ba9\u767b\u8bb0</li> <li>\u6539\u53d8\u8f66\u8eab\u989c\u8272\u3001\u8f66\u8eab\u5e7f\u544a</li> <li>\u672a\u6309\u89c4\u5b9a\u8fdb\u884c\u5b89\u5168\u6280\u672f\u68c0\u9a8c</li> </ol> </li> <li>20-200\u5143<ol> <li>\u8865\u9886\u65b0\u8bc1\u7528\u539f\u8bc1</li> <li>\u5b9e\u4e60\u671f\u5355\u72ec\u4e0a\u9ad8\u901f</li> <li>\u9a7e\u9a76\u4eba\uff0c\u4fe1\u606f\u53d8\u66f430\u5929\u5185\u672a\u5907\u6848</li> <li>\u8ba9\u64a4\u4e0d\u64a4\u9020\u6210\u62e5\u5835\uff0c\u7f5a\u6b3e200</li> </ol> </li> <li>200-500\u5143<ol> <li>\u903e\u671f\u4e0d\u5ba1\u9a8c\u4ecd\u9a7e\u9a76</li> <li>\u8eab\u4f53\u4e0d\u9002\u4ecd\u9a7e\u9a76</li> <li>\u9690\u7792\u3001\u6b3a\u9a97\u8865\u9886\u9a7e\u9a76\u8bc1</li> <li>\u516c\u8def\u5ba2\u8fd0\u8d85\u5458\u672a\u8fbe20%</li> </ol> </li> <li>200-2000\u5143<ul> <li>\u62fc\u88c5\u62a5\u5e9f\u8d8550\uff0c20-2000\u5904\u540a\u9500\uff08\u53e3\u8bc0\uff09</li> <li>\u8d85\u901f50%</li> <li>\u9a7e\u9a76\u62fc\u88c5\u3001\u62a5\u5e9f\u8f66</li> <li>\u628a\u8f66\u4ea4\u7ed9\u65e0\u8bc1\u4eba\u5f00</li> <li>\u975e\u6cd5\u5b89\u88c5\u62a5\u8b66\u5668</li> </ul> </li> <li>500\u4ee5\u4e0b<ol> <li>\u865a\u5047\u6750\u6599\uff0c1\u5e74\u4e0d\u5f97\u7533\u9886</li> </ol> </li> <li>2000\u4ee5\u4e0b<ol> <li>\u8003\u8bd5\u8d3f\u8d42\u3001\u821e\u5f0a\uff0c2000</li> </ol> </li> </ul> <p>\u5ba1\u9a8c</p> <ol> <li>\u5f04\u865a\u4f5c\u5047\uff0c1000\u4ee5\u4e0b</li> <li>\u4ee3\u66ff\u4ed6\u4eba\uff0c2000\u4ee5\u4e0b</li> <li> <p>\u7ec4\u7ec7\u4ed6\u4eba\uff0c3\u500d\u4ee5\u4e0b\uff0c\u6700\u9ad82\u4e07</p> </li> <li> <p>\u53e3\u8bc0\uff1a\u5047\u5ba11 \u4ee3\u5ba12 \u7ec43\u500d\uff0c\u9ad82\u4e07</p> </li> </ol> <p>\u4ee3\u8bb0\u5206</p> <ul> <li>3\u500d\u4ee5\u4e0b\u7f5a\u6b3e\uff0c\u6700\u591a\u4e0d\u8d85\u8fc75\u4e07<ol> <li>\u8bf7\u4ed6\u4eba\u4ee3\u4e3a\u8ba1\u5206\u5e76\u652f\u4ed8\u7ecf\u6d4e\u5229\u76ca\u7684</li> <li>\u4ee3\u66ff\u63a5\u53d7\u79ef\u5206\u725f\u53d6\u7ecf\u6d4e\u5229\u76ca\u7684</li> </ol> </li> <li> <p>5\u500d\u4ee5\u4e0b\u7f5a\u6b3e\uff0c\u6700\u591a\u4e0d\u8d85\u8fc710\u4e07</p> <ol> <li>\u7ec4\u7ec7\u5b9e\u65f6\u524d\u4e24\u6b3e\u884c\u4e3a</li> </ol> </li> <li> <p>\u53e3\u8bc0\uff1a\u4ee3\u8ba1\u5206 3\u500d5,5\u500d10</p> </li> </ul> <p>\u9152\u9a7e</p> <ul> <li>\u996e\u9152\uff1a\u6682\u6263\u9a7e\u9a76\u8bc16\u4e2a\u6708\uff0c\u626312\u5206\uff0c\u7f5a\u6b3e1000-2000</li> <li>\u518d\u996e\u9152\uff1a\u540a\u9500\uff0c\u62d8\u755910\u65e5\u4ee5\u4e0b\uff0c\u7f5a\u6b3e1000-2000</li> <li>\u9189\u9152\uff1a\u7ea6\u675f\u81f3\u9152\u9192\uff0c\u540a\u95005\u5e74</li> </ul> <p>\u540a\u9500\u7533\u9886</p> <ol> <li>\u865a\u5047\u6750\u65991\u5e74</li> <li>\u4e00\u822c\u60c5\u5f62\u540a\u9500\u540e2\u5e74</li> <li>\u975e\u6cd5\u53d6\u5f97\uff0c\u64a4\u9500\u9a7e\u7167 3\u5e74</li> <li>\u9189\u9152\u9a7e\u8f66 5\u5e74</li> <li>\u8087\u4e8b\u9003\u9038\uff0c\u6784\u6210\u72af\u7f6a\u7684\uff0c\u7ec8\u751f</li> </ol> <p>\u50471\u540a2\u64a43\u91895\u9003\u7ec8\u751f</p>"},{"location":"enjoy/driver/license/#_4","title":"\u79d1\u76ee\u4e8c","text":"<ul> <li>\u5761\u8d77: \u4e24\u6b21\u673a\u5668\u54af\u5654\u7684\u58f0\u97f3\u53ef\u4ee5\u677e\u624b\u5239</li> <li>\u76f4\u89d2\u8f6c\u5f2f: \u4e0b\u65b9\u95e8\u628a\u624b\u4e2d\u95f4\u5de6\u6253\u6ee1</li> <li>S\u5f2f: \u7b2c\u4e00\u4e2a\u68f1\u51fa\u53bb\uff0c\u5de6\u6253\u4e00\u5708\uff0c\u7b2c\u4e8c\u4e2a\u68f1\u63a5\u89e6\u7ebf\u540e\u56de\u6b63\uff0c\u7b2c\u4e09\u4e2a\u68f1\u63a5\u89e6\u540e\uff0c\u53f3\u6253\u4e00\u5708</li> <li>\u5012\u8f66\u5165\u5e93: <ul> <li>\u53f3\u8fb9\u9047\u5230\u7b2c\u4e09\u4e2a\u7ebf\uff0c\u56de\u6b63\u4e00\u5708\uff0c\u5e93\u89d2\u770b\u4e0d\u89c1\u53f3\u6253\u6b7b</li> <li>\u5de6\u8fb9\u906e\u4f4f\u7b2c\u4e09\u4e2a\u7ebf\uff0c\u56de\u6b63\u4e00\u5708\uff0c\u5e93\u89d2\u770b\u4e0d\u89c1\u5de6\u6253\u6b7b</li> </ul> </li> <li>\u4fa7\u65b9\u505c\u8f66: <ul> <li>\u7b2c\u4e00\u4e2a\u865a\u7ebf1/3\uff0c\u53f3\u6253\u6ee1\uff0c\u5de6\u4fa7\u95e8\u628a\u624b\u78b0\u7ebf\uff0c\u56de\u6b63\u3002\u5de6\u4fa7\u95e8\u628a\u624b\u8fdb\u53bb\uff0c\u5de6\u6253\u6ee1\u3002\uff08\u68f1\u8fdb\u8fb9\u7ebf\u5c31\u4e0d\u8981\u5012\u4e86\uff09</li> <li>\u6253\u706f\uff0c\u5148\u6302\u7a7a\u6863\u540e\u63621\u6863\uff0c\u8f66\u5934\u7b2c\u4e8c\u68f1\u51fa\u7ebf\u540e\uff0c\u56de\u6b63\u3002\u53f3\u4fa7\u68f1\u63a5\u89e6\u7ebf\u540e\uff0c\u53f3\u6253\u4e00\u5708</li> </ul> </li> </ul>"},{"location":"enjoy/driver/license/#_5","title":"\u79d1\u76ee\u4e09","text":"<p>\u51c6\u5907</p> <ul> <li>\u9012\u8eab\u4efd\u8bc1\uff0c\u53bb\u8f66\u5de6\u524d\u5934\u7ed5\u8f66</li> </ul> <p>\u4e0a\u8f66</p> <ul> <li>\u4e0a\u8f66\u5148\u62ac\u706f(\u907f\u514d\u6253\u7740\u8fdc\u5149\u706f)</li> <li>\u8c03\u5ea7\u6905\u9ad8\u4f4e\uff0c\u524d\u540e\uff0c\u5bc4\u5b89\u5168\u5e26</li> </ul> <p>\u706f\u5149\u7ec3\u4e60</p> <ul> <li>\u4e09\u6b21\u4ea4\u66ff: \u8def\u53e3\u65e0\u706f/ \u8d85\u8f66</li> <li>\u8fdc\u5149\u706f: \u65e0\u7167\u660e/\u7167\u660e\u6761\u4ef6\u4e0d\u597d</li> <li>\u5176\u4f59\u60c5\u51b5\u8fd1\u5149\u706f</li> </ul> <p>\u8d77\u6b65</p> <ul> <li>\u6253\u5de6\u8f6c\u706f</li> <li>\u8e29\u79bb\u5408\uff0c\u63021\u6321\uff0c\u5de6\u4fa7\u65e0\u8f66\u540e\u677e\u624b\u5239</li> </ul> <p>\u5347\u901f(\u901f\u5ea6\u8868\u5728\u53f3\u4fa7)</p> <ul> <li>15\u53472\u6863\uff0c25\u53473\u6863\uff0c35\u53474\u6863</li> </ul> <p>\u8d85\u8f66</p> <ul> <li>\u6253\u5de6\u706f\uff0c\u5207\u5230\u5de6\u9053\uff0c\u5230\u5de6\u9053\uff0c\u5173\u706f</li> </ul> <p>\u964d\u901f</p> <ul> <li>\u5230\u84dd\u76d8\u9644\u8fd1\u8e29\u5239\u8f66\uff0c\u964d\u901f\u523020\u53d8\u52302\u6863</li> </ul> <p>\u5de6\u8f6c</p> <ul> <li>\u76f4\u884c\u7eff\u706f\u8fdb\u5165\u5f85\u8f6c\u533a</li> <li>\u7bad\u5934\u6307\u793a\u7eff\u706f\u53ef\u5de6\u8f6c</li> </ul> <p>\u76f4\u884c\u51cf\u901f(3\u4e2a\u5730\u65b9)</p> <ul> <li>\u5b66\u6821\uff0c\u76f4\u884c\u8def\u53e3\uff0c\u4eba\u884c\u6a2a\u9053(\u5728\u6865\u4e0a)</li> </ul> <p>\u76f4\u884c\u52a0\u901f</p> <ul> <li>\u8fc7\u4e86\u6591\u9a6c\u7ebf\u540e\u63d0\u901f\u52303\u6863</li> <li>\u4fdd\u630130\u7684\u901f\u5ea6\u76f4\u884c</li> </ul> <p>\u6389\u5934</p> <ul> <li>\u542c\u5230\u53e3\u4ee4\uff0c\u6253\u5de6\u8f6c\u706f</li> <li>\u8e29\u79bb\u5408\u548c\u5239\u8f66\uff0c\u964d\u901f\u523010-15\uff0c\u6302\u6321\u52301\u6863</li> <li>\u7bad\u5934\u5904 \u62533/4\u65b9\u5411\u76d8\uff0c\u770b\u60c5\u51b5\u56de\u6b63</li> </ul> <p>\u76f4\u884c\u52a0\u901f</p> <ul> <li>\u52a0\u6863\u52302\u6863</li> </ul> <p>\u53f3\u53d8\u9053</p> <ul> <li>\u6253\u53f3\u706f\uff0c\u53f3\u4fa7\u65e0\u8f66\u53f3\u53d8\u9053</li> </ul> <p>\u76f4\u884c\u51cf\u901f(2\u4e2a\u53e3)</p> <ul> <li>\u4eba\u884c\u6a2a\u9053</li> <li>\u516c\u4ea4\u8f66\u7ad9</li> </ul> <p>\u53f3\u8f6c</p> <ul> <li>\u53f3\u8f6c\u706f\uff0c\u964d\u901f\u52301\u6863</li> <li>\u5148\u770b\u5de6\u4fa7\u662f\u5426\u6709\u4eba\uff0c\u518d\u770b\u53f3\u4fa7\u662f\u5426\u6709\u4eba</li> <li>\u4eba\u5148\u8fc7\u4eba\u884c\u6a2a\u9053\u518d\u6253\u534a\u5708\u65b9\u5411\u76d8</li> </ul> <p>\u4f1a\u8f66</p> <ul> <li>\u8e29\u4e0b\u5239\u8f66</li> </ul> <p>\u8fdb\u5c0f\u8def</p> <ul> <li>\u6253\u53f3\u706f\uff0c\u964d\u901f\u52301\u6863</li> </ul> <p>\u9760\u8fb9\u505c\u8f66</p> <ul> <li>\u6253\u53f3\u706f\uff0c\u8e29\u4e0b\u5239\u8f66</li> <li>\u9760\u53f3\u4fa7\u8f66\u8fdb\uff0c\u56de\u6b63\u8f66\u5934</li> <li>\u4eba\u5728\u8def\u4e2d\u95f4\uff0c\u9760\u8fb9\u505c\u8f66</li> <li>\u62c9\u624b\u5239\uff0c\u6302\u6321</li> <li>\u5f00\u5173\u8f66\u95e8</li> </ul> <p>\u6ce8\u610f\u70b9</p> <ul> <li>\u6bcf\u6b21\u8bed\u97f3\u63d0\u793a\u90fd\u8e29\u4e0b\u5239\u8f66</li> <li>\u9047\u89c1\u7d27\u6025\u95ee\u9898\u5148\u8e29\u5239\u8f66! </li> <li>\u53d8\u6863\u79bb\u5408\u62ac\u6162\u70b9\u513f</li> <li>\u964d\u901f\u65f6\u8e29\u7740\u79bb\u5408\uff0c\u8e29\u5239\u8f66\uff0c\u901f\u5ea6\u5230\u4e4b\u540e\u518d\u53d8\u6863(\u4e0d\u8981\u7740\u6025\u53d8\u6863)</li> </ul>"},{"location":"enjoy/driver/license/#_6","title":"\u79d1\u76ee\u56db","text":"<p>\u540d\u8bcd\u89e3\u91ca</p> <ul> <li>\u811a\u5239\uff1a\u884c\u8f66\u5236\u52a8</li> <li>\u624b\u5239\uff1a\u9a7b\u8f66\u5236\u52a8</li> </ul>"},{"location":"enjoy/driver/license/#_7","title":"\u611f\u60f3","text":"<ol> <li>\u9a7e\u6821\u6765\u56de\u4f1a\u8def\u8fc7\u5730\u5927\u3001\u6cb9\u5927\u3001\u4e94\u9053\u53e3\u3001\u5317\u5927\u3001\u6e05\u534e\uff0c\u770b\u7740\u8f66\u5916\u671d\u6c14\u84ec\u52c3\u7684\u9762\u5b54\uff0c\u4e0d\u7981\u6709\u4e9b\u8bb8\u7fa1\u6155\u3002</li> <li>\u611f\u8c22\u5bf9\u8c61\u548c\u6211\u5f1f\u7684\u6307\u5bfc\uff0c\u611f\u8c22\u848b\u5b87\u8001\u54e5\u7684\u9a7e\u6821\u63a8\u8350</li> <li>\u7ec8\u4e8e\u4e0d\u7528\u5750\u5bf9\u8c61\u7684\u526f\u9a7e\u4e86\uff01</li> </ol>"},{"location":"enjoy/english/english/","title":"\u82f1\u8bed\u81ea\u5b66","text":"<p>\u516c\u53f8\u8001\u677f\u7684\u7b7e\u540d\uff1a\"English By Default\"</p>"},{"location":"enjoy/english/english/#_2","title":"\u8bcd\u6c47","text":"<ul> <li>\u540d\u8bcd\uff1a\u7528\u6765\u8bb0\u5f55\u4f60\u6240\u80fd\u591f\u611f\u77e5\u7684\u4e8b\u7269 \u2014\u2014 \u7ba1\u5b83\u662f\u62bd\u8c61\u7684\u8fd8\u662f\u5177\u4f53\u7684\u3002</li> <li>\u5f62\u5bb9\u8bcd\uff1a\u7528\u5f62\u5bb9\u8bcd\u6765\u8bb0\u5f55\u4f60\u5bf9\u4f60\u80fd\u591f\u611f\u77e5\u7684\u90a3\u4e2a\u4e8b\u7269\u7684\u611f\u77e5\u3002</li> <li>\u52a8\u8bcd\uff1a\u7528\u6765\u8bb0\u5f55\u4f60\u80fd\u591f\u611f\u77e5\u7684\u90a3\u4e2a\u4e8b\u7269\u6240\u53d1\u51fa\u7684\u52a8\u4f5c\u3002</li> <li>\u526f\u8bcd\uff1a<ul> <li>\u526f\u8bcd\u4fee\u9970\u52a8\u8bcd\uff0c\u8bb0\u5f55\u4f60\u5bf9\u4f60\u80fd\u591f\u611f\u77e5\u7684\u90a3\u4e2a\u4e8b\u7269\u6240\u53d1\u51fa\u4e4b\u52a8\u4f5c\u7684\u611f\u77e5</li> <li>\u526f\u8bcd\u4fee\u9970\u5f62\u5bb9\u8bcd\uff0c\u8bb0\u5f55\u4f60\u5bf9\u4f60\u80fd\u591f\u611f\u77e5\u7684\u90a3\u4e2a\u4e8b\u7269\u7684\u611f\u77e5\u7684\u611f\u77e5\u3002</li> </ul> </li> </ul>"},{"location":"enjoy/finance/fraud/","title":"\u8bc8\u9a97\u7ecf\u5386","text":"<p>\u4ee5\u4e0b\u5747\u4e3a\u672c\u4eba\u8eab\u8fb9\u670b\u53cb\u4eb2\u8eab\u7ecf\u5386\uff0c\u4ee3\u4ef7\u6c89\u91cd\uff0c\u603b\u7ed3\u7ecf\u9a8c\u907f\u514d\u518d\u6b21\u53d1\u751f</p>"},{"location":"enjoy/finance/fraud/#_2","title":"\u7ecf\u5386\u7b80\u8ff0","text":"<ol> <li>A\u540c\u5b66\u5728\u6296\u97f3\u4e0a\u770b\u5230\u4e86\u4e00\u4e2a\u53ef\u4ee5\u8fd4\u5229\u7684\u89c6\u9891\uff0c\u70b9\u8d5e\u91cf\u548c\u8bc4\u8bba\u5747\u5f88\u591a\uff0c\u901a\u8fc7\u94fe\u63a5\u4e0b\u8f7d\u4e86app <p>App\u7684\u6838\u5fc3\u64cd\u4f5c\u662f\u5237\u5355\u8fd4\u5229\uff0c\u5373\u6295\u5165\u4e00\u5b9a\u7684\u672c\u91d1\u8fd4\u8fd8\u4e00\u5b9a\u7684\u5229\u6da6</p> </li> <li>A\u540c\u5b66\u521a\u5f00\u59cb\u64cd\u4f5c100\uff0c300\u5747\u8fd4\u5229\uff0c\u540e\u6765\u8ba9\u51b21200 3000 6000 1w2 2w4 4w8\u7c7b\u4f3c\u8fd9\u6837\uff0c\u52301200\u8fd9\u91cc\uff0c\u94b1\u5c31\u53d6\u4e0d\u51fa\u6765\u4e86\uff0c\u540e\u7eed\u7ecf\u5386\u4e86\u64cd\u4f5c\u9519\u8bef\uff0c\u6392\u961f\uff0c\u7cfb\u7edf\u539f\u56e0\u7b49\uff0c\u4e0e\u5ba2\u670d\u6c9f\u901a\u9700\u8981\u7ee7\u7eed\u5145\u503c\u624d\u80fd\u628a\u94b1\u63d0\u51fa\u6765</li> <li>A\u540c\u5b66\u6700\u540e\u4e00\u6b21\u64cd\u4f5c\u89e6\u53d1\u4e86\u4ea4\u6613\u8f6f\u4ef6\u7684\u98ce\u63a7\uff0c\u4e0d\u8ba9\u5927\u989d\u4ea4\u6613\u64cd\u4f5c\uff0c\u8981\u628a\u94b1\u4eceatm\u673a\u6c47\u8fc7\u53bb\uff0c\u8fc7\u7a0b\u4e2dA\u540c\u5b66\u8fd8\u627eB\u540c\u5b66\u804a\u8fd9\u4e2a\u4e8b\uff0cB\u540c\u5b66\u89c9\u5f97\u6709\u70b9\u513f\u50cf\u8bc8\u9a97\uff0c\u4f46A\u540c\u5b66\u6df1\u4fe1\u4e0d\u7591\u3002\u591a\u4eba\u529d\u544a\uff0c\u4e8b\u540e\u53cd\u5e94\u8fc7\u6765\uff0c\u8fd9\u4e2a\u5c40\u505a\u7684\u592a\u903c\u771f\u4e86\uff0c\u6709\u4e24\u4e2a\u7fa4\uff0c\u5927\u7fa4\u5206\u4eab\u6bcf\u4e2a\u4eba\u8d5a\u94b1\u7684\u622a\u56fe\uff0c\u5c0f\u7fa4\u91cc\u8981\u7edf\u4e00\u64cd\u4f5c\uff0c\u64cd\u4f5c\u5931\u8bef\u8fd8\u4f1a\u5f71\u54cd\u5176\u5b83\u4eba</li> <li>A\u540c\u5b66\u62a5\u6848\uff0c\u8b66\u5bdf\u505a\u4e86\u7b14\u5f55\uff0c\u7531\u4e8e\u8d44\u91d1\u662f\u901a\u8fc7\u8d2d\u4e70\u5546\u54c1\u7684\u65b9\u5f0f\uff0c\u4e0d\u597d\u8ffd\u56de\u3002 <p>\u8fc7\u7a0b\u4e2d\u4e0d\u613f\u610f\u62a5\u6848 1\u662f\u6015\u7236\u6bcd\u77e5\u60c5 2\u662f\u62c5\u5fc3\u5f71\u54cd\u81ea\u5df1\u7684\u5de5\u4f5c</p> </li> </ol>"},{"location":"enjoy/finance/fraud/#_3","title":"\u603b\u7ed3","text":"<p>\u4e2a\u4eba</p> <ul> <li>\u4e0d\u8981\u8d2a\u5c0f\u4fbf\u5b9c\uff0c\u4e0d\u61c2\u7684\u4e1c\u897f\u4e0d\u8981\u78b0\uff1b\u4e0d\u8981\u5bb3\u6015\u522b\u6050\u5413\uff0c\u4f60\u53ea\u8981\u4e0d\u8f6c\u94b1\uff0c\u4ed6\u4eec\u62ff\u4f60\u6ca1\u529e\u6cd5</li> <li>\u6d89\u53ca\u94b1\u7684\u64cd\u4f5c\u52a1\u5fc5\u51b7\u9759\u614e\u91cd\uff0c\u907f\u514d\u665a\u4e0a\u3001\u51cc\u6668\u7b49\u5934\u8111\u4e0d\u6e05\u9192\u7684\u65f6\u95f4\u64cd\u4f5c</li> <li>\u6ca1\u6709\u5145\u8db3\u7a33\u5b9a\u7684\u73b0\u91d1\u6d41\uff0c\u4e0d\u8981\u8fc7\u591a\u8d85\u524d\u6d88\u8d39\uff0c\u5c3d\u53ef\u80fd\u5c11\u7684\u4f7f\u7528\u501f\u5457\u3001\u82b1\u5457\u3001\u767d\u6761... <p>\u5f53\u524d\u90fd\u662f\u6570\u5b57\u5316\u64cd\u4f5c\uff0c\u5bf9\u51e0\u4e07\u5757\u94b1\u6ca1\u6982\u5ff5\uff0c\u5bf9\u4e8e\u6708\u85aa1w\u7684\u4eba\uff0c\u8981\u5de5\u4f5c\u51e0\u4e07\u624d\u80fd\u8fd8\u6389\u51e0\u4e07\u7684\u501f\u8d37</p> </li> </ul> <p>\u5e73\u53f0</p> <ul> <li>\u793e\u4ea4\u5e73\u53f0\uff08\u6296\u97f3\u3001\u5c0f\u7ea2\u4e66\u3001\u5fae\u4fe1\uff09\u53d7\u9650\u4e8e\u8d44\u6e90\u95ee\u9898\uff0c\u4e0d\u53ef\u80fd\u6240\u6709\u95ee\u9898\u90fd\u80fd\u53ca\u65f6\u7684\u53d1\u73b0\u5e76\u5904\u7406\uff0c\u4e0d\u8981\u8fc7\u5206\u76f8\u4fe1\u5e73\u53f0</li> <li>\u91d1\u878d\u5e73\u53f0\uff08\u6296\u97f3\u3001\u652f\u4ed8\u5b9d\u3001\u6ef4\u6ef4\u3001\u7f8e\u56e2\u3001\u4eac\u4e1c\u3001\u94f6\u884c...\uff09\u7684\u98ce\u63a7\u673a\u5236\u6ca1\u5927\u5bb6\u60f3\u8c61\u7684\u597d <p>\u4e8b\u524d\u3001\u4e8b\u4e2d\u6ca1\u6cd5\u66f4\u65e9\u5730\u8bc6\u522b\u6b3a\u8bc8\u610f\u56fe\uff0c\u4e8b\u540e\u4e5f\u5f88\u96be\u628a\u5df2\u6295\u5165\u7684\u94b1\u8ffd\u56de</p> </li> </ul> <p>\u8bc8\u9a97\u56e2\u4f19</p> <ul> <li>\u8bc8\u9a97\u56e2\u4f19\u771f\u7684\u5f88\u9ad8\u660e\uff0c\u4f5c\u6848\u624b\u6bb5\u4e5f\u5728\u4e0e\u65f6\u4ff1\u8fdb\uff0c\u53ef\u4ee5\u628a\u4ed6\u4eec\u7406\u89e3\u4e3a\u5929\u624d\uff0c\u4e0d\u8981\u60f3\u7740\u548c\u4ed6\u4eec\u53bb\u535a\u5f08\uff0c\u5f88\u591a\u4eba\u6ca1\u88ab\u9a97\u53ea\u662f\u6ca1\u9047\u5230 <p>\u94f6\u884c\u5e73\u53f0\u98ce\u63a7\u662f\u4e3a\u4e86\u641e\u6280\u672f\uff0c\u9886\u5de5\u8d44\u3002\u8b66\u5bdf\u4e5f\u53ea\u662f\u9886\u7740\u4e0d\u591a\u7684\u5de5\u8d44\u3002\u8bc8\u9a97\u56e2\u4f19\u662f\u641e\u591a\u5c11\u8d5a\u591a\u5c11\u3002\u6280\u672f\u9762\u5c31\u4e0d\u5728\u4e00\u4e2a\u5c42\u6b21\u4e0a\u3002 \u5f88\u591a\u8bc8\u9a97\u5b9e\u65bd\u7684\u4eba\u5bb6\u5883\u8d2b\u5bd2\uff0c\u4e0d\u505a\u5c31\u8981\u9762\u4e34\u7edd\u5883\uff0c\u4eba\u5728\u6c42\u751f\u7684\u672c\u80fd\u7684\u524d\u63d0\u4e0b\uff0c\u80fd\u505a\u7684\u8fdc\u8d85\u60f3\u8c61</p> </li> </ul>"},{"location":"enjoy/finance/investment_practice/","title":"\u7406\u8d22\u5b9e\u8df5","text":"<p>\u6295\u8d44\u6709\u98ce\u9669\uff0c\u7406\u8d22\u9700\u8c28\u614e\u3002</p>"},{"location":"enjoy/finance/investment_practice/#_2","title":"\u80cc\u666f","text":"<ol> <li> <p>\u5f97\u77e5riba\u5728\u6295\u8d44\u5c42\u9762\u53d6\u5f97\u4e0d\u9519\u7684\u6536\u76ca\u540e\uff0c\u8ba4\u771f\u9605\u8bfb\u4e86riba\u5173\u4e8e\u7406\u8d22\u77e5\u8bc6\u7ecf\u9a8c\u7684\u5206\u4eab\u3002\u7ecf\u8fc7\u534a\u5e74\u65f6\u95f4\uff0824.11-25.05\uff09\u8bfb\u4e86\u7406\u8d22\u76f8\u5173\u7684\u4e66\u5e76\u7ed3\u5408\u5b9e\u8df5\uff0c\u8ba4\u4e3ariba\u7684\u7406\u5ff5\u662f\u975e\u5e38\u53ef\u884c\u7684\u3002</p> <p>\u9009\u62e9\u4f18\u8d28\u8d44\u4ea7\u5e76\u4e0d\u65ad\u5b9a\u6295\u4e70\u5165\u3002</p> </li> <li> <p>\u7a7a\u95f2\u65f6\u95f4\u5728v2ex\u770b\u9177\u5de5\u4f5c\u4e0b\u7684\u5e16\u5b50\uff0c\u5927\u5bb6\u90fd\u5728\u5410\u69fd\u5de5\u4f5c\u5fd9/\u88ab\u88c1/\u7126\u8651\u7684\u8bdd\u9898\uff0c\u4f46xption\u613f\u610f\u4e3b\u52a8\u5206\u4eab\u81ea\u5df1\u5207\u5b9e\u53ef\u884c\u5df2\u843d\u5730\u7684\u65b9\u6848\u3002</p> <p>\u6700\u9760\u8c31\u7684\u526f\u4e1a\u83ab\u8fc7\u4e8e\u5c06\u79ef\u7d2f\u7684\u8d22\u5bcc\u5b88\u4f4f\uff0c\u60f3\u529e\u6cd5\u968f\u7740\u65f6\u95f4\u4ea7\u751f\u590d\u5229\u3002</p> </li> </ol> <p>\u622a\u6b622025.05.24\u4e3a\u6b62</p> \u6caa\u6df1300\u5b9a\u62955\u5e74 \u7eb3\u6307\u5b9a\u6295\u534a\u5e74 \u6301\u6709\u6536\u76ca\u7387: 1% \u6301\u6709\u6536\u76ca\u7387: 2%"},{"location":"enjoy/finance/investment_practice/#_3","title":"\u60f3\u6cd5","text":""},{"location":"enjoy/finance/investment_practice/#_4","title":"\u4ec0\u4e48\u662f\u8d44\u4ea7\uff1f","text":"<p>\u8d44\u4ea7\uff1a\u8d44\u4ea7\u662f\u80fd\u201c\u94b1\u751f\u94b1\u201d\u7684\u4e1c\u897f\uff0c\u5b83\u53ef\u4ee5\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u6301\u7eed\u4e3a\u6240\u6709\u8005\u5e26\u6765\u73b0\u91d1\u6d41\u6536\u5165\u3002</p> <p>\u4f8b\u5982\uff0c\u80a1\u7968\u3001\u623f\u5730\u4ea7\u3001\u4f18\u8d28\u7684\u516c\u53f8\u80a1\u6743\u7b49\uff0c\u5b83\u4eec\u5728\u5408\u9002\u7684\u60c5\u51b5\u4e0b\uff0c\u80fd\u591f\u4ea7\u751f\u80a1\u606f\u3001\u79df\u91d1\u7b49\u6536\u5165\uff0c\u4e0d\u65ad\u589e\u52a0\u4f60\u7684\u8d22\u5bcc\u3002</p>"},{"location":"enjoy/finance/investment_practice/#_5","title":"\u4ec0\u4e48\u662f\u8d22\u52a1\u81ea\u7531\uff1f","text":"<p>\u8d22\u52a1\u81ea\u7531\u5373\u65f6\u95f4\u81ea\u7531\uff0c\u624b\u4e2d\u7684\u8d44\u4ea7\u53ef\u4ee5\u4f7f\u6211\u65e0\u9700\u518d\u4e3a\u7ef4\u6301\u57fa\u672c\u751f\u6d3b\u800c\u4e0d\u5f97\u4e0d\u53bb\u51fa\u5356\u81ea\u5df1\u7684\u65f6\u95f4</p>"},{"location":"enjoy/finance/investment_practice/#_6","title":"\u4ec0\u4e48\u662f\u597d\u7684\u751f\u610f\u6a21\u5f0f\uff1f","text":"<p>\u597d\u7684\u751f\u610f\u6a21\u5f0f\u5373:</p> <ul> <li>\u5229\u6da6\u548c\u51c0\u73b0\u91d1\u6d41\u4e00\u76f4\u662f\u6760\u6760\u7684</li> <li>\u7ade\u4e89\u5bf9\u624b\u54ea\u6015\u5728\u5f88\u957f\u7684\u65f6\u95f4\u91cc\u4e5f\u5f88\u96be\u62a2</li> <li>\u62a4\u57ce\u6cb3\u662f\u5426\u957f\u671f\u575a\u56fa (\u4ea7\u54c1\u7684\u5dee\u5f02\u5316\u7684\u5dee\u5f02\u6027\uff0c\u5305\u62ec\u4f01\u4e1a\u6587\u5316)</li> <li>\u957f\u671f\u7684\u6bdb\u5229\u7387\u662f\u5426\u5408\u7406\uff08\u4ea7\u54c1\u7684\u53ef\u66ff\u4ee3\u6027\uff09</li> <li>\u957f\u671f\u7684\u51c0\u73b0\u91d1\u6d41\uff08\u957f\u671f\u770b\u662f\u51c0\u5229\u6da6\uff09\u662f\u5426\u6ee1\u610f</li> </ul>"},{"location":"enjoy/finance/investment_practice/#_7","title":"\u4e3a\u4ec0\u4e48\u662f\u957f\u671f\u5b9a\u6295\uff1f","text":"<p>\u57fa\u4e8e\u6211\u662f\u666e\u901a\u4eba\u3001\u4e14\u65e0\u76f8\u5173\u4e13\u4e1a\u77e5\u8bc6\u548c\u7ecf\u9a8c\u3002\u77ed\u671f\u4ef7\u683c\u9884\u6d4b\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u957f\u671f\u4ef7\u683c\u9884\u6d4b\u662f\u53ef\u80fd\u7684\u3002</p> <p>\u5728\u5168\u7403\u6bcf\u5e74\u8d27\u5e01\u589e\u53d1\u7684\u80cc\u666f\u4e0b\uff0c\u94b1\u6700\u7ec8\u8d8a\u6765\u8d8a\u591a\u6d41\u5165\u5230\u201d\u94b1\u751f\u94b1\u201c\u7684\u9886\u57df</p> <p>\u4e16\u754c\u4e00\u76f4\u5728\u8fdb\u6b65\uff0c\u7ecf\u6d4e\u4e00\u76f4\u5728\u53d1\u5c55\u3002</p> <p>\u53c2\u8003\u300a\u534a\u6cfd\u76f4\u6811\u300b\uff0c\u5728\u7ecf\u6d4e\u5371\u673a\u65f6\u671f\uff0c\u94f6\u884c\u66f4\u613f\u610f\u65e0\u4fe1\u7528\u98ce\u9669\u7684\u4f01\u4e1a\u8d37\u6b3e\uff0c\u5373\u4f7f\u8fd9\u4e9b\u4f01\u4e1a\u4e0d\u7f3a\u94b1\u3002</p> <p>\u53e6\u4e00\u4e2a\u4f8b\u5b50\u5c31\u662f\u201d\u6052\u5927\u201c\uff0c\u4e3a\u4ec0\u4e48\u80fd\u79ef\u7d2f\u8fd9\u4e48\u9ad8\u7684\u503a\u52a1\uff1f\u5728\u8fc7\u53bb\u5730\u65b9\u94f6\u884c\u7684\u89c6\u89d2\u4e0b\uff0c\u6295\u201d\u6052\u5927\u201c\u662f\u653f\u6cbb\u6b63\u786e+\u4e00\u672c\u4e07\u5229\u7684\u9009\u62e9\u3002</p> <p>\u4ec0\u4e48\u9886\u57df\u53ef\u4ee5\u201d\u94b1\u751f\u94b1\u201c\uff1f </p> <p>\u6211\u8ba4\u4e3a\u662f\u79d1\u6280\u9886\u57df\uff0c\u4ed6\u4ee3\u8868\u4e86\u5f53\u4e0b\u793e\u4f1a\u6700\u5148\u8fdb\u751f\u4ea7\u529b\u7684\u53d1\u5c55\uff0c\u4ed6\u5bc4\u6258\u4e86\u4eba\u7c7b\u7684\u7f8e\u597d\u524d\u666f\u3002</p>"},{"location":"enjoy/finance/investment_practice/#_8","title":"\u672a\u6765\u7684\u4f60\u671f\u671b\u4f60\u662f\u4ec0\u4e48\u6837\u7684\uff1f","text":"<p>\u5e0c\u671b10\u5e74\u540e\u7684\u6211</p> <ul> <li>\u6709\u81ea\u5df1\u5e73\u51e1\u4f46\u70ed\u7231\u7684\u4e8b\u4e1a\uff0c\u81ea\u5df1\u7684\u5bb6\u5ead\uff0c\u6709\u6e90\u6e90\u4e0d\u65ad\u7684\u7406\u8d22\u6536\u5165\u80fd\u8ba9\u6211\u65e0\u60e7\u88c1\u5458\u3001\u653f\u7b56\u53d8\u52a8</li> <li>\u5e0c\u671b\u6211\u7684\u5b58\u5728\u80fd\u8ba9\u8eab\u8fb9\u7684\u4eba\u5bf9\u751f\u6d3b\u66f4\u52a0\u7684\u70ed\u7231</li> </ul> <p>\u7406\u8d22\u76ee\u6807\uff1a\u5b9e\u73b0\u6bcf\u5e74\u5e73\u57475%\u7684\u5e74\u5316\u6536\u76ca\uff0c\u63a5\u53d7-50%\u7684\u4e8f\u635f\u3002</p>"},{"location":"enjoy/finance/investment_practice/#_9","title":"\u4f60\u51c6\u5907\u5982\u4f55\u7406\u8d22\uff1f","text":"<p>\u6807\u7684\uff1a\u6295\u8d44\u884c\u4e3a\u6240\u6307\u5411\u7684\u5bf9\u8c61\u3002\u5e38\u89c1\u7684\u6709\u80a1\u7968\u3001\u503a\u5238\u3001\u57fa\u91d1\u7b49\u3002</p> \u6807\u7684 \u6807\u7684\u6784\u6210 \u6295\u8d44\u6bd4\u4f8b \u4e3a\u4ec0\u4e48\u9009\u62e9 \u7eb3\u65af\u8fbe\u514b100 \u805a\u7126\u7eb3\u65af\u8fbe\u514b\u4e0a\u5e02\u7684 100 \u5bb6\u975e\u91d1\u878d\u79d1\u6280\u9f99\u5934 50% \u575a\u5b9a\u4e0d\u79fb\u7684\u76f8\u4fe1\u672a\u6765\u79d1\u6280\u7684\u53d1\u5c55 \u6807\u666e500 \u8986\u76d6\u7f8e\u56fd 500 \u5bb6\u5934\u90e8\u4e0a\u5e02\u516c\u53f8\uff0c\u884c\u4e1a\u5206\u5e03\u5747\u8861 25% \u6bd4\u7eb3\u6307\u7a33\u5065\uff0c\u76f8\u4fe1\u7f8e\u56fd\u7684\u957f\u671f\u53d1\u5c55 \u9ec4\u91d1ETF \u5b9e\u7269\u9ec4\u91d1\u3001\u9ec4\u91d1\u671f\u8d27\u6295\u8d44 25% \u5bf9\u51b2\u901a\u80c0\u3001\u5bf9\u6297\u7f8e\u80a1\u6301\u7eed\u4e0b\u8dcc\u7684\u5f3a\u5fc3\u5242 \u6807\u7684 \u4e94\u5e74\u4e3a\u754c\u66f2\u7ebf \u6807\u666e500 \u7eb3\u65af\u8fbe\u514b100 \u9ec4\u91d1"},{"location":"enjoy/finance/investment_practice/#_10","title":"\u7406\u8d22\u7406\u5ff5","text":"<ul> <li> <p>\u957f\u671f\u6301\u6709\uff0c\u81f3\u5c115\u5e74</p> <p>\u6309\u6bcf\u670820\u5929\u8ba1\u7b97\uff0c\u6bcf\u6708\u5b9a\u6295\u91d1\u989d\uff1a8000\uff08400*20\uff09\uff0c\u575a\u63015\u5e74\u5927\u698250w\uff08\u5df2\u66f4\u65b0\u7406\u8d22\u89c4\u5212\uff0c\u8be6\u89c1\u4e0b\u65b9\uff09</p> <p>\u4f60\u8ba4\u4e3a\u5728\u4eca\u5e74\u7684\u9ad8\u70b9\u5356\u6389\u4e86\uff0c\u7ad9\u57285\u5e74\u7684\u9ad8\u70b9\u540e\u6765\u770b\uff0c\u4eca\u5e74\u7684\u9ad8\u70b9\u8fd8\u662f\u9ad8\u70b9\u4e48\uff1f </p> </li> <li> <p>\u522b\u4eba\u8d8a\u6050\u60e7\uff0c\u6211\u8d8a\u8d2a\u5a6a</p> <p>\u5e02\u573a\u575a\u630128\u539f\u5219\uff0c\u4f60\u548c\u5927\u4f17\u8d70\u4e00\u6837\u7684\u8def\uff0c\u90a3\u4e48\u5927\u6982\u7387\u4f60\u662f80%\u7684\u4eba</p> </li> <li> <p>\u6b63\u5e38\u8303\u56f4\u5185\u7684\u6ce2\u52a8\u5176\u5b9e\u662f\u957f\u671f\u62b5\u5fa1\u66f4\u5927\u98ce\u9669\u80fd\u529b\u7684\u5fc5\u7ecf\u4e4b\u8def</p> </li> <li>\u6bcf\u5e74\u6839\u636e\u8d44\u4ea7\u8868\u73b0\u91cd\u65b0\u5e73\u8861\u6bd4\u4f8b\uff08\u4fdd\u8bc1\u5982\u4e0a\u7684\u6295\u8d44\u6bd4\u4f8b\uff09</li> <li> <p>\u4fdd\u6301\u7a33\u5b9a\u7684\u73b0\u91d1\u6d41</p> <p>\u5f88\u6709\u53ef\u80fd\u4f60\u5728\u4f4e\u70b9\u6478\u722c\u4e86\u5f88\u4e45\uff0c\u9a6c\u4e0a\u8981\u56de\u5347\u4e86\uff0c\u53ef\u4f60\u6ca1\u94b1\u4e86</p> </li> <li> <p>\u575a\u6301\u6210\u957f\uff0c\u6295\u8d44\u81ea\u5df1\u662f\u98ce\u9669\u6700\u4f4e\u3001\u6536\u76ca\u6700\u9ad8\u7684\u9009\u62e9</p> </li> </ul>"},{"location":"enjoy/finance/investment_practice/#_11","title":"\u51b3\u4e0d\u80fd\u505a\u7684\u4e8b","text":"<p>\u66fe\u7ecf\u5382\u957f\uff0c\u7092\u5e01\u4e8f300\u4e07\uff0c\u59bb\u79bb\u5b50\u6563\u9690\u5c45\u5728\u90ca\u533a\u5f00\u51fa\u79df\u8f66\uff0c\u89c6\u9891\u7684\u4e3b\u4eba\u516c\uff0c\u540c\u6211\u662f\u8001\u4e61 &amp; \u5927\u5b66\u6821\u53cb</p> <ul> <li>\u4e0d\u80fd\u501f\u7f51\u8d37\uff0c\u8d22\u5bcc\u6570\u5b57\u5316\u540e\u5f88\u591a\u4eba\u4e0d\u77e5\u5176\u5b9d\u8d35\uff0c\u6bd4\u598210w\u5728App\u4e0a\u53ea\u662f\u4e00\u5806\u6570\u5b57\uff0c\u4f4610w\u7eb8\u94b1\u662f\u6c89\u7538\u7538\u7684\uff0c\u9700\u8981\u597d\u51e0\u4e2a\u6708\u7684\u52aa\u529b\u624d\u80fd\u8d5a\u5230\u7684\u3002</li> <li>\u4e0d\u80fd\u6760\u6746\u64cd\u4f5c\uff0c\u4eba\u5bb9\u6613\u56e0\u4e3a\u8d85\u9ad8\u7684\u56de\u62a5\u5fd8\u6389\u5f53\u4e0b\u7684\u98ce\u9669\uff0c\u505a\u4e8b\u8981\u51b7\u9759\uff0c\u665a\u4e0a\u4e0d\u8981\u505a\u4ea4\u6613\u7684\u51b3\u7b56\u3002</li> <li>\u4e0d\u8981\u4e70\u81ea\u5df1\u4e0d\u61c2\u7684\u4e1c\u897f\uff0c\u5927\u6982\u7387\u4f1a\u4e8f\u3002</li> <li>\u77e5\u9519\u8981\u6539\uff0c\u4e0d\u8981\u6267\u8ff7\u4e0d\u609f\u3002\u79ef\u7d2f\u7ecf\u9a8c\uff0c\u4ee5\u540e\u80fd\u8d5a\u56de\u4e8f\u672c\u7684\u94b1\u3002</li> </ul>"},{"location":"enjoy/finance/investment_practice/#_12","title":"\u5b9e\u8df5","text":"<p>\u5b9a\u671f\u66f4\u65b0\u884c\u52a8\u4e0e\u8bd5\u9519\u3002</p>"},{"location":"enjoy/finance/investment_practice/#2025","title":"2025","text":""},{"location":"enjoy/finance/investment_practice/#202507","title":"2025.07","text":"<p>\u7ecf\u8fc76\u6708\u7684A/H/\u7f8e\u80a1\u7684\u4e0a\u6da8\uff0c\u4ee5\u53ca\u7406\u8d22\u7ecf\u7406\u5206\u6790\u6211\u5f53\u524d\u7406\u8d22\u6536\u76ca\u6bd4\u8f83\u4f4e\uff0c\u8c03\u6574\u4e0b\u7406\u8d22\u8ba1\u5212</p> <p>\u7b49\u5f85\u4e00\u4e2a\u5927\u8dcc\u7684\u673a\u4f1a\uff0c\u9022\u8dcc\u624b\u52a8\u7ffb\u500d\u4e70\u5165</p> <p>\u7b49\u7eb3\u6307\u66b4\u8dcc\u7684\u65f6\u5019\uff0c\u5b9a\u6295\u5230300-500/\u5929\uff0c\u6807\u666e\u540c\u7406\uff0c\u4f46\u503c\u5f97\u5546\u69b7\u7684\u70b9\u5728\u4e8e\uff0c\u5927\u5bb6\u90fd\u5728\u6301\u5e01\u89c2\u671b\uff0c1. \u9022\u8dcc\u4e70\u5165 2. \u5927\u8dcc\u90fd\u6050\u60e7\u4e0d\u6562\u4e70\u3002\u56e0\u6b64\u76f4\u63a5\u5b9a\u6295\u6765\u7684\u8212\u670d\uff0c\u65e0\u60e7\u6ce2\u52a8</p> \u7c7b\u578b \u76f8\u5173\u6807\u7684 \u9884\u671f\u4ed3\u4f4d \u5f53\u524d\u60c5\u51b5 \u5b58\u6b3e \u671d\u671d\u5b9d\u3001\u5feb\u8d4e\u4ea7\u54c1 10% \u5b8c\u6210 \u56fa\u6536 R2\u7406\u8d22\u3001\u7f8e\u5143\u7406\u8d22 30% \u5b8c\u6210 \u503a\u57fa \u5229\u7387\u503a\u3001\u4fe1\u7528\u503a 10% \u5b9a\u6295300/\u5929 A\u80a1 \u4e2d\u8bc1500\u3001\u7ea2\u5229\u4f4e\u6ce2\u6307\u6570 10% \u5b9a\u6295500/\u5929 \u6e2f\u80a1 \u6052\u751f\u6307\u6570\u3001\u6052\u79d1\u6307\u6570\u3001\u7ea2\u5229\u6307\u6570 10% \u5b9a\u6295500/\u5929 \u7f8e\u80a1 \u7eb3\u6307\u3001\u6807\u666e 20% \u5b9a\u62951000/\u5929 \u5927\u5b97\u5546\u54c1 \u9ec4\u91d1 10% \u9022\u4f4e\u4e70\u5165 <p>\u540e\u7eed\u6708\u5ea6\u6574\u7406\u8d44\u91d1\u5206\u5e03\u60c5\u51b5\uff0c\u5b9e\u73b0\u6574\u4f53\u6536\u76ca\u7387\u6d4b\u7b97\uff0c\u52a8\u6001\u8c03\u6574\u4ed3\u4f4d\u5360\u6bd4</p>"},{"location":"enjoy/finance/investment_practice/#202506","title":"2025.06","text":"<ul> <li>2025.05.24 \u5f00\u59cb\u5b9a\u6295\u5b9e\u8df5</li> <li>2025.06.09 \u7eb3\u6307\u8c03\u6574\u4e3a300/\u5929\uff0c\u5f53\u524d\u5b9a\u6295\u5360\u6bd4\uff08\u7eb3\u6307-300/day\u3001\u6807\u666e-100/day\u3001\u9ec4\u91d1-100/day\uff09</li> </ul>"},{"location":"enjoy/finance/investment_practice/#_13","title":"\u9644\u5f55","text":"<ul> <li>\u5bf9\u6295\u8d44\u7684\u4e00\u4e9b\u601d\u8003</li> <li>\u300a\u7a77\u7238\u7238\uff0c\u5bcc\u7238\u7238\u300b</li> <li>\u300a\u5c0f\u72d7\u94b1\u94b1\u300b</li> <li>\u300a\u7a00\u7f3a\uff1a\u6211\u4eec\u662f\u5982\u4f55\u9677\u5165\u8d2b\u7a77\u4e0e\u5fd9\u788c\u7684\u300b </li> <li>\u300a\u65f6\u52bf\uff1a\u5468\u671f\u6ce2\u52a8\u4e0b\u7684\u56fd\u5bb6\u3001\u793e\u4f1a\u548c\u4e2a\u4eba\u300b</li> <li>\u300a\u5b9a\u6295\u6539\u53d8\u547d\u8fd0\u300b</li> <li>\u300a\u97ed\u83dc\u7684\u81ea\u6211\u4fee\u517b\u300b</li> <li>\u300a\u8d22\u5bcc\u81ea\u7531\u4e4b\u8def\u300b</li> <li>\u300a\u8d27\u5e01\u672a\u6765\u300b</li> <li>\u300a\u91d1\u94b1\u5fc3\u7406\u5b66\u300b</li> </ul>"},{"location":"enjoy/finance/stable_coin/","title":"\u7a33\u5b9a\u5e01","text":""},{"location":"enjoy/finance/stable_coin/#_2","title":"\u7a33\u5b9a\u5e01\u662f\u4ec0\u4e48\uff1f","text":"<p>\u7a33\u5b9a\u5e01\u662f\u4e00\u7c7b\u4e0e\u7279\u5b9a\u8d44\u4ea7\u6302\u94a9\u3001\u65e8\u5728\u4fdd\u6301\u5e01\u503c\u76f8\u5bf9\u7a33\u5b9a\u7684\u52a0\u5bc6\u6570\u5b57\u8d27\u5e01</p> <ol> <li>\u6570\u5b57\u6280\u672f\u63d0\u5347\u652f\u4ed8\u7ed3\u7b97\u6548\u7387\uff0c\u4f46\u6ca1\u6709\u53bb\u4e2d\u5fc3\u5316</li> <li>\u4ece\u6301\u6709\u4eba\u89d2\u5ea6\u770b\uff0c\u7a33\u5b9a\u5e01\u662f\u79c1\u4eba\u8d27\u5e01\uff0c\u4e0d\u662f\u653f\u5e9c\u8d27\u5e01</li> <li>\u4ece\u53d1\u884c\u4eba\u89d2\u5ea6\u770b\uff0c\u7a33\u5b9a\u5e01\u6a21\u5f0f\u7c7b\u4f3c\u201c\u72ed\u4e49\u94f6\u884c\u201d\uff0c\u4e0d\u4ec5\u662f\u8d1f\u503a</li> <li>\u4eba\u6c11\u5e01\u5df2\u7ecf\u6709\u201c\u7a33\u5b9a\u5e01\u201d\uff1a\u5fae\u4fe1\u652f\u4ed8\u3001\u652f\u4ed8\u5b9d</li> </ol>"},{"location":"enjoy/finance/stable_coin/#_3","title":"\u7a33\u5b9a\u5e01\u4f5c\u4e3a\u652f\u4ed8\u5de5\u5177\uff0c\u80fd\u964d\u4f4e\u4ec0\u4e48\u6210\u672c\uff0c\u4e0d\u80fd\u964d\u4f4e\u4ec0\u4e48\u6210\u672c\uff1f","text":"<ol> <li>\u5728\u540c\u4e00\u8d27\u5e01\u533a\u5185\uff0c\u4ece\u652f\u4ed8\u7684\u4fbf\u6377\u7a0b\u5ea6\u548c\u5b89\u5168\u6027\u6765\u770b\uff0c\u7a33\u5b9a\u5e01\u5e76\u4e0d\u6bd4\u73b0\u6709\u7684\u7b2c\u4e09\u65b9\u652f\u4ed8\u4f53\u7cfb\u66f4\u5177\u4f18\u52bf\u3002\u7a33\u5b9a\u5e01\u964d\u4f4e\u4ea4\u6613\u6210\u672c\u7684\u6f5c\u529b\u4e3b\u8981\u5728\u8de8\u5883\u652f\u4ed8\u4e0a\u3002</li> <li>\u7a33\u5b9a\u5e01\u7684\u5f00\u653e\u7a0b\u5ea6\u548c\u57fa\u7840\u8bbe\u65bd\u67b6\u6784\u4f7f\u5176\u66f4\u6709\u53ef\u80fd\u5f62\u6210\u7ade\u4e89\u6027\u8f83\u5f3a\u7684\u5e02\u573a\u683c\u5c40\uff0c\u5e76\u7ed5\u5f00\u73b0\u6709\u652f\u4ed8\u7cfb\u7edf\uff0c\u5b9e\u73b0\u4f4e\u6210\u672c\u7684\u8de8\u5883\u652f\u4ed8</li> </ol>"},{"location":"enjoy/finance/stable_coin/#_4","title":"\u7a33\u5b9a\u5e01\u4f9b\u7ed9\u5f39\u6027\u5927\uff0c\u5176\u6d41\u901a\u91cf\u4e3b\u8981\u7531\u9700\u6c42\u51b3\u5b9a","text":"<p>\u4ece\u7a33\u5b9a\u5e01\u7684\u4f9b\u7ed9\u6765\u770b\uff0c\u53d1\u884c\u673a\u6784\u7684\u6536\u76ca\u6765\u81ea\u8d44\u4ea7\u548c\u8d1f\u503a\u7aef\u7684\u5229\u5dee\u3002\u7a33\u5b9a\u5e01\u53d1\u884c\u673a\u6784\u5728\u8d1f\u503a\u7aef\u652f\u4ed8\u96f6\u5229\u606f\uff0c\u800c\u5728\u8d44\u4ea7\u7aef\u6301\u6709\u7684\u56fd\u503a\u3001\u94f6\u884c\u5b58\u6b3e\u7b49\u5b89\u5168\u8d44\u4ea7\u5219\u751f\u606f</p> <p>\u4ec0\u4e48\u573a\u666f\u53ef\u80fd\u4f1a\u7528\u7a33\u5b9a\u5e01\uff1f</p> <ol> <li>\u7f8e\u5143\u4f5c\u4e3a\u56fd\u9645\u8d27\u5e01\u63d0\u4f9b\u4e86\u6d41\u52a8\u6027/\u5b89\u5168\u8d44\u4ea7\uff0c\u5c24\u5176\u662f\u5bf9\u4e8e\u9ad8\u901a\u80c0\u6216\u8005\u672c\u5e01\u6301\u7eed\u8d2c\u503c\u7684\u7ecf\u6d4e\u4f53\uff0c\u7f8e\u5143\u6709\u66ff\u4ee3\u672c\u5e01\u7684\u4f5c\u7528\u3002\u6709\u8c03\u7814\u53d1\u73b0\u571f\u8033\u5176\u3001\u963f\u6839\u5ef7\u3001\u5370\u5c3c\u3001\u5370\u5ea6\u7b49\u53d1\u5c55\u4e2d\u56fd\u5bb6\u6301\u6709\u7a33\u5b9a\u5e01\u7684\u610f\u613f\u6709\u6240\u63d0\u5347</li> <li>\u5728\u4f20\u7edf\u8de8\u5883\u8d38\u6613\u652f\u4ed8\u9886\u57df\u3002\u4f20\u7edf\u8de8\u5883\u652f\u4ed8\u957f\u671f\u53d7\u56f0\u4e8e\u9ad8\u6210\u672c\u3001\u4f4e\u6548\u7387\uff0c\u4e3b\u8981\u6e90\u4e8e\u9ad8\u5ea6\u4e2d\u5fc3\u5316\u57fa\u7840\u8bbe\u65bd\u9020\u6210\u5784\u65ad\u3001\u6d41\u7a0b\u590d\u6742\u5197\u957f\u3001\u5408\u89c4\u6210\u672c\u5c42\u5c42\u8f6c\u5ac1\u7b49\u56e0\u7d20\u3002\u5728\u6b64\u80cc\u666f\u4e0b\uff0c\u7a33\u5b9a\u5e01\u63d0\u4f9b\u4e86\u4e00\u79cd\u7ed5\u5f00\u6216\u7b80\u5316\u4f20\u7edf\u5c42\u7ea7\u7ed3\u6784\u7684\u66ff\u4ee3\u65b9\u6848\uff0c\u5229\u7528\u6570\u5b57\u5316\u624b\u6bb5\u5b9e\u73b0\u66f4\u76f4\u63a5\u7684\u8de8\u5883\u652f\u4ed8\uff0c\u4ece\u800c\u6253\u7834\u65e2\u6709\u683c\u5c40\u3001\u964d\u4f4e\u4ea4\u6613\u8d39\u7528\u3002</li> <li>\u548c\u52a0\u5bc6\u8d44\u4ea7\u4ea4\u6613\u6709\u5173\uff0c\u8fc7\u53bb\u51e0\u5e74\u6bd4\u7279\u5e01\u7b49\u52a0\u5bc6\u8d44\u4ea7\u7684\u4ef7\u683c\u5927\u5e45\u4e0a\u5347\u4e14\u6ce2\u52a8\u7387\u9ad8\uff0c\u589e\u52a0\u4e86\u5bf9\u7f8e\u5143\u7a33\u5b9a\u5e01\u7528\u4e8e\u52a0\u5bc6\u8d44\u4ea7\u4ea4\u6613\u7684\u5907\u4ed8\u91d1\u9700\u6c42\u3002\u7a33\u5b9a\u5e01\u65e2\u662f\u52a0\u5bc6\u8d44\u4ea7\u4ea4\u6613\u7684\u4e3b\u8981\u4e2d\u4ecb\uff0c\u4e5f\u662f\u6bd4\u7279\u5e01\u7b49\u4e3b\u8981\u52a0\u5bc6\u8d44\u4ea7\u4ef7\u683c\u6ce2\u52a8\u65f6\u671f\u7684\u7406\u60f3\u907f\u98ce\u6e2f</li> <li>\u5730\u4e0b\u7ecf\u6d4e\u6d3b\u52a8\u3001\u76d1\u7ba1\u5957\u5229\u3001\u89c4\u907f\u91d1\u878d\u5236\u88c1\u76f8\u5173\u7684\u4ea4\u6613\u9700\u6c42\u3002</li> </ol>"},{"location":"enjoy/finance/stable_coin/#_5","title":"\u672a\u6765\u53d1\u5c55\u6f5c\u529b\uff1a\u7a33\u5b9a\u5e01\u7684\u80fd\u4e0e\u4e0d\u80fd","text":"<ul> <li>\u5341\u591a\u5e74\u524d\uff0c\u4e0d\u5c11\u4eba\u8ba4\u4e3a\u6bd4\u7279\u5e01\u662f\u6570\u5b57\u8d27\u5e01\uff08\u52a0\u5bc6\u8d27\u5e01\uff09\uff0c\u53ef\u4ee5\u66ff\u4ee3\u7f8e\u5143\uff0c\u662f\u672a\u6765\u53bb\u4e2d\u5fc3\u5316\u91d1\u878d\u7684\u8d27\u5e01\u57fa\u7840\u3002</li> <li> <p>\u73b0\u5728\u5e94\u8be5\u5f88\u5c11\u4eba\u6301\u6709\u8fd9\u6837\u7684\u89c2\u70b9\uff0c\u65b0\u7684\u53d9\u4e8b\u662f\u6bd4\u7279\u5e01\u662f\u50a8\u5907\u8d44\u4ea7\uff0c\u662f\u6570\u5b57\u9ec4\u91d1\uff0c\u53ef\u4ee5\u652f\u6301\u4ee5\u6cd5\u5b9a\u8d27\u5e01\uff08\u7f8e\u5143\uff09\u4e3a\u4e2d\u5fc3\u7684\u8d27\u5e01\u4f53\u7cfb\u3002</p> </li> <li> <p>\u7f8e\u5143\u7a33\u5b9a\u5e01\u589e\u957f\u6f5c\u529b\u9996\u5148\u5f97\u76ca\u4e8e\u7f8e\u5143\u56fd\u9645\u8d27\u5e01\u5730\u4f4d</p> </li> <li>\u7f8e\u5143\u7a33\u5b9a\u5e01\u53ef\u4ee5\u53cd\u8fc7\u6765\u4fc3\u8fdb\u7f8e\u5143\u5316</li> </ul>"},{"location":"enjoy/finance/thoughts/","title":"Thoughts","text":"<p>\u6295\u8d44\u51ed\u771f\u672c\u4e8b\uff08\u77e5\u8bc6\u3001\u8ba4\u77e5\u3001\u7ecf\u9a8c\uff09\u7ad9\u7740\u8d5a\u94b1\uff1a \u5728\u80a1\u5e02\u91cc\uff0c\u60f3\u6301\u7eed\u76c8\u5229\uff0c\u9760\u5173\u7cfb\uff1f\u9760\u7239\u5988\uff1f\u9760\u94bb\u6cd5\u5f8b\u7a7a\u5b50\uff1f\uff08\u77ed\u671f\u53ef\u80fd\u6709\uff0c\u4f46\u957f\u671f\uff1f\u4ee3\u4ef7\u5de8\u5927\uff09\u3002\u6700\u7ec8\uff0c\u6700\u6838\u5fc3\u7684\u7ade\u4e89\u529b\uff0c\u5c31\u662f\u4f60\u7684\u77e5\u8bc6\u50a8\u5907\u3001\u8ba4\u77e5\u6df1\u5ea6\u3001\u5e02\u573a\u7406\u89e3\u529b\u3001\u60c5\u7eea\u63a7\u5236\u529b\u548c\u7ecf\u8fc7\u5b9e\u8df5\u68c0\u9a8c\u7684\u4ea4\u6613/\u6295\u8d44\u4f53\u7cfb\u3002 </p> <p>\u4f60\u7814\u7a76\u516c\u53f8\u3001\u7406\u89e3\u884c\u4e1a\u3001\u6d1e\u5bdf\u4eba\u6027\u3001\u7ba1\u7406\u98ce\u9669\u3002\u6bcf\u4e00\u5206\u76c8\u5229\uff08\u5982\u679c\u80fd\u6301\u7eed\uff09\uff0c\u90fd\u662f\u4f60\u8ba4\u77e5\u7684\u53d8\u73b0\u3002\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u662f\u7eaf\u7cb9\u7684\u667a\u529b\u4e0e\u5fc3\u6027\u7684\u8f83\u91cf\uff0c\u5e72\u51c0\u3001\u76f4\u63a5\u3001\u7ad9\u7740\u628a\u94b1\u6323\u4e86\u3002 \u4e0d\u7528\u5351\u8eac\u5c48\u819d\uff0c\u4e0d\u7528\u8fdd\u80cc\u672c\u5fc3\uff08\u5f53\u7136\uff0c\u524d\u63d0\u662f\u4f60\u575a\u5b88\u6b63\u9053\uff09\u3002</p> <p>\u590d\u5229\u6548\u5e94\uff1a\u6295\u8d44\u7684\u6838\u6b66\u5668\uff01 \u8fd9\u662f\u6295\u8d44\u533a\u522b\u4e8e\u7edd\u5927\u591a\u6570\u201c\u5356\u65f6\u95f4\u201d\u5de5\u4f5c\u7684\u6700\u6838\u5fc3\u4f18\u52bf\uff01\u4f60\u7684\u76c8\u5229\u53ef\u4ee5\u6210\u4e3a\u65b0\u7684\u672c\u91d1\uff0c\u5229\u6eda\u5229\uff0c\u65f6\u95f4\u662f\u4f60\u7684\u670b\u53cb\u3002\u201c\u8d8a\u6765\u8d8a\u6709\u94b1\u201d\u4e0d\u662f\u5e7b\u60f3\uff0c\u800c\u662f\u6570\u5b66\u89c4\u5f8b\u3002 \u4e00\u4efd\u666e\u901a\u5de5\u4f5c\uff0c\u6536\u5165\u7ebf\u6027\u589e\u957f\uff08\u751a\u81f3\u53ef\u80fd\u505c\u6ede\uff09\uff1b\u4e00\u7b14\u6210\u529f\u7684\u6295\u8d44\uff0c\u6536\u76ca\u662f\u6307\u6570\u589e\u957f\u7684\u6f5c\u529b\u3002\u4e2d\u5e74\u5f00\u59cb\u53c8\u5982\u4f55\uff1f\u590d\u5229\u4ece\u4e0d\u6b67\u89c6\u8d77\u6b65\u65f6\u95f4\uff0c\u53ea\u5728\u4e4e\u6301\u7eed\u7684\u6b63\u786e\u3002</p> <p>\u4f60\u7092\u80a1\u4e8f\u4e86\u94b1\uff0c\u522b\u4eba\u5c31\u8bf4\u4f60\u201c\u8d4c\u201d\uff1b \u4f60\u521b\u4e1a\u6ca1\u8d77\u8272\uff0c\u4eb2\u621a\u5c31\u5f00\u59cb\u529d\u4f60\u201c\u522b\u6298\u817e\u201d\uff1b \u4f60\u8bd5\u56fe\u6253\u7834\u8def\u5f84\uff0c\u793e\u4f1a\u5c31\u5f00\u59cb\u7528\u201c\u7b11\u8d2b\u4e0d\u7b11\u5a3c\u201d\u7684\u903b\u8f91\u529d\u4f60\u56de\u7b3c\u3002 \u4f60\u8bf4\u7092\u80a1\u5341\u8d4c\u4e5d\u8f93\uff0c\u6211\u60f3\u8bf4\uff0c\u5728\u4e2d\u56fd\uff0c\u51e0\u4e4e\u4ec0\u4e48\u503c\u5f97\u505a\u7684\u4e8b\uff0c\u5931\u8d25\u7387\u90fd\u8d85\u8fc790%\u3002 \u9ad8\u8003\uff0c\u6bcf\u5e74\u67091000\u591a\u4e07\u8003\u751f\uff0c\u80fd\u4e0a985\u7684\u4e0d\u52303%\uff0c\u5269\u4e0b\u7684\u5462\uff1f\u7167\u6837\u88ab\u8bf4\u201c\u6ca1\u8003\u4e0a\u6d3b\u8be5\u201d\uff1b \u8003\u516c\u52a1\u5458\uff0c\u51e0\u5341\u4e07\u4eba\u62a2\u51e0\u5343\u4e2a\u5751\uff0c\u70ed\u95e8\u5c97\u4f4d\u5343\u91cc\u6311\u4e00\uff0c\u4f60\u8003\u4e0d\u4e0a\u6ca1\u4eba\u8bf4\u5236\u5ea6\u4e0d\u5408\u7406\uff0c\u53cd\u800c\u4f1a\u8bf4\u4f60\u201c\u6ca1\u51c6\u5907\u597d\u201d\uff1b \u8003\u7814\uff0c\u4e0a\u5cb8\u7387\u4e0d\u8db315%\uff0c\u8003\u51e0\u5e74\u90fd\u6ca1\u620f\u7684\u5927\u6709\u4eba\u5728\uff1b \u521b\u4e1a\uff0c\u4e94\u5e74\u5185\u5012\u95ed\u738790%+\uff0c\u4f46\u4e00\u63d0\u8d77\u521b\u4e1a\u8005\uff0c\u5927\u5bb6\u90fd\u80fd\u7406\u89e3\u4f60\u201c\u4e3a\u4e86\u68a6\u60f3\u640f\u4e00\u628a\u201d\uff1b \u8fde\u627e\u5de5\u4f5c\u90fd\u4e00\u6837\uff0c\u5f88\u591a\u5c97\u4f4d\u7b80\u5386\u4e00\u6295\u51e0\u767e\u4efd\uff0c\u4e00\u4e2a\u4e0d\u56de\u4f60\u90fd\u4e0d\u7a00\u5947\u3002 \u4f60\u770b\u770b\u8fd9\u4e9b\u4f8b\u5b50\uff0c\u662f\u4e0d\u662f\u5931\u8d25\u7387\u90fd\u6bd4\u7092\u80a1\u8fd8\u9ad8\uff1f\u4f46\u4e3a\u4ec0\u4e48\u53ea\u6709\u7092\u80a1\u4e00\u4e8f\u94b1\u5c31\u88ab\u9a82\u6210\u201c\u8d4c\u5f92\u201d\uff1f\u4f46\u771f\u76f8\u662f\uff1a\u4e0d\u7092\u80a1\u4f60\u4e5f\u5728\u8d4c\u3002\u8d4c\u8001\u677f\u4e0d\u88c1\u4f60\uff0c\u8d4c\u8eab\u4f53\u4e0d\u57ae\uff0c\u8d4c\u623f\u8d37\u80fd\u8fd8\u4e0a\u3002\u5f00\u5e97\u8d4c\u4eba\u6d41\uff0c\u5de5\u5382\u8d4c\u8ba2\u5355\uff0c\u521b\u4e1a\u8d4c\u878d\u8d44\uff0c\u4e00\u573a\u75ab\u60c5\u3001\u4e00\u8f6e\u653f\u7b56\u3001\u4e00\u4e2a\u5e73\u53f0\u6539\u7b97\u6cd5\uff0c\u5c31\u80fd\u628a\u4f60\u6253\u56de\u89e3\u653e\u524d\uff1b\u751a\u81f3\u8fde\u201c\u7a33\u5b9a\u5de5\u4f5c\u201d\u4e5f\u4e0d\u662f\u62a4\u8eab\u7b26\uff0c\u4eca\u5929\u8d22\u653f\u7d27\u5f20\uff0c\u660e\u5929\u4e8b\u4e1a\u7f16\u90fd\u80fd\u780d\u4e00\u5200\u3002\u54ea\u4e00\u884c\u4e0d\u662f\u8840\u672c\u535a\u672a\u6765 \u56e0\u4e3a\u4e8c\u516b\u5b9a\u5f8b\u65e9\u5c31\u5199\u6b7b\u4e86\u2014\u2014 20%\u7684\u4eba\u638c\u63e180%\u7684\u8d22\u5bcc\uff0c\u638c\u63e1\u4e3b\u52a8\u6743\u3001\u4fe1\u606f\u3001\u8ba4\u77e5\u548c\u8d44\u672c\u3002 \u5269\u4e0b\u7684\u4eba\uff0c\u8981\u4e48\u6392\u961f\uff0c\u8981\u4e48\u88ab\u69a8\u5e72\uff0c\u8981\u4e48\u7b49\u547d\u8fd0\u7ffb\u724c\u3002 \u4f60\u4e0d\u53bb\u8bd5\uff0c\u4f60\u6c38\u8fdc\u662f\u90a380%\u91cc\u7684\u8017\u6750\uff1b</p> <p>\u6253\u5de5\u4e0d\u4f1a\u8ba9\u4f60\u4e8f\uff0c\u4f46\u4f1a\u8ba9\u4f60\u7a77\u5f97\u5f88\u7a33\u5b9a\uff1b \u505a\u751f\u610f\u4f1a\u8ba9\u4f60\u640f\u4e00\u628a\uff0c\u4f46\u53ef\u80fd\u8840\u672c\u65e0\u5f52\uff1b \u4f46\u4f60\u8981\u660e\u767d\uff0c\u5728\u8fd9\u4e2a\u793e\u4f1a\u91cc\uff0c\u60f3\u8981\u4e0a\u5347\u7684\u8def\u5f84\uff0c\u5168\u90fd\u662f\u5e26\u8840\u7684\u72ec\u6728\u6865\u3002 \u4f60\u4e00\u65e6\u51b3\u5b9a\u8981\u8131\u79bb\u7a33\u5b9a\u533a\uff0c\u4e0d\u7ba1\u662f\u7092\u80a1\u3001\u521b\u4e1a\u3001\u8003\u7814\u3001\u5f53\u535a\u4e3b\u3001\u641e\u526f\u4e1a\uff0c\u90a390%\u7684\u5931\u8d25\u7387\u5c31\u662f\u95e8\u69db\uff0c\u4e5f\u662f\u95e8\u7968\u3002</p>"},{"location":"enjoy/health/2023-12-ganmao/","title":"\u75c5\u6bd2\u6027\u611f\u5192","text":"<p>2023.12 \u4e0a\u65ec\uff0c\u7ecf\u5386\u4e86\u6bd4\u8f83\u96be\u53d7\u7684\u611f\u5192\uff0c\u7b80\u5355\u8bb0\u5f55\u4e0b</p>"},{"location":"enjoy/health/2023-12-ganmao/#_2","title":"\u7ecf\u5386","text":"<p>12.6</p> <ul> <li>\u65e9\u6668\u8d77\u6765\u5589\u5499\u8f7b\u5fae\u4e0d\u8212\u670d</li> <li>\u665a\u4e0a\u6709\u4e9b\u5934\u6655\uff0c\u5230\u5bb6\u91cf\u4f53\u6e29\u6709\u70b9\u513f\u53d1\u70e7\uff0c\u559d\u4e86\u7247\u611f\u5eb7\u7761\u89c9</li> </ul> <p>12.7</p> <ul> <li>\u65e9\u6668\u4f53\u6e2938.2\uff0c\u8fd8\u4f34\u968f\u5934\u6655\u548c\u773c\u775b\u75bc</li> <li>\u4e0b\u5348\u53bb\u533b\u9662\uff0c\u54bd\u62ed\u5b50\uff1a\u6ca1\u6709\u7532/\u4e59\u6d41\uff1b\u8840\u6db2\u68c0\u67e5\uff1a\u6dcb\u5df4\u7ec6\u80de\u8f83\u5c11\uff1b\u533b\u751f\u7ed3\u8bba\u662f \u75c5\u6bd2\u6027\u611f\u5192\uff0c\u56e0\u4e3a\u611f\u89c9\u5403\u611f\u5eb7\u6ca1\u6709\u9000\u70e7\uff0c\u6700\u540e\u62ff\u7684\u836f\u6709\u5bf9\u4e59\u9170\u6c28\u57fa\u915a\u7f13\u91ca\u7247\uff0c\u91d1\u82b1\u6e05\u611f\u9897\u7c92\uff0c\u6025\u652f\u7cd6\u6d46</li> </ul> <p>12.8</p> <ul> <li>\u65e9\u6668 6\u70b9\u4f53\u6e2938.3\uff0c9\u70b9\u4f53\u6e2937.6</li> <li>\u4e2d\u5348 1\u70b9\u4f53\u6e2938.8</li> </ul> <p>12.9 </p> <ul> <li>\u65e9\u6668 5\u70b9\u4f53\u6e2937</li> <li>\u4e2d\u4e0b\u5348\uff0c\u4f53\u6e29\uff1a37\u5ea6\u4e0a\u4e0b\u6d6e\u52a80.3\u5ea6</li> <li>\u665a\u4e0a\u6d41\u9f3b\u6d95\uff0c\u55d3\u5b50\u4e5f\u4e0d\u8212\u670d\uff0c\u5f88\u96be\u5165\u7761\uff0c\u6298\u817e\u52303\u70b9\u591a\u624d\u7761</li> </ul> <p>12.10</p> <ul> <li>\u4f53\u6e29\u572836.8\u523037\u5de6\u53f3\u6d6e\u52a8</li> <li>\u6253\u6e38\u620f\uff0c\u611f\u89c9\u5fc3\u8df3\u6709\u70b9\u513f\u4e0d\u6b63\u5e38\uff0c\u4f46\u8fd8\u597d</li> <li>\u57fa\u672c\u4e0a\u70e7\u5df2\u7ecf\u9000\u4e86\uff0c\u8fd8\u5728\u54b3\u55fd\uff0c\u6162\u6162\u559d\u6c34\u5403\u836f\u6062\u590d\u5427</li> </ul>"},{"location":"enjoy/sport/bike/2023/","title":"\u9a91\u884c","text":""},{"location":"enjoy/sport/bike/2023/#_2","title":"\u521d\u6b21\u5c1d\u8bd5","text":"<p>2023.08\uff0c\u5230\u897f\u4e09\u73af\u90a3\u91cc\u65b9\u5411\u611f\u9519\u4e71\u4e86\uff0c\u5f80\u4e94\u68f5\u677e\u591a\u9a91\u4e86\u4e9b..</p> <p>\u6700\u540e10\u516c\u91cc\u662f\u786c\u6491\u7740\u9a91\u56de\u6765\u7684</p> <p></p>"},{"location":"enjoy/sport/bike/2023/#202310","title":"2023.10 \u6e10\u5165\u4f73\u5883","text":"<p>\u672c\u6765\u60f3\u7ed8\u5236\u4e2a\u6b63\u65b9\u5f62\u7684\uff0c\u5230\u5317\u4eac\u897f\u7ad9\u90a3\u513f\u6ca1\u770b\u5bfc\u822a\uff0c\u56fe\u6ca1\u753b\u597d</p> <p>\uff08\u4e4b\u524d\u90fd\u662f\u5403\u5b8c\u996d\u518d\u53bb\u9a91\u884c\u7684\uff0c\u8fd9\u6b21\u6ca1\u5403\uff0c\u9a91\u5230\u5357\u4e09\u73af/\u897f\u4e09\u73af\u4ea4\u63a5\u5c31\u997f\u4e86..</p> <p></p>"},{"location":"enjoy/sport/bike/2024/","title":"\u9a91\u884c","text":""},{"location":"enjoy/sport/bike/2024/#202406","title":"2024.06","text":""},{"location":"enjoy/sport/bike/2024/#_2","title":"\u5927\u997c\u7b2c\u4e00\u8f86\u5c71\u5730\u8f66","text":"<p>\u9274\u4e8e\u540c\u4e8b\u9001\u7684\u81ea\u884c\u8f66\u5239\u8f66\u4e0d\u592a\u884c\u4e86\uff0c\u4e0d\u80fd\u7ed5\u80fd\uff0c\u89c2\u671b\u4e86\u51e0\u5929\u4e86\u540e\uff0c\u4e8e2024.06.01\u5728\u54b8\u9c7c\u82b11900\u4e0a\u6dd8\u4e86\u8f86 <code>Giant Atx 830</code>\uff0c\u662f\u4ece\u5317\u90ae\u7684\u6bd5\u4e1a\u751f\u624b\u91cc\u6dd8\u7684\uff0c\u8f66\u5b50\u770b\u8d77\u6765\u633a\u65b0\uff0c\u6700\u5f00\u59cb\u4e0d\u662f\u5f88\u559c\u6b22\u914d\u8272\uff0c\u540e\u9762\u6e10\u6e10\u559c\u6b22\u4e0a\u4e86</p> <p></p>"},{"location":"enjoy/sport/bike/2024/#_3","title":"\u4e09\u73af\u9a91\u884c","text":"<p>06.01 \u7b2c\u4e00\u6b21\u63d0\u5b8c\u7231\u8f66\u9a91\u884c\u4e09\u73af\uff0c\u9a91\u5230\u897f\u4e09\u73af\u4e2d\u8def\u5df2\u7ecf\u7d2f\u7684\u4e0d\u884c\u4e86\uff0c\u5230\u5317\u4e09\u73af\u7684\u65f6\u5019\uff0c\u819d\u76d6\u5df2\u7ecf\u5de8\u75bc\u4e86\uff08\u641c\u4e86\u5c0f\u7ea2\u4e66\u624d\u77e5\u9053\uff0c\u8d77\u6b65\u7528\u4e86\u9ad8\u7684\u6863\u4f4d\uff0c\u8d77\u6b65\u5e94\u8be5\u7528\u5c0f\u6863\u4f4d</p> <p></p> <p>06.15 \u7b2c\u4e8c\u6b21\u9a91\u884c\u4e09\u73af\uff0c\u660e\u663e\u6bd4\u7b2c\u4e00\u6b21\u597d\u591a\u4e86</p> <p></p> <p></p>"},{"location":"enjoy/sport/bike/2024/#_4","title":"\u9996\u94a2\u5927\u6865","text":"<p>6.30 \u5c0f\u7ea2\u4e66\u6709\u4f4d\u722c\u5c71/\u9a91\u8f66\u7684\u5973\u5b69\u8ba1\u5212\u9a91\u8f66\u53bb\u9996\u94a2\uff0c\u95ee\u6211\u53bb\u4e0d\u95ee\uff0c\u6211\u793e\u6050\u554a\uff0c\u5c31\u6ca1\u56de\u590d\u53bb\uff0c\u4f46\u662f\u5468\u516d\u7684\u65f6\u5019\u6ca1\u4e8b\u5e72\uff0c\u5c31\u81ea\u5df1\u4e00\u4e2a\u4eba\u53bb\u4e86\u8d9f\u9996\u94a2\u5927\u6865\uff0c\u5357\u4e94\u73af\u90a3\u91cc\u6709\u70b9\u513f\u50cf\u8001\u5bb6\u7684\u611f\u89c9\uff0c\u6bd5\u7adf\u662f\u4e2a\u94a2\u5382\u9644\u8fd1</p> <p></p>"},{"location":"enjoy/sport/bike/2024/#202407","title":"2024.07","text":""},{"location":"enjoy/sport/bike/2024/#_5","title":"\u56db\u73af\u9a91\u884c","text":"<p>\u5468\u4e94\u665a\u4e0a\u770b\u5230\u5c0f\u7ea2\u4e66\u91cc\u9a91\u884c\u56db\u73af\u7684\u56fe\uff0c\u5927\u997c\u6309\u8010\u4e0d\u4f4f\u5411\u5f80\u7684\u5fc3\uff0c7.6\u5f00\u59cb\u4e86\u4e00\u4e2a\u4eba\u5355\u98de\u56db\u73af\u7684\u65c5\u7a0b\uff0c\u4ece\u4e0a\u534810\u70b9\u9a91\u5230\u4e0b\u53483\u70b9\uff0c\u80f3\u818a\u90fd\u6652\u9ed1\u7ea2\u4e86\uff0c\u4f46\u662f\u771f\u7684\u5f88\u723d\uff01</p> <p></p>"},{"location":"enjoy/sport/bike/2024/#202408","title":"2024.08","text":""},{"location":"enjoy/sport/bike/2024/#_6","title":"\u79ef\u8dec\u6b65\uff0c\u81f3\u5343\u91cc","text":"<p>\u5343\u91cc\u6210\u5c31\u8fbe\u6210\uff01</p> <p></p> <p>\u516b\u6708\u6bcf\u4e2a\u5468\u672b\u90fd\u4f1a\u9a91\u884c\u4e0b\u56db\u73af\uff0c\u901f\u5ea6\u4ece\u6700\u5f00\u59cb20\u63d0\u5347\u523023\u4e86\uff0c23\u7684\u901f\u5ea6\u8fd8\u662f\u633a\u4f24\u819d\u76d6\u7684\u3002</p> <p>\u8fc7\u7a0b\u4e2d\u67092\u4e2a\u5468\u672b\u9a91\u884c\u90fd\u6709\u96e8\uff0c\u8eb2\u5728\u6865\u4e0b\u907f\u4e86\u5f88\u4e45\u7684\u96e8\u3002</p> <p></p>"},{"location":"enjoy/taste/yue-cai/","title":"\u7ca4\u83dc","text":""},{"location":"enjoy/taste/yue-cai/#_2","title":"\u7ca4\u5c0f\u5e74\u00b7\u987a\u5fb7\u83dc","text":"<p>\u5317\u4eac\u77e5\u6625\u8def\u00b7\u5317\u822a\u5e97</p> \u7ca4\u5c0f\u5e74\u83dc\u54c1 - <p>\u83dc\u7cfb\u70b9\u8bc4</p> <ul> <li>\u987a\u5fb7\u635e\u9c7c\u76ae\uff1a\u5728\u878d\u79d1\u5de5\u533a\u5e38\u5403\u7684\u81ea\u52a9\u9910\u91cc\u9762\u4f1a\u9009\u9c7c\u76ae\uff0c\u4f46\u8fd9\u4e2a\u9c7c\u76ae\u53e3\u611f\u7a0d\u5fae\u8f6f\uff0c\u8fa3\u5473\u6bd4\u8f83\u8db3</li> <li>\u624b\u6253\u8c46\u8150\u716e\u4e1d\u74dc\uff1a\u6d53\u90c1\u7684\u6c64\u5939\u6742\u7740\u767d\u80e1\u6912\u5473\u513f\uff0c\u914d\u4e0a\u4e86\u9c7c\u8c46\u8150\uff0c\u8c46\u8150\u91cc\u9762\u8fd8\u6709\u8089</li> <li>\u767d\u5207\u9e21\uff1a\u6b63\u5e38\u7684\u9e21\u8089\uff0c\u8638\u6599\u662f\u300c\u59dc\u84c9\u300d\uff0c\u548c\u849c\u84c9\u4e00\u6837\u6574\u6210\u6cab\uff0c\u6750\u6599\u662f\u59dc</li> <li>\u556b\u556b\u5927\u80a0\uff1a\u5206\u91cf\u8f83\u5c11\uff0c\u53e3\u611f\u4e00\u822c\uff0c\u5927\u80a0\u505a\u6210\u4e86\u82b1\u7684\u5f62\u72b6\uff0c\u6574\u4e2a\u83dc\u662f\u849c\u5757\u548c\u59dc\u5757\u51b2\u91cf</li> </ul>"},{"location":"enjoy/travel/2023/2023-national/","title":"2023 \u56fd\u5e86\u8282","text":""},{"location":"enjoy/travel/2023/2023-national/#_1","title":"\u5317\u4eac","text":"<p>9.28 - 10.1 \u5317\u4eac\uff0c\u9a91\u884c\u666f\u5c71\u516c\u56ed\uff0c\u5357\u9523\u9f13\u5df7\uff0c\u9f13\u697c\uff0c\u4ec0\u5239\u6d77</p> <p>\u9a91\u884c\u5230\u666f\u5c71\u62cd\u7684\u6545\u5bab</p> <p></p>"},{"location":"enjoy/travel/2023/2023-national/#_2","title":"\u592a\u539f","text":"<p>10.1 - 10.2 \u592a\u539f\uff0c\u6f2b\u6b65\u949f\u697c\u8857\u4e0e\u67f3\u5df7\uff0c\u9a91\u884c\u6c7e\u6cb3\u3002\u7559\u604b\u7f8e\u5473\u5e73\u4ef7\u7684\u70e4\u8089\u4e0e\u7f8a\u8089\u706b\u9505\uff0c\u6709\u7740\u4eba\u95f4\u70df\u706b\u6c14\u7684\u7b3c\u5305</p> <p>\u521d\u6b21\u5230\u8fbe\u592a\u539f\u7ad9\uff0c\u6253\u8f66\u9047\u5230\u4e86\u4e00\u4e9b\u5c0f\u6ce2\u6298</p> <p></p> <p>\u665a\u4e0a\u9a91\u8f66\u770b\u6c7e\u6cb3\u7684\u98ce\u666f</p> <p></p> <p>\u4ee4\u4eba\u6000\u5ff5\u7684\u70e4\u8089</p> <p></p> <p>\u5973\u670b\u53cb\u7684\u7167\u7247</p> <p></p>"},{"location":"enjoy/travel/2023/2023-national/#_3","title":"\u77f3\u5bb6\u5e84","text":"<p>10.2-10.3 \u77f3\u5bb6\u5e84\uff0c\u521d\u6b21\u5c1d\u8bd5\u5171\u4eab\u7535\u52a8\u8f66\uff0c\u6709\u7740\u60ca\u9669\u4e0e\u4e89\u5435\u3002\u5fc3\u6ee1\u610f\u8db3\u4e0e\u5973\u53cb\u5171\u5c1d\u4e00\u987f\u6e58\u6c5f\u5c0f\u7092\u3002</p> <p>\u77f3\u5bb6\u5e84\u7ad9\u9644\u8fd1\u7684\u73af\u5883\u4e0d\u9519~\uff0c\u7ad9\u53f0\u9644\u8fd1\u4e0d\u80fd\u505c\u5171\u4eab\u5355\u8f66\u662f\u4e2a\u4e0d\u9519\u7684\u63aa\u65bd</p> <p> </p>"},{"location":"enjoy/travel/2023/2023-national/#_4","title":"\u6b66\u5b89","text":"<p>10.4 - 10.7 \u6b66\u5b89\uff0c\u966a\u4f34\u5bb6\u4eba\uff0c\u7ed9\u6f0f\u96e8\u7684\u5899\u4f53\u8865\u80f6\uff0c\u54c1\u8336\uff0c\u9a91\u884c\u8001\u5bb6\u3002</p> <p></p> <p></p>"},{"location":"enjoy/travel/2023/2023-national/#_5","title":"\u8bfb\u4e66","text":"<p>\u56eb\u56f5\u541e\u67a3\u8bfb\u4e86\u5f53\u5e74\u660e\u6708\u300a\u660e\u671d\u90a3\u4e9b\u4e8b\u513f\u300b\uff0c\u4f59\u79cb\u96e8\u300a\u6587\u5316\u82e6\u65c5\u300b\u3002</p> <p>\u4ece\u4e66\u7c4d\u4e2d\uff0c\u611f\u53d7\u5230\u4e86\uff0c\u65e0\u8bba\u60c5\u5f62\u4e50\u89c2\u6216\u4e25\u5cfb\uff0c\u8981\u575a\u6301\u6d3b\u4e0b\u53bb\uff0c\u5ea6\u8fc7\u5c5e\u4e8e\u81ea\u5df1\u77ed\u6682\u7684\u4e00\u751f~</p>"},{"location":"enjoy/travel/2023/2023-sjz/","title":"2023 \u77f3\u5bb6\u5e84","text":"<p>\u4e3b\u4eba\u516c\uff1a\u5927\u997c\u4e0e\u5973\u53cb</p> <p>\u80cc\u666f\uff1a\u5973\u53cb\u53cc\u4f11\uff0c\u5927\u997c\u60f3\u5ff5\u5973\u53cb\uff0c\u5973\u53cb\u8bf4\u53ef\u4ee5\u5468\u672b\u89c1\u4e0b\u9762</p>"},{"location":"enjoy/travel/2023/2023-sjz/#1118","title":"11.18 \u6e7e\u91cc\u5e99\u6b65\u884c\u8857","text":"<p>\u4e0a\u5348\u5927\u997c\u4ece\u5317\u4eac\u51fa\u53d1\u5230\u77f3\u5bb6\u5e84\uff0c10:21\u5230\u8fbe\u540e\uff0c\u6362\u4e58\u77f3\u5bb6\u5e84\u7684\u5730\u94c1</p> <pre><code>\u4ece\u77f3\u5bb6\u5e84\u7ad9\u897f\u53e3\u51fa\u6765\uff0c\u5730\u94c1\u5728\u77f3\u5bb6\u5e84\u7ad9\u4e1c\u53e3\uff0c\u901a\u8fc7\u8d1f\u4e8c\u5c42\u8fdb\u5165\n</code></pre> <p>\u5973\u53cb\u4ece\u66f2\u5468\u5230\u77f3\u5bb6\u5e84\uff0c\u7136\u540e\u53bb\u5efa\u534e\u5feb\u6377\u5bbe\u9986\u767b\u8bb0\u5165\u4f4f</p> <p>\u653e\u4e0b\u884c\u674e\u540e\uff0c\u53bb\u4e86\u8001\u5f20\u8bb0\u9c9c\u5207\u725b\u8089\uff0c\u6392\u5230\u7684\u53f7\u662f5\u53f7\uff0c\u7b49\u4e86\u4e00\u4e2a\u591a\u5c0f\u65f6\uff08\uff09\uff0c\u7ec8\u4e8e\u5403\u4e0a\u4e86\u8089\u8089</p> <pre><code>\u4ef7\u683c\u4e0d\u4fbf\u5b9c\uff0c\u6296\u97f3\u56e2\u4f19130 + \u706b\u9505\u5e95\u659928 + \u5c0f\u6599 5*2\n11:30\u6392\u7684\u961f\uff0c12:30\u624d\u8fdb\u53bb\u5403\n</code></pre> <p> </p> <p>\u5e94\u8be5\u662f\u5403\u4e86\u633a\u591a\u8089\uff0c\u540e\u9762\u89c9\u5f97\u817b\u6b6a\u4e86\uff0c\u9042\u7ed9\u5973\u53cb\u5265\u867e</p> <pre><code>\u6ca1\u6307\u7532\uff0c\u5265\u867e\u633a\u9ebb\u70e6\uff0c\u8fd8\u597d\u5973\u53cb\u6ca1\u5acc\u5f03\n</code></pre> <p></p> <p>\u5403\u5b8c\u5927\u6982\u662f\u5728\uff082:20\uff09\uff0c\u53c8\u8e6d\u4e86\u51b0\u6fc0\u51cc</p> <pre><code>\u5973\u53cb\u4e0d\u592a\u4f1a\u6316\u51b0\u6fc0\u51cc\n</code></pre> <p>\u5403\u5b8c\u540e\u56de\u5bbe\u9986\u4f11\u606f\u4e86\u4f1a\u513f\uff0c\u804a\u4e86\u804a\u5929\uff082\uff1a30 - 4:00\uff09</p> <p>\u901b\u6b65\u884c\u8857\u8857\uff0c\u5728\u6b65\u884c\u8857\u515c\u515c\u8f6c\u8f6c\u4e86\u4e00\u5708\uff0c\u671f\u95f4\u5927\u997c\u4e0a\u4e86\u8d9f\u5395\u6240\uff0c\u5973\u53cb\u6392\u961f\u5151\u5238 \u6caa\u4e0a\u963f\u59e8\uff1f</p> <pre><code>\u672c\u6765\u4ece\u89e3\u653e\u5e7f\u573a\u51c6\u5907\u53bb\u52d2\u6cf0\u7684\uff0c\u7136\u540e\u53d1\u73b0\u4e86\u300c\u6e7e\u91cc\u5e99\u6b65\u884c\u8857\u300d\n</code></pre> <p></p> <p>\u65e0\u610f\u95f4\u53d1\u73b0\u4e86\u65b0\u767e\u5546\u573a</p> <pre><code>\u4f53\u9a8c\u4e86\u6ce2\u53f8\u767b\u7684\u8863\u670d\uff0c\u559c\u6b22\u7684\u6781\u5bd2\u7cfb\u5217\u9ed1\u8272\u7684\u6ca1\u6709160\u5c3a\u7801\u7684\n\u5973\u53cb\u5c1d\u8bd5\u4e86\u4e0bAJ \u4e2d\u5e2e\u7684\u978b\uff08\u4ef7\u683c999\uff09\uff0c\u5c3a\u7801\u662f36.5\n</code></pre> <p></p> <p>\u5bfc\u822a\u56de\u5230\u4e86\u5bbe\u9986\uff0c\u7b80\u5355\u5403\u5b8c\u540e\u5c31\u4f11\u606f\u4e86</p> <pre><code>\u5927\u997c\u7b80\u5355\u5de5\u4f5c\u4e86\u4f1a\u513f\uff0c\u6d17\u4e86\u4e2a\u6fa1\uff0c\u53bb\u4e0b\u9762\u4e70\u4e86\u997c\u5377\u8089\u548c\u6c34\n</code></pre>"},{"location":"enjoy/travel/2023/2023-sjz/#1119","title":"11.19 \u5317\u56fd\u5546\u573a\u548c\u52d2\u6cf0","text":"<p>\u4e0a\u5348\u5973\u53cb\u6d17\u6fa1\uff0c\u4e70\u4e86\u5305\u5b50\u548c\u997c\u5377\u8089</p> <pre><code>\u5973\u53cb\u7231\u5403\u9178\u8c46\u89d2\u7684\u5305\u5b50\n\u5927\u997c\u7231\u5403\u997c\u5377\u8089\n</code></pre> <p>\u78e8\u8e6d\u78e8\u8e6d\u627e\u6c11\u5bbf\uff0c\u6c11\u5bbf\u540d\u79f0 \u300c\u77f3\u5bb6\u5e84\u84dd\u68a6\u9a7f\u7ad9\u300d\uff08\u7f8e\u56e2\u540d\u79f0\uff09\u3002</p> <pre><code>\u5973\u53cb18\u53f7\u665a\u4e0a\u770b\u5230\u4e00\u4e2a\u5bbe\u9986\u4ef7\u683c66\uff0c\u4f4619\u53f7\u4ef7\u683c71\uff0c\u4e13\u95e8\u6253\u7535\u8bdd\u54a8\u8be2\uff0c\u5bf9\u65b9\u8bf4\u4e0d\u80fd\u4fbf\u5b9c\u4e86\n\n\u7ea0\u7ed3\u4e00\u9635\u540e\u9000\u623f\u524d\u5f80\n\n11.26 \u9694\u4e86\u4e00\u5468\uff0c\u5973\u670b\u53cb\u8bf4\u4f4f\u5bbf\u53ea\u898163\u4e86\uff0c\u4f46\u5bf9\u6211\u6765\u8bf4\u6027\u4ef7\u6bd4\u4e5f\u5f88\u9ad8\u4e86\n</code></pre> <p></p> <p>\u6c11\u5bbf\u73af\u5883\u4e0d\u9519\uff0c\u4e0b\u9762\u5c31\u662f\u6e7e\u91cc\u5e99\u6b65\u884c\u8857</p> <pre><code>\u6628\u665a\u521a\u597d\u5728\u8fd9\u9644\u8fd1\u4e0a\u4e86\u516c\u5171\u5395\u6240\n</code></pre> <p>\u5728\u6b65\u884c\u8857\u5403\u4e86 \u9e21\u516c\u7172</p> <pre><code>\u5e97\u5458\u6001\u5ea6\u4e0d\u597d\uff0c\u5973\u53cb\u4e0d\u77e5\u9053\u8fa3\u5ea6\u591a\u9ad8\uff0c\u5e97\u5458\u8bf4\u4f60\u770b\u83dc\u5355\u6709 \u5fae\u8fa3\uff0c\u4e2d\u8fa3...\n</code></pre> <p></p> <p>\u5750\u5730\u94c1\u53bb\u5317\u56fd\u5546\u573a</p> <pre><code>\u4e70\u5730\u94c1\u7968\u7684\u65f6\u5019\uff0c\u5927\u997c\u624b\u673a\u4fe1\u53f7\u4e0d\u597d\uff0c\u6700\u540e\u662f\u5973\u53cb\u4e70\u7684\u5730\u94c1\u7968\n</code></pre> <p>\u5317\u56fd\u5546\u573a\u4ef7\u683c\u90fd\u8fd8\u662f\u633a\u8d35\u7684\uff0c\u8863\u670d\u90fd\u662f\u5343\u5f00\u5934...</p> <pre><code>\u8bd5\u7a7f\u4e86\u4e0b\u8010\u514b\u7684\u978b\u5b50\uff0c\u6ca1\u6709\u7279\u522b\u559c\u6b22\u7684\u540e\uff0c\u4f5c\u7f62\n\u5317\u56fd\u5546\u573a\u91cc\u76848\u5c42\u8fd8\u662f10\u5c42\uff0c\u6709\u4e2a\u7a7a\u4e2d\u5927\u5e73\u5c42\uff0c\u5f88\u5b89\u9759\uff0c\u6709\u4e00\u4e9b\u4eba\u5728\u4f5c\u753b\n</code></pre> <p>\u5317\u56fd\u8d85\u5e02\u5728\u8d1f\u4e00\u5c42</p> <pre><code>\u5973\u53cb\u901a\u8fc7\u7f8e\u56e2\u4e70\u83dc\u4e70\u4e86\u4e9b \u536b\u751f\u5dfe\n</code></pre> <p></p> <p>\u671f\u95f4\u5927\u997c\u62b1\u6028\u901b\u8857emo\uff0c\u60f9\u5973\u670b\u53cb\u4e0d\u5f00\u5fc3\u4e86\uff0c\u63a5\u7740\u8349\u8349\u53bb\u770b\u4e86\u4e0b\u52d2\u6cf0\uff0c\u5c31\u4e58\u5730\u94c1\u56de\u53bb\u4e86</p> <pre><code>\u7b49\u7684\u811a\u7d2f\uff0c\u4e5f\u60f3\u5feb\u70b9\u513f\u56de\u53bb\u770b\u4e0bLOL S13\u603b\u51b3\u8d5b\uff0c\u62b1\u6028\u4e86\u4e0b\u901b\u8857\u6709\u70b9\u513femo\n\u5927\u997c\u627e\u501f\u53e3\u8bf4\u81ea\u5df1\u6ca1\u6709\u53c2\u4e0e\u611f\n</code></pre> <p>\u4fee\u6574\u4e00\u5c0f\u65f6\u540e\uff0c\u5973\u53cb\u5728\u6296\u97f3\u4e0a\u56e2\u4e86 \u90ac\u4e09\u5192\u70e4\u9e2d \u7684\u5238</p> <pre><code>\u662f\u5192\u83dc+\u70e4\u9e2d\u7684\u5f62\u5f0f\uff0c\u7c73\u996d\u996e\u6599\u65e0\u9650\u53d6\uff0c\u975e\u5e38\u597d\u5403~\n</code></pre> <p></p> <p>\u63a5\u7740\u53bb\u4e70\u4e86\u74f6\u6c34\uff0c\u5728\u706f\u5149\u5e26\u4e0b\u7ed9\u5973\u53cb\u62cd\u4e86\u51e0\u5f20\u7167\u7247</p> <pre><code>\u624b\u673a\u955c\u5934\u5012\u7f6e\n</code></pre> <p> </p>"},{"location":"enjoy/travel/2023/2023-sjz/#1120-","title":"11.20 \u542f\u7a0b-\u79bb\u522b","text":"<p>\u4e0a\u5348\u4e70\u4e86 \u718f\u8089\u5377\u997c + \u4e94\u4e03\u8def\u677f\u9762\uff08\u5973\u53cb\u5403\u7684\u6d17\u9762\uff0c\u6211\u5403\u7684\u677f\u9762\uff09</p> <p>\u5973\u53cb\u7684\u820d\u53cb\u8bf4\u60f3\u5e26\u9738\u738b\u522b\u59ec\u56de\u53bb\uff0c\u7b49\u5230\u6700\u540e\uff0c\u5973\u53cb\u820d\u53cb\u5e76\u6ca1\u4e0b\u5355\uff0c\u9042\u4f5c\u7f62</p> <p>\u5728\u89e3\u653e\u5e7f\u573a\u62cd\u4e86\u7167\u7247\u7559\u5ff5\uff0c\u5c31\u5404\u81ea\u56de\u53bb\u4e86</p> <p> </p> <p>\u8d70\u7684\u65f6\u5019\uff08\u5973\u670b\u53cb\u7ed9\u6211\u62cd\u7684\u7167\u7247\uff09</p> <p></p>"},{"location":"enjoy/travel/2023/2023-tb/","title":"2023 \u56e2\u5efa","text":"<p>\u56e2\u5efa\u5730\uff1a\u53e4\u5317\u6c34\u9547</p> <p>\u56e2\u5efa\u65f6\u95f4\uff1a2023.11.03 - 2023.11.04</p>"},{"location":"enjoy/travel/2023/2023-tb/#1103","title":"11.03","text":"<p>11.3 \u4e2d\u5348\u51fa\u53d1\uff0c3\u70b9\u5230\u6c34\u9547\uff0c\u5230\u9152\u5e97\u529e\u7406\u5165\u4f4f\u3002</p> <p>900+\u7684\u9152\u5e97\uff0c\u4f4f\u5bbf\u7684\u5730\u65b9\u6709\u9633\u53f0\uff0c\uff08\u5395\u6240\u7684\u73bb\u7483\u662f\u4e2a\u8d25\u7b14</p> <p></p> <p>4\u70b9\u5de6\u53f3\u96c6\u5408\u62cd\u56e2\u961f\u7684\u7167\u7247</p> <p></p> <p>\u63a5\u7740\u6f2b\u6b65\u5c0f\u954745\u5206\u949f\uff0c3\u53f7 \u8fd8\u662f\u5468\u4e94\uff0c\u5c0f\u9547\u5f00\u7684\u5546\u94fa\u4e0d\u592a\u591a\uff0c\u76f8\u6bd44\u53f7\u51b7\u6e05\u5f88\u591a\uff0c\u800c\u4e144\u70b9-5\u70b9\u5929\u6c14\u5df2\u7ecf\u51b7\u4e9b\u4e86</p> <p>\u5c0f\u9547\u89c2\u5149\u56fe</p> <p></p> <p>\u5c0f\u9547\u5165\u53e3</p> <p></p> <p>\u8239\u4e0a\u8868\u6f14</p> <p></p> <p>\u5c0f\u6865\u6d41\u6c34\u4eba\u5bb6</p> <p></p> <p>\u665a\u4e0a\u5728\u4e00\u5bb6\u706b\u9505\u5e97\u5403\u4e86\u706b\u9505\uff0c\u8fd9\u6b21\u559d\u4e86\u63a5\u8fd15\u74f6\u6cf0\u5c71\u539f\u6d46\uff08\u665a\u4e0a\u4e0a\u5410\u4e0b\u6cfb\u7684\uff0c\u4e0b\u6b21\u4e0d\u80fd\u8fd9\u4e48\u559d\u4e86\uff09</p> <p>300\u4e00\u74f6\u7684\u6cf8\u5dde\u8001\u7a96-\u6676\u5f69\uff0c\u6211\u6ca1\u559dhh</p> <p></p> <p>\u559d\u4e865\u74f6 \u6cf0\u5c71\u539f\u6d46</p> <p></p> <p>\u5c0f\u9547\u9152\u5e97\u706f\u5149</p> <p></p>"},{"location":"enjoy/travel/2023/2023-tb/#1104","title":"11.04","text":"<p>11.4 8\u70b9\u5de6\u53f3\u8d77\u5e8a\u540e\uff0c\u53bb\u9152\u5e97\u5403\u7684\u65e9\u996d\uff0c\u65e9\u9910\u6837\u5f0f\u5f88\u591a\uff0c\u6211\u53ea\u5403\u6211\u559c\u6b22\u5403\u7684\uff0c\u7092\u7c73\u996d\uff0c\u9999\u80a0</p> <p>9\u70b945\u5de6\u53f3\u548c\u540c\u4e8b\u4e00\u8d77\u5750\u6446\u6e21\u8f66\u53bb\u957f\u57ce\u7684\u5165\u53e3\uff0c\u4e00\u8d77\u53bb\u722c\u957f\u57ce\u3002</p> <p>\u503c\u5f97\u63d0\u7684\u662f\uff0c\u4e00\u4e2a00\u540e\u7684\u540c\u4e8b\uff0c\u6211\uff0c\u4e00\u4e2a96\u7684\u540c\u4e8b\uff0c96\u7684\u540c\u4e8b\u722c\u5230\u7b2c\u4e00\u4e2a\u57ce\u697c\u5c31\u6298\u8fd4\u4e86\uff0c00\u540e\u7684\u722c\u957f\u57ce\u5f88\u5feb\uff0c\u5f00\u59cb\u722c\u7684\u65f6\u5019\u5c31\u5df2\u7ecf\u4e0d\u89c1\u4eba\u5f71\u4e86\uff08\u4e0d\u5f97\u4e0d\u670d\u5e74\u8f7b\u4eba\u7684\u4f53\u529b\uff09</p> <p>\u957f\u57ce\u5165\u53e3\u62cd\u7167</p> <p></p> <p>\u6210\u529f\u767b\u9876</p> <p> </p> <p>\u4e0b\u957f\u57ce\u62cd\u7167</p> <p> </p> <p>\u5c71\u6c34\u76f8\u95f4</p> <p></p> <p>\u6b22\u5feb\u7684\u9c7c\u513f</p> <p></p> <p>\u70e7\u8089\u9986\uff0c\u5f88\u597d\u5403  </p> <p>3\u70b9\u542f\u7a0b\u56de\u5de5\u533a\uff0c5\u70b930\u5230\uff0c6\u70b9\u9a91\u8f66\u5230\u5bb6~</p>"},{"location":"enjoy/travel/2024/2024-0101/","title":"2024-\u5143\u65e6","text":""},{"location":"enjoy/travel/2024/2024-0101/#1230","title":"12.30","text":"<p>\u5927\u997c\u5750\u65e9\u4e0a\u7684\u8f66K507\u4e2d\u5348\u5230\u90af\u90f8\uff0c\u5973\u670b\u53cb\u5728\u706b\u8f66\u7ad9\u5f00\u8f66\u7b49\u6211\uff0c\u5165\u4f4f\u7684\u56db\u4e2d\u9644\u8fd1\u7684\u5168\u7a0b\u9152\u5e97\uff08\u540e\u9762\u4e86\u89e3\u5230\u548c\u5f66\u9716\u9152\u5e97\u662f\u4e00\u4e2a\u516c\u53f8\u7684\uff09</p> <p>\u5f00\u8f66\u53bb\u9152\u5e97\uff0c\u5370\u8c61\u91cc\u662f\u6b65\u884c\u53bb\u4e86\u5929\u9e3f\uff0c\u5403\u7684\u82b3\u7af9\u56ed\u706b\u9505\uff08\u5973\u670b\u53cb\u56e4\u7684\u5238\uff09</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-0101/#1231","title":"12.31","text":"<p>\u5750\u516c\u4ea4\u8f66\u53bb\u7684\u65b0\u4e16\u7eaa\uff0c\u6253\u5361\u65b0\u5e74\u7684\u7167\u7247\uff0c\u559d\u4e86\u65b0\u4e16\u7eaa\u65b0\u5f00\u7684\u9738\u738b\u8336\u59ec\uff0c\u5403\u4e86\u7116\u9505\uff08\u4e5f\u662f\u5973\u53cb\u4e70\u7684\uff0c\u7b2c\u4e00\u6b21\u5403\uff09</p> <p>\u665a\u4e0a\u4f4f\u7684\u6cb3\u5317\u5de5\u7a0b\u9644\u8fd1\u6751\u91cc\u7684\u5bbe\u9986\uff08\u6bd4\u8f83\u7834\uff09\uff0c\u665a\u996d\u5403\u7684\u87ba\u86f3\u7c89</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-0101/#0101","title":"01.01","text":"<p>\u65e9\u4e0a\u5403\u7684\u91ce\u5c1a\u81b3\uff0c\u5973\u53cb\u5f00\u8f66\u9001\u6211\u5230\u90af\u90f8\u7ad9\uff08\u8d70\u7684\u5317\u73af\uff09\uff0c\u5750\u706b\u8f66\u56de\u5317\u4eac</p> <p></p>"},{"location":"enjoy/travel/2024/2024-0403/","title":"2024 \u6e05\u660e","text":"<p>\u4e3b\u4eba\u516c\uff1a\u5927\u997c\u4e0e\u5f64\u5f64</p> <p>\u5730\u70b9\uff1a\u90d1\u5dde\u3001\u8bb8\u660c</p> <p>\u80cc\u666f\uff1a\u5927\u997c\u548c\u5f64\u5f64\uff0c\u6e05\u660e\u653e4\u5929\u5047\uff08\u5404\u81ea\u591a\u8bf7\u4e86\u4e00\u5929\u5047\uff09\uff0c\u53bb\u6cb3\u5357\u54c1\u5c1d\u5f53\u5730\u98ce\u5473\u5c0f\u5403\uff0c\u4e86\u89e3\u5f53\u5730\u7279\u8272\u6587\u5316\u3002</p>"},{"location":"enjoy/travel/2024/2024-0403/#0403","title":"04.03 \u542f\u7a0b\u90d1\u5dde","text":"<ol> <li>\u65e9\u4e0a5\u70b9\u9192\u4e86\uff0c\u5927\u997c\u672c\u6765\u60f3\u7a7f\u65b0\u978b\uff0c\u65e9\u4e0a\u51fa\u6765\u53d1\u73b0\u7a7f\u7684\u65e7\u978b</li> <li>27\u5e7f\u573a</li> <li>\u70e4\u8089</li> <li>\u901b\u4e39\u5c3c\u65af\u00b7\u5927\u536b\u57ce\u770b\u4e86\u4e0b\u8c22\u745e\u9e9f</li> <li>\u53bb\u5357\u5927\u8857\u7684\u8def\u4e0a\uff0c\u522e\u98ce\u4e0b\u96e8\u534a\u9014\u800c\u8fd4</li> <li>\u665a\u4e0a\u738b\u5f64\u70b9\u7684\u70b8\u4e32\u5916\u5356</li> </ol> <p>\u70e4\u8089\u8c03\u5236\u7684\u6d77\u5e26\u86ee\u6709\u5473\u9053\u7684</p>"},{"location":"enjoy/travel/2024/2024-0403/#0404-city-walk","title":"04.04 \u90d1\u5dde city walk","text":"<ol> <li>\u5bf9\u8c61\u5acc\u6211\u6ca1\u8111\u5b50\uff0c\u5979\u5728\u548c\u9152\u5e97\u524d\u53f0\u5435\u67b6\u623f\u4ef7\u4fbf\u5b9c\uff0c\u6211\u5374\u5728\u65c1\u8fb9\u65e0\u52a8\u4e8e\u8877</li> <li>\u65b9\u4e2d\u5c71\u80e1\u8fa3\u6c64</li> <li>\u5546\u90fd\u9057\u5740\u516c\u56ed&amp;\u535a\u7269\u9986</li> <li>\u7d2b\u8346\u5c71\u516c\u56ed</li> <li>\u5927\u8c61\u9676\u74f7\u535a\u7269\u9986</li> <li>\u8662\u56fd\u7f8a\u6c64\u9986</li> <li>\u4e2d\u539f\u798f\u5854</li> <li>\u5343\u73ba\u5e7f\u573a\uff08\u7389\u7c73\u5854\uff09</li> <li>\u7092\u51c9\u76ae\uff0c\u83e0\u841d\uff0c\u70d9\u998d\u5377\u70e4\u4e32</li> <li>\u90d1\u5dde12345\u53f7\u7ebf\u5730\u94c1\u90fd\u5750\u4e86</li> </ol>"},{"location":"enjoy/travel/2024/2024-0403/#0405","title":"04.05 \u8bb8\u660c \u80d6\u4e1c\u6765\u548c\u66f9\u9b4f\u53e4\u57ce","text":"<ol> <li>\u65e9\u4e0a\u8d76\u8f66\u53bb\u8bb8\u660c\uff0c\u5dee\u70b9\u6ca1\u8d76\u4e0a</li> <li>\u8bb8\u660c\u5317\u5750z3\u53bb\u80d6\u4e1c\u6765</li> <li>\u80d6\u4e1c\u6765\u8fdb\u95e8\u8981\u6392\u961f\uff0c\u901b\u8d85\u5e02\u8981\u6392\u961f\uff0c\u94f6\u9970\u8981\u9650\u65f6\u8d2d  9\u5143/g 25.3g</li> <li>\u901b\u5b8c\u80d6\u4e1c\u6765\u7d2f\u4e86\uff0c\u4e70\u4e86\u70d9\u998d\u5377\u9e2d\u80a0\u548c\u6c34\u559d</li> <li>\u901b\u66f9\u9b4f\u53e4\u57ce\uff0c\u597d\u591a\u7a7f\u53e4\u88c5\u7684\u5973\u5b69</li> <li>\u7ad9\u7740z3\u4e00\u8def\u56de\u8bb8\u660c\u5317\u7ad9\uff0c\u811a\u8868\u793a\u6b47\u83dc\u4e86\uff0c\u4e0d\u60f3\u670d\u52a1\u4e8e\u6211\u4e86</li> <li>\u4e70\u7684\u82b1\u7532\u7c89\u8fd8\u6709\u997c</li> </ol>"},{"location":"enjoy/travel/2024/2024-0403/#0406","title":"04.06 \u5f52\u9014","text":"<ol> <li>\u51cc\u66684\u70b9\u697c\u4e0a\u6709\u4ebaml\uff0c\u9192\u4e86\u4e0a\u4e86\u8d9f\u5395\u6240</li> <li>\u65e9\u4e0a\u6536\u62fe\u884c\u674e</li> <li>\u4e70\u4e86\u70d9\u998d\u5377\u83dc</li> <li>\u548c\u5bf9\u8c61\u4e00\u8d77\u5750\u5730\u94c1 4\u53f7\u7ebf\u8f6c1\u53f7\u7ebf\uff08\u6211\u5f80\u706b\u8f66\u7ad9\u8d70\uff0c\u5bf9\u8c61\u5f80\u9ad8\u94c1\u7ad9\u8d70\uff09</li> <li>\u5750\u706b\u8f66\u5367\u94fa\u7761\u4e86\u4e00\u8def</li> </ol>"},{"location":"enjoy/travel/2024/2024-0403/#_1","title":"\u82b1\u8d39","text":"<p>\u5171\u8ba1: 1600\u5de6\u53f3</p> <p>\u8f66\u7968\u5171 592 </p> <ul> <li>108 * 2 \uff08\u738b\u5f64\u90d1\u5dde\u5f80\u8fd4\u90af\u90f8\uff09</li> <li>4 * 30 \uff08\u90d1\u5dde\u8bb8\u660c\u9ad8\u94c1\uff09</li> <li>93+108 \uff08\u5927\u997c\u90d1\u5dde\u5f80\u8fd4\u5317\u4eac\uff09</li> </ul> <p>\u5403\u996d\u5171 406 </p> <ul> <li>125\uff08\u70e4\u8089\uff09+17</li> <li>17+65\uff08\u7f8a\u8089\u70e9\u9762\uff0c\u7f8a\u6c64\uff09+8\uff08\u51c9\u76ae\uff09+10\uff08\u83e0\u841d\uff09+10\uff08\u70d9\u998d\u5377\u9762\u7b4b\uff09</li> <li>129.8\uff08\u80d6\u4e1c\u6765\u8d85\u5e02\uff09+7\uff08\u8bb8\u660c\u7684\u70d9\u998d\u9e2d\u80a0\uff09+12\uff08\u82b1\u7532\u7c89\uff09+ 5</li> </ul> <p>\u4f4f\u5bbf\u5171 330</p> <ul> <li>110*3=330</li> </ul> <p>\u94f6\u9970\u5171 228 \uff08\u94f6\u624b\u956f\uff09</p> <p>\u516c\u5171\u4ea4\u901a\u5171 54</p> <ul> <li>12 <ul> <li>2+2 \u6211\u53bb\u5bbe\u9986\uff0c3+3+2 \u738b\u5f64\u5f80\u8fd4</li> </ul> </li> <li>20<ul> <li>\u4e24\u4e2a\u4eba\u5206\u522b 2\uff08\u6587\u5e99\uff09+3\uff08\u4e2d\u539f\u798f\u5854\uff09+3\uff08cbd \u7389\u7c73\u697c\uff09+2\uff08\u56de\u53bb\uff09</li> </ul> </li> <li>16<ul> <li>\u4e24\u4e2a\u4eba\u5206\u522b 3+1+1+3</li> </ul> </li> <li>6</li> </ul>"},{"location":"enjoy/travel/2024/2024-0501/","title":"2024 \u4e94\u4e00\u5317\u4eac\u6e38\u73a9","text":""},{"location":"enjoy/travel/2024/2024-0501/#0430","title":"04.30 \u95f2\u901b\u5965\u68ee","text":"<p>\u738b\u5f64\u4e2d\u5348\u4e58\u8f66\u5230\u5317\u4eac\uff0c\u5927\u997c\u53bb\u5730\u94c1\u7ad9\u63a5\uff0c\u4e2d\u5348\u5403\u7684\u5c0f\u533a\u9644\u8fd1\u7684\u6b66\u5723\u7f8a\u6c64</p> <p>\u4e0b\u5348\u4e00\u8d77\u901b\u4e86\u5965\u68ee\uff0c\u5403\u7684\u53cc\u4eba\u9910\uff0c\u662f\u8fa3\u5b50\u9e21\u90a3\u5bb6\u5e97</p>"},{"location":"enjoy/travel/2024/2024-0501/#0501","title":"05.01 \u7545\u6e38\u606d\u738b\u5e9c","text":"<p>\u5927\u997c\u7684\u5c0f\u7c73\u624b\u673a\u53cd\u590d\u91cd\u542f\uff0c\u6bd4\u8f83\u5f71\u54cd\u5fc3\u6001\uff0c\u7528\u738b\u5f64\u7684\u624b\u673a\u4e70\u7684\u53bb\u606d\u738b\u5e9c\u7684\u5730\u94c1\u7968\uff0c\u53bb\u7684\u606d\u738b\u5e9c\uff0c\u5728\u73b0\u573a\u542c\u4e00\u4e2a\u5bfc\u6e38\u89e3\u8bf4\u606d\u738b\u5e9c\u7684\u79cd\u79cd</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-0501/#0502","title":"05.02 \u690d\u7269\u56ed\u4e4b\u884c","text":"<p>\u7528\u4e86\u8001\u624b\u673aiphone se\uff0c\u53bb\u7684\u56fd\u5bb6\u690d\u7269\u56ed</p> <p>\u690d\u7269\u56ed\u5f88\u5927\uff0c\u548c\u738b\u5f64\u901b\u5230\u4e86\u5c3d\u5934\uff0c\u5728\u5c71\u4e0a\u62cd\u4e86\u7167</p> <p>\u665a\u4e0a\u56de\u6765\u5403\u4e86\u70e4\u9c7c\uff0c\u5728\u8d85\u5e02\u4e70\u4e86\u9178\u5976</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-0501/#0503","title":"05.03 \u611f\u53d7\u5929\u575b\u4eba\u6587\u6c14\u606f","text":"<p>\u53bb\u901b\u4e86\u5929\u575b\uff0c\u548c\u738b\u5f64\u8ba4\u771f\u901b\u4e86\u4e0b\uff0c\u6bd4\u4e0a\u6b21\u901b\u5929\u575b\u6709\u6536\u83b7\uff0c\u6709\u658b\u5bab\uff0c\u7948\u5e74\u6bbf\uff0c\u56de\u97f3\u58c1\uff0c\u53cc\u73af\u4e07\u5bff\u4ead</p> <p>\u4e2d\u95f4\u5927\u997c\u672c\u6765\u60f3\u901b\u5b8c\u5929\u575b\uff0c\u518d\u53bb\u901b\u524d\u95e8\uff0c\u548c\u738b\u5f64\u53d1\u751f\u4e86\u5c0f\u7684\u4e89\u6267</p> <p>\u665a\u4e0a\u56de\u6765\u54c1\u5c1d\u4e86\u95e8\u53e3\u7684\u7709\u5dde\u5c0f\u5403</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-0501/#0504","title":"05.04 \u8fd4\u9014","text":"<p>\u738b\u5f64\u4e34\u65f6\u63a5\u5230\u901a\u77e5\u5f00\u5b66\uff08\u56e0\u4e3a\u4e0d\u77e5\u9053\u5468\u4e94\u4e0a\u4ec0\u4e48\u8bfe\uff0c\u4e70\u4e86\u9ad8\u94c1\u56de\u5bb6\u4e86\uff09\uff0c\u5306\u5306\u8fd4\u56de\u5b66\u6821</p>"},{"location":"enjoy/travel/2024/2024-0525/","title":"2024-\u5973\u53cb\u7b2c\u4e00\u6b21\u53bb\u5927\u997c\u5bb6","text":""},{"location":"enjoy/travel/2024/2024-0525/#0525","title":"05.25 \u4e0d\u592a\u987a\u5229\u7684\u7b2c\u4e00\u6b21\u89c1\u5bb6\u957f","text":"<ol> <li>\u5927\u997c\u9ad8\u94c1\u56de\u90af\u90f8\uff0c\u738b\u5f64\u5f00\u8f66\u4ece\u66f2\u5468\u53bb\u6b66\u5b89\uff08100km\uff0c\u5e26\u7740\u6d77\u4e3d\u548c\u6211\uff09</li> <li>\u738b\u5f64\u548c\u5927\u997c\u5bb6\u4eba\u4e00\u8d77\u5403\u6e58\u6c5f\u9152\u697c\uff08\u8fc7\u7a0b\u4e2d\u5acc\u5c0f\u5b69\u592a\u95f9\uff0c\u5973\u670b\u53cb\u6bd4\u8f83\u5fc3\u70e6\uff0c\u4e5f\u5c31\u6ca1\u6709\u62cd\u7167\uff09</li> <li>\u5927\u997c\u548c\u738b\u5f64\u901b\u6b66\u5b89\u7684\u65b0\u4e16\u7eaa\uff08\u65b0\u4e16\u7eaa\u8d1f\u4e00\u5c42\u7684\u8fd0\u52a8\u54c1\u724c\u7684\u4f4d\u7f6e\u53d8\u4e86\uff0c\u4ece\u9ad8\u4e2d\u4ee5\u540e\u5f88\u5c11\u5149\u987e\u65b0\u4e16\u7eaa\u4e86\uff09</li> <li>\u56de\u6765\u540e\u6211\u5988\u7ed9\u4e86\u5973\u53cb1880\u7684\u7ea2\u5305\uff0c\u7b80\u5355\u804a\u4e86\u51e0\u53e5</li> <li>\u770b\u65f6\u95f4\u4e0d\u65e9\u4e86\uff0c\u5973\u53cb\u5f00\u8f66\u5e26\u5927\u997c\u56de\u90af\u90f8\uff0c\u5eb7\u5fb7\u9644\u8fd1\u5403\u7684\u91cc\u810a\u8089\u997c\uff0c\u8377\u53f6\u997c\uff0c\u7c73\u7ebf\uff0c\u8fa3\u6761</li> <li>\u665a\u4e0a\u56de\u5bbe\u9986\uff0c\u4f4f\u7684\u9ad8\u94c1\u7ad9\u9644\u8fd1\u7684\u5f66\u6797\u5bbe\u9986\uff0c\u9700\u8981\u81ea\u4ed8\u505c\u8f66\u8d3911</li> </ol>"},{"location":"enjoy/travel/2024/2024-0525/#0526","title":"05.26 \u5728\u90af\u90f8\u5403\u5403\u559d\u559d","text":"<ol> <li>\u4e2d\u5348\u5f00\u8f66\u53bb\u4e86\u4e07\u8c61\u6c47\uff0c\u901b\u4e864\u5c42,\u9664\u4e86\u5403\u996d\u7684\u5730\u65b9\u4eba\u591a\uff0c\u8863\u670d\u5e97\u666e\u904d\u4eba\u4e0d\u592a\u591a</li> <li>\u5728\u4e07\u8c61\u6c47\u770b\u4e86\u851a\u6765es6 es7\uff0c\u8fd8\u6709\u6781\u6c2a\uff0c\u73b0\u5728\u7535\u8f66\u7684\u667a\u80fd\u5316\u505a\u7684\u633a\u68d2\u7684\uff0c\u4ee4\u4eba\u65b0\u5947</li> <li>\u4e0b\u5348\u53bb\u7684\u5b66\u6b65\u6865\uff0c\u5403\u4e8625\u4e2d\u9ebb\u8fa3\u70eb\uff0c\u8fd8\u633a\u8fa3\uff0c\u665a\u4e0a+\u7b2c\u4e8c\u5929\u4e0a\u4e86\u597d\u51e0\u6b21\u5395\u6240</li> <li>\u665a\u4e0a\u5728\u5929\u9e3f\u9644\u8fd1\u901b\uff0c\u6700\u540e\u4e70\u4e86\u6253\u6298\u7684\u9e92\u9e9f\u74dc\uff08\u5973\u53cb\u540e\u9762\u8bf4\u662f\u4e70\u8fc7\u7684\u6700\u4fbf\u5b9c\u7684\uff09\u8fd8\u6709\u9178\u5976</li> </ol>"},{"location":"enjoy/travel/2024/2024-0525/#0527","title":"05.27 \u604b\u604b\u4e0d\u820d\u56de\u4eac","text":"<ol> <li>\u65e9\u4e0a\u5404\u81ea\u8bf7\u4e86\u5929\u5047\uff0c\u9152\u5e97\u5403\u65e9\u996d\uff0c\u56e0\u4e3a\u5403\u592a\u8fa3\u7684\u4e1c\u897f\u8e72\u5395\u6240</li> <li>\u4e00\u5757\u5403\u6f6e\u6c55\u725b\u8089\u706b\u9505\uff0c\u901b\u8d85\u5e02\uff0c\u5728\u9738\u738b\u522b\u59ec\u4e70\u4e86\u676f\u6842\u5b50\u98d8\u98d8</li> <li>4.30\u738b\u5f64\u5f00\u8f66\u9001\u6211\u5230\u9ad8\u94c1\u7ad9\uff0c\u9ad8\u94c15:08\u4ece\u90af\u90f8\u59cb\u53d1\uff0c7:00\u5230\u5317\u4eac\u4e30\u53f0\u7ad9\uff0c8\u70b96\u5206\u5230\u5bb6\u3002</li> <li>\u738b\u5f64\u53bb\u627e\u5e38\u745e\u5a55\u4e00\u5757\u513f\u5403\u4e86\u4e2a\u996d\uff0c7\u70b935\u51fa\u53d1\uff0c8\u70b950\u5230\u66f2\u5468</li> </ol>"},{"location":"enjoy/travel/2024/2024-0608/","title":"2024-\u7aef\u5348\u5973\u53cb\u7ed9\u5927\u997c\u8fc7\u751f\u65e5","text":""},{"location":"enjoy/travel/2024/2024-0608/#0608","title":"06.08 \u5403\u5403\u559d\u559d\u6d88\u9063\u7684\u4e00\u5929","text":"<ol> <li>\u5927\u997c\u5750\u706b\u8f66\u56de\u90af\u90f8\uff0c\u5973\u53cb\u5f00\u8f66\u5728\u706b\u8f66\u7ad9\u5916\u7b49\u5019</li> <li>\u5973\u670b\u53cb\u4e70\u4e86\u86cb\u7cd5\u3001\u5c71\u7af9\u3001\u87e0\u6843\uff1b\u4e00\u8d77\u53bb\u90af\u90f8\u9752\u5e74\u8def\u4e70\u4e86\u897f\u74dc\u3001\u5c0f\u9f99\u867e\u3001\u51c9\u76ae\u3001\u83dc\u89d2</li> <li>\u665a\u4e0a\u5728\u5bbe\u9986\u770b\u4e86\u5468\u661f\u9a70\u7684\u7535\u5f71\uff1a\u9003\u5b66\u5a01\u9f99</li> </ol>"},{"location":"enjoy/travel/2024/2024-0608/#0609","title":"06.09 \u5973\u53cb\u7b2c\u4e00\u6b21\u770b\u623f","text":"<ol> <li>\u5973\u53cb\u7531\u4e8e\u7ecf\u671f\u5728\u5bbe\u9986\u91cc\u8eba\u7740</li> <li>\u4e0b\u53485\u70b9\u53bb\u770b\u4e86\u623f\uff0c\u62c9\u5fb7\u82b3\u65af\u8fd8\u6709\u5e7f\u53a6</li> <li>\u665a\u996d\u5927\u997c\u53bb\u91ce\u5c1a\u81b3\u5e97\u91cc\u4e70\u7684\u7b3c\u5305\u548c\u997c</li> </ol>"},{"location":"enjoy/travel/2024/2024-0608/#0610","title":"06.10 \u8fd4\u9014","text":"<ol> <li>\u5973\u53cb\u5403\u4e86\u7897\u5170\u5dde\u62c9\u9762\uff0c\u6211\u5750\u8f66\u56de\u5317\u4eac</li> </ol>"},{"location":"enjoy/travel/2024/2024-0727/","title":"2024-\u6691\u5047","text":""},{"location":"enjoy/travel/2024/2024-0727/#0727","title":"07.27 \u5973\u53cb\u8fdb\u4eac","text":"<ol> <li>\u4e0b\u5348\u5927\u997c\u9a91\u8f66\u56db\u73af\uff0c\u738b\u5f64\u5750\u9ad8\u94c1\u8fdb\u4eac\uff08\u5929\u6c14\u5f88\u70ed\uff0c\u5973\u53cb\u8bf4\u50cf\u4e2d\u6691\u4e86\uff0c\u5728\u9ad8\u94c1\u7ad9\u4e70\u7684\u996e\u6599\uff09</li> <li>\u665a\u996d\u4e00\u8d77\u5403\u7684\u7709\u5dde\u5c0f\u5403\u53cc\u4eba\u5957\u9910\uff0c\u6709\u62c5\u62c5\u9762\uff0c\u7092\u996d\uff0c\u8304\u5b50\uff0c\u9165\u8089\uff0c\u5927\u997c\u4ece\u5bb6\u62ff\u4e86\u74f6\u51b0\u9547\u7684\u996e\u6599</li> </ol>"},{"location":"enjoy/travel/2024/2024-0727/#0728","title":"07.28 \u5468\u65e5\u5403\u81ea\u52a9\u6d88\u9063","text":"<p>\u4e2d\u5348\u54c1\u5c1d\u4e86\u725b\u8089\u706b\u9505\u81ea\u52a9\uff0c\u5728\u8d85\u5e02\u4e70\u4e86\u897f\u74dc\u548c\u9178\u5976</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-0727/#0729","title":"07.29 \u5468\u4e00\u901a\u77e5\u53bb\u4e0a\u6d77\u51fa\u5dee","text":"<ol> <li>\u738b\u5f64\u5728\u5c4b\u91cc\u81ea\u5df1\u716e\u9762\uff0c\u5927\u997c\u4e0b\u5348\u88ab\u901a\u77e5\u53bb\u4e0a\u6d77\u51fa\u5dee\u3002</li> <li>\u665a\u4e0a\u5927\u997c\u7ea0\u7ed3\u4e86\u5f88\u4e45\u7ed9\u5973\u53cb\u4e70\u7968</li> </ol>"},{"location":"enjoy/travel/2024/2024-0727/#0730","title":"07.30 \u5927\u997c\u542f\u7a0b\u4e0a\u6d77","text":"<ol> <li>\u65e9\u4e0a\u4e0b\u5927\u96e8\u901a\u77e5\u5c45\u5bb6\u529e\u516c\uff0c\u4e00\u8d77\u51fa\u95e8\u4e70\u4e86\u70e7\u997c\u3001\u7f8a\u6c64\uff0c\u53bb\u8d85\u5e02\u4e70\u4e86\u6ce1\u9762\u548c\u96e8\u4f1e</li> <li>\u5927\u997c\u4e0b\u5348\u6253\u8f66\u53bb\u5317\u4eac\u5357\u7ad9\uff0c\u5750\u9ad8\u94c1\u524d\u5f80\u4e0a\u6d77\uff08\u9664\u4e86\u5317\u4eac\uff0c\u8def\u4e0a\u7684\u5730\u65b9\u90fd\u662f\u5927\u6674\u5929\uff01\uff09</li> </ol>"},{"location":"enjoy/travel/2024/2024-0727/#0731","title":"07.31 \u738b\u5f64\u521d\u89c1\u4e0a\u6d77","text":"<ol> <li>\u738b\u5f64\u65e9\u4e0a\u52a8\u8f66\u5230\u4e0a\u6d77\uff0c\u5927\u997c\u65e9\u4e0a\u53bb\u63a5</li> <li>\u738b\u5f64\u53bb\u4e86\u590d\u65e6\u5927\u5b66\uff0c\u5728\u5546\u573a\u91cc\u5403\u7684\u725b\u8089\u62c9\u9762\u548c\u751f\u714e\u5305\uff08\u672c\u6765\u60f3\u4e70\u751f\u714e\u5305\uff0c\u6ca1\u627e\u5230\u5403\u4e86\u62c9\u9762\uff0c\u6ca1\u60f3\u5230\u751f\u714e\u5305\u5c31\u5728\u62c9\u9762\u65c1\uff09</li> </ol>"},{"location":"enjoy/travel/2024/2024-0727/#0801","title":"08.01 \u738b\u5f64\u4e8e\u4e0a\u6d77\u904d\u53e4\u5bfb\u4eca","text":"<ol> <li>\u53c2\u89c2\u4e0a\u6d77\u535a\u7269\u9986\uff0c\u4e70\u4e86\u4e2a\u73a9\u5076</li> <li>\u9a91\u8f66\u2795\u6b65\u884c\u5230\u9646\u5bb6\u5634-\u9a91\u8f66\u2795\u6b65\u884c\u4e1c\u65b9\u660e\u73e0\uff08\u5230\u697c\u5e95\u4e0b\u4e86\u6ca1\u4e70\u7968\uff09</li> <li>\u9a91\u8f66\u5148\u5230\u4e86\u5916\u6ee9\u5bf9\u9762\uff08\u4eba\u5c11\uff09-\u5750\u8f6e\u6e21\u5230\u5bf9\u9762\u62cd\u7167-\u6b65\u884c\u5230\u8c6b\u56ed\u5730\u94c1\u7ad9\u56de</li> </ol>"},{"location":"enjoy/travel/2024/2024-0727/#0802","title":"08.02 \u518d\u6b21\u6253\u5361\u4e0a\u6d77\u7f51\u7ea2\u5730","text":"<ol> <li>\u738b\u5f64\u901b\u5171\u4ea7\u515a\u4e00\u5927\u3001\u4e8c\u5927\u4f1a\u5740</li> <li>\u738b\u5f64\u4e00\u4e2a\u4eba\u901b\u68a8\u56ed\uff08\u7c7b\u4f3c\u6b65\u884c\u8857\uff09</li> <li>\u5728\u4e0a\u6d77\u5916\u6ee9\u62cd\u7167\uff08\u5973\u53cb\u5410\u69fd\u7167\u7247\u6ca1\u62cd\u597d-.-\uff09\uff0c\u4ece\u5357\u4eac\u4e1c\u8def\u56de\u5bbe\u9986</li> </ol>"},{"location":"enjoy/travel/2024/2024-0727/#0803-0804","title":"08.03-08.04 \u8fd4\u9014","text":"<p>08.03 \u5927\u997c\u4e2d\u5348\u7684\u9ad8\u94c1\u56de\u5317\u4eac\uff1b\u738b\u5f64\u5750\u706b\u8f66\u5230\u5b89\u9633\uff08\u6ca1\u4e70\u5230\u5367\u94fa\uff0c\u5750\u4e86\u4e00\u665a\u7684\u786c\u5ea7\uff09</p> <p>08.04 \u738b\u5f64\u5b89\u9633-&gt;\u90af\u90f8-&gt;\u80a5\u4e61</p> <p></p>"},{"location":"enjoy/travel/2024/2024-0914/","title":"2024-\u4e2d\u79cb","text":""},{"location":"enjoy/travel/2024/2024-0914/#0914","title":"09.14 \u5f52\u5bb6\u611f\u53d7\u201c\u5bb6\u5473\u201d","text":"<p>\u4e0a\u53485.30\u88ab\u95f9\u949f\u53eb\u9192\uff0c\u4e70\u4e86\u56db\u4e2a\u5305\u5b50\u8d76\u8f66\uff0c\u8eba\u5728\u706b\u8f66\u5367\u94fa\u4e0a\u95f7\u5934\u5927\u7761\uff0c12.40\u5230\u90af\u90f8\u540e\uff0c\u8f6c\u8f66808\u548c\u5171\u4eab\u7535\u8f66\u5230\u5bb6\u3002</p> <p>\u5230\u5bb6\u5988\u5988\u641e\u7684\u4142\u784c\u9762\uff0c\u5c0f\u7b3c\u5305\u548c\u732a\u8138\u3002\u4e2d\u95f4\u5403\u996d\u7684\u65f6\u5019\u4e1a\u52a1\u65b9\u5728\u7fa4\u91cc\u63d0\u4e86\u5f88\u591a\u95ee\u9898\uff0c\u4e00\u8fb9\u5403\u996d\u4e00\u8fb9\u5de5\u4f5c</p> <p>\u665a\u4e0a\u5c0f\u5b9d\u4e00\u4e2a\u4eba\u5b89\u9759\u5730\u73a9\u73a9\u5177\u548c\u624b\u673a\u633a\u4e45\u3002\u53ef\u60dc\u54aa\u54aa\u4e22\u4e86\uff0c\u5c0f\u5b9d\u5bf9\u54aa\u54aa\u7684\u4f9d\u604b\u5f88\u6df1\uff0c\u665a\u4e0a\u7761\u7684\u65f6\u95f4\u4e0d\u957f(12\u70b9\u52306\u70b9)</p> <p></p>"},{"location":"enjoy/travel/2024/2024-0914/#0915","title":"09.15 \u5c45\u5bb6\u65e5\u5e38","text":"<p>\u4e0a\u5348\u548c\u4e2d\u5348\u7ee7\u7eed\u5403\u7684\u5c0f\u7c73\u7ca5\u548c\u5c0f\u7b3c\u5305\u3002</p> <p>\u4e2d\u5348\u7238\u7238\u56de\u6765\u5403\u4e86\u996d\u5c31\u7761\u4e86\u3002\u4e0b\u5348\u5927\u997c\u51fa\u95e8\u9a91\u884c\uff0c\u4ece\u5e02\u91cc\u6cbf\u56fd\u9053(\u8def\u4e0a\u8fd8\u662f\u5f88\u5bb3\u6015\u5927\u8d27\u8f66\u7684)\u9a91\u56de\u4e86\u6751\u91cc\uff0c\u6751\u91cc\u4eba\u70df\u7a00\u5c11\u3002</p> <p>\u665a\u996d\u5403\u4e86\u732a\u8138\uff0c\u9e21\uff0c\u5305\u5b50\uff0c\u548c\u7238\u5988\u7b80\u5355\u804a\u4e86\u4e0b\u73b0\u72b6\u540e\u5c31\u7761\u4e86</p> <p></p>"},{"location":"enjoy/travel/2024/2024-0914/#0916","title":"09.16 \u4e8e\u90af\u90f8\u8bbf\u53e4\u5bfb\u4eca","text":"<p>\u65e9\u65e9\u7684\u9192\u4e86\uff0c\u90af\u90f8\u57ce\u91cc\u5728\u4e3e\u529e\u534a\u7a0b\u9a6c\u62c9\u677e\u3002\u4e0a\u5348\u8f97\u8f6c\u9a91\u8f66\u3001808\u3001\u516c\u4ea4\u591a\u4e2a\u4ea4\u901a\u5de5\u5177\u5230\u4e86\u5929\u9e3f\u5e7f\u573a\uff0c\u89c1\u5230\u4e86\u5973\u53cb\u3002</p> <p></p> <p>\u5973\u53cb\u5148\u5230\u7684\u5bbe\u9986\uff0c\u5148\u53bb\u5bbe\u9986\u767b\u8bb0\uff0c\u623f\u53f7\u662f520~</p> <p></p> <p>\u4e2d\u5348\u5973\u53cb\u4e70\u7684\u8304\u4e01\u897f\u7ea2\u67ff\u9762\uff0c\u6c64\u5f88\u6d53\u90c1\uff0c\u50cf\u662f\u9884\u5236\u7684\u6599\u5305\u505a\u7684\u3002</p> <p>\u4e0b\u5348\u53bb\u901b\u4e86\u535a\u7269\u9986\uff0c\u901b\u8fc7\u4e86\u633a\u591a\u535a\u7269\u9986\uff0c\u7b2c\u4e00\u6b21\u53c2\u89c2\u201d\u5bb6\u95e8\u53e3\u201d\u7684\u535a\u7269\u9986\u3002</p> <p>\u535a\u7269\u9986</p> <ul> <li>2\u697c\u4ecb\u7ecd\u6210\u8bed\uff0c\u6709\u5f20\u8d1e\u7f8e\u7684\u6c34\u9646\u753b\u5c55\u89c8\u3002</li> <li>3\u697c\u4ecb\u7ecd\u90af\u90f8\u7684\u5386\u53f2\u53d1\u5c55\u548c\u540d\u4eba\u4e8b\u8ff9\uff0c\u5370\u8c61\u6df1\u523b\u7684\u662f\u5927\u540d\u662f\u5f53\u65f6\u5317\u5b8b\u7684\u201d\u5317\u4eac\u201d\u90fd\u57ce\u3002</li> <li>4\u697c\u6709\u4f5b\u50cf\uff0c\u94b1\u5e01\u7684\u4ecb\u7ecd\u3002</li> </ul> <p> </p> <p>\u53c2\u89c2\u5b8c\u535a\u7269\u9986\uff0c\u9a91\u81ea\u884c\u8f66\u524d\u5f80\u65b0\u4e16\u7eaa\uff0c\u5728\u697c\u4e0b\u770b\u4e86\u597d\u957f\u4e00\u4f1a\u513f\u6b65\u6b65\u9ad8\u7684\u8bd7\u8bcd\u6bd4\u8d5b\uff0c\u5973\u53cb\u7684\u8bd7\u8bcd\u80fd\u529b\u8d5b\u9ad8\uff0c\u597d\u591a\u6211\u4e0d\u77e5\u9053\u7684\u8bd7\u8bcd\u3002</p> <p></p> <p>\u665a\u996d\u5728\u65b0\u4e16\u7eaa\u5403\u7684\u82b3\u7af9\u56ed\u706b\u9505\uff0c\u4e0d\u77e5\u9053\u662f\u8fa3\u8fd8\u662f\u4e0d\u65b0\u9c9c\uff0c\u62c9\u4e865\u6b21\u809a\u5b50\u3002\u5403\u5b8c\u540e\uff0c\u9a91\u884c\u53bb\u4e86\u81ea\u5f3a\u5e02\u573a\uff0c\u56e0\u4e3a\u5403\u7684\u5f88\u9971\uff0c\u6ca1\u6709\u518d\u4e70\u5403\u7684</p> <p> </p> <p>\u665a\u4e0a\u770b\u4e86\u51e0\u96c6\u7535\u89c6\u5267\u51e1\u4eba\u6b4c\uff0c\u5973\u53cb10\u70b9\u5de6\u53f3\u5c31\u7761\u4e86\uff0c\u6211\u5728\u5395\u6240\u78e8\u78e8\u8e6d\u8e6d\u523012\u70b9</p>"},{"location":"enjoy/travel/2024/2024-0914/#0917","title":"09.17 \u79bb\u90af\u8fd4\u9014","text":"<p>\u65e9\u65e9\u9192\u6765\uff0c\u53c8\u662f\u4e0a\u5395\u6240\uff0c\u5565\u65f6\u5019\u6211\u6d88\u5316\u5668\u5b98\u80fd\u8fdf\u987f\u4e00\u4e9b\uff01\u7136\u540e\u9a91\u8f66\u53bb\u5929\u9e3f\u65c1\u8fb9\u4e70\u4e86\u4e24\u6b21\u997c(\u7533\u5411\u56fd\u9e21\u67f3\u5377\u997c)\uff0c\u91cf\u5f88\u8db3\uff0c\u8db3\u5230\u4e2d\u5348\u6ca1\u4ec0\u4e48\u809a\u5b50\u5403\u4e1c\u897f\u3002</p> <p>\u56de\u5bbe\u9986\u7ee7\u7eed\u4e0a\u5395\u6240\uff01</p> <p>\u518d\u53bb\u5929\u9e3f\uff0c\u4e2d\u5348\u5403\u7684\u963f\u4e0a\u963f\u4e0a\u9ebb\u8fa3\u70eb\uff0c\u81ea\u52a9\u996e\u6599\u548c\u7c73\u996d\uff0c\u7c73\u996d\u662f\u7ec6\u957f\u7684\u7c73\uff0c\u9897\u7c92\u5206\u660e\uff0c\u5f88\u8d5e\uff0c\u540e\u9762\u8fd8\u4f1a\u7ee7\u7eed\u53bb\u5403~</p> <p></p> <p>2\u70b940\u8981\u53d1\u8f66\uff0c\u9a91\u5171\u4eab\u5355\u8f66\u752833\u5206\u949f\u4ece\u5929\u9e3f\u9a91\u5230\u4e86\u706b\u8f66\u7ad9\u3002(\u9ad8\u4e2d\u89c9\u5f97\u5f88\u5927\u7684\u90af\u90f8\uff0c\u82b1\u4e86\u534a\u5c0f\u65f6\u5c31\u9a91\u4e86\u5927\u534a\u4e2a\u57ce)\uff0c\u5750\u4e0a\u57ce\u9645\u5217\u8f66\uff0c\u633a\u8212\u9002\u7684\uff0c\u901f\u5ea6\u4e0a\u4e5f\u8fd8\u53ef\u4ee5\uff0c\u5e0c\u671b\u540e\u9762\u8fd8\u80fd\u62a2\u5230\u8fd9\u8d9f\u8f66~</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-1001/","title":"2024-\u56fd\u5e86","text":""},{"location":"enjoy/travel/2024/2024-1001/#0930","title":"09.30 \u5750\u8f66\u56de\u5bb6","text":"<p>\u4e70\u5230\u4e86\u65e0\u7968\u7684\u57ce\u9645\u5217\u8f66\uff0c\u5728\u8f66\u53a2\u540e\u6392\u7684\u4f4d\u7f6e\u5e2d\u5730\u800c\u5750\uff0c\u65f6\u7761\u65f6\u9192\uff0c\u5927\u69825\u5c0f\u65f6\u5230\u4e86\u90af\u90f8\u3002</p> <p>\u51fa\u7ad9\u540e\u53d1\u89c9\u5c0f\u96e8\u521a\u4e0b\u5b8c\uff0c\u7a7a\u6c14\u4e2d\u5939\u6742\u4e2d\u6ce5\u571f\u7684\u6c14\u606f\uff0c\u55ef\uff0c\u662f\u6545\u4e61\u7684\u539f\u6709\u6c14\u606f\u3002</p> <p>\u5019\u8f66808\uff0c\u7b2c\u4e00\u8f86\u770b\u4eba\u592a\u591a\uff0c\u6ca1\u6324\u8fdb\u53bb\uff0c\u7b2c\u4e8c\u8f86\u8f66\u62a2\u5230\u4e86\u5ea7\u4f4d\uff0c\u4e00\u8def\u5750\u8f66\u5230\u4e86\u6c7d\u8f66\u7ad9\uff0c\u4e0b\u8f66\u540e\u9a91\u5171\u4eab\u7535\u5355\u8f66\u5230\u697c\u4e0b\u3002</p> <p>\u4e00\u8fdb\u5bb6\uff0c\u7238\u7238\u5988\u5988\u90fd\u5728\uff0c\u7238\u7238\u4e13\u95e8\u7ed9\u505a\u4e86\u7599\u7629\u6c64\uff0c\u7531\u4e8e\u4e0b\u96e8\u5929\u6c14\u51b7\u7684\u539f\u56e0\uff0c\u8ba9\u6211\u559d\u6c64\u6696\u6696\u8eab\u5b50\u3002</p> <p>\u540e\u9762\u5c31\u662f\u548c\u5988\u5988\u4e00\u8d77\u53bb\u63a5\u5c0f\u5b9d\u4ece\u5e7c\u513f\u56ed\u56de\u6765\uff0c\u56de\u5bb6\u7684\u8def\u4e0a\u4e0d\u957f\uff0c\u4f46\u5c0f\u5b9d\u56b7\u56b7\u7740\u8981\u53bb\u73a9\u6ed1\u6ed1\u68af\uff0c\u4e00\u8def\u6709\u4e9b\u5c0f\u201c\u60ca\u9669\u201d\uff0c\u5927\u6982\u662f\u53ea\u6709\u5988\u5988\u80fd\u5236\u670d\u5c0f\u5b9d\u4e86\u3002</p> <p>\u5728\u665a\u4e0a\u51c6\u5907\u7761\u7684\u65f6\u5019\uff0c\u5237B\u7ad9\u627e\u5230\u4e00\u90e8\u5267\u300a\u6700\u5b8c\u7f8e\u7684\u79bb\u5a5a\u300b\uff0c\u5237\u5230\u4e86\u7b2c5\u96c6\uff0c\u8bb2\u7684\u662f\u4e00\u4e2a\u76f4\u7537\u5acc\u5f03\u81ea\u5df1\u73b0\u6709\u8001\u5a46\u7684\u6545\u4e8b</p> <p></p>"},{"location":"enjoy/travel/2024/2024-1001/#1001","title":"10.01 \u60ec\u610f\u5c45\u5bb6","text":"<p>\u65e9\u4e0a6\u70b9\u5c31\u8d77\u5e8a\u4e86\uff0c\u63a5\u7740\u5237\u5267</p> <ul> <li>\u76f4\u7537\u5728\u5acc\u5f03\u81ea\u5df1\u8001\u5a46\u540e\uff0c\u5728\u8def\u4e0a\u627e\u5230\u4e86\u524d\u4efb\uff0c\u5e76\u56de\u5fc6\u8d77\u4e86\u524d\u4efb\u7684\u7f8e\u597d\uff0c\u4f46\u524d\u4efb\u6b64\u65f6\u5df2\u7ecf\u6709\u4e86\u8001\u516c\uff0c\u867d\u7136\u8001\u516c\u5728\u5916\u9762\u62c8\u82b1\u60f9\u8349\uff0c\u4f46\u524d\u4efb\u7531\u4e8e\u6bcd\u4eb2\u7684\u7f18\u6545\uff08\u6bcd\u4eb2\u65e9\u65e9\u7684\u79bb\u5a5a\uff0c\u5728\u524d\u4efb\u773c\u91cc\u662f\u8fc7\u7740\u4e0d\u5e78\u7684\u751f\u6d3b\uff09\uff0c\u5e76\u6ca1\u6709\u4e3b\u52a8\u6253\u7834\u5f53\u4e0b\u7684\u201c\u7f8e\u597d\u201d\u5c40\u9762\u3002</li> <li>\u6545\u4e8b\u53d1\u5c55\u5230\u4e2d\u671f\uff0c\u56db\u4e2a\u4eba\u805a\u5728\u4e00\u8d77\uff0c\u8bc9\u8bf4\u7740\u8fc7\u53bb\u7684\u79cd\u79cd\uff0c\u7537\u4e3b\u66ff\u524d\u4efb\u62c5\u5fc3\u524d\u4efb\u8001\u516c\u201c\u51fa\u8f68\u201d\u7684\u4e8b\uff0c\u5973\u4e3b\u611f\u89c9\u81ea\u5df1\u5728\u7537\u4e3b\u7684\u5fc3\u4e2d\u5730\u4f4d\u8fd8\u4e0d\u5982\u524d\u4efb\uff0c\u4ece\u4e4b\u524d\u7684\u5f62\u5f0f\u79bb\u5a5a\u5230\u65ad\u820d\u79bb\uff0c\u4ece\u5c4b\u5b50\u91cc\u642c\u4e86\u51fa\u53bb\u3002</li> <li>\u7537\u4e3b\u5728\u5973\u4e3b\u79bb\u5bb6\u540e\uff0c\u601d\u5ff5\u8d77\u4e86\u5973\u4e3b\uff0c\u5e76\u56de\u5fc6\u8d77\u6765\u8fc7\u53bb\u7684\u79cd\u79cd\uff0c\u6700\u7ec8\u8bef\u89e3\u89e3\u9664\uff0c\u4e24\u4eba\u91cd\u5f52\u751f\u6d3b\u7684\u7f8e\u597d~</li> </ul> <p>\u9760\u7740\u7761\u89c9\u548c\u5237\u6296\u97f3\u3001B\u7ad9\u3001\u5c0f\u7ea2\u4e66\u5ea6\u8fc7\u4e86\u4e0b\u5348\uff0c\u665a\u4e0a\u7a81\u7136\u7ea0\u7ed3\u53bb\u6d4e\u5357\u7684\u7968\uff0c\u4ee5\u53ca\u51e0\u53f7\u53bb\u7684\u4e8b</p> <ul> <li>\u770b\u5c0f\u7ea2\u4e66\u8bf4\u6d4e\u5357\u7684\u4ea4\u901a\u4e0d\u662f\u5f88\u597d\uff0c\u5c31\u4ea7\u751f\u4e86\u653e\u5f03\u8fc7\u53bb\u7684\u60f3\u6cd5\uff0c\u540e\u9762\u7a81\u7136\u840c\u751f\u4e86\u53bb\u770b\u6d77\u7684\u60f3\u6cd5\uff0c\u5e76\u4e14\u6108\u53d1\u731b\u70c8\uff0c\u770b\u4e86\u9152\u5e97\uff0c\u89c9\u5f97\u80fd\u63a5\u53d7300\u7684\u4ef7\u683c\uff0c\u5c31\u51c6\u5907\u53bb\u9752\u5c9b</li> <li>\u7ea0\u7ed3\u4e70\u4ec0\u4e48\u65f6\u5019\u7684\u7968\uff0c\u770b\u4e86\u5f88\u591a\u8f66\u6b21\uff0c\u6700\u540e\u9501\u5b9a\u4e862\u53f7\u51fa\u884c\u6309\u90af\u90f8-\u77f3\u5bb6\u5e84-\u6f4d\u574a-\u9752\u5c9b\u7684\u8def\u7ebf\uff0c3\u53f7\u51fa\u884c\u6309\u77f3\u5bb6\u5e84-\u9752\u5c9b\u7684\u8def\u7ebf</li> </ul> <p> </p>"},{"location":"enjoy/travel/2024/2024-1001/#1002","title":"10.02 \u542f\u7a0b\u9752\u5c9b","text":"<p>\u65e9\u4e0a\u540c\u5973\u53cb\u6c9f\u901a\u600e\u4e48\u53bb\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u5e38\u540c\u5b66\u4e5f\u8981\u53bb\u9752\u5c9b\uff0c\u5e76\u4e14\u5df2\u7ecf\u62a5\u4e86\u56e2\uff0c\u601d\u8003\u591a\u6b21\u540e\uff0c\u89c9\u5f97\u5750\u706b\u8f66\u524d\u5f80\u9752\u5c9b\uff0c\u4e70\u4e862\u53f7\u7684\u7968</p> <p>\u5988\u5988\u4e2d\u5348\u5e26\u6211\u53bb\u5e02\u573a\u4e70\u884c\u674e\u7bb1\uff0c\u56e0\u4e3a\u548c\u5973\u53cb\u7684\u884c\u674e\u7bb1\u662f\u540c\u6b3e\uff0c\u5728\u77e5\u9053\u4ef7\u683c\u7684\u60c5\u51b5\u4e0b\uff0c\u5411\u8001\u677f\u780d\u4ef7\u6700\u540e120\u5230\u624b</p> <p>\u4e34\u8d70\u7684\u65f6\u5019\uff0c\u6ca1\u6562\u770b\u5988\u5988\uff0c\u6210\u957f\u7684\u4ee3\u4ef7\u5c31\u662f\u79bb\u81ea\u5df1\u7684\u4eb2\u4eba\u6108\u53d1\u6108\u8fdc\uff0c\u4e00\u5e74\u4e0b\u6765\u80fd\u966a\u7236\u6bcd\u7684\u65f6\u95f4\u5c11\u4e4b\u53c8\u5c11~</p> <p>\u548c\u5973\u53cb\u5206\u522b\u4ece\u5bb6\u51fa\u53d1\u524d\u5f80\u90af\u90f8\uff0c\u5973\u53cb3\u70b9\u4ece\u5bb6\u51fa\u53d1\uff0c\u4e0d\u52305\u70b9\u5c31\u63d0\u524d\u5230\u4e86\u3002\u4e4b\u540e\u5973\u53cb\u53bb\u4e49\u5546\u80cc\u540e\u4e70\u4e86 \u91cc\u810a\u997c\uff0c\u8089\u5939\u998d\uff0c\u53e3\u888b\u998d</p> <p>\u6211\u5230\u706b\u8f66\u7ad9\u540e\u3001\u548c\u5973\u53cb\u4e00\u8d77\u5750\u786c\u5ea7\u4ece\u90af\u90f8\u5230\u77f3\u5bb6\u5e84\uff0c\u53c8\u4ece\u77f3\u5bb6\u5e84\u5367\u94fa\u53bb\u6f4d\u574a</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-1001/#1003","title":"10.03 \u521d\u9047\u9752\u5c9b","text":"<p>\u5728\u706b\u8f66\u5367\u94fa\u4e0a\uff0c\u8f66\u4e00\u505c\u5c31\u9192\uff0c\u770b\u4e86\u4e0b\u5730\u56fe\uff0c\u90af\u90f8\u5230\u9752\u5c9b\u4e2d\u95f4\u7684\u57ce\u5e02\u5206\u522b\u6709\u804a\u57ce\u3001\u6d4e\u5357\u3001\u6dc4\u535a\u3001\u6f4d\u574a\uff0c\u5176\u5b9e\u4e5f\u4e0d\u591a\uff0c\u5750\u5feb\u8f66\uff08K\u5b57\u5934\uff09\u7684\u60c5\u51b5\u5927\u6982\u57ce\u5e02\u95f4\u662f2\u4e2a\u5c0f\u65f6\uff0c\u7531\u4e8e\u662f\u4ece\u77f3\u5bb6\u5e84\u51fa\u53d1\u603b\u5171\u5927\u698210-11\u4e2a\u5c0f\u65f6</p> <p>\u5230\u6f4d\u574a\u540e\u8f6c\u8f66\u5230\u9752\u5c9b\u5317\uff0c\u5927\u69828\u70b9\u5230\u9752\u5c9b\u5317\u3002\u4e0b\u8f66\u4e0b\u8f7d\u4e86\u9752\u5c9b\u5730\u94c1app\uff0c\u53d1\u73b0\u6709\u65e5\u5361\uff0c\u82b135\u4e70\u4e863\u65e5\u5361\uff0c\u7545\u884c\u9752\u5c9b\u5730\u94c1</p> <p>\u5730\u94c1\u7b2c\u4e00\u7ad9\u662f\u5148\u53bb\u5bbe\u9986\u767b\u8bb0\u5165\u4f4f\uff0c\u7531\u4e8e\u6e38\u5ba2\u8fd8\u6ca1\u9000\u623f\uff0c\u5148\u628a\u884c\u674e\u5bc4\u5b58\u5230\u4e86\u5bbe\u9986\u201c\u6615\u9686\u6e90\u201d</p> <p>\u4e58\u5730\u94c1\u5230\u4e86\u6808\u6865\uff0c\u4eba\u5f88\u591a\uff0c\u5973\u670b\u53cb\u7b2c\u4e00\u6b21\u770b\u6d77\uff0c\u5176\u5b9e\u6211\u4e5f\u662f\u7b2c\u4e00\u6b21\u6b63\u7ecf\u7684\u770b\u6d77\uff0c\u62d6\u4e86\u978b\uff0c\u8e29\u5728\u6c99\u4e0a\uff0c\u4f34\u7740\u6d77\u98ce\uff0c\u611f\u53d7\u6d77\u6c34\u7684\u6e29\u5ea6</p> <p>\u770b\u6808\u6865\u4e0a\u7684\u4eba\u5f88\u591a\u4ee5\u4e3a\u5f88\u6324\uff0c\u5b9e\u9645\u4eba\u6d41\u91cf\u5f88\u5927\uff0c\u4e00\u6ce2\u4e00\u6ce2\u7684\u4eba\u8d70\uff0c\u4e00\u6ce2\u4e00\u6ce2\u7684\u4eba\u8fdb\uff0c\u4e0d\u4e00\u4f1a\u5c31\u8d70\u5230\u4e86\u5934\u3002</p> <p>\u62ff\u51fa\u4ece\u5bbe\u9986\u5e26\u6765\u7684\u4e94\u661f\u7ea2\u65d7\uff0c\u5728\u6808\u6865\u7684\u5c3d\u5934\uff0c\u5728\u624b\u673a\u955c\u5934\u524d\uff0c\u8086\u610f\u7684\u6325\u821e\u7740</p> <p>\u63a5\u7740\u722c\u5c71\u8def\uff0c\u8def\u4e0a\u6709\u4e00\u5bf9\u719f\u4eba\u6253\u95f9\uff0c\u5f15\u5f97\u6e38\u5ba2\u89c2\u671b\uff0c\u7531\u4e8e\u5bfc\u822a\u53bb\u5929\u4e3b\u6559\u5802\u7684\u8def\u8d70\u9519\u4e86\uff0c\u56de\u5934\u8d70\u7684\u65f6\u5019\uff0c\u719f\u4eba\u5df2\u7ecf\u505c\u6b62\u4e86\u6253\u95f9\uff0c\u4f46\u89c2\u671b\u7684\u4eba\u5374\u53d8\u591a\u4e86</p> <p>\u5230\u4e86\u5929\u4e3b\u6559\u5802\uff0c\u6ca1\u6709\u8fdb\u53bb\uff0c\u624b\u673a\u4e00\u7ad6\uff0c\u4e00\u5e62\u9ad8\u697c\u7acb\u523b\u6620\u5165\u773c\u524d\uff0c\u6253\u5361\u7684\u6e38\u5ba2\u5f88\u591a</p> <p>\u5df2\u7ecf\u4e0b\u5348\u8be5\u5403\u996d\u4e86\uff0c\u5bfc\u822a\u53bb\u4e86\u5c0f\u7ea2\u4e66\u63a8\u8350\u7684\u5c0f\u996d\u9986\uff0c\u53d1\u73b0\u8981\u6392\u961f1\u4e2a\u5c0f\u65f6\uff0c\u4fbf\u653e\u5f03\u4e86\uff0c\u515c\u515c\u8f6c\u8f6c\uff0c\u53c8\u8d70\u4e86\u5f88\u591a\u5f2f\u8def\uff08\u662f\u771f\u7684\u5f2f\u8def\uff0c\u4e0d\u5149\u5f2f\uff0c\u8fd8\u65f6\u800c\u4e0a\u5761\u65f6\u800c\u4e0b\u5761\uff09</p> <p>\u4e2d\u95f4\u8def\u8fc7\u4e86\u8fde\u9501\u5e97\uff0c\u5973\u670b\u53cb\u5acc\u4e0d\u662f\u672c\u5730\u7684\uff0c\u6ca1\u8fdb\u53bb\u5403</p> <p>\u540e\u9762\u8def\u8fc7\u4e86\u4fe1\u53f7\u5c71\u516c\u56ed\uff0c\u53c8\u53bb\u4e86\u516b\u5927\u5173\uff0c\u5728\u516b\u5927\u5173\u4e70\u4e865\u51432\u6839\u7684\u6dc0\u7c89\u80a0\uff0c\u6b64\u65f6\u53c8\u997f\u53c8\u7d2f\uff0c\u51c6\u5907\u56de\u53bb\u627e\u5403\u7684</p> <p>\u5728\u5730\u94c1\u4e0a\uff0c\u6211\u9760\u5728\u5973\u670b\u53cb\u7684\u8eab\u65c1\u772f\u4e86\u4f1a\u513f\uff0c\u9192\u6765\u65f6\uff0c\u5973\u53cb\u8bf4\u627e\u5230\u4e86\u7f8e\u98df\uff0c\u4e8e\u662f\u8ddf\u7740\u5bfc\u822a\u53bb\u4e86\u632f\u534e\u6d77\u9c9c\u5e02\u573a\uff0c\u5206\u522b\u82b128\u4e70\u4e86\u6247\u8d1d\u548c\u82b1\u7532\uff0c48\u4e70\u4e86\u8783\u87f9\u548c\u867e\uff0c\u627e\u4e86\u4e00\u5bb6\u85cf\u5728\u5e02\u573a\u91cc\u7684\u6625\u5929\u5564\u9152\u5c4b\u82b135\u52a0\u5de5\u4e86\u4e0b\uff0c\u6211\u5403\u7740\u8fd8\u4e0d\u9519\uff0c\u5973\u53cb\u89c9\u5f97\u5473\u9053\u5be1\u6de1\uff0c\u5bf9\u6d77\u9c9c\u4ea7\u751f\u4e86\u9634\u5f71</p> <p>\u7531\u4e8e\u6ca1\u5403\u9971\uff0c\u53c8\u5728\u56de\u5bbe\u9986\u8def\u4e0a\u4e70\u4e86 \u80e1\u8fa3\u6c64\u548c\u5305\u5b50</p> <p>\u5230\u5bbe\u9986\u767b\u8bb0\u540e\uff0c\u7531\u4e8e\u5b9a\u7684\u623f\u95f4\u7a7a\u95f4\u592a\u5c0f\uff0c\u5973\u53cb\u627e\u8001\u677f\u534f\u5546\u6362\u5230\u4e86\u4e00\u4e2a\u67091.5m\u7684\u5e8a\uff0c\u4f46\u7a7a\u95f4\u7565\u663e\u5927\u7684\u623f\u95f4</p> <p>\u7b80\u5355\u6b47\u4e86\u4f1a\uff0c\u5973\u53cb\u548c\u5e38\u540c\u5b66\u804a\u5929\uff0c\u6c9f\u901a\u524d\u5f80\u53bb\u4e94\u56db\u5e7f\u573a\uff0c\u5728\u4e94\u56db\u5e7f\u573a\u4eba\u4e5f\u5f88\u591a\uff0c\u6709\u7740\u5f88\u7f8e\u7684\u706f\u5149\u79c0\uff08\u7b2c\u4e00\u6b21\u89c1\u5230\u4e00\u5806\u5927\u697c\u5728\u540c\u4e00\u65f6\u523b\u95ea\u70c1\u7740\u4e00\u5e45\u753b\u9762\u7684\u573a\u666f\uff09\uff0c\u62cd\u4e86\u62cd\u7167\u540e\u56de\u5230\u5bbe\u9986\uff0c\u5973\u53cb\u6d17\u6d17\u5c31\u7761\u4e86\uff0c\u5927\u997c\u7b80\u5355\u770b\u4e86\u4e0b\u89c6\u9891\u540e\u4e5f\u51c6\u5907\u7761\u4e86</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-1001/#1004","title":"10.04 \u5439\u98ce\u89c2\u6d77","text":"<p>\u7b2c\u4e8c\u5929\u5728\u5bbe\u9986\u9644\u8fd1\u5403\u7684\u65e9\u9910\uff0c\u9e21\u8089\u9985\u997c\u8ba9\u4eba\u201c\u6d41\u8fde\u5fd8\u8fd4\u201d</p> <p>\u51fa\u53d1\u6253\u5361\u77f3\u8001\u4eba\u6d77\u6c34\u6d74\u573a\uff0c\u6d77\u6c34\u5f88\u84dd\uff0c\u5973\u53cb\u4e00\u8fb9\u73a9\u6c34\uff0c\u4e00\u8fb9\u6361\u8d1d\u58f3\u8783\u87f9\uff0c\u5728\u8fd9\u62cd\u5230\u4e86\u5f88\u591a\u7f8e\u7f8e\u7684\u7167\u7247\uff0c\u7531\u4e8e\u5446\u7684\u5730\u65b9\u6da8\u6f6e\u4e86\uff0c\u4fbf\u51c6\u5907\u524d\u5f80\u4e0b\u4e00\u4e2a\u666f\u70b9\u5c0f\u9ea6\u5c9b</p> <p>\u6b64\u65f6\u5df2\u7ecf\u662f2\u70b9\u591a\u4e86\uff0c\u8be5\u5403\u5348\u996d\u4e86\uff0c\u5728\u627e\u6e58\u83dc\u7684\u8def\u4e0a\uff0c\u53d1\u73b0\u4e00\u4e2a\u5c0f\u9762\u9986\uff0c\u70b9\u4e86\u671d\u9c9c\u51b7\u9762\uff0c\u6d77\u9c9c\u9762\uff0c\u9752\u5c9b\u51c9\u7c89\uff0c\u5c0f\u8471\u62cc\u725b\u8089\uff0c\u8fd8\u70b9\u4e86\u4e24\u74f6\u5d02\u5c71\u5564\u9152\uff0c\u4f34\u7740\u8212\u9002\u7684\u5c0f\u98ce\uff0c\u5927\u997c\u6d45\u6d45\u7684\u7761\u4e86</p> <p>\u7761\u9192\u4e86\u540e\uff0c\u524d\u5f80\u5c0f\u9ea6\u5c9b\uff0c\u5728\u5c0f\u9ea6\u5c9b\u770b\u5230\u4e86\u65e5\u843d\uff0c\u8fd8\u56e0\u4e3a\u6ca1\u62cd\u597d\u7167\uff0c\u518d\u4e00\u6b21\u548c\u5973\u53cb\u53d1\u751f\u4e86\u53e3\u89d2\u3002</p> <p>\u6162\u6162\u5230\u5929\u8272\u53d8\u6697\uff0c\u770b\u5230\u9ad8\u697c\u7684\u706f\u5149\u79c0\u518d\u8d77\uff0c\u5750\u5728\u8349\u576a\uff0c\u542c\u7740\u6b4c\uff0c\u4f34\u7740\u5fae\u5fae\u7684\u6d77\u98ce</p> <p>\u56de\u53bb\u7684\u8def\u4e0a\u770b\u5230\u4e86\u674e\u6751\u5730\u94c1\u7ad9\u7684\u4eba\u4eec\u62ff\u7740\u5f88\u591a\u96f6\u98df\uff0c\u4fbf\u524d\u5f80\u674e\u6751\u591c\u5e02\uff08\u5927\u53f7\u7684\u5eb7\u5fb7\u591c\u5e02\uff09\uff0c\u4e70\u4e86\u9e21\u8089\u998d\uff0c\u4e32\u4e32\u5403\uff0c\u53c8\u662f\u5fd9\u788c\u7684\u4e00\u5929</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-1001/#1005","title":"10.05 \u6d41\u8fde\u5fd8\u8fd4","text":"<p>\u5148\u53bb\u4e86\u9752\u5c9b\u7b2c\u4e8c\u6d77\u6c34\u6d74\u573a\uff0c\u770b\u5230\u4e86\u7901\u77f3\uff0c\u63a5\u7740\u6b65\u884c\u524d\u5f80\u7b2c\u4e00\u6d77\u6c34\u6d74\u573a\uff0c\u5728\u6d77\u8fb9\u8d70\u4e86\u4e2a\u6765\u56de\uff08\u4e0d\u7ba1\u662f\u7b2c\u4e00\u8fd8\u662f\u7b2c\u4e8c\uff0c\u90fd\u6ca1\u6709\u6628\u5929\u6253\u5361\u7684\u77f3\u8001\u4eba\u6d74\u573a\u7684\u6d77\u6c34\u4ee4\u4eba\u5411\u5f80\uff09</p> <p>\u5973\u53cb\u63d0\u51fa\u8981\u5403\u996d\uff0c\u627e\u5403\u7684\u627e\u4e86\u534a\u5929\uff0c\u6700\u540e\u53bb\u4e86\u4e94\u56db\u5e7f\u573a\u65c1\u7684\u4e07\u8c61\u57ce\uff0c\u5728\u4e07\u8c61\u57ce\u4e70\u4e86\u81ea\u52a9\u5c0f\u706b\u9505\uff0c\u6392\u961f\u53c8\u6392\u4e86\u534a\u4e2a\u5c0f\u65f6</p> <p>\u7ec8\u4e8e\u8f6e\u5230\u6211\u4eec\u7684\u53f7\u4e86\uff0c\u7b49\u9505\u5f00\u4e86\uff0c\u6211\u5927\u53e3\u5403\u7740\u897f\u74dc\uff0c\u559d\u7740\u996e\u6599\uff0c\u716e\u4e86\u5f88\u591a\u8089\uff0c\u5c4e\u610f\u6e10\u8d77\uff0c\u6211\u6ca1\u6709\u5728\u610f\uff0c\u53c8\u559d\u4e86\u676f\u51b7\u996e\u540e\u524d\u5f80\u5395\u6240\uff0c\u6700\u540e\u6ca1\u5fcd\u4f4f\u62c9\u4e86\u88e4\u91cc\uff0c\u597d\u6b79\u662f\u5728\u4e07\u8c61\u57ce\uff0c\u5904\u7406\u4e86\u597d\u4e45\u7684\u201c\u4e8b\u6545\u201d\u73b0\u573a\u3002</p> <p>\u5403\u5b8c\u592a\u9633\u5df2\u7ecf\u843d\u5c71\u4e86\uff0c\u6211\u4eec\u53c8\u5728\u5915\u9633\u7684\u4f59\u6656\u4e0b\u627e\u5bfb\u7740\u53bb\u71d5\u513f\u5c9b\u7684\u8def</p> <p>\u5728\u71d5\u513f\u5c9b\u770b\u5230\u4e86\u60ca\u6d9b\u62cd\u5cb8\uff0c\u96f6\u661f\u6709\u4e9b\u9493\u9c7c\u4eba\u5728\u9ed1\u591c\u4e2d\u63a2\u5bfb\u201d\u730e\u7269\u201c\uff0c\u5750\u5728\u5c9b\u524d\u611f\u53d7\u6d77\u98ce\uff0c\u770b\u7740\u6e38\u8f6e\u548c\u706f\u5149\u79c0\uff0c\u548c\u5973\u53cb\u6570\u7740\u6709\u51e0\u4e2a\u706f\u5149\u989c\u8272\uff0c\u84dd\u8272\uff0c\u7ea2\u8272\uff0c\u7d2b\u8272\uff0c\u7eff\u8272... \u597d\u591a\u989c\u8272</p> <p>\u56de\u5230\u5bbe\u9986\uff0c\u5b89\u987f\u4e86\u4e0b\u7535\u91cf\uff0c\u6536\u62fe\u4e86\u4e0b\u884c\u674e\uff0c\u5c31\u6b47\u7740\u4e86...</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-1001/#1006","title":"10.06 \u8fd4\u7a0b\u8def\u4e0a","text":"<p>10.6\u662f\u5728\u706b\u8f66\u5ea6\u8fc7\u7684\u4e00\u5929\uff0c8:59\u4ece\u9752\u5c9b\u5317\u59cb\u53d1\uff0c21:45\u5230\u8fbe\u77f3\u5bb6\u5e84</p> <p>\u8fc7\u7a0b\u4e2d\u7761\u89c9\uff0c\u542c\u6b4c\uff0c\u548c\u5973\u53cb\u95f2\u804a\uff0c\u5728\u5e7f\u5e73\u7ad9\u9001\u522b\u4e86\u5973\u53cb\uff0c\u53c8\u5728\u5e7f\u5e73\u7ad9\u63a5\u5230\u4e86\u5973\u53cb\u5f1f\u5f1f\uff0c\u4e00\u8d77\u8bf4\u8bdd\u5230\u4e86\u90af\u90f8\uff081\u4e2a\u5c0f\u65f6\uff09</p> <p>\u5230\u77f3\u5bb6\u5e84\u540e\uff0c\u5728\u77f3\u5bb6\u5e84\u8f66\u7ad9\u5019\u8f66\uff0c\u5199\u4e86\u4e0b\u5f53\u524d\u7684\u8fd9\u4efd\u8bb0\u5f55\uff0c\u5199\u5230\u665a\u4e0a12\u70b9\u5df2\u7ecf\u5f88\u56f0\u4e86</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-1001/#1007","title":"10.07 \u725b\u9a6c\u8fd4\u4eac","text":"<p>\u7d27\u63a5\u7740\u56f0\u610f\u6e10\u8d77\uff0c\u7528\u5404\u79cd\u59ff\u52bf\u5c1d\u8bd5\u7761\u89c9\uff0c\u65e0\u679c\uff0c\u6700\u540e\u8fd8\u662f\u542c\u6b4c\u804a\u4ee5\u81ea\u6170</p> <p>\u52302\u70b9\u7684\u65f6\u5019\uff0c\u7238\u7238\u7ed9\u6253\u8fc7\u6765\u7535\u8bdd\uff0c\u540e\u9762\u6253\u7535\u8bdd\u7684\u65f6\u5019\u624d\u77e5\u9053\uff0c\u7238\u7238\u62c5\u5fc3\u6211\u53ef\u80fd\u4f1a\u8bef\u8f66\uff0c\u4e00\u76f4\u6ca1\u7761\uff0c\u540e\u9762\u7ed9\u6211\u6253\u5b8c\u7535\u8bdd\u624d\u7761... \uff08\u867d\u7136\u884c\u4e3a\u4e0a\u6709\u70b9\u513f\u8822\u8822\u7684\u3002\u4f46\u6211\u80fd\u611f\u53d7\u5230\u7236\u6bcd\u5bf9\u5b69\u5b50\u7684\u65e0\u79c1\u7684\u7231\uff09</p> <p>\u7ec8\u4e8e\u8fce\u6765\u4e86\u5217\u8f66\u68c0\u7968\u7684\u573a\u666f\uff0c\u4eba\u633a\u591a\uff0c\u672c\u8be5\u51cc\u66682:37\u51fa\u53d1\uff0c\u5b9e\u96452:52\u51fa\u53d1\u7684\u3002</p> <p>\u5728\u706b\u8f66\u4e0a\u4eba\u6324\u4eba\uff0c\u8fde\u4e0b\u811a\u7684\u5730\u65b9\u90fd\u6ca1\u6709\uff0c\u5c31\u8fd9\u6837\u542c\u7740\u8eab\u65c1\u5b66\u751f\u7684\u5520\u55d1\uff0c\u5ea6\u8fc7\u4e86\u8270\u96be\u76843\u4e2a\u5c0f\u65f6\u706b\u8f66\u884c\u7a0b\u3002</p> <p>\u63a5\u4e0b\u6765\u5982\u540c\u5f80\u5e38\uff0c\u5750\u5730\u94c1\u56de\u5bb6\uff0c\u7761\u89c9\uff0c\u6d17\u8863\u670d\uff0c\u770b\u624b\u673a\uff0c\u6d17\u6fa1\uff0c\u6d17\u8863\u670d\uff0c\u7761\u89c9\uff0c\u6253\u6e38\u620f\uff0c\u5e73\u5e38\u7684\u4e00\u5929</p> <p>\u5230\u4e86\u665a\u4e0a\uff0c\u5973\u53cb\u5206\u4eab\u540c\u4e8b\u76f8\u4eb2\u7684\u4e8b\uff0c\u665a\u4e0a\u505a\u68a6\u5c31\u68a6\u5230\u4e86</p> <p>\u68a6\u5230\u4f60\u53bb\u76f8\u4eb2\uff0c\u4e00\u5468\u4e4b\u5185\u5c31\u51b3\u5b9a\u597d\u7ed3\u5a5a\u4e86\u3002\u7ed3\u5a5a\u524d\u4e00\u5929\u8fd8\u627e\u6211\u8bd5\u4e86\u4e0b\u7b2c\u4e00\u6b21make love\uff0c\u6211\u53ea\u662f\u8fdb\u53bb\u4e86\u4e00\u4e0b\u3002\u6211\u8ddf\u8f66\u8ddf\u5230\u4f60\u5a5a\u793c\u7684\u5730\u65b9\uff0c\u6ca1\u6709\u95f9\uff0c\u5fae\u4fe1\u91cc\u95ee\u4f60\uff0c\u5565\u65f6\u5019\u751f\u4e2a\u5927\u80d6\u5c0f\u5b50</p> <p>\u665a\u4e0a\u770b\u4e86\u4e00\u96c6\u591a\u7684\u82cf\u4e1c\u5761\u7684\u7eaa\u5f55\u7247\uff0c\u957f\u89c1\u8bc6\u4e14\u52a9\u7720\uff0c\u665a\u5b89~</p> <p></p>"},{"location":"enjoy/travel/2024/2024-1216/","title":"2024-\u51ac\u5b63\u76f8\u9047","text":""},{"location":"enjoy/travel/2024/2024-1216/#1213","title":"12.13","text":"<p>\u6708\u5f64\u548c\u5979\u5bf9\u8c61\uff0c\u5e26\u7740\u738b\u5f64\u53bb\u90af\u90f8\uff0c\u4e00\u8d77\u5728\u65b0\u4e39\u5170\u4e70\u7684\u996d\uff0c\u5403\u5b8c\u996d\u540e\uff0c\u738b\u5f64\u5750\u706b\u8f66\u8fdb\u4eac</p> <p>\u5230\u4e86\u665a\u4e0a\uff0c\u5927\u997c\u53bb\u5730\u94c1\u7ad9\u63a5\u738b\u5f64\uff0c\u665a\u996d\u5403\u7684\u7709\u5dde\u5c0f\u5403\uff0c\u6709\u7092\u996d\uff0c\u8304\u5b50\uff0c\u5c0f\u9165\u8089\u8c46\u8150\uff0c\u751c\u6c34\u9e2d\uff0c\u5403\u996d\u65f6\u738b\u5f64\u8bf4\u81ea\u5df1\u6708\u7ecf\u6765\u4e86..</p> <p>\u5230\u4e86\u4f4f\u5bbf\u7684\u5730\u65b9\uff0c\u867d\u7136\u6709\u65b0\u4e70\u7684\u7535\u70ed\u6bef\uff0c\u6ca1\u90a3\u4e48\u6696\u548c...</p> <p></p>"},{"location":"enjoy/travel/2024/2024-1216/#1214","title":"12.14","text":"<p>\u4e0a\u5348\u662f\u6d17\u6f31\uff0c\u78e8\u8e6d\uff0c\u770b\u4e66\uff0c\u5237\u89c6\u9891</p> <p>\u4e2d\u5348\u70b9\u4e86\u5916\u5356\u3001\u5df4\u4f9d\u8001\u7237\uff0c\u5973\u53cb\u8bf4\u996d\u633a\u597d\u5403\uff0c\u665a\u996d\u70ed\u4e86\u70ed\u5269\u4f59\u7684\u996d\u7ee7\u7eed\u5403</p> <p>\u665a\u4e0a\u770b\u4e86\u4f1a\u513f\u4e66\uff0c\u738b\u5f64\u5728\u5237\u624b\u673a</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-1216/#1215","title":"12.15","text":"<p>\u5e26\u738b\u5f64\u53bb\u4e86\u8d9f\u671d\u9633\u5927\u60a6\u57ce\uff08\u5e76\u6ca1\u6709\u901b\u4ec0\u4e48\uff0c\u6ca1\u4ec0\u4e48\u4e50\u5b50\uff09\u3001\u4e70\u4e86\u676f\u5976\u8336\u3001\u5403\u4e86\u7172\u4ed4\u7687\uff08\u4efd\u91cf\u4e0d\u591a\uff09</p> <p>\u51fa\u6765\u540e\uff0c\u5728\u9752\u5e74\u8def\u9644\u8fd1\u5151\u6362\u4e86\u7d2b\u5149\u56ed\u7684\u5976\u76ae\u5b50\u9178\u5976\uff0c\u7136\u540e\u5750\u5730\u94c1\u56de\u6765\uff08\u5730\u94c1\u6765\u56de2\u5c0f\u65f6\uff0c\u82b1\u8d392\u4eba20\u5143\uff0c\u4e0d\u503c\u5f53\u7684\u4f53\u9a8c2333\uff09</p> <p>\u665a\u4e0a\u56de\u6765\u7761\u4e86\u4f1a\u513f\uff0c\u70b9\u4e86\u5916\u5356 \u9ebb\u8fa3\u9999\u9505\uff08\u505a\u7684\u53e3\u5473\u4e00\u822c\uff09\uff0c\u5927\u997c\u6d45\u6d45\u7684\u7761\u4e86\u4f1a\u513f</p> <p> </p>"},{"location":"enjoy/travel/2024/2024-1216/#1216","title":"12.16","text":"<p>\u5927\u997c\u65e9\u4e0a6.20\u65e9\u8d77\uff0c\u4e70\u4e86\u997c\uff0c\u5750\u5730\u94c1\u9001\u738b\u5f64\u5750\u706b\u8f66</p>"},{"location":"enjoy/travel/2025/2025-0404/","title":"2025-\u6e05\u660e","text":""},{"location":"enjoy/travel/2025/2025-0404/#0404","title":"04.04","text":"<p>\u63d0\u524d\u4e00\u5929\uff0804.03\uff09\u5728\u7ebf\u4e0b\u5e97\u4e70\u4e86\u8fbe\u7f8e\u4e50\u62ab\u8428\uff08\u4e70\u4e00\u8d60\u4e00\uff09</p> <p>\u4e70\u4e86\u5468\u516d\u798f\u9879\u94fe\u3001\u5e26\u4e86\u7535\u8111\u9001\u7ed9\u5973\u670b\u53cb\u505a\u751f\u65e5\u793c\u7269\uff08\u5c34\u5c2c\u7684\u662f\uff0c\u56de\u90af\u90f8\u5fd8\u62ff\u624b\u673a\u5145\u7535\u7ebf\u4e86\uff09</p> <p></p> <p>\u548c\u5973\u670b\u53cb\u78e8\u4e86\u4e0b\u53e3\u89d2\uff0c\u63a5\u7740\u53bb\u4e86\u5929\u9e3f\u5403\u4e86\u6cb3\u5317\u5c0f\u653e\u725b\uff0c\u6709\u4e09\u4e2a\u83dc\uff1a\u560e\u560e\u9c7c\u3001\u5bb6\u5e38\u8c46\u8150\u3001\u9e21\u6392</p> <p></p> <p>\u5403\u5b8c\u4ee5\u540e\uff0c\u53c8\u95f9\u4e86\u5c0f\u522b\u626d\uff0c\u6211\u4e00\u4e2a\u4eba\u53bb\u770b\u4e86\u95ee\u754c\u7684\u8f66\uff0c\u5973\u670b\u53cb\u53bb\u770b\u4e86\u963f\u8fea\u7684\u978b</p> <p>\u665a\u4e0a\u4e00\u8d77\u770b\u4e86\u300a\u82e6\u5c3d\u7518\u6765\u9047\u89c1\u4f60\u300b\u7684\u6700\u540e\u4e00\u96c6\uff0c\u91cd\u6e29\u4e00\u904d\u8fd8\u662f\u4f1a\u54ed\ud83d\ude2d</p> <p></p>"},{"location":"enjoy/travel/2025/2025-0404/#0405","title":"04.05","text":"<p>\u4e2d\u5348\u901b\u4e86\u690d\u7269\u56ed\uff0c\u5728\u8def\u8fb9\u5403\u4e86\u51b7\u4e32\u548c\u51b0\u7c89\u513f</p> <p> </p> <p>\u7d27\u63a5\u7740\u6253\u8f66\u53bb\u4e86\u7ed3\u77f3\u533b\u9662\u62a5\u9500\u4e86\u4e2d\u836f\u7684\u94b1\uff0c\u9a91\u8f66\u5230\u4e86\u5eb7\u5fb7\u9644\u8fd1\uff0c\u5403\u4e86\u5c0f\u706b\u9505\u81ea\u52a9</p> <p></p> <p>\u63a5\u7740\u53bb\u65b0\u4e16\u7eaa\u901b\u4e86\u4e9a\u745f\u58eb\uff0c\u7531\u4e8e\u978b\u5b50\u8d85\u4e86\u5fc3\u91cc\u7684\u9884\u7b97\uff0c\u6ca1\u4e70\uff0c\u5973\u670b\u53cb\u4e0d\u5f00\u5fc3\uff08\u5f53\u65f6\u98ce\u8fd8\u633a\u5927\uff0c\u4e24\u4e2a\u4eba\u4e92\u76f8\u4e0d\u642d\u7406\uff09</p>"},{"location":"enjoy/travel/2025/2025-0404/#0406","title":"04.06","text":"<p>\u966a\u738b\u5f64\u5728\u7f8e\u4e50\u57ce\u8fc7\u751f\u65e5\uff0c\u5403\u7684\u5df4\u5974\u706b\u9505\uff0c\u5e38\u540c\u5b66\u5728\u7f51\u4e0a\u9884\u8ba2\u4e86\u86cb\u7cd5\uff0c\u51fa\u4eba\u610f\u6599\u7684\u662f\u706b\u9505\u5e97\u9001\u4e86\u957f\u5bff\u9762</p> <p> </p> <p>\u9a91\u81ea\u884c\u8f66\u5230\u90af\u90f8\u7ad9\uff0c\u65f6\u95f4\u5f88\u8d76\uff0c\u4e00\u8def\u4e0a\u9a91\u7684\u817f\u90fd\u9178\u4e86\uff0c\u597d\u5728\u6709\u60ca\u65e0\u9669\uff0c\u8d76\u4e0a\u4e86\u5217\u8f66\uff0c\u53ea\u662f\u7531\u4e8e\u5929\u6c14\u7684\u539f\u56e0\uff0c\u4e0a\u8f66\u540e\u6ca1\u6709\u7a7a\u8c03\uff0c\u4e00\u76f4\u5728\u51fa\u6c57</p> <p>\u5728\u706b\u8f66\u4e0a\uff0c\u5237\u4e86500-600\u9053\u79d1\u76ee\u56db\u7684\u9898</p> <p>\u63a5\u7740\u770b\u4e86\u7535\u5f71\u300a\u516d\u5927\u961f\u300b\uff0c\u8bb2\u4e86\u5acc\u7591\u4eba\u6709\u9884\u8c0b\u4f5c\u6848\uff0c\u5e76\u6545\u610f\u8ba9\u54e5\u54e5\u88ab\u8b66\u5bdf\u902e\u6355\uff0c\u88ab\u8b66\u5bdf\u8bef\u4f24\u81f4\u6b7b\uff0c\u6574\u4e2a\u516d\u5927\u961f\u90fd\u5750\u4e86\u7262\uff0c\u51fa\u72f1\u540e\u4e3a\u4e86\u5f25\u8865\u6b7b\u53bb\u7684\u5e08\u5085\u7684\u9057\u61be\uff0c\u6700\u7ec8\u5c06\u5acc\u7591\u4eba\u6293\u6355\u5f52\u6848\u7684\u6545\u4e8b\u3002</p> <p>\u6700\u540e\u6709\u60ca\u65e0\u9669\u7684\u8d76\u4e0a\u4e8610\u53f7\u7ebf\u7684\u6700\u540e\u4e00\u73ed\u8f66\uff0c\u6d77\u6dc0\u9ec4\u5e84-&gt;\u5065\u5fb7\u95e8\uff0c\u6d17\u4e2a\u6fa1\u7ed3\u675f\u4e86\u672c\u6b21\u7684\u6e05\u660e\u8282</p>"},{"location":"enjoy/travel/2025/2025-0501/","title":"2025-\u4e94\u4e00","text":""},{"location":"enjoy/travel/2025/2025-0501/#0501","title":"05.01","text":"<p>\u738b\u5f64\u65e9\u4e0a\u53bb\u90a2\u53f0\u53c2\u52a0\u59b9\u59b9\u7684\u6210\u4eba\u793c\uff0c\u7136\u540e\u5f00\u8f66\u6765\u90af\u90f8\u3002</p> <p>\u5728\u4e1b\u53f0\u8def\u9644\u8fd1\u4f4f\u7684\uff0c\u8def\u4e0a\u95f2\u901b\u53bb\u8d75\u4e00\u9e23\u4e70\u4e86\u6c34\u548c\u96f6\u98df</p> <p>\u8d70\u5230\u4e86\u8001\u4e07\u8fbe\uff0c\u60f3\u627e\u738b\u5f64\u9ad8\u4e2d\u5403\u7684\u7c73\u7ebf\u6ca1\u627e\u5230</p> <p>\u9a91\u8f66\u56de\u5230\u4e86\u9752\u5e74\u8def\uff0c\u665a\u4e0a\u4e70\u4e86\u5c0f\u9f99\u867e\uff0c\u897f\u74dc(\u5c0f\u540a\u74dc) \uff0c\u9ebb\u8fa3\u62cc\u5403</p> <p></p>"},{"location":"enjoy/travel/2025/2025-0501/#52","title":"5.2","text":"<p>\u5f00\u8f66\u53bb\u4e2d\u4ecb\u5e97\u95e8\u53e3\uff0c\u5728\u95e8\u53e3\u7684\u91ce\u5c1a\u81b3\u5403\u4e86\u5305\u5b50\uff0c\u4e2d\u4ecb\u5e26\u770b\u4e86\u4e00\u5929\u623f\u5b50</p> <p></p> <p>\u4e2d\u5348\u4e2d\u4ecb\u8bf7\u5403\u7684\u9978\u6d1b\u9762</p> <p>\u4e00\u5929\u4e0b\u6765\u770b\u4e86\u65b0\u79d1\u56ed\u3001\u67ab\u4e39\u767d\u9732\u3001\u4e1c\u5c1a\u540d\u5ead\u3001\u8363\u76db\u5b98\u90b8</p> <p>\u665a\u4e0a\u738b\u5f64\u70b9\u4e86\u7c73\u7ebf\uff0c\u5927\u997c\u5403\u7684\u96f6\u98df</p> <p></p>"},{"location":"enjoy/travel/2025/2025-0501/#53","title":"5.3","text":"<p>\u65e9\u4e0a\u5728\u9152\u5e97\u5403\u4e86\u65e9\u9910 </p> <p>\u4e2d\u5348\u5728\u7f57\u5170\u6625\u5929\u9644\u8fd1\u7684\u5e97\u5403\u7684\u897f\u7ea2\u67ff\u9e21\u86cb\u9762\uff0c\u51c9\u76ae</p> <p>\u56de\u6765\u665a\u4e86\uff0c\u9152\u5e97\u90a3\u91cc\u6ca1\u6709\u505c\u8f66\u4f4d\u4e86\uff0c\u5e76\u4e14\u98ce\u8fd8\u633a\u5927\uff0c\u597d\u5728\u524d\u53f0\u5f15\u5bfc\u6211\u4eec\u505c\u5230\u4e86\u5c0f\u533a\u7684\u505c\u8f66\u4f4d\u91cc\uff0c\u505c\u8f66\u4f4d\u8fd8\u662f\u5347\u964d\u7684\uff0c\u633a\u9ad8\u7ea7\uff01</p> <p>\u665a\u4e0a\u5728\u9152\u5e97\u9644\u8fd1\u5403\u7684\u9e21\u516c\u7172</p> <p></p> <p>\u4e00\u5929\u4e0b\u6765\u770b\u4e86\u4e1c\u90e8\u7f8e\u7684\u57ce\u3001\u7f57\u5170\u6625\u5929\u3001\u541b\u5170\u82d1</p> <p>\u770b\u4e86\u770b\u623f\u5b50\uff0c\u665a\u4e0a\u4e70\u4e86\u4f18\u8863\u5e93\u7684\u8863\u670d</p> <p></p>"},{"location":"enjoy/travel/2025/2025-0501/#54","title":"5.4","text":"<p>\u65e9\u4e0a\u9152\u5e97\u65e9\u9910</p> <p>\u4e2d\u5348\u86cb\u7092\u996d\uff0c\u7092\u6cb3\u7c89</p> <p></p> <p>\u4e0b\u5348\u5148\u627e\u5230\u4e86\u5e38\u540c\u5b66\uff0c\u4e00\u8d77\u53bb\u4e86\u6ecf\u9633\u516c\u56ed\uff0c\u7136\u540e\u5e38\u540c\u5b66\u9886\u6211\u4eec\u901b\u4e86\u7d2b\u91d1\u53f0\uff0c\u7b97\u4e86\u4e0b\u4ef7\u683c\uff0c140\u5e73\u7684\u623f\u5b50\u5355\u4ef7\u6bd4130\u5e73\u7684\u623f\u5b50\u8fd8\u4fbf\u5b9c</p> <p> </p> <p>\u665a\u4e0a\u5728\u4eba\u548c\u5c0f\u533a\u4e1c\u4fa7\u4e70\u7684\u9ebb\u8fa3\u62cc\uff0c\u9e21\u86cb\u704c\u997c\uff0c\u70b8\u9e21\uff08\u6ca1\u5403\u5b8c\uff09</p> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u5927\u54e5\u7ed9\u7684\u9ebb\u8fa3\u62cc\u5206\u91cf\u5f88\u8db3\uff0c\u4e24\u4e2a\u4eba\u90fd\u80fd\u5c06\u5c06\u5403\u9971\uff01</p> <p></p>"},{"location":"enjoy/travel/2025/2025-0501/#55","title":"5.5","text":"<p>\u9a91\u884c\u53bb\u4e86\u65b0\u4e39\u5170\uff0c\u9644\u8fd1\u5403\u7684\u5e73\u9505\u9c7c\uff0c\u5bb6\u5e38\u8c46\u8150\uff0c\u6ca1\u5403\u5b8c</p> <p> </p> <p>\u4e0b\u5348\u5148\u53bb\u7f8e\u4e50\u57ce\u859b\u8bb0\u7092\u8d27\uff0c\u53c8\u5728\u5929\u9e3f\u7684\u597d\u60f3\u6765\u4e70\u4e86\u4e9b\u996e\u6599\u559d\u7684</p> <p>\u665a\u4e0a\u5750808\u56de\u5bb6\uff0c\u5bb6\u95e8\u53e3\u5728\u4fee\u8def\uff0c\u8fd8\u6709\u611f\u53d7\u5c31\u662f\u5171\u4eab\u7535\u52a8\u8f66\u660e\u663e\u53d8\u5c11\u4e86</p>"},{"location":"enjoy/travel/2025/2025-0501/#56","title":"5.6","text":"<p>\u65e9\u996d\u5403\u4e86\u5927\u80a0\uff0c\u732a\u5934\u8089\uff0c\u6cb9\u6761</p> <p>\u4e0b\u5348\u5750\u706b\u8f66\uff0c\u60f3\u53bb\u5eb7\u5fb7\u9644\u8fd1\u4e70\u5403\u7684\uff0c\u4f46\u6ca1\u6709</p> <p>\u665a\u4e0a\u4e70\u4e86\u997c\u52a0\u9e21\u86cb\u706b\u817f\uff0c\u56de\u6765\u6d17\u6f31\u6d17\u8863\u670d</p> <p>\u5047\u671f\u7ed3\u675f\uff0c\u671f\u5f85\u518d\u4f1a\uff01</p>"},{"location":"enjoy/travel/2025/2025-0501/#_1","title":"\u9644\u5f55","text":"<p>\u770b\u623f\u8bb0\u5f55</p>"},{"location":"enjoy/travel/2025/2025-0531/","title":"\u7aef\u5348\u5c0f\u5047\u671f","text":""},{"location":"enjoy/travel/2025/2025-0531/#0531","title":"05.31","text":"<p>\u5750\u8f66\u56de\u90af\u90f8\uff0c\u548c\u5f64\u5f64\u4e00\u8d77\u770b\u623f\u3002 \u770b\u4e86\u65b0\u65b0\u5bb6\u56ed\u5c0f\u9ad8\u5c423\u5957</p> <ul> <li>16\u5c42 110\u5e73 \u671f\u671b\u6210\u4ea41w/\u5e73 (\u6bcf\u4e2a\u5c4b\u5b50\u90fd\u6709\u7a97\u6237\u3001\u4f46)</li> <li>16\u5c42 147\u5e73 \u6302\u724c133w</li> <li>3\u5c42 110\u5e73 \u671f\u671b\u6210\u4ea4118w</li> </ul> <p>\u665a\u996d\u5403\u7684\u738b\u5f0f\u725b\u8089\u6c64\uff0c\u597d\u5403\u4e0d\u8d35\u3002\u5230\u5bbe\u9986\u540e\u5403\u4e86\u5f64\u5f64\u7ed9\u4e70\u7684\u751f\u65e5\u86cb\u7cd5\uff0c\u975e\u5e38\u503c\u5f97\u7eaa\u5ff5\ud83d\ude4f</p> \u86cb\u7cd5 \u5408\u5f71"},{"location":"enjoy/travel/2025/2025-0531/#0601","title":"06.01","text":"<p>\u65e9\u996d\u5728\u996d\u5e97\u5403\uff0c\u6709\u7092\u5305\u5b50\u7684\u539f\u56e0\uff0c\u5403\u4e86\u4e24\u7897\u3002</p> <p></p> <p>\u5728\u51fa\u79df\u5c4b\u542c\u6b4c\u770b\u4e66&lt;\u9a6c\u65af\u514b\u4f20&gt;</p> <p>\u4e2d\u5348\u53bb\u5929\u9e3f\u5403\u4e86\u963f\u4e0a\u963f\u4e0a\u9ebb\u8fa3\u70eb\uff0c\u8fd8\u662f\u4e00\u5982\u65e2\u5f80\u7684\u597d\u5403</p> <p></p> <p>\u665a\u4e0a\u5403\u7684\u751f\u83dc\u5377\u706b\u9e21\u9762\uff0c\u8089\uff0c\u867e</p> <p></p>"},{"location":"enjoy/travel/2025/2025-0531/#0602","title":"06.02","text":"<p>\u65e9\u996d\u5728\u996d\u5e97\u5403\uff0c\u53c8\u5403\u4e86\u4e24\u7897</p> <p></p> <p>\u4e2d\u5348\u5403\u7684\u70e4\u9c7c\u8bf1\u60d1\uff0c\u9ebb\u8fa3\u5473\u7684\uff0c\u4f46\u4e0d\u662f\u5f88\u8fa3</p> \u70e4\u9c7c \u51b0\u6fc0\u51cc <p>\u4e0b\u5348\u53bb\u533b\u9662\u62a5\u9500\u4e86\u533b\u836f\u8d39\uff0c\u63a5\u7740\u53bb\u4ece\u53f0\u516c\u56ed\u6545\u5730\u91cd\u6e38\uff0c\u80e1\u670d\u9a91\u5c04\u7684\u53f0\u5b50\u5df2\u7ecf\u514d\u8d39\u4e86\u3002\u516c\u56ed\u6574\u4f53\u6574\u7684\u4e5f\u86ee\u4e0d\u9519\u7684\u3002</p> <p></p> <p>\u665a\u4e0a\u548c\u5f64\u5f64\u4e70\u7684\u897f\u74dc\uff0c\u8461\u8404\uff0c\u867e\uff0c\u706b\u9505\u4e38\u5b50\uff0c\u716e\u7684\u87ba\u86f3\u7c89\uff0c\u5f88\u597d\u5403\u3002</p> <p></p>"},{"location":"enjoy/travel/2025/2025-0531/#0603","title":"06.03","text":"<p>\u65e9\u996d\u4e00\u8d77\u716e\u7684\u87ba\u86f3\u7c89</p> <p>\u4e2d\u5348\u5403\u4e86\u8305\u5e90\u5ddd\u83dc\uff0c\u70b9\u4e86\u8fa3\u5b50\u9e21\u548c\u725b\u8089\u8c46\u8150\uff0c\u670d\u52a1\u5f88\u597d\uff0c\u996d\u4e5f\u5f88\u597d\u5403\uff0c\u4e0d\u8fc7\u548c\u670d\u52a1\u5458\u53cd\u9988\u4e86\u8fa3\u5b50\u9e21\u7684\u9e21\u8089\u592a\u788e\u4e86\uff0c\u670d\u52a1\u5458\u540e\u9762\u7ed9\u9001\u4e86\u4e24\u4e2a\u51b0\u7c89\u513f</p> \u8305\u5e90\u5ddd\u83dc \u8d60\u9001\u7684\u51b0\u7c89 <p>\u5403\u5b8c\u996d\u4e70\u4e86\u4e00\u676f\u5e93\u8fea\u5496\u5561</p> <p></p> <p>\u4e0b\u5348\u9a91\u8f6630\u5206\u949f\u5230\u4e86\u706b\u8f66\u7ad9\uff0c\u5728\u706b\u8f66\u4e0a\u770b\u5b8c\u4e86\u300a\u9a6c\u65af\u514b\u4f20\u300b</p> <p></p>"},{"location":"enjoy/video/life_video/","title":"\u89c6\u9891\u8bb0\u5f55","text":"<p>\u6ca1\u529e\u6cd5\uff0c\u4e0d\u559c\u6b22\u770b\u592a\u70e7\u8111\u7684\uff0c\u603b\u7231\u770b\u4e9b\u65e0\u8111\u7684\u5267\u60c5\u3002</p>"},{"location":"enjoy/video/life_video/#_2","title":"\u7535\u5f71","text":""},{"location":"enjoy/video/life_video/#_3","title":"\u7535\u5f71\u9662","text":"<ul> <li>\u51b0\u96ea\u5947\u7f18</li> <li>\u5439\u54e8\u4eba</li> <li>\u7f8e\u4e3d\u4eba\u751f</li> <li>\u4eb2\u7231\u7684\u65b0\u5e74\u597d</li> <li>\u6570\u7801\u5b9d\u8d1d\u6700\u7ec8\u7ae0</li> <li>\u5931\u63a7\u73a9\u5bb6</li> <li>\u8bef\u67401 / 2</li> </ul>"},{"location":"enjoy/video/life_video/#_4","title":"\u5b85\u5bb6","text":"<ul> <li> <p>\u4eba\u751f\u5927\u4e8b</p> <p>\u5982\u4f55\u9762\u5bf9\u4eb2\u4eba\u7684\u6b7b\u4ea1\uff1f</p> </li> <li> <p>\u66fe\u7ecf\u76f8\u7231\u7684\u6211\u4eec </p> <p>\u56e0\u4e3a\u751f\u6d3b\u4e2d\u91d1\u94b1\u3001\u65f6\u95f4\u3001\u5de5\u4f5c\u7684\u79cd\u79cd\u538b\u529b\u800c\u5206\u5f00</p> </li> <li> <p>\u4ee5\u5e74\u4e3a\u5355\u4f4d\u7684\u604b\u7231 </p> <p>\u5317\u6f02 -&gt; \u5206\u624b</p> </li> <li> <p>\u5927\u7a7a\u5934 </p> <p>08\u5e74\u91d1\u878d\u5371\u673a\u7684\u5386\u7a0b</p> </li> <li> <p>\u5e1d\u56fd\u7684\u6bc1\u706d </p> <p>\u5e0c\u7279\u52d2\u6267\u653f\u672b\u671f\u7684\u73b0\u72b6</p> </li> <li> <p>\u75af\u72c2\u7684\u77f3\u5934</p> <p>\u5973\u670b\u53cb\u4e00\u8d77\u770b\u7684\u641e\u7b11\u7684\u5267\uff0c\u56db\u5ddd\u8bdd\u6620\u50cf\u5f88\u6df1</p> </li> <li> <p>\u95ea\u7535\u4fa0</p> <p>\u5f53\u95ea\u7535\u4fa0\u7a7f\u8d8a\u56de\u8fc7\u53bb\uff0c\u6ca1\u6709\u4e86\u80fd\u529b\uff0c\u4ed6\u8be5\u5982\u4f55\u505a\uff1f</p> </li> <li> <p>\u8718\u86db\u4fa0\uff1a\u5e73\u884c\u5b87\u5b99 1 / 2</p> <p>\u5f53\u4f60\u53d8\u6210\u8718\u86db\u4fa0\uff0c\u4f60\u662f\u5426\u80fd\u88ab\u4eb2\u4eba/\u670b\u53cb\u7406\u89e3\uff1f</p> </li> <li> <p>\u516d\u5927\u961f</p> <p>\u5f53\u4f60\u9762\u5bf9\u6280\u9ad8\u4e00\u7b79\u7684\u5acc\u7591\u72af\uff0c\u662f\u5426\u8fd8\u8bb0\u5f97\u81ea\u5df1\u7684\u521d\u5fc3\uff1f</p> </li> <li> <p>\u56e0\u679c\u62a5\u5e94</p> <p>\u4f60\u6240\u505a\u7684\u6bcf\u4e00\u4ef6\u574f\u4e8b\uff0c\u6700\u7ec8\u4f1a\u6709\u8f6e\u56de\u5230\u81ea\u5df1\u7684\u8eab\u4e0a</p> </li> </ul>"},{"location":"enjoy/video/life_video/#_5","title":"\u7535\u89c6\u5267","text":"<ul> <li> <p>\u6bdb\u9a97</p> <p>\u51fa\u5176\u4e0d\u610f\u7684\u53cd\u8f6c</p> </li> <li> <p>\u6bcd\u4eb2 Mother</p> <p>\u62ef\u6551\u4e00\u4f4d\u88ab\u8650\u5f85\u7684\u5b69\u5b50\uff0c\u4e0e\u5176\u201d\u9003\u4ea1\u201c\u4e4b\u8def</p> </li> <li> <p>\u5973\u4eba Woman </p> <p>\u4e00\u4e2a\u5973\u4eba\u867d\u7136\u906d\u53d7\u8d2b\u82e6\u548c\u75be\u75c5\u7684\u6253\u51fb\uff0c\u5374\u4ecd\u7136\u7ed9\u5b69\u5b50\u6ee1\u5206\u7684\u7231\u7684\u6545\u4e8b</p> </li> <li> <p>\u82e6\u5c3d\u67d1\u6765\u9047\u89c1\u4f60</p> <p>\u8bb2\u8ff0\u4e86\u97e9\u56fd\u4e09\u4ee3\u5bb6\u5ead\u76f8\u6276\u6301\u4e0e\u65f6\u4ff1\u8fdb\u7684\u6cea\u76ee\ud83d\ude2d\u5e74\u4ee3\u5267</p> </li> </ul>"},{"location":"enjoy/video/life_video/#_6","title":"\u52a8\u6f2b","text":"<ul> <li> <p>\u753b\u6c5f\u6e56\u4e4b\u4e0d\u826f\u4eba</p> <p>\u674e\u661f\u4e91\u3001\u96ea\u513f\u7684\u6c5f\u6e56\u4e4b\u8def</p> </li> <li> <p>\u65f6\u5149\u4ee3\u7406\u4eba</p> <p>\u9646\u5149\u3001\u7a0b\u5c0f\u65f6\u7a7f\u8d8a\u65f6\u7a7a\uff0c</p> </li> <li> <p>\u7075\u7b3c</p> <p>\u7b2c\u4e00\u5b63\u63a2\u9669\u5b98\u9a6c\u514b\u53d8\u6210\u4e86\u602a\u517d\u3001\u6740\u6b7b\u4e86\u81ea\u5df1\u7684\u7231\u4eba\u5189\u51b0 \u7b2c\u4e8c\u5b63\u64ad\u51fa\u4e2d</p> </li> <li> <p>\u8d85\u795e\u5b66\u9662</p> </li> <li> <p>\u5492\u672f\u56de\u6218</p> </li> <li> <p>\u9547\u9b42\u8857</p> </li> <li>\u5168\u804c\u9ad8\u624b <p>\u770b\u8d77\u6765\u548cDNF\u5dee\u4e0d\u591a</p> </li> </ul>"},{"location":"enjoy/video/science_video/","title":"\u79d1\u6280\u89c6\u9891","text":""},{"location":"enjoy/video/science_video/#_2","title":"\u8ba1\u7b97\u673a","text":"<p>Triumph of the Nerds-\u4e66\u5446\u5b50\u7684\u80dc\u5229</p> <p>1970-1990\u5e74\uff0c\u4e2a\u4eba\u8ba1\u7b97\u673a\uff08PC\uff09\u7684\u5feb\u901f\u53d1\u5c55\uff0cIBM\u3001Microsoft\u3001Apple\u76f8\u4e92\u5408\u4f5c\u7ade\u4e89\u7684\u7eaa\u5f55\u7247</p>"},{"location":"enjoy/video/record/%E4%BA%BA%E7%94%9F%E6%B5%B7%E6%B5%B7/","title":"\u4eba\u751f\u6d77\u6d77","text":"<p>\u6545\u4e8b\u4ee5\u5317\u4eac\u6d77\u5e95\u635e\u65b08\u5e97\u5e97\u957f\u53ca\u5176\u57fa\u5c42\u5458\u5de5\u4e3a\u4e3b\u7ebf\uff0c\u6070\u9022\u751f\u610f\u4e0b\u884c\uff0c\u8bb2\u8ff0\u6bcf\u4e2a\u4eba\u7684\u804c\u573a\u751f\u6d3b\uff0c\u6709\u4eba\u594b\u6597\u62fc\u640f\uff0c\u6709\u4eba\u6267\u7740\u7231\u60c5\uff0c\u6709\u4eba\u575a\u5b88\u5c97\u4f4d...</p> <p></p> <p></p> <p></p>"},{"location":"enjoy/video/record/%E4%BA%BA%E7%94%9F%E6%B5%B7%E6%B5%B7/#_2","title":"\u9644\u5f55","text":"<ul> <li>\u4eba\u751f\u6d77\u6d77</li> </ul>"},{"location":"enjoy/year/2021/","title":"\u56de\u987e2021","text":"<ul> <li>\u8df3\u69fd\u5230\u4e86\u5927\u516c\u53f8\uff0c\u538b\u529b\u8fd8\u662f\u633a\u5927\u7684</li> <li>\u6ca1\u80fd\u57f9\u517b\u597d\u7684\u4f5c\u606f\uff0c\u517b\u4e86\u91cd\u91cd\u7684\u9ed1\u773c\u5708 \uff08\u4e5f\u7b97\u662f\u91cf\u53d8\u6162\u6162\u79ef\u7d2f\u7684\uff09</li> <li>\u6bcf\u5929\u8d70\u8def\u4e0a\u4e0b\u73ed\uff0c\u5468\u5185\u505a\u8fd0\u52a8\uff0c\u5bf9\u81ea\u5df1\u7684\u8eab\u4f53\u552f\u4e00\u6709\u597d\u4e00\u70b9\u513f\u7684\u4ea4\u4ee3</li> <li>\u770b\u4e86\u51e0\u672c\u4e66\uff0cemm \u5e78\u597d\u505a\u4e86\u5907\u5fd8\u5f55\uff0c\u5185\u5bb9\u5feb\u5fd8\u6389\u4e86\u8036~</li> </ul>"},{"location":"enjoy/year/2021/#goal","title":"Goal","text":"<p>\u8fc7\u53bb\u7684\u4e00\u5e74\u7ecf\u5386\u4e86\u75ab\u60c5\uff0c\u6bd5\u4e1a\uff0c\u5de5\u4f5c\uff0c\u65f6\u95f4\u8fc7\u7684\u53ef\u771f\u5feb\u3002</p> <p>\u65b0\u7684\u4e00\u5e74\uff0c\u5e0c\u671b\u56fd\u6cf0\u6c11\u5b89\uff0c\u5bb6\u5ead\u548c\u7766\uff0c\u604b\u7231\u987a\u5229\uff0c\u5065\u5eb7\u6210\u957f\u3002</p> <ul> <li>\u4f53\u91cd--</li> <li>\u77e5\u8bc6++</li> <li>\u53c2\u4e0e\u67d0\u4e2a\u5f00\u6e90\u9879\u76ee</li> <li> \u9762\u8bd5\u5927\u5382 </li> </ul>"},{"location":"enjoy/year/2021/#reference","title":"Reference","text":"<ul> <li>2020\u5e74\u76ee\u6807</li> </ul>"},{"location":"enjoy/year/2022/","title":"2022\uff0c\u65b0\u7684\u4e00\u5e74\u4e86~","text":""},{"location":"enjoy/year/2022/#2022_1","title":"\u4e0d\u77e5\u4e0d\u89c9\u5c312022\u55bd","text":"<ul> <li> <p>Personal</p> <ul> <li>\u5c11\u770b\u77ed\u89c6\u9891\uff0c\u591a\u770b\u6587\u5b57\uff0c\u505a\u505a\u603b\u7ed3\u548c\u89c4\u5212</li> <li>\u65b0\u5e74\u60f3\u51cf\u8f7b\u4e00\u4e0b\u9ed1\u773c\u5708\u5462\uff08\u65e9\u7761\u6709\u70b9\u513f\u56f0\u96be\uff0c\u5c3d\u91cf\u591a\u7761\uff09</li> <li>\u7ee7\u7eed\u575a\u6301\u8f7b\u91cf\u953b\u70bc\uff08\u8fc7\u5e74\u56de\u5bb6\u5df2\u7ecf160\u4e86\uff0c\u8981\u51cf\u51cf\u80a5\u4e86\uff0c\u60f3\u51cf\u80a5\u5230140\u65a4\uff09</li> <li>\u575a\u6301\u6bcf\u5929\u559d3\u676f\u6c34</li> <li>\u8be5\u53bb\u914d\u4e2a\u65b0\u773c\u955c\u513f\u4e86</li> </ul> </li> <li> <p>Life</p> <ul> <li>\u62bd\u4e2a\u65f6\u95f4\uff0c\u8981\u89c1\u4e00\u4e0btt\u7684\u7236\u6bcd\u4e86</li> <li>\u8003\u8651\u53bb\u5176\u4ed6\u57ce\u5e02\u6e38\u73a9\u4e00\u4e0b\uff0c\u8001\u662f\u5b85\u7740\u5bb9\u6613emo</li> </ul> </li> </ul>"},{"location":"enjoy/year/2022/#_1","title":"\u6e38\u73a9","text":"<ul> <li>\u6c34\u9b54\u65b9 \uff08\u7b2c\u4e00\u6b21\u4e0b\u6c34\uff09</li> <li>\u521d\u8272\u6d77\u9c9c\u81ea\u52a9\u706b\u9505 \uff08\u9f99\u867e\u5403\u5230\u723d\uff09</li> </ul>"},{"location":"enjoy/year/2022_back_up/","title":"2022 back up","text":""},{"location":"enjoy/year/2022_back_up/#_1","title":"\u65e5\u5b50\u5f53\u7136\u8981\u7ec6\u6c34\u957f\u6d41\u4e86","text":"\u65f6\u95f4 \u6240\u505a 1.1 - 1.3 \u5403\u4e86\u81ea\u52a9\u706b\u9505\uff08\u4eae\u9a6c\u6865\uff09\uff0c\u53bb\u5f1f\u5f1f\u5bb6\u73a9\u4e86PS4\uff08\u9b3c\u6ce3\uff09\uff0c\u65e5\u5e38\u64cd\u4f5c\uff1a\u7206\u624b \u3002 1.4 - 1.9 \u6bd4\u8f83\u5377\u7684\u4e00\u5468\uff0c\u4e0a\u4e86\u4e00\u5929\u7684\u7ebf\uff08c\u7aef\u4eae\u8bc1\uff09\uff0c\u8fd8\u6709\u4e0b\u4e00\u4e2a\u9700\u6c42\u4e00\u5929\u65f6\u95f4\u5f00\u53d1\u5b8c\uff0c\u5468\u672b\u8eba\u5c38\uff0c\u73a9\u4e86DNF\u548c\u8dd1\u8dd1\u5361\u4e01\u8f66\uff0c\u5468\u65e5\u665a\u4e0a\u53c8\u71ac\u591c\u770b\u4e86 \u300a\u5492\u672f\u56de\u6218\u5267\u573a\u7248\u300b\u3002 1.10 - 1.16 \u8282\u594f\u9002\u4e2d\uff0c\u62a2\u5230\u4e86\u56de\u5bb6\u7684\u7968\uff0c\u5317\u4eac\u51fa\u73b0\u4e86\u4e00\u4f8b\u9633\u6027\u60a3\u8005\uff0c\u770b\u770b\u60c5\u51b5\u80fd\u4e0d\u80fd\u56de\u5bb6\u5427\u3002 1.17 - 1.23 \u75ab\u60c5\u5927\u6982\u7387\u56de\u4e0d\u4e86\u5bb6\u4e86\uff0c\u53c8\u8981\u5728\u5317\u4eac\u8fc7\u5e74\u4e86\u3002\u6362\u4e86\u4e2a\u624b\u673a\u5957\u9910\uff0c\u6574\u4e86\u4e2a\u4f1a\u5458\u3002 1.24 - 1.30 \u5e74\u524d\u6700\u540e\u4e00\u4e2a\u661f\u671f\uff0c\u6bd4\u8f83\u594b\u6597\u903c\uff0c\u8d76\u4e86\u4e0b\u9879\u76ee\u8fdb\u5ea6\u30021.28\u53f7\u65e9\u4e0a\u6392\u961f\u505a\u6838\u9178\uff0c\u4eba\u53ef\u771f\u591a\uff08\u4e2d\u95f4\u673a\u6784\u7684\u7801\u8fd8\u5d29\u4e86\uff0c\u5bd2\u98ce\u4e2d\u745f\u745f\u53d1\u6296\uff09\u3002 1.31 - 2.6 \u521d\u4e00\u62dc\u5e74\u5728\u5927\u7237\u5bb6\u5403\u996d\uff0c\u521d\u4e8c\u53bb\u90af\u90f8\u89c1\u963f\u5f64\uff0c\u521d\u4e09\u53bb\u59d1\u59d1\u5bb6\u5403\u996d\uff0c\u521d\u56db\u665a\u4e0a\u5403\u7684\u706b\u9505\uff0c\u521d\u4e94\u548c\u5f1f\u5f1f\uff0c\u963f\u5f64\u53bb\u90af\u90f8\u73a9\u513f\u7684\u9b3c\u5c4b\uff0c\u521d\u516d\u56de\u4eac\u3002 2.7 - 2.20 \u5e74\u540e\u7684\u4e24\u5468\uff0c\u8de8\u8fc7\u4e86\u4e00\u4e2a\u60c5\u4eba\u8282\uff08\u7ed9\u963f\u5f64\u8f6c\u4e8681.51\uff0c\u5bd3\u610f\u62b1\u4f60\u543b\u4f60\uff09\uff1b\u5468\u672b\u7528\u6765\u6253DNF\u4e86\uff0c\u771f\u4e0a\u5934\u3002 2.21 - 2.27 \u4e8c\u6708\u4efd\uff0c\u4f9d\u7136\u5b85\u5bb6\u6253DNF\uff0c\u5f1f\u5f1f\u56e0\u4e3a\u820d\u53cb\u95ee\u9898\u5bfc\u81f4\u5c45\u5bb6\u9694\u79bb7\u5929\uff08\u540e\u9762\u5ef6\u957f\u621014\u5929\u4e86\uff09\uff1b\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c27\u53f7\u60f3\u7406\u53d1 + \u51fa\u53bb\u5403\u7684\uff0c\u4f46\u662f\u4e0b\u697c\u56de\u6d88\u606f\u7684\u65f6\u5019\uff0c\u8e29\u7a7a\u4e86\uff0c\u811a\u5d34\u4e86\uff0c\u80bf\u4e86\u597d\u5927\u4e00\u5757\u513f\uff0c\u5f88\u75bc\u3002\u3002 2.28 - 3.6 \u517b\u4f24\u7684\u4e00\u5468\u3002\u7ee9\u6548\u4e5f\u5f00\u59cb\u8003\u6838\u4e86\u3002\u751f\u75c5\u7684\u65f6\u5019\u5c31\u5e0c\u671b\u80fd\u6709\u4e2a\u4eba\u966a\u7740\u804a\u804a\u5929\uff0c\u4e0d\u8fc7\u5927\u591a\u65f6\u95f4\u90fd\u662f\u966a\u5de5\u4f5c\u4e86\u3002 3.7 - 3.13 \u811a\u6162\u6162\u6062\u590d\u4e86\uff1b\u56e0\u4e3a\u820d\u53cb\u56de\u4e86\u8d9f\u8001\u5bb6\uff0c\u56de\u6765\u4ee5\u540e\u8001\u5bb6\u75ab\u60c5\u7206\u53d1\uff0c\u88ab\u8feb\u9694\u79bb\u5728\u5bb6\uff0c12\u53f7-20\u53f7\u3002 DNF\u505c\u4e00\u4e0b\uff0c\u7559\u4e9b\u65f6\u95f4\u7ed9\u81ea\u5df1\u505a\u601d\u8003\u3002\u8fd8\u6709\u5c31\u662f\uff0c\u6734\u7d20\u7684\u5ea6\u8fc7\u4e86\u604b\u7231\u56db\u5468\u5e74\u7684\u65e5\u5b50\uff082022.03.12\uff09 3.13 - 3.20 \u57fa\u672c\u5c31\u662f\u5728\u5bb6\u9694\u79bb &amp; \u5de5\u4f5c\uff0c\u5403\u996d\u5c31\u662f\u6ce1\u9762+\u706b\u817f+\u9762\u5305\u3002\uff08\u5410\u69fd\u4e0b\u5c45\u59d4\u4f1a\uff0c\u53ea\u8d34\u5c01\u6761\uff0c\u522b\u7684\u4e0d\u7ba1\u4e86\uff09\u3002 \u4e2d\u95f4\u4e5f\u505a\u4e86\u4e00\u6b21\u6838\u9178\uff0c\u662f2022\u5e74\u7b2c\u4e00\u6b21\u5916\u51fa\u3002 3.21 - 4.5 \u4e00\u5468\u768470%\u65f6\u95f4\u90fd\u662f\u7528\u4f5c\u4e86\u5de5\u4f5c\uff0c\u5565\u65f6\u5019\u80fd\u627e\u4e2a\u94b1\u591a\u6d3b\u5c11\u7684\u5de5\u4f5c\u5462\u3002 \u4e24\u4e2a\u5468\u672b\u5206\u522b\u722c\u4e86\u51e4\u51f0\u5cad &amp; \u897f\u5c71\u68ee\u6797\u516c\u56ed\uff0c\u722c\u5b8c\u4ee5\u540e\u5403\u7684\u4e1c\u897f\u591a\uff0c\u53cd\u800c\u53d8\u80d6\u4e86hhh\u3002 \u5dee\u70b9\u513f\u5fd8\u8bb0\u4e86\uff0c\u7ed9\u963f\u5f64\u4e70\u4e86\u53cc \u7a7a\u519b\u4e00\u53f7 &amp; JK \u5f53\u505a\u751f\u65e5\u793c\u7269\uff0c\u4e0d\u77e5\u9053\u4ec0\u4e48\u65f6\u5019\u53ef\u4ee5\u89c1\u5230\u963f\u5f64555"},{"location":"enjoy/year/2023/","title":"2023\uff0c\u65b0\u7684\u4e00\u5e74\u4e86~","text":""},{"location":"enjoy/year/2023/#2023_1","title":"\u4e0d\u77e5\u4e0d\u89c9\u5c312023\u55bd","text":"<ul> <li> <p>Personal</p> <ul> <li>\u5c3d\u91cf\u65e9\u7761\uff0c\u51cf\u5c11\u7a7a\u8017\u548c\u7126\u8651</li> <li>\u5c11\u770b\u77ed\u89c6\u9891\uff0c\u591a\u770b\u6587\u5b57\uff0c\u7a7a\u95f2\u7684\u65f6\u5019\uff0c\u52a8\u8111\u601d\u8003</li> <li>\u7ee7\u7eed\u575a\u6301\u8f7b\u91cf\u953b\u70bc\uff0c\u4f53\u91cd\u671f\u671b\u80fd\u5230130</li> <li>\u6bcf\u5929\u591a\u559d\u6c34\uff0c\u5468\u672b\u6ca1\u4e8b\u53ef\u4ee5\u8d70\u8d70\u8def\uff0c\u9a91\u884c\u4e0b</li> </ul> </li> <li> <p>Life</p> <ul> <li>\u8003\u8651\u53bb\u6e38\u73a9\u4e00\u4e0b</li> <li>\u63d0\u5347\u4e0b\u4ea4\u9645\u80fd\u529b\uff0c\u591a\u8ba4\u8bc6\u4e9b\u5927\u4f6c\u4eec</li> </ul> </li> <li> <p>Learn</p> <ul> <li>DDIA \u8bbe\u8ba1\u6570\u636e\u5bc6\u96c6\u578b\u5e94\u7528</li> <li>Python\u6570\u636e\u79d1\u5b66\u6307\u5357</li> <li>\u5357\u4eac\u5927\u5b66 \u64cd\u4f5c\u7cfb\u7edf\u8bfe\u7a0b</li> <li>\u5c1d\u8bd5\u5b9e\u73b0\u4e0b mq\uff0ces </li> <li>\u770b\u4f18\u96c5\u7684\u5de5\u4e1a\u4ee3\u7801\u5b9e\u73b0\uff0c\u5b66\u4e60</li> <li>\u603b\u7ed3\u7ecf\u9a8c\uff0c\u5b66\u4e60\u4ed6\u4eba\u7684\u65b9\u6848\u8bbe\u8ba1\uff0ccode review\u4e25\u683c\u628a\u5173<ul> <li>\u6d41\u7a0b\u56fe</li> <li>\u6280\u672f\u6587\u6863\u5927\u6982\u89c4\u8303</li> </ul> </li> </ul> </li> <li> <p>Extra</p> <ul> <li>\u901a\u80c0\uff0c\u901a\u7f29\u6982\u5ff5\u4e86\u89e3</li> <li>\u94bb\u7814\u4e0b\u8bbe\u8ba1\u80fd\u529b\uff08\u62a0\u56fe\uff0c\u526a\u8f91\uff09</li> </ul> </li> </ul>"},{"location":"enjoy/year/2024/","title":"2024-\u77e5\u8db3\u611f\u6069\u7684\u4e00\u5e74","text":"<p>\u94ed\u8bb0\u5728\u5fc3</p> <ul> <li>\u8d70\u6697\u8def\uff0c\u8015\u7626\u7530\uff0c\u8fdb\u7a84\u95e8</li> <li>\u51fa\u53d1\u4e86\u4e0d\u8981\u95ee\u90a3\u8def\u5728\u54ea\u513f\uff0c\u8fce\u98ce\u5411\u524d\u662f\u552f\u4e00\u7684\u65b9\u6cd5</li> </ul> <p>\u966a\u4f34</p> <ul> <li>\u4ed8\u603b\u7ecf\u6d4e\u5f62\u52bf\u79d1\u666e</li> <li>\u5c0f\u7f38team\u62bd\u8c61\u89c6\u9891</li> <li>\u5927\u51b0\u76f4\u64ad\u5207\u7247\u548c\u4e66</li> <li>\u8d75\u96f7\u7684\u6b4c</li> </ul> <p>\u5b66\u4e60</p> <ul> <li>\u64cd\u4f5c\u7cfb\u7edf\u8bfe\u7a0b\uff0c\u8fdb\u7a0b\u8c03\u5ea6\uff0c\u5185\u5b58\u7ba1\u7406</li> <li>\u770b\u4e86riba\u7684\u6587\u7ae0\uff0c\u9605\u8bfb\u4e86\u7406\u8d22\u76f8\u5173\u7684\u4e66</li> </ul> <p>\u6253\u5361</p> <ul> <li>\u4e0a\u6d77\uff0c\u90d1\u5dde\uff0c\u9752\u5c9b\uff0c\u897f\u5b89</li> <li>\u9a91\u884c1200km+</li> </ul> <p>\u6ca1\u505a\u597d\u7684</p> <ul> <li>\u4f53\u91cd\u7ba1\u7406\uff0c140-&gt;160\u4e86</li> <li>\u9ed1\u773c\u5708\uff0c\u53c8\u52a0\u6df1\u4e86\u4e9b</li> </ul> <p>\u611f\u5ff5</p> <ul> <li>\u4e16\u754c\u662f\u4e2a\u8349\u53f0\u73ed\u5b50\uff0c\u5bf9\u81ea\u5df1\u8981\u6c42\u9ad8\u4e9b</li> <li>\u5e38\u6000\u611f\u6069\uff0c\u77e5\u8db3\u5e38\u4e50</li> </ul>"},{"location":"enjoy/year/2025/","title":"2025","text":""},{"location":"enjoy/year/2025/#_1","title":"\u6708\u5ea6\u603b\u7ed3","text":""},{"location":"enjoy/year/2025/#8","title":"8\u6708","text":"<ul> <li>\u4eb2\u4eba\uff1a\u5e2e\u5f1f\u5f1f\u548c\u5bf9\u8c61\u642c\u4e86\u5bb6\uff1b\u5bf9\u8c61\u201c\u88f8\u8f9e\u201d\u7b49\u5f85\u7ed3\u679cing</li> <li>\u5065\u5eb7\uff1a\u6708\u5ea6\u4f53\u91cd\u672a\u53d1\u751f\u53d8\u5316\uff08\u672c\u6708\u8d2a\u5403\u4e86\uff0c\u76ee\u6807\u5230\u5e74\u5e95\u518d\u762610\u65a4\uff09</li> <li>\u7406\u8d22\uff1a\u53d7\u76ca\u4e8e\u884c\u60c5\uff0c\u6708\u5ea6\u6536\u76ca\u662f\u6b63\u7684\uff08\u4e0d\u9884\u6d4b\u77ed\u671f\u6da8\u8dcc\uff0c\u76f8\u4fe1\u957f\u671f\u662f\u53d8\u597d\u7684\uff09</li> <li>\u8bfb\u4e66\uff1a\u8d22\u5bcc\u7684\u771f\u76f8\u3001\u806a\u660e\u7684\u6295\u8d44\u8005\u3001\u7eb3\u74e6\u5c14\u5b9d\u5178</li> </ul>"},{"location":"enjoy/year/2025/#7","title":"7\u6708","text":"<ul> <li>\u5bb6\u4eba\uff1a\u53c2\u52a0\u4e86\u8868\u54e5\u7684\u5a5a\u793c\uff1b\u7b2c\u4e8c\u5929\u662f\u5988\u5988\u7684\u751f\u65e5\uff0c\u8fd4\u4eac\u524d\u53bbATM\u673a\u53d6\u4e86\u4e00\u4e9b\u94b1\u7ed9\u5988\u5988</li> <li>\u5065\u5eb7\uff1a\u6708\u5ea6\u51cf\u91cd5\u65a4</li> <li>\u7406\u8d22\uff1a\u66f4\u65b0\u4e86\u7406\u8d22\u8ba1\u5212\uff0c\uff08\u672c\u5468\u5728\u8fde\u7740\u4e8f\uff0c\u4e5f\u662f\u7ed9\u4e86\u8865\u4ed3\u7684\u673a\u4f1a\uff09\uff0c\u6162\u6162\u5b9a\u6295ing</li> <li>\u9605\u8bfb\uff1a\u91d1\u94b1\u5fc3\u7406\u5b66\u3001\u4eba\u6027\u7684\u5f31\u70b9\u3001\u806a\u660e\u7684\u6295\u8d44\u8005\uff08\u5728\u8bfb\uff09</li> <li>\u64ad\u5ba2\uff1a\u6708\u5ea6\u7684\u64ad\u5ba2\uff0c90%\u90fd\u662f\u7406\u8d22\u76f8\u5173\u7684\uff08\u8981\u542c\u542c\u5176\u4ed6\u65b9\u5411\uff09</li> <li>\u5de5\u4f5c\uff1a\u83b7\u5f97\u4e86\u5165\u804c\u6765\u7684\u7b2c\u4e00\u6b21 <code>Spot Bonus</code></li> <li>\u89c6\u9891\uff1a\u7075\u7b3c\u7b2c\u4e8c\u5b63\u3001\u67ef\u5357\u5267\u573a\u7248-\u72ec\u773c\u7684\u6b8b\u50cf\u3001\u6c42\u5a5a\u5927\u4f5c\u6218</li> <li>\u5fc3\u6001\uff1a\u5bf9\u57fa\u91d1\u7684\u6da8\u8dcc\u5438\u5f15\u4e86\u6bd4\u8f83\u591a\u7684\u95f2\u6687\u6ce8\u610f\u529b <p>\u6162\u6162\u6765\uff0c\u65e5\u5b50\u4f1a\u53d8\u5f97\u8d8a\u6765\u8d8a\u6709\u76fc\u5934~ </p> </li> </ul>"},{"location":"enjoy/year/2025/#6","title":"6\u6708","text":"<ul> <li>\u5065\u5eb7\uff1a\u51cf\u4e866\u65a4\u91cd\uff0c\u575a\u6301\u6bcf\u5468\u8dd1\u6b65</li> <li>\u9605\u8bfb\uff1a\u9a6c\u65af\u514b\u4f20\u3001\u4e54\u5e03\u65af\u4f20\u3001\u6bb5\u6c38\u5e73\u6295\u8d44\u95ee\u7b54\u5f55\u3001\u8d27\u5e01\u672a\u6765</li> <li>\u64ad\u5ba2\uff1a\u77e5\u884c\u5c0f\u9152\u9986\u3001\u6bdb\u9009\u542f\u793a\u5f55</li> <li>\u7eaa\u5f55\u7247: \u4eba\u751f\u6d77\u6d77</li> <li>\u5916\u5feb\uff1a\u627e\u5230\u4e86\u6323\u5916\u5feb\u7684\u65b9\u5f0f\uff0c\u6d45\u6d45\u7684\u7528\u4e00\u5929\u65f6\u95f4\u6323\u4e86\u51e0\u767e</li> <li>\u7406\u8d22\uff1a\u7ee7\u7eed\u5b9a\u6295\uff0c\u5728\u76fc\u4e00\u4e2a\u6301\u7eed\u8dcc\u7684\u673a\u4f1a\u52a0\u4ed3</li> <li>\u97f3\u4e50\uff1a\u6709\u68a6\u60f3\u7684\u4eba\u4e0d\u60b2\u4f24\u3001\u751f\u6d3b\u4e0d\u6b62\u773c\u524d\u7684\u82df\u4e14</li> </ul>"},{"location":"enjoy/year/2025/#5","title":"5\u6708","text":"<ul> <li>\u8bfb\u4e66: &lt;\u9a6c\u65af\u514b\u4f20&gt;\uff0c&lt;\u4e54\u5e03\u65af\u4f20&gt;\uff0c&lt;\u6bdb\u9009&gt;</li> <li>\u5de5\u4f5c: \u6301\u7eed\u63a2\u7d22LLM\uff0c\u7ed3\u5408\u4e1a\u52a1\u843d\u5730</li> <li>\u5065\u8eab: \u9a91\u8f66\uff0c\u8dd1\u6b65</li> <li>\u7406\u8d22: \u5b9a\u6295\u7eb3\u6307\uff0c\u6807\u666e\uff0c\u9ec4\u91d1</li> </ul>"},{"location":"enjoy/year/2025/#27-5","title":"27\u5c81\u751f\u65e5 &amp; \u5de5\u4f5c5\u5468\u5e74 \u611f\u5ff5","text":"<p>\u672c\u5468\u5ea6\u8fc7\u4e8627\u5c81\u7684\u751f\u65e5\uff0c\u5f88\u5f00\u5fc3\uff0c\u611f\u89c9\u8ba4\u77e5\u6709\u4e86\u4e9b\u8bb8\u7684\u63d0\u5347\u3002\u56de\u987e\u5de5\u4f5c\u4e94\u5e74\u6765\uff0c\u6709\u5f97\u6709\u5931\u3002\u5982\u4e0b\u662f\u8fd1\u671f\u7684\u611f\u609f</p> <p>2025-05-27</p> <ul> <li>\u5e78\u798f\u611f\uff1a\u5e78\u798f\u662f\u4e00\u4ef6\u5f88\u4e3b\u89c2\u7684\u4e8b\uff0c\u4ed6\u4e0d\u662f\u5ba2\u89c2\u7684\uff0c\u4e0d\u662f\u5e74\u85aa\u767e\u4e07/\u4e70\u8f66/\u4e70\u623f\u540e\u624d\u4f1a\u62e5\u6709\u5e78\u798f\u3002\u672a\u6765\u5f88\u957f\uff0c\u8981\u6709\u4fe1\u5fc3\u76f8\u4fe1\u81ea\u5df1\u80fd\u8fc7\u4e0a\u597d\u7684\u751f\u6d3b</li> <li>\u4e13\u6ce8\uff1a\u6211\u80fd\u529b\u6709\u9650\uff0c\u6211\u9009\u62e9\u505a\u6211\u8ba4\u4e3a\u91cd\u8981\u7684\u4e8b\u60c5\uff08\u5206\u6790\u95ee\u9898=&gt;\u627e\u51fa\u77db\u76fe\u70b9=&gt;\u6293\u4e3b\u8981\u77db\u76fe\uff09\u3002\u6709\u4e9b\u4e1c\u897f\u4e0d\u4e00\u5b9a\u975e\u8981\u770b\u7ed3\u679c\u3002\u6709\u4e9b\u4e1c\u897f\u4e5f\u8981\u4f1a\u52c7\u6562\u7684\u8bf4\u4e0d\u3002</li> <li>\u76f8\u4fe1\u957f\u671f\u4ef7\u503c\uff1a\u63a5\u53d7\u5f53\u4e0b\u7684\u6211\uff0c\u6301\u7eed\u6210\u957f\uff0c\u62e5\u62b1\u53d8\u5316\uff08\u6295\u8d44\u81ea\u5df1\u662f\u98ce\u9669\u6700\u4f4e\u3001\u6536\u76ca\u6700\u9ad8\u7684\u9009\u62e9\uff09</li> </ul> <p>\u613f\u4f60\u6211\u80fd\u77e5\u884c\u5408\u4e00\uff0c\u613f\u4f60\u6211\u80fd\u5fc3\u5b89~</p>"},{"location":"other/graph/","title":"Graph","text":"<pre><code>graph TD;\n    A--&gt;B;\n    A--&gt;C;\n    B--&gt;D;\n    C--&gt;D;</code></pre>"},{"location":"other/ps/basic/","title":"ps","text":"<p>\u627e\u70b9\u513f\u4e8b\u513f\u5e72\uff0c\u5b66\u4e0bPS\u8bbe\u8ba1</p>"},{"location":"other/ps/basic/#rgb","title":"\u56fe\u5c42/\u8499\u7248/\u7fbd\u5316/RGB/\u9009\u533a","text":"<ul> <li>\uff08\u521d\u6b65\u7406\u89e3\uff09\uff1a\u56fe\u50cf\u662f\u4e00\u5c42\u5c42\u53e0\u52a0\u7684\uff0c\u6700\u7ec8\u6e32\u67d3\u51fa\u7684\u662f\u6bcf\u4e00\u4e2a\u50cf\u7d20\u70b9\u6700\u4e0a\u5c42\u7684\u56fe\u5c42\u7684\u70b9\u7684\u4f4d\u7f6e\u3002</li> <li>\u8499\u7248\uff0c\u65b9\u4fbf\u5728\u56fe\u5c42\u4e0a\u505a\u4e9b\u64cd\u4f5c\uff0c\u5e76\u4e14\u4e0d\u5f71\u54cd\u539f\u6709\u7684\u56fe</li> <li>\u7fbd\u5316\uff0c\u8868\u73b0\u8d77\u6765\u5c31\u662f\u7ebf\u6761\u6a21\u7cca\uff08\u8c8c\u4f3c \u7fbd\u5316\u503c+\u786c\u5ea6\u503c=100%\uff09</li> <li>RGB \u4e09\u539f\u8272\uff0c\u6bcf\u4e2a\u989c\u8272\u75310-255\u7ec4\u6210</li> <li>\u9009\u533a\uff08\u662f\u4e0d\u662f\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a\u62a0\u56fe\uff09</li> <li>ctrl + j \u590d\u5236\u56fe\u5c42\uff0c alt + \u9f20\u6807\uff0c\u79fb\u52a8</li> </ul>"},{"location":"other/ps/basic/#reference","title":"Reference","text":"<ul> <li>90\u5206\u949f\u5b66PS</li> </ul>"}]}